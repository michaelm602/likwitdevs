(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function wx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ng={exports:{}},uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function lM(){if(qT)return uc;qT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var h in r)h!=="key"&&(a[h]=r[h])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:a}}return uc.Fragment=e,uc.jsx=t,uc.jsxs=t,uc}var HT;function uM(){return HT||(HT=1,Ng.exports=lM()),Ng.exports}var M=uM(),Vg={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function cM(){if(GT)return Ce;GT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function I(V,re,ce){this.props=V,this.context=re,this.refs=A,this.updater=ce||E}I.prototype.isReactComponent={},I.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},I.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function D(){}D.prototype=I.prototype;function j(V,re,ce){this.props=V,this.context=re,this.refs=A,this.updater=ce||E}var F=j.prototype=new D;F.constructor=j,C(F,I.prototype),F.isPureReactComponent=!0;var K=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function O(V,re,ce,ae,ye,Me){return ce=Me.ref,{$$typeof:n,type:V,key:re,ref:ce!==void 0?ce:null,props:Me}}function R(V,re){return O(V.type,re,void 0,void 0,void 0,V.props)}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function L(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return re[ce]})}var B=/\/+/g;function q(V,re){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):re.toString(36)}function N(){}function Ct(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function st(V,re,ce,ae,ye){var Me=typeof V;(Me==="undefined"||Me==="boolean")&&(V=null);var Ae=!1;if(V===null)Ae=!0;else switch(Me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(V.$$typeof){case n:case e:Ae=!0;break;case g:return Ae=V._init,st(Ae(V._payload),re,ce,ae,ye)}}if(Ae)return ye=ye(V),Ae=ae===""?"."+q(V,0):ae,K(ye)?(ce="",Ae!=null&&(ce=Ae.replace(B,"$&/")+"/"),st(ye,re,ce,"",function(Vi){return Vi})):ye!=null&&(P(ye)&&(ye=R(ye,ce+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+Ae)),re.push(ye)),1;Ae=0;var Ht=ae===""?".":ae+":";if(K(V))for(var tt=0;tt<V.length;tt++)ae=V[tt],Me=Ht+q(ae,tt),Ae+=st(ae,re,ce,Me,ye);else if(tt=b(V),typeof tt=="function")for(V=tt.call(V),tt=0;!(ae=V.next()).done;)ae=ae.value,Me=Ht+q(ae,tt++),Ae+=st(ae,re,ce,Me,ye);else if(Me==="object"){if(typeof V.then=="function")return st(Ct(V),re,ce,ae,ye);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function J(V,re,ce){if(V==null)return V;var ae=[],ye=0;return st(V,ae,"","",function(Me){return re.call(ce,Me,ye++)}),ae}function oe(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var fe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function De(){}return Ce.Children={map:J,forEach:function(V,re,ce){J(V,function(){re.apply(this,arguments)},ce)},count:function(V){var re=0;return J(V,function(){re++}),re},toArray:function(V){return J(V,function(re){return re})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ce.Component=I,Ce.Fragment=t,Ce.Profiler=r,Ce.PureComponent=j,Ce.StrictMode=i,Ce.Suspense=f,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Z.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cloneElement=function(V,re,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=C({},V.props),ye=V.key,Me=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(Me=void 0),re.key!==void 0&&(ye=""+re.key),re)!ue.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(ae[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=ce;else if(1<Ae){for(var Ht=Array(Ae),tt=0;tt<Ae;tt++)Ht[tt]=arguments[tt+2];ae.children=Ht}return O(V.type,ye,void 0,void 0,Me,ae)},Ce.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},Ce.createElement=function(V,re,ce){var ae,ye={},Me=null;if(re!=null)for(ae in re.key!==void 0&&(Me=""+re.key),re)ue.call(re,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=re[ae]);var Ae=arguments.length-2;if(Ae===1)ye.children=ce;else if(1<Ae){for(var Ht=Array(Ae),tt=0;tt<Ae;tt++)Ht[tt]=arguments[tt+2];ye.children=Ht}if(V&&V.defaultProps)for(ae in Ae=V.defaultProps,Ae)ye[ae]===void 0&&(ye[ae]=Ae[ae]);return O(V,Me,void 0,void 0,null,ye)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:h,render:V}},Ce.isValidElement=P,Ce.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:oe}},Ce.memo=function(V,re){return{$$typeof:d,type:V,compare:re===void 0?null:re}},Ce.startTransition=function(V){var re=Z.T,ce={};Z.T=ce;try{var ae=V(),ye=Z.S;ye!==null&&ye(ce,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(De,fe)}catch(Me){fe(Me)}finally{Z.T=re}},Ce.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ce.use=function(V){return Z.H.use(V)},Ce.useActionState=function(V,re,ce){return Z.H.useActionState(V,re,ce)},Ce.useCallback=function(V,re){return Z.H.useCallback(V,re)},Ce.useContext=function(V){return Z.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,re){return Z.H.useDeferredValue(V,re)},Ce.useEffect=function(V,re,ce){var ae=Z.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(V,re)},Ce.useId=function(){return Z.H.useId()},Ce.useImperativeHandle=function(V,re,ce){return Z.H.useImperativeHandle(V,re,ce)},Ce.useInsertionEffect=function(V,re){return Z.H.useInsertionEffect(V,re)},Ce.useLayoutEffect=function(V,re){return Z.H.useLayoutEffect(V,re)},Ce.useMemo=function(V,re){return Z.H.useMemo(V,re)},Ce.useOptimistic=function(V,re){return Z.H.useOptimistic(V,re)},Ce.useReducer=function(V,re,ce){return Z.H.useReducer(V,re,ce)},Ce.useRef=function(V){return Z.H.useRef(V)},Ce.useState=function(V){return Z.H.useState(V)},Ce.useSyncExternalStore=function(V,re,ce){return Z.H.useSyncExternalStore(V,re,ce)},Ce.useTransition=function(){return Z.H.useTransition()},Ce.version="19.1.1",Ce}var $T;function zv(){return $T||($T=1,Vg.exports=cM()),Vg.exports}var z=zv();const Ny=wx(z);var Lg={exports:{}},cc={},Ug={exports:{}},zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function hM(){return KT||(KT=1,(function(n){function e(J,oe){var fe=J.length;J.push(oe);e:for(;0<fe;){var De=fe-1>>>1,V=J[De];if(0<r(V,oe))J[De]=oe,J[fe]=V,fe=De;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var oe=J[0],fe=J.pop();if(fe!==oe){J[0]=fe;e:for(var De=0,V=J.length,re=V>>>1;De<re;){var ce=2*(De+1)-1,ae=J[ce],ye=ce+1,Me=J[ye];if(0>r(ae,fe))ye<V&&0>r(Me,ae)?(J[De]=Me,J[ye]=fe,De=ye):(J[De]=ae,J[ce]=fe,De=ce);else if(ye<V&&0>r(Me,fe))J[De]=Me,J[ye]=fe,De=ye;else break e}}return oe}function r(J,oe){var fe=J.sortIndex-oe.sortIndex;return fe!==0?fe:J.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,v=null,b=3,E=!1,C=!1,A=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function K(J){for(var oe=t(d);oe!==null;){if(oe.callback===null)i(d);else if(oe.startTime<=J)i(d),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(d)}}function Z(J){if(A=!1,K(J),!C)if(t(f)!==null)C=!0,ue||(ue=!0,q());else{var oe=t(d);oe!==null&&st(Z,oe.startTime-J)}}var ue=!1,O=-1,R=5,P=-1;function L(){return I?!0:!(n.unstable_now()-P<R)}function B(){if(I=!1,ue){var J=n.unstable_now();P=J;var oe=!0;try{e:{C=!1,A&&(A=!1,j(O),O=-1),E=!0;var fe=b;try{t:{for(K(J),v=t(f);v!==null&&!(v.expirationTime>J&&L());){var De=v.callback;if(typeof De=="function"){v.callback=null,b=v.priorityLevel;var V=De(v.expirationTime<=J);if(J=n.unstable_now(),typeof V=="function"){v.callback=V,K(J),oe=!0;break t}v===t(f)&&i(f),K(J)}else i(f);v=t(f)}if(v!==null)oe=!0;else{var re=t(d);re!==null&&st(Z,re.startTime-J),oe=!1}}break e}finally{v=null,b=fe,E=!1}oe=void 0}}finally{oe?q():ue=!1}}}var q;if(typeof F=="function")q=function(){F(B)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ct=N.port2;N.port1.onmessage=B,q=function(){Ct.postMessage(null)}}else q=function(){D(B,0)};function st(J,oe){O=D(function(){J(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(J){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var fe=b;b=oe;try{return J()}finally{b=fe}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=b;b=J;try{return oe()}finally{b=fe}},n.unstable_scheduleCallback=function(J,oe,fe){var De=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?De+fe:De):fe=De,J){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=fe+V,J={id:g++,callback:oe,priorityLevel:J,startTime:fe,expirationTime:V,sortIndex:-1},fe>De?(J.sortIndex=fe,e(d,J),t(f)===null&&J===t(d)&&(A?(j(O),O=-1):A=!0,st(Z,fe-De))):(J.sortIndex=V,e(f,J),C||E||(C=!0,ue||(ue=!0,q()))),J},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(J){var oe=b;return function(){var fe=b;b=oe;try{return J.apply(this,arguments)}finally{b=fe}}}})(zg)),zg}var YT;function fM(){return YT||(YT=1,Ug.exports=hM()),Ug.exports}var Bg={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function dM(){if(XT)return dn;XT=1;var n=zv();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,g)},dn.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},dn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},dn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},dn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):g==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},dn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},dn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},dn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},dn.requestFormReset=function(f){i.d.r(f)},dn.unstable_batchedUpdates=function(f,d){return f(d)},dn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},dn.useFormStatus=function(){return u.H.useHostTransitionStatus()},dn.version="19.1.1",dn}var QT;function pM(){if(QT)return Bg.exports;QT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bg.exports=dM(),Bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function mM(){if(WT)return cc;WT=1;var n=fM(),e=zv(),t=pM();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(i(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,c=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),s;if(y===c)return h(m),o;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=y;else{for(var T=!1,S=m.child;S;){if(S===l){T=!0,l=m,c=y;break}if(S===c){T=!0,c=m,l=y;break}S=S.sibling}if(!T){for(S=y.child;S;){if(S===l){T=!0,l=y,c=m;break}if(S===c){T=!0,c=y,l=m;break}S=S.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function d(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=d(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),F=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function Ct(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case Z:return"Suspense";case ue:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case F:return(s.displayName||"Context")+".Provider";case j:return(s._context.displayName||"Context")+".Consumer";case K:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return o=s.displayName||null,o!==null?o:Ct(s.type)||"Memo";case R:o=s._payload,s=s._init;try{return Ct(s(o))}catch{}}return null}var st=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},De=[],V=-1;function re(s){return{current:s}}function ce(s){0>V||(s.current=De[V],De[V]=null,V--)}function ae(s,o){V++,De[V]=s.current,s.current=o}var ye=re(null),Me=re(null),Ae=re(null),Ht=re(null);function tt(s,o){switch(ae(Ae,o),ae(Me,s),ae(ye,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?yT(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=yT(o),s=vT(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ce(ye),ae(ye,s)}function Vi(){ce(ye),ce(Me),ce(Ae)}function Zs(s){s.memoizedState!==null&&ae(Ht,s);var o=ye.current,l=vT(o,s.type);o!==l&&(ae(Me,s),ae(ye,l))}function ps(s){Me.current===s&&(ce(ye),ce(Me)),Ht.current===s&&(ce(Ht),sc._currentValue=fe)}var oo=Object.prototype.hasOwnProperty,ao=n.unstable_scheduleCallback,lo=n.unstable_cancelCallback,tu=n.unstable_shouldYield,Th=n.unstable_requestPaint,Xn=n.unstable_now,Np=n.unstable_getCurrentPriorityLevel,nu=n.unstable_ImmediatePriority,_a=n.unstable_UserBlockingPriority,uo=n.unstable_NormalPriority,Vp=n.unstable_LowPriority,ba=n.unstable_IdlePriority,iu=n.log,Eh=n.unstable_setDisableYieldValue,gt=null,Ke=null;function Nn(s){if(typeof iu=="function"&&Eh(s),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(gt,s)}catch{}}var hn=Math.clz32?Math.clz32:co,Sh=Math.log,Lp=Math.LN2;function co(s){return s>>>=0,s===0?32:31-(Sh(s)/Lp|0)|0}var ho=256,fo=4194304;function yi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function wa(s,o,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?m=yi(c):(T&=S,T!==0?m=yi(T):l||(l=S&~s,l!==0&&(m=yi(l))))):(S=c&~y,S!==0?m=yi(S):T!==0?m=yi(T):l||(l=c&~s,l!==0&&(m=yi(l)))),m===0?0:o!==0&&o!==m&&(o&y)===0&&(y=m&-m,l=o&-o,y>=l||y===32&&(l&4194048)!==0)?o:m}function po(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function su(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var s=ho;return ho<<=1,(ho&4194048)===0&&(ho=256),s}function ou(){var s=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),s}function ms(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function gs(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function au(s,o,l,c,m,y){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,k=s.expirationTimes,Y=s.hiddenUpdates;for(l=T&~l;0<l;){var ee=31-hn(l),ie=1<<ee;S[ee]=0,k[ee]=-1;var X=Y[ee];if(X!==null)for(Y[ee]=null,ee=0;ee<X.length;ee++){var Q=X[ee];Q!==null&&(Q.lane&=-536870913)}l&=~ie}c!==0&&Li(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~o))}function Li(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var c=31-hn(o);s.entangledLanes|=o,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function lu(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var c=31-hn(l),m=1<<c;m&o|s[c]&o&&(s[c]|=o),l&=~m}}function Js(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ta(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function er(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:LT(s.type))}function Ah(s,o){var l=oe.p;try{return oe.p=s,o()}finally{oe.p=l}}var at=Math.random().toString(36).slice(2),Ut="__reactFiber$"+at,It="__reactProps$"+at,Qn="__reactContainer$"+at,uu="__reactEvents$"+at,Up="__reactListeners$"+at,tr="__reactHandles$"+at,xh="__reactResources$"+at,mo="__reactMarker$"+at;function nr(s){delete s[Ut],delete s[It],delete s[uu],delete s[Up],delete s[tr]}function ys(s){var o=s[Ut];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Qn]||l[Ut]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=TT(s);s!==null;){if(l=s[Ut])return l;s=TT(s)}return o}s=l,l=s.parentNode}return null}function Ui(s){if(s=s[Ut]||s[Qn]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function zi(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function wn(s){var o=s[xh];return o||(o=s[xh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tt(s){s[mo]=!0}var cu=new Set,Ea={};function vi(s,o){vs(s,o),vs(s+"Capture",o)}function vs(s,o){for(Ea[s]=o,s=0;s<o.length;s++)cu.add(o[s])}var Rh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ch={},go={};function Ih(s){return oo.call(go,s)?!0:oo.call(Ch,s)?!1:Rh.test(s)?go[s]=!0:(Ch[s]=!0,!1)}function ir(s,o,l){if(Ih(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function Bi(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function Jt(s,o,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+c)}}var yo,Dh;function _s(s){if(yo===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);yo=o&&o[1]||"",Dh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yo+s+Dh}var Sa=!1;function Aa(s,o){if(!s||Sa)return"";Sa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var X=Q}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(Q){X=Q}s.call(ie.prototype)}}else{try{throw Error()}catch(Q){X=Q}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],S=y[1];if(T&&S){var k=T.split(`
`),Y=S.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===Y.length)for(c=k.length-1,m=Y.length-1;1<=c&&0<=m&&k[c]!==Y[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==Y[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==Y[m]){var ee=`
`+k[c].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=c&&0<=m);break}}}finally{Sa=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?_s(l):""}function hu(s){switch(s.tag){case 26:case 27:case 5:return _s(s.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 15:return Aa(s.type,!1);case 11:return Aa(s.type.render,!1);case 1:return Aa(s.type,!0);case 31:return _s("Activity");default:return""}}function xa(s){try{var o="";do o+=hu(s),s=s.return;while(s);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Tn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fu(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function zp(s){var o=fu(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),c=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ra(s){s._valueTracker||(s._valueTracker=zp(s))}function du(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return s&&(c=fu(s)?s.checked?"true":"false":s.value),s=c,s!==l?(o.setValue(s),!0):!1}function vo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Bp=/[\n"\\]/g;function Dt(s){return s.replace(Bp,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Vn(s,o,l,c,m,y,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),o!=null?T==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Tn(o)):s.value!==""+Tn(o)&&(s.value=""+Tn(o)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),o!=null?sr(s,T,Tn(o)):l!=null?sr(s,T,Tn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Tn(S):s.removeAttribute("name")}function _o(s,o,l,c,m,y,T,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),o!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;l=l!=null?""+Tn(l):"",o=o!=null?""+Tn(o):l,S||o===s.value||(s.value=o),s.defaultValue=o}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function sr(s,o,l){o==="number"&&vo(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function bs(s,o,l,c){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Tn(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Qe(s,o,l){if(o!=null&&(o=""+Tn(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+Tn(l):""}function bo(s,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(i(92));if(st(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=Tn(o),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Wn(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ph(s,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":c?s.setProperty(o,l):typeof l!="number"||l===0||wo.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function pu(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in o)c=o[m],o.hasOwnProperty(m)&&l[m]!==c&&Ph(s,m,c)}else for(var y in o)o.hasOwnProperty(y)&&Ph(s,y,o[y])}function mu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(s){return Fp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ws=null;function Zn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ts=null,Es=null;function gu(s){var o=Ui(s);if(o&&(s=o.stateNode)){var l=s[It]||null;e:switch(s=o.stateNode,o.type){case"input":if(Vn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dt(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==s&&c.form===s.form){var m=c[It]||null;if(!m)throw Error(i(90));Vn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===s.form&&du(c)}break e;case"textarea":Qe(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&bs(s,!!l.multiple,o,!1)}}}var ji=!1;function Mh(s,o,l){if(ji)return s(o,l);ji=!0;try{var c=s(o);return c}finally{if(ji=!1,(Ts!==null||Es!==null)&&(xf(),Ts&&(o=Ts,s=Es,Es=Ts=null,gu(o),s)))for(o=0;o<s.length;o++)gu(s[o])}}function To(s,o){var l=s.stateNode;if(l===null)return null;var c=l[It]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jn=!1;if(_i)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{Jn=!1}var Fi=null,rr=null,Ss=null;function yu(){if(Ss)return Ss;var s,o=rr,l=o.length,c,m="value"in Fi?Fi.value:Fi.textContent,y=m.length;for(s=0;s<l&&o[s]===m[s];s++);var T=l-s;for(c=1;c<=T&&o[l-c]===m[y-c];c++);return Ss=m.slice(s,1<c?1-c:void 0)}function qi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Hi(){return!0}function vu(){return!1}function Gt(s){function o(l,c,m,y,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Hi:vu,this.isPropagationStopped=vu,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),o}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Gt(Ge),So=g({},Ge,{view:0,detail:0}),kh=Gt(So),Da,Pa,Gi,Ao=g({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gi&&(Gi&&s.type==="mousemove"?(Da=s.screenX-Gi.screenX,Pa=s.screenY-Gi.screenY):Pa=Da=0,Gi=s),Da)},movementY:function(s){return"movementY"in s?s.movementY:Pa}}),ei=Gt(Ao),Oh=g({},Ao,{dataTransfer:0}),qp=Gt(Oh),xo=g({},So,{relatedTarget:0}),Ma=Gt(xo),_u=g({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=Gt(_u),Nh=g({},Ge,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Oa=Gt(Nh),Hp=g({},Ge,{data:0}),bu=Gt(Hp),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Lh[s])?!!o[s]:!1}function Co(){return wu}var Uh=g({},So,{key:function(s){if(s.key){var o=Ro[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Vh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(s){return s.type==="keypress"?qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Na=Gt(Uh),zh=g({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=Gt(zh),As=g({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),Bh=Gt(As),jh=g({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fh=Gt(jh),qh=g({},Ao,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=Gt(qh),En=g({},Ge,{newState:0,oldState:0}),Hh=Gt(En),Gh=[9,13,27,32],$i=_i&&"CompositionEvent"in window,p=null;_i&&"documentMode"in document&&(p=document.documentMode);var _=_i&&"TextEvent"in window&&!p,w=_i&&(!$i||p&&8<p&&11>=p),x=" ",G=!1;function W(s,o){switch(s){case"keyup":return Gh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ze=!1;function zt(s,o){switch(s){case"compositionend":return le(o);case"keypress":return o.which!==32?null:(G=!0,x);case"textInput":return s=o.data,s===x&&G?null:s;default:return null}}function Be(s,o){if(ze)return s==="compositionend"||!$i&&W(s,o)?(s=yu(),Ss=rr=Fi=null,ze=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return w&&o.locale!=="ko"?null:o.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!$t[s.type]:o==="textarea"}function xs(s,o,l,c){Ts?Es?Es.push(c):Es=[c]:Ts=c,o=Mf(o,"onChange"),0<o.length&&(l=new Ia("onChange","change",null,l,c),s.push({event:l,listeners:o}))}var en=null,Ki=null;function Eu(s){fT(s,0)}function $h(s){var o=zi(s);if(du(o))return s}function kb(s,o){if(s==="change")return o}var Ob=!1;if(_i){var Gp;if(_i){var $p="oninput"in document;if(!$p){var Nb=document.createElement("div");Nb.setAttribute("oninput","return;"),$p=typeof Nb.oninput=="function"}Gp=$p}else Gp=!1;Ob=Gp&&(!document.documentMode||9<document.documentMode)}function Vb(){en&&(en.detachEvent("onpropertychange",Lb),Ki=en=null)}function Lb(s){if(s.propertyName==="value"&&$h(Ki)){var o=[];xs(o,Ki,s,Zn(s)),Mh(Eu,o)}}function UD(s,o,l){s==="focusin"?(Vb(),en=o,Ki=l,en.attachEvent("onpropertychange",Lb)):s==="focusout"&&Vb()}function zD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $h(Ki)}function BD(s,o){if(s==="click")return $h(o)}function jD(s,o){if(s==="input"||s==="change")return $h(o)}function FD(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Ln=typeof Object.is=="function"?Object.is:FD;function Su(s,o){if(Ln(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!oo.call(o,m)||!Ln(s[m],o[m]))return!1}return!0}function Ub(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zb(s,o){var l=Ub(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=o&&c>=o)return{node:l,offset:o-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ub(l)}}function Bb(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Bb(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function jb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=vo(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=vo(s.document)}return o}function Kp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var qD=_i&&"documentMode"in document&&11>=document.documentMode,La=null,Yp=null,Au=null,Xp=!1;function Fb(s,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xp||La==null||La!==vo(c)||(c=La,"selectionStart"in c&&Kp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Au&&Su(Au,c)||(Au=c,c=Mf(Yp,"onSelect"),0<c.length&&(o=new Ia("onSelect","select",null,o,l),s.push({event:o,listeners:c}),o.target=La)))}function Io(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Ua={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionrun:Io("Transition","TransitionRun"),transitionstart:Io("Transition","TransitionStart"),transitioncancel:Io("Transition","TransitionCancel"),transitionend:Io("Transition","TransitionEnd")},Qp={},qb={};_i&&(qb=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Do(s){if(Qp[s])return Qp[s];if(!Ua[s])return s;var o=Ua[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in qb)return Qp[s]=o[l];return s}var Hb=Do("animationend"),Gb=Do("animationiteration"),$b=Do("animationstart"),HD=Do("transitionrun"),GD=Do("transitionstart"),$D=Do("transitioncancel"),Kb=Do("transitionend"),Yb=new Map,Wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wp.push("scrollEnd");function bi(s,o){Yb.set(s,o),vi(o,[s])}var Xb=new WeakMap;function ti(s,o){if(typeof s=="object"&&s!==null){var l=Xb.get(s);return l!==void 0?l:(o={value:s,source:o,stack:xa(o)},Xb.set(s,o),o)}return{value:s,source:o,stack:xa(o)}}var ni=[],za=0,Zp=0;function Kh(){for(var s=za,o=Zp=za=0;o<s;){var l=ni[o];ni[o++]=null;var c=ni[o];ni[o++]=null;var m=ni[o];ni[o++]=null;var y=ni[o];if(ni[o++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&Qb(l,m,y)}}function Yh(s,o,l,c){ni[za++]=s,ni[za++]=o,ni[za++]=l,ni[za++]=c,Zp|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Jp(s,o,l,c){return Yh(s,o,l,c),Xh(s)}function Ba(s,o){return Yh(s,null,null,o),Xh(s)}function Qb(s,o,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&o!==null&&(m=31-hn(l),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[o]:c.push(o),o.lane=l|536870912),y):null}function Xh(s){if(50<Qu)throw Qu=0,rg=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ja={};function KD(s,o,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,o,l,c){return new KD(s,o,l,c)}function em(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Rs(s,o){var l=s.alternate;return l===null?(l=Un(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Wb(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Qh(s,o,l,c,m,y){var T=0;if(c=s,typeof s=="function")em(s)&&(T=1);else if(typeof s=="string")T=XP(s,l,ye.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=Un(31,l,o,m),s.elementType=P,s.lanes=y,s;case C:return Po(l.children,m,y,o);case A:T=8,m|=24;break;case I:return s=Un(12,l,o,m|2),s.elementType=I,s.lanes=y,s;case Z:return s=Un(13,l,o,m),s.elementType=Z,s.lanes=y,s;case ue:return s=Un(19,l,o,m),s.elementType=ue,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:case F:T=10;break e;case j:T=9;break e;case K:T=11;break e;case O:T=14;break e;case R:T=16,c=null;break e}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return o=Un(T,l,o,m),o.elementType=s,o.type=c,o.lanes=y,o}function Po(s,o,l,c){return s=Un(7,s,c,o),s.lanes=l,s}function tm(s,o,l){return s=Un(6,s,null,o),s.lanes=l,s}function nm(s,o,l){return o=Un(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Fa=[],qa=0,Wh=null,Zh=0,ii=[],si=0,Mo=null,Cs=1,Is="";function ko(s,o){Fa[qa++]=Zh,Fa[qa++]=Wh,Wh=s,Zh=o}function Zb(s,o,l){ii[si++]=Cs,ii[si++]=Is,ii[si++]=Mo,Mo=s;var c=Cs;s=Is;var m=32-hn(c)-1;c&=~(1<<m),l+=1;var y=32-hn(o)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Cs=1<<32-hn(o)+m|l<<m|c,Is=y+s}else Cs=1<<y|l<<m|c,Is=s}function im(s){s.return!==null&&(ko(s,1),Zb(s,1,0))}function sm(s){for(;s===Wh;)Wh=Fa[--qa],Fa[qa]=null,Zh=Fa[--qa],Fa[qa]=null;for(;s===Mo;)Mo=ii[--si],ii[si]=null,Is=ii[--si],ii[si]=null,Cs=ii[--si],ii[si]=null}var Sn=null,yt=null,He=!1,Oo=null,Yi=!1,rm=Error(i(519));function No(s){var o=Error(i(418,""));throw Cu(ti(o,s)),rm}function Jb(s){var o=s.stateNode,l=s.type,c=s.memoizedProps;switch(o[Ut]=s,o[It]=c,l){case"dialog":Ne("cancel",o),Ne("close",o);break;case"iframe":case"object":case"embed":Ne("load",o);break;case"video":case"audio":for(l=0;l<Zu.length;l++)Ne(Zu[l],o);break;case"source":Ne("error",o);break;case"img":case"image":case"link":Ne("error",o),Ne("load",o);break;case"details":Ne("toggle",o);break;case"input":Ne("invalid",o),_o(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ra(o);break;case"select":Ne("invalid",o);break;case"textarea":Ne("invalid",o),bo(o,c.value,c.defaultValue,c.children),Ra(o)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||gT(o.textContent,l)?(c.popover!=null&&(Ne("beforetoggle",o),Ne("toggle",o)),c.onScroll!=null&&Ne("scroll",o),c.onScrollEnd!=null&&Ne("scrollend",o),c.onClick!=null&&(o.onclick=kf),o=!0):o=!1,o||No(s)}function e0(s){for(Sn=s.return;Sn;)switch(Sn.tag){case 5:case 13:Yi=!1;return;case 27:case 3:Yi=!0;return;default:Sn=Sn.return}}function xu(s){if(s!==Sn)return!1;if(!He)return e0(s),He=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||wg(s.type,s.memoizedProps)),l=!l),l&&yt&&No(s),e0(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(o===0){yt=Ti(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;s=s.nextSibling}yt=null}}else o===27?(o=yt,wr(s.type)?(s=Ag,Ag=null,yt=s):yt=o):yt=Sn?Ti(s.stateNode.nextSibling):null;return!0}function Ru(){yt=Sn=null,He=!1}function t0(){var s=Oo;return s!==null&&(Dn===null?Dn=s:Dn.push.apply(Dn,s),Oo=null),s}function Cu(s){Oo===null?Oo=[s]:Oo.push(s)}var om=re(null),Vo=null,Ds=null;function or(s,o,l){ae(om,o._currentValue),o._currentValue=l}function Ps(s){s._currentValue=om.current,ce(om)}function am(s,o,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),s===l)break;s=s.return}}function lm(s,o,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var k=0;k<o.length;k++)if(S.context===o[k]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),am(y.return,l,s),c||(T=null);break e}y=S.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),am(T,l,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Iu(s,o,l,c){s=null;for(var m=o,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=m.type;Ln(m.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(m===Ht.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(sc):s=[sc])}m=m.return}s!==null&&lm(o,s,l,c),o.flags|=262144}function Jh(s){for(s=s.firstContext;s!==null;){if(!Ln(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Lo(s){Vo=s,Ds=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fn(s){return n0(Vo,s)}function ef(s,o){return Vo===null&&Lo(s),n0(s,o)}function n0(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Ds===null){if(s===null)throw Error(i(308));Ds=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Ds=Ds.next=o;return l}var YD=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},XD=n.unstable_scheduleCallback,QD=n.unstable_NormalPriority,jt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new YD,data:new Map,refCount:0}}function Du(s){s.refCount--,s.refCount===0&&XD(QD,function(){s.controller.abort()})}var Pu=null,cm=0,Ha=0,Ga=null;function WD(s,o){if(Pu===null){var l=Pu=[];cm=0,Ha=fg(),Ga={status:"pending",value:void 0,then:function(c){l.push(c)}}}return cm++,o.then(i0,i0),o}function i0(){if(--cm===0&&Pu!==null){Ga!==null&&(Ga.status="fulfilled");var s=Pu;Pu=null,Ha=0,Ga=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function ZD(s,o){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var s0=J.S;J.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&WD(s,o),s0!==null&&s0(s,o)};var Uo=re(null);function hm(){var s=Uo.current;return s!==null?s:nt.pooledCache}function tf(s,o){o===null?ae(Uo,Uo.current):ae(Uo,o.pool)}function r0(){var s=hm();return s===null?null:{parent:jt._currentValue,pool:s}}var Mu=Error(i(460)),o0=Error(i(474)),nf=Error(i(542)),fm={then:function(){}};function a0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function sf(){}function l0(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(sf,sf),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,c0(s),s;default:if(typeof o.status=="string")o.then(sf,sf);else{if(s=nt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(c){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=c}},function(c){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,c0(s),s}throw ku=o,Mu}}var ku=null;function u0(){if(ku===null)throw Error(i(459));var s=ku;return ku=null,s}function c0(s){if(s===Mu||s===nf)throw Error(i(483))}var ar=!1;function dm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function lr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ur(s,o,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var m=c.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),c.pending=o,o=Xh(s),Qb(s,null,l),o}return Yh(s,c,o,l),Xh(s)}function Ou(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,lu(s,l)}}function mm(s,o){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var gm=!1;function Nu(){if(gm){var s=Ga;if(s!==null)throw s}}function Vu(s,o,l,c){gm=!1;var m=s.updateQueue;ar=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var k=S,Y=k.next;k.next=null,T===null?y=Y:T.next=Y,T=k;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==T&&(S===null?ee.firstBaseUpdate=Y:S.next=Y,ee.lastBaseUpdate=k))}if(y!==null){var ie=m.baseState;T=0,ee=Y=k=null,S=y;do{var X=S.lane&-536870913,Q=X!==S.lane;if(Q?(je&X)===X:(c&X)===X){X!==0&&X===Ha&&(gm=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ee=s,ve=S;X=o;var Je=l;switch(ve.tag){case 1:if(Ee=ve.payload,typeof Ee=="function"){ie=Ee.call(Je,ie,X);break e}ie=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ve.payload,X=typeof Ee=="function"?Ee.call(Je,ie,X):Ee,X==null)break e;ie=g({},ie,X);break e;case 2:ar=!0}}X=S.callback,X!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(Y=ee=Q,k=ie):ee=ee.next=Q,T|=X;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);ee===null&&(k=ie),m.baseState=k,m.firstBaseUpdate=Y,m.lastBaseUpdate=ee,y===null&&(m.shared.lanes=0),yr|=T,s.lanes=T,s.memoizedState=ie}}function h0(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function f0(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)h0(l[s],o)}var $a=re(null),rf=re(0);function d0(s,o){s=Us,ae(rf,s),ae($a,o),Us=s|o.baseLanes}function ym(){ae(rf,Us),ae($a,$a.current)}function vm(){Us=rf.current,ce($a),ce(rf)}var cr=0,Pe=null,We=null,Pt=null,of=!1,Ka=!1,zo=!1,af=0,Lu=0,Ya=null,JD=0;function Et(){throw Error(i(321))}function _m(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Ln(s[l],o[l]))return!1;return!0}function bm(s,o,l,c,m,y){return cr=y,Pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,J.H=s===null||s.memoizedState===null?Q0:W0,zo=!1,y=l(c,m),zo=!1,Ka&&(y=m0(o,l,c,m)),p0(s),y}function p0(s){J.H=df;var o=We!==null&&We.next!==null;if(cr=0,Pt=We=Pe=null,of=!1,Lu=0,Ya=null,o)throw Error(i(300));s===null||Kt||(s=s.dependencies,s!==null&&Jh(s)&&(Kt=!0))}function m0(s,o,l,c){Pe=s;var m=0;do{if(Ka&&(Ya=null),Lu=0,Ka=!1,25<=m)throw Error(i(301));if(m+=1,Pt=We=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=oP,y=o(l,c)}while(Ka);return y}function eP(){var s=J.H,o=s.useState()[0];return o=typeof o.then=="function"?Uu(o):o,s=s.useState()[0],(We!==null?We.memoizedState:null)!==s&&(Pe.flags|=1024),o}function wm(){var s=af!==0;return af=0,s}function Tm(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function Em(s){if(of){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}of=!1}cr=0,Pt=We=Pe=null,Ka=!1,Lu=af=0,Ya=null}function Cn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function Mt(){if(We===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=We.next;var o=Pt===null?Pe.memoizedState:Pt.next;if(o!==null)Pt=o,We=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));We=s,s={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function Sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uu(s){var o=Lu;return Lu+=1,Ya===null&&(Ya=[]),s=l0(Ya,s,o),o=Pe,(Pt===null?o.memoizedState:Pt.next)===null&&(o=o.alternate,J.H=o===null||o.memoizedState===null?Q0:W0),s}function lf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Uu(s);if(s.$$typeof===F)return fn(s)}throw Error(i(438,String(s)))}function Am(s){var o=null,l=Pe.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Sm(),Pe.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),c=0;c<s;c++)l[c]=L;return o.index++,l}function Ms(s,o){return typeof o=="function"?o(s):o}function uf(s){var o=Mt();return xm(o,We,s)}function xm(s,o,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}o.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{o=m.next;var S=T=null,k=null,Y=o,ee=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(je&ie)===ie:(cr&ie)===ie){var X=Y.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===Ha&&(ee=!0);else if((cr&X)===X){Y=Y.next,X===Ha&&(ee=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=ie,T=y):k=k.next=ie,Pe.lanes|=X,yr|=X;ie=Y.action,zo&&l(y,ie),y=Y.hasEagerState?Y.eagerState:l(y,ie)}else X={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=X,T=y):k=k.next=X,Pe.lanes|=ie,yr|=ie;Y=Y.next}while(Y!==null&&Y!==o);if(k===null?T=y:k.next=S,!Ln(y,s.memoizedState)&&(Kt=!0,ee&&(l=Ga,l!==null)))throw l;s.memoizedState=y,s.baseState=T,s.baseQueue=k,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Rm(s){var o=Mt(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=s(y,T.action),T=T.next;while(T!==m);Ln(y,o.memoizedState)||(Kt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,c]}function g0(s,o,l){var c=Pe,m=Mt(),y=He;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=o();var T=!Ln((We||m).memoizedState,l);T&&(m.memoizedState=l,Kt=!0),m=m.queue;var S=_0.bind(null,c,m,s);if(zu(2048,8,S,[s]),m.getSnapshot!==o||T||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,Xa(9,cf(),v0.bind(null,c,m,l,o),null),nt===null)throw Error(i(349));y||(cr&124)!==0||y0(c,o,l)}return l}function y0(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Pe.updateQueue,o===null?(o=Sm(),Pe.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function v0(s,o,l,c){o.value=l,o.getSnapshot=c,b0(o)&&w0(s)}function _0(s,o,l){return l(function(){b0(o)&&w0(s)})}function b0(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Ln(s,l)}catch{return!0}}function w0(s){var o=Ba(s,2);o!==null&&qn(o,s,2)}function Cm(s){var o=Cn();if(typeof s=="function"){var l=s;if(s=l(),zo){Nn(!0);try{l()}finally{Nn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:s},o}function T0(s,o,l,c){return s.baseState=l,xm(s,We,typeof c=="function"?c:Ms)}function tP(s,o,l,c,m){if(ff(s))throw Error(i(485));if(s=o.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};J.T!==null?l(!0):y.isTransition=!1,c(y),l=o.pending,l===null?(y.next=o.pending=y,E0(o,y)):(y.next=l.next,o.pending=l.next=y)}}function E0(s,o){var l=o.action,c=o.payload,m=s.state;if(o.isTransition){var y=J.T,T={};J.T=T;try{var S=l(m,c),k=J.S;k!==null&&k(T,S),S0(s,o,S)}catch(Y){Im(s,o,Y)}finally{J.T=y}}else try{y=l(m,c),S0(s,o,y)}catch(Y){Im(s,o,Y)}}function S0(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){A0(s,o,c)},function(c){return Im(s,o,c)}):A0(s,o,l)}function A0(s,o,l){o.status="fulfilled",o.value=l,x0(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,E0(s,l)))}function Im(s,o,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,x0(o),o=o.next;while(o!==c)}s.action=null}function x0(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function R0(s,o){return o}function C0(s,o){if(He){var l=nt.formState;if(l!==null){e:{var c=Pe;if(He){if(yt){t:{for(var m=yt,y=Yi;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ti(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){yt=Ti(m.nextSibling),c=m.data==="F!";break e}}No(c)}c=!1}c&&(o=l[0])}}return l=Cn(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:o},l.queue=c,l=K0.bind(null,Pe,c),c.dispatch=l,c=Cm(!1),y=Om.bind(null,Pe,!1,c.queue),c=Cn(),m={state:o,dispatch:null,action:s,pending:null},c.queue=m,l=tP.bind(null,Pe,m,y,l),m.dispatch=l,c.memoizedState=s,[o,l,!1]}function I0(s){var o=Mt();return D0(o,We,s)}function D0(s,o,l){if(o=xm(s,o,R0)[0],s=uf(Ms)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=Uu(o)}catch(T){throw T===Mu?nf:T}else c=o;o=Mt();var m=o.queue,y=m.dispatch;return l!==o.memoizedState&&(Pe.flags|=2048,Xa(9,cf(),nP.bind(null,m,l),null)),[c,y,s]}function nP(s,o){s.action=o}function P0(s){var o=Mt(),l=We;if(l!==null)return D0(o,l,s);Mt(),o=o.memoizedState,l=Mt();var c=l.queue.dispatch;return l.memoizedState=s,[o,c,!1]}function Xa(s,o,l,c){return s={tag:s,create:l,deps:c,inst:o,next:null},o=Pe.updateQueue,o===null&&(o=Sm(),Pe.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,o.lastEffect=s),s}function cf(){return{destroy:void 0,resource:void 0}}function M0(){return Mt().memoizedState}function hf(s,o,l,c){var m=Cn();c=c===void 0?null:c,Pe.flags|=s,m.memoizedState=Xa(1|o,cf(),l,c)}function zu(s,o,l,c){var m=Mt();c=c===void 0?null:c;var y=m.memoizedState.inst;We!==null&&c!==null&&_m(c,We.memoizedState.deps)?m.memoizedState=Xa(o,y,l,c):(Pe.flags|=s,m.memoizedState=Xa(1|o,y,l,c))}function k0(s,o){hf(8390656,8,s,o)}function O0(s,o){zu(2048,8,s,o)}function N0(s,o){return zu(4,2,s,o)}function V0(s,o){return zu(4,4,s,o)}function L0(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function U0(s,o,l){l=l!=null?l.concat([s]):null,zu(4,4,L0.bind(null,o,s),l)}function Dm(){}function z0(s,o){var l=Mt();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&_m(o,c[1])?c[0]:(l.memoizedState=[s,o],s)}function B0(s,o){var l=Mt();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&_m(o,c[1]))return c[0];if(c=s(),zo){Nn(!0);try{s()}finally{Nn(!1)}}return l.memoizedState=[c,o],c}function Pm(s,o,l){return l===void 0||(cr&1073741824)!==0?s.memoizedState=o:(s.memoizedState=l,s=qw(),Pe.lanes|=s,yr|=s,l)}function j0(s,o,l,c){return Ln(l,o)?l:$a.current!==null?(s=Pm(s,l,c),Ln(s,o)||(Kt=!0),s):(cr&42)===0?(Kt=!0,s.memoizedState=l):(s=qw(),Pe.lanes|=s,yr|=s,o)}function F0(s,o,l,c,m){var y=oe.p;oe.p=y!==0&&8>y?y:8;var T=J.T,S={};J.T=S,Om(s,!1,o,l);try{var k=m(),Y=J.S;if(Y!==null&&Y(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ee=ZD(k,c);Bu(s,o,ee,Fn(s))}else Bu(s,o,c,Fn(s))}catch(ie){Bu(s,o,{then:function(){},status:"rejected",reason:ie},Fn())}finally{oe.p=y,J.T=T}}function iP(){}function Mm(s,o,l,c){if(s.tag!==5)throw Error(i(476));var m=q0(s).queue;F0(s,m,o,fe,l===null?iP:function(){return H0(s),l(c)})}function q0(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:fe},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function H0(s){var o=q0(s).next.queue;Bu(s,o,{},Fn())}function km(){return fn(sc)}function G0(){return Mt().memoizedState}function $0(){return Mt().memoizedState}function sP(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=Fn();s=lr(l);var c=ur(o,s,l);c!==null&&(qn(c,o,l),Ou(c,o,l)),o={cache:um()},s.payload=o;return}o=o.return}}function rP(s,o,l){var c=Fn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ff(s)?Y0(o,l):(l=Jp(s,o,l,c),l!==null&&(qn(l,s,c),X0(l,o,c)))}function K0(s,o,l){var c=Fn();Bu(s,o,l,c)}function Bu(s,o,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ff(s))Y0(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,S=y(T,l);if(m.hasEagerState=!0,m.eagerState=S,Ln(S,T))return Yh(s,o,m,0),nt===null&&Kh(),!1}catch{}finally{}if(l=Jp(s,o,m,c),l!==null)return qn(l,s,c),X0(l,o,c),!0}return!1}function Om(s,o,l,c){if(c={lane:2,revertLane:fg(),action:c,hasEagerState:!1,eagerState:null,next:null},ff(s)){if(o)throw Error(i(479))}else o=Jp(s,l,c,2),o!==null&&qn(o,s,2)}function ff(s){var o=s.alternate;return s===Pe||o!==null&&o===Pe}function Y0(s,o){Ka=of=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function X0(s,o,l){if((l&4194048)!==0){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,lu(s,l)}}var df={readContext:fn,use:lf,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},Q0={readContext:fn,use:lf,useCallback:function(s,o){return Cn().memoizedState=[s,o===void 0?null:o],s},useContext:fn,useEffect:k0,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,hf(4194308,4,L0.bind(null,o,s),l)},useLayoutEffect:function(s,o){return hf(4194308,4,s,o)},useInsertionEffect:function(s,o){hf(4,2,s,o)},useMemo:function(s,o){var l=Cn();o=o===void 0?null:o;var c=s();if(zo){Nn(!0);try{s()}finally{Nn(!1)}}return l.memoizedState=[c,o],c},useReducer:function(s,o,l){var c=Cn();if(l!==void 0){var m=l(o);if(zo){Nn(!0);try{l(o)}finally{Nn(!1)}}}else m=o;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=rP.bind(null,Pe,s),[c.memoizedState,s]},useRef:function(s){var o=Cn();return s={current:s},o.memoizedState=s},useState:function(s){s=Cm(s);var o=s.queue,l=K0.bind(null,Pe,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:Dm,useDeferredValue:function(s,o){var l=Cn();return Pm(l,s,o)},useTransition:function(){var s=Cm(!1);return s=F0.bind(null,Pe,s.queue,!0,!1),Cn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var c=Pe,m=Cn();if(He){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),nt===null)throw Error(i(349));(je&124)!==0||y0(c,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,k0(_0.bind(null,c,y,s),[s]),c.flags|=2048,Xa(9,cf(),v0.bind(null,c,y,l,o),null),l},useId:function(){var s=Cn(),o=nt.identifierPrefix;if(He){var l=Is,c=Cs;l=(c&~(1<<32-hn(c)-1)).toString(32)+l,o="«"+o+"R"+l,l=af++,0<l&&(o+="H"+l.toString(32)),o+="»"}else l=JD++,o="«"+o+"r"+l.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:km,useFormState:C0,useActionState:C0,useOptimistic:function(s){var o=Cn();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Om.bind(null,Pe,!0,l),l.dispatch=o,[s,o]},useMemoCache:Am,useCacheRefresh:function(){return Cn().memoizedState=sP.bind(null,Pe)}},W0={readContext:fn,use:lf,useCallback:z0,useContext:fn,useEffect:O0,useImperativeHandle:U0,useInsertionEffect:N0,useLayoutEffect:V0,useMemo:B0,useReducer:uf,useRef:M0,useState:function(){return uf(Ms)},useDebugValue:Dm,useDeferredValue:function(s,o){var l=Mt();return j0(l,We.memoizedState,s,o)},useTransition:function(){var s=uf(Ms)[0],o=Mt().memoizedState;return[typeof s=="boolean"?s:Uu(s),o]},useSyncExternalStore:g0,useId:G0,useHostTransitionStatus:km,useFormState:I0,useActionState:I0,useOptimistic:function(s,o){var l=Mt();return T0(l,We,s,o)},useMemoCache:Am,useCacheRefresh:$0},oP={readContext:fn,use:lf,useCallback:z0,useContext:fn,useEffect:O0,useImperativeHandle:U0,useInsertionEffect:N0,useLayoutEffect:V0,useMemo:B0,useReducer:Rm,useRef:M0,useState:function(){return Rm(Ms)},useDebugValue:Dm,useDeferredValue:function(s,o){var l=Mt();return We===null?Pm(l,s,o):j0(l,We.memoizedState,s,o)},useTransition:function(){var s=Rm(Ms)[0],o=Mt().memoizedState;return[typeof s=="boolean"?s:Uu(s),o]},useSyncExternalStore:g0,useId:G0,useHostTransitionStatus:km,useFormState:P0,useActionState:P0,useOptimistic:function(s,o){var l=Mt();return We!==null?T0(l,We,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Am,useCacheRefresh:$0},Qa=null,ju=0;function pf(s){var o=ju;return ju+=1,Qa===null&&(Qa=[]),l0(Qa,s,o)}function Fu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function mf(s,o){throw o.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Z0(s){var o=s._init;return o(s._payload)}function J0(s){function o(H,U){if(s){var $=H.deletions;$===null?(H.deletions=[U],H.flags|=16):$.push(U)}}function l(H,U){if(!s)return null;for(;U!==null;)o(H,U),U=U.sibling;return null}function c(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function m(H,U){return H=Rs(H,U),H.index=0,H.sibling=null,H}function y(H,U,$){return H.index=$,s?($=H.alternate,$!==null?($=$.index,$<U?(H.flags|=67108866,U):$):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function T(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function S(H,U,$,te){return U===null||U.tag!==6?(U=tm($,H.mode,te),U.return=H,U):(U=m(U,$),U.return=H,U)}function k(H,U,$,te){var pe=$.type;return pe===C?ee(H,U,$.props.children,te,$.key):U!==null&&(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Z0(pe)===U.type)?(U=m(U,$.props),Fu(U,$),U.return=H,U):(U=Qh($.type,$.key,$.props,null,H.mode,te),Fu(U,$),U.return=H,U)}function Y(H,U,$,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=nm($,H.mode,te),U.return=H,U):(U=m(U,$.children||[]),U.return=H,U)}function ee(H,U,$,te,pe){return U===null||U.tag!==7?(U=Po($,H.mode,te,pe),U.return=H,U):(U=m(U,$),U.return=H,U)}function ie(H,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=tm(""+U,H.mode,$),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return $=Qh(U.type,U.key,U.props,null,H.mode,$),Fu($,U),$.return=H,$;case E:return U=nm(U,H.mode,$),U.return=H,U;case R:var te=U._init;return U=te(U._payload),ie(H,U,$)}if(st(U)||q(U))return U=Po(U,H.mode,$,null),U.return=H,U;if(typeof U.then=="function")return ie(H,pf(U),$);if(U.$$typeof===F)return ie(H,ef(H,U),$);mf(H,U)}return null}function X(H,U,$,te){var pe=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return pe!==null?null:S(H,U,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===pe?k(H,U,$,te):null;case E:return $.key===pe?Y(H,U,$,te):null;case R:return pe=$._init,$=pe($._payload),X(H,U,$,te)}if(st($)||q($))return pe!==null?null:ee(H,U,$,te,null);if(typeof $.then=="function")return X(H,U,pf($),te);if($.$$typeof===F)return X(H,U,ef(H,$),te);mf(H,$)}return null}function Q(H,U,$,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get($)||null,S(U,H,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return H=H.get(te.key===null?$:te.key)||null,k(U,H,te,pe);case E:return H=H.get(te.key===null?$:te.key)||null,Y(U,H,te,pe);case R:var ke=te._init;return te=ke(te._payload),Q(H,U,$,te,pe)}if(st(te)||q(te))return H=H.get($)||null,ee(U,H,te,pe,null);if(typeof te.then=="function")return Q(H,U,$,pf(te),pe);if(te.$$typeof===F)return Q(H,U,$,ef(U,te),pe);mf(U,te)}return null}function Ee(H,U,$,te){for(var pe=null,ke=null,me=U,be=U=0,Xt=null;me!==null&&be<$.length;be++){me.index>be?(Xt=me,me=null):Xt=me.sibling;var qe=X(H,me,$[be],te);if(qe===null){me===null&&(me=Xt);break}s&&me&&qe.alternate===null&&o(H,me),U=y(qe,U,be),ke===null?pe=qe:ke.sibling=qe,ke=qe,me=Xt}if(be===$.length)return l(H,me),He&&ko(H,be),pe;if(me===null){for(;be<$.length;be++)me=ie(H,$[be],te),me!==null&&(U=y(me,U,be),ke===null?pe=me:ke.sibling=me,ke=me);return He&&ko(H,be),pe}for(me=c(me);be<$.length;be++)Xt=Q(me,H,be,$[be],te),Xt!==null&&(s&&Xt.alternate!==null&&me.delete(Xt.key===null?be:Xt.key),U=y(Xt,U,be),ke===null?pe=Xt:ke.sibling=Xt,ke=Xt);return s&&me.forEach(function(xr){return o(H,xr)}),He&&ko(H,be),pe}function ve(H,U,$,te){if($==null)throw Error(i(151));for(var pe=null,ke=null,me=U,be=U=0,Xt=null,qe=$.next();me!==null&&!qe.done;be++,qe=$.next()){me.index>be?(Xt=me,me=null):Xt=me.sibling;var xr=X(H,me,qe.value,te);if(xr===null){me===null&&(me=Xt);break}s&&me&&xr.alternate===null&&o(H,me),U=y(xr,U,be),ke===null?pe=xr:ke.sibling=xr,ke=xr,me=Xt}if(qe.done)return l(H,me),He&&ko(H,be),pe;if(me===null){for(;!qe.done;be++,qe=$.next())qe=ie(H,qe.value,te),qe!==null&&(U=y(qe,U,be),ke===null?pe=qe:ke.sibling=qe,ke=qe);return He&&ko(H,be),pe}for(me=c(me);!qe.done;be++,qe=$.next())qe=Q(me,H,be,qe.value,te),qe!==null&&(s&&qe.alternate!==null&&me.delete(qe.key===null?be:qe.key),U=y(qe,U,be),ke===null?pe=qe:ke.sibling=qe,ke=qe);return s&&me.forEach(function(aM){return o(H,aM)}),He&&ko(H,be),pe}function Je(H,U,$,te){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var pe=$.key;U!==null;){if(U.key===pe){if(pe=$.type,pe===C){if(U.tag===7){l(H,U.sibling),te=m(U,$.props.children),te.return=H,H=te;break e}}else if(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Z0(pe)===U.type){l(H,U.sibling),te=m(U,$.props),Fu(te,$),te.return=H,H=te;break e}l(H,U);break}else o(H,U);U=U.sibling}$.type===C?(te=Po($.props.children,H.mode,te,$.key),te.return=H,H=te):(te=Qh($.type,$.key,$.props,null,H.mode,te),Fu(te,$),te.return=H,H=te)}return T(H);case E:e:{for(pe=$.key;U!==null;){if(U.key===pe)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){l(H,U.sibling),te=m(U,$.children||[]),te.return=H,H=te;break e}else{l(H,U);break}else o(H,U);U=U.sibling}te=nm($,H.mode,te),te.return=H,H=te}return T(H);case R:return pe=$._init,$=pe($._payload),Je(H,U,$,te)}if(st($))return Ee(H,U,$,te);if(q($)){if(pe=q($),typeof pe!="function")throw Error(i(150));return $=pe.call($),ve(H,U,$,te)}if(typeof $.then=="function")return Je(H,U,pf($),te);if($.$$typeof===F)return Je(H,U,ef(H,$),te);mf(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(l(H,U.sibling),te=m(U,$),te.return=H,H=te):(l(H,U),te=tm($,H.mode,te),te.return=H,H=te),T(H)):l(H,U)}return function(H,U,$,te){try{ju=0;var pe=Je(H,U,$,te);return Qa=null,pe}catch(me){if(me===Mu||me===nf)throw me;var ke=Un(29,me,null,H.mode);return ke.lanes=te,ke.return=H,ke}finally{}}}var Wa=J0(!0),ew=J0(!1),ri=re(null),Xi=null;function hr(s){var o=s.alternate;ae(Ft,Ft.current&1),ae(ri,s),Xi===null&&(o===null||$a.current!==null||o.memoizedState!==null)&&(Xi=s)}function tw(s){if(s.tag===22){if(ae(Ft,Ft.current),ae(ri,s),Xi===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Xi=s)}}else fr()}function fr(){ae(Ft,Ft.current),ae(ri,ri.current)}function ks(s){ce(ri),Xi===s&&(Xi=null),ce(Ft)}var Ft=re(0);function gf(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Sg(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Nm(s,o,l,c){o=s.memoizedState,l=l(c,o),l=l==null?o:g({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Vm={enqueueSetState:function(s,o,l){s=s._reactInternals;var c=Fn(),m=lr(c);m.payload=o,l!=null&&(m.callback=l),o=ur(s,m,c),o!==null&&(qn(o,s,c),Ou(o,s,c))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var c=Fn(),m=lr(c);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=ur(s,m,c),o!==null&&(qn(o,s,c),Ou(o,s,c))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Fn(),c=lr(l);c.tag=2,o!=null&&(c.callback=o),o=ur(s,c,l),o!==null&&(qn(o,s,l),Ou(o,s,l))}};function nw(s,o,l,c,m,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,T):o.prototype&&o.prototype.isPureReactComponent?!Su(l,c)||!Su(m,y):!0}function iw(s,o,l,c){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==s&&Vm.enqueueReplaceState(o,o.state,null)}function Bo(s,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(s=s.defaultProps){l===o&&(l=g({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var yf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function sw(s){yf(s)}function rw(s){console.error(s)}function ow(s){yf(s)}function vf(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function aw(s,o,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Lm(s,o,l){return l=lr(l),l.tag=3,l.payload={element:null},l.callback=function(){vf(s,o)},l}function lw(s){return s=lr(s),s.tag=3,s}function uw(s,o,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){aw(o,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){aw(o,l,c),typeof m!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function aP(s,o,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&Iu(o,l,m,!0),l=ri.current,l!==null){switch(l.tag){case 13:return Xi===null?ag():l.alternate===null&&vt===0&&(vt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===fm?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),ug(s,c,m)),!1;case 22:return l.flags|=65536,c===fm?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),ug(s,c,m)),!1}throw Error(i(435,l.tag))}return ug(s,c,m),ag(),!1}if(He)return o=ri.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,c!==rm&&(s=Error(i(422),{cause:c}),Cu(ti(s,l)))):(c!==rm&&(o=Error(i(423),{cause:c}),Cu(ti(o,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=ti(c,l),m=Lm(s.stateNode,c,m),mm(s,m),vt!==4&&(vt=2)),!1;var y=Error(i(520),{cause:c});if(y=ti(y,l),Xu===null?Xu=[y]:Xu.push(y),vt!==4&&(vt=2),o===null)return!0;c=ti(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Lm(l.stateNode,c,s),mm(l,s),!1;case 1:if(o=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vr===null||!vr.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=lw(m),uw(m,s,l,c),mm(l,m),!1}l=l.return}while(l!==null);return!1}var cw=Error(i(461)),Kt=!1;function tn(s,o,l,c){o.child=s===null?ew(o,null,l,c):Wa(o,s.child,l,c)}function hw(s,o,l,c,m){l=l.render;var y=o.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Lo(o),c=bm(s,o,l,T,y,m),S=wm(),s!==null&&!Kt?(Tm(s,o,m),Os(s,o,m)):(He&&S&&im(o),o.flags|=1,tn(s,o,c,m),o.child)}function fw(s,o,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!em(y)&&y.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=y,dw(s,o,y,c,m)):(s=Qh(l.type,null,c,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,!Gm(s,m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Su,l(T,c)&&s.ref===o.ref)return Os(s,o,m)}return o.flags|=1,s=Rs(y,c),s.ref=o.ref,s.return=o,o.child=s}function dw(s,o,l,c,m){if(s!==null){var y=s.memoizedProps;if(Su(y,c)&&s.ref===o.ref)if(Kt=!1,o.pendingProps=c=y,Gm(s,m))(s.flags&131072)!==0&&(Kt=!0);else return o.lanes=s.lanes,Os(s,o,m)}return Um(s,o,l,c,m)}function pw(s,o,l){var c=o.pendingProps,m=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(m=o.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~c}else o.childLanes=0,o.child=null;return mw(s,o,c,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&tf(o,y!==null?y.cachePool:null),y!==null?d0(o,y):ym(),tw(o);else return o.lanes=o.childLanes=536870912,mw(s,o,y!==null?y.baseLanes|l:l,l)}else y!==null?(tf(o,y.cachePool),d0(o,y),fr(),o.memoizedState=null):(s!==null&&tf(o,null),ym(),fr());return tn(s,o,m,l),o.child}function mw(s,o,l,c){var m=hm();return m=m===null?null:{parent:jt._currentValue,pool:m},o.memoizedState={baseLanes:l,cachePool:m},s!==null&&tf(o,null),ym(),tw(o),s!==null&&Iu(s,o,c,!0),null}function _f(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function Um(s,o,l,c,m){return Lo(o),l=bm(s,o,l,c,void 0,m),c=wm(),s!==null&&!Kt?(Tm(s,o,m),Os(s,o,m)):(He&&c&&im(o),o.flags|=1,tn(s,o,l,m),o.child)}function gw(s,o,l,c,m,y){return Lo(o),o.updateQueue=null,l=m0(o,c,l,m),p0(s),c=wm(),s!==null&&!Kt?(Tm(s,o,y),Os(s,o,y)):(He&&c&&im(o),o.flags|=1,tn(s,o,l,y),o.child)}function yw(s,o,l,c,m){if(Lo(o),o.stateNode===null){var y=ja,T=l.contextType;typeof T=="object"&&T!==null&&(y=fn(T)),y=new l(c,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Vm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=c,y.state=o.memoizedState,y.refs={},dm(o),T=l.contextType,y.context=typeof T=="object"&&T!==null?fn(T):ja,y.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Nm(o,l,T,c),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Vm.enqueueReplaceState(y,y.state,null),Vu(o,c,y,m),Nu(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(s===null){y=o.stateNode;var S=o.memoizedProps,k=Bo(l,S);y.props=k;var Y=y.context,ee=l.contextType;T=ja,typeof ee=="object"&&ee!==null&&(T=fn(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=o.pendingProps!==S,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||Y!==T)&&iw(o,y,c,T),ar=!1;var X=o.memoizedState;y.state=X,Vu(o,c,y,m),Nu(),Y=o.memoizedState,S||X!==Y||ar?(typeof ie=="function"&&(Nm(o,l,ie,c),Y=o.memoizedState),(k=ar||nw(o,l,k,c,X,Y,T))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=Y),y.props=c,y.state=Y,y.context=T,c=k):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{y=o.stateNode,pm(s,o),T=o.memoizedProps,ee=Bo(l,T),y.props=ee,ie=o.pendingProps,X=y.context,Y=l.contextType,k=ja,typeof Y=="object"&&Y!==null&&(k=fn(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==ie||X!==k)&&iw(o,y,c,k),ar=!1,X=o.memoizedState,y.state=X,Vu(o,c,y,m),Nu();var Q=o.memoizedState;T!==ie||X!==Q||ar||s!==null&&s.dependencies!==null&&Jh(s.dependencies)?(typeof S=="function"&&(Nm(o,l,S,c),Q=o.memoizedState),(ee=ar||nw(o,l,ee,c,X,Q,k)||s!==null&&s.dependencies!==null&&Jh(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Q,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Q,k)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=Q),y.props=c,y.state=Q,y.context=k,c=ee):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),c=!1)}return y=c,_f(s,o),c=(o.flags&128)!==0,y||c?(y=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,s!==null&&c?(o.child=Wa(o,s.child,null,m),o.child=Wa(o,null,l,m)):tn(s,o,l,m),o.memoizedState=y.state,s=o.child):s=Os(s,o,m),s}function vw(s,o,l,c){return Ru(),o.flags|=256,tn(s,o,l,c),o.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bm(s){return{baseLanes:s,cachePool:r0()}}function jm(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=oi),s}function _w(s,o,l){var c=o.pendingProps,m=!1,y=(o.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(Ft.current&2)!==0),T&&(m=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,s===null){if(He){if(m?hr(o):fr(),He){var S=yt,k;if(k=S){e:{for(k=S,S=Yi;k.nodeType!==8;){if(!S){S=null;break e}if(k=Ti(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(o.memoizedState={dehydrated:S,treeContext:Mo!==null?{id:Cs,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},k=Un(18,null,null,0),k.stateNode=S,k.return=o,o.child=k,Sn=o,yt=null,k=!0):k=!1}k||No(o)}if(S=o.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Sg(S)?o.lanes=32:o.lanes=536870912,null;ks(o)}return S=c.children,c=c.fallback,m?(fr(),m=o.mode,S=bf({mode:"hidden",children:S},m),c=Po(c,m,l,null),S.return=o,c.return=o,S.sibling=c,o.child=S,m=o.child,m.memoizedState=Bm(l),m.childLanes=jm(s,T,l),o.memoizedState=zm,c):(hr(o),Fm(o,S))}if(k=s.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(y)o.flags&256?(hr(o),o.flags&=-257,o=qm(s,o,l)):o.memoizedState!==null?(fr(),o.child=s.child,o.flags|=128,o=null):(fr(),m=c.fallback,S=o.mode,c=bf({mode:"visible",children:c.children},S),m=Po(m,S,l,null),m.flags|=2,c.return=o,m.return=o,c.sibling=m,o.child=c,Wa(o,s.child,null,l),c=o.child,c.memoizedState=Bm(l),c.childLanes=jm(s,T,l),o.memoizedState=zm,o=m);else if(hr(o),Sg(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,Cu({value:c,source:null,stack:null}),o=qm(s,o,l)}else if(Kt||Iu(s,o,l,!1),T=(l&s.childLanes)!==0,Kt||T){if(T=nt,T!==null&&(c=l&-l,c=(c&42)!==0?1:Js(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,Ba(s,c),qn(T,s,c),cw;S.data==="$?"||ag(),o=qm(s,o,l)}else S.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=k.treeContext,yt=Ti(S.nextSibling),Sn=o,He=!0,Oo=null,Yi=!1,s!==null&&(ii[si++]=Cs,ii[si++]=Is,ii[si++]=Mo,Cs=s.id,Is=s.overflow,Mo=o),o=Fm(o,c.children),o.flags|=4096);return o}return m?(fr(),m=c.fallback,S=o.mode,k=s.child,Y=k.sibling,c=Rs(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,Y!==null?m=Rs(Y,m):(m=Po(m,S,l,null),m.flags|=2),m.return=o,c.return=o,c.sibling=m,o.child=c,c=m,m=o.child,S=s.child.memoizedState,S===null?S=Bm(l):(k=S.cachePool,k!==null?(Y=jt._currentValue,k=k.parent!==Y?{parent:Y,pool:Y}:k):k=r0(),S={baseLanes:S.baseLanes|l,cachePool:k}),m.memoizedState=S,m.childLanes=jm(s,T,l),o.memoizedState=zm,c):(hr(o),l=s.child,s=l.sibling,l=Rs(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,s!==null&&(T=o.deletions,T===null?(o.deletions=[s],o.flags|=16):T.push(s)),o.child=l,o.memoizedState=null,l)}function Fm(s,o){return o=bf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function bf(s,o){return s=Un(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function qm(s,o,l){return Wa(o,s.child,null,l),s=Fm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function bw(s,o,l){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o),am(s.return,o,l)}function Hm(s,o,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function ww(s,o,l){var c=o.pendingProps,m=c.revealOrder,y=c.tail;if(tn(s,o,c.children,l),c=Ft.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&bw(s,l,o);else if(s.tag===19)bw(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(ae(Ft,c),m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&gf(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Hm(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&gf(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Hm(o,!0,l,null,y);break;case"together":Hm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Os(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),yr|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(Iu(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=Rs(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Rs(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function Gm(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Jh(s)))}function lP(s,o,l){switch(o.tag){case 3:tt(o,o.stateNode.containerInfo),or(o,jt,s.memoizedState.cache),Ru();break;case 27:case 5:Zs(o);break;case 4:tt(o,o.stateNode.containerInfo);break;case 10:or(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(hr(o),o.flags|=128,null):(l&o.child.childLanes)!==0?_w(s,o,l):(hr(o),s=Os(s,o,l),s!==null?s.sibling:null);hr(o);break;case 19:var m=(s.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(Iu(s,o,l,!1),c=(l&o.childLanes)!==0),m){if(c)return ww(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ae(Ft,Ft.current),c)break;return null;case 22:case 23:return o.lanes=0,pw(s,o,l);case 24:or(o,jt,s.memoizedState.cache)}return Os(s,o,l)}function Tw(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)Kt=!0;else{if(!Gm(s,l)&&(o.flags&128)===0)return Kt=!1,lP(s,o,l);Kt=(s.flags&131072)!==0}else Kt=!1,He&&(o.flags&1048576)!==0&&Zb(o,Zh,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var c=o.elementType,m=c._init;if(c=m(c._payload),o.type=c,typeof c=="function")em(c)?(s=Bo(c,s),o.tag=1,o=yw(null,o,c,s,l)):(o.tag=0,o=Um(null,o,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===K){o.tag=11,o=hw(null,o,c,s,l);break e}else if(m===O){o.tag=14,o=fw(null,o,c,s,l);break e}}throw o=Ct(c)||c,Error(i(306,o,""))}}return o;case 0:return Um(s,o,o.type,o.pendingProps,l);case 1:return c=o.type,m=Bo(c,o.pendingProps),yw(s,o,c,m,l);case 3:e:{if(tt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));c=o.pendingProps;var y=o.memoizedState;m=y.element,pm(s,o),Vu(o,c,null,l);var T=o.memoizedState;if(c=T.cache,or(o,jt,c),c!==y.cache&&lm(o,[jt],l,!0),Nu(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=vw(s,o,c,l);break e}else if(c!==m){m=ti(Error(i(424)),o),Cu(m),o=vw(s,o,c,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yt=Ti(s.firstChild),Sn=o,He=!0,Oo=null,Yi=!0,l=ew(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ru(),c===m){o=Os(s,o,l);break e}tn(s,o,c,l)}o=o.child}return o;case 26:return _f(s,o),s===null?(l=xT(o.type,null,o.pendingProps,null))?o.memoizedState=l:He||(l=o.type,s=o.pendingProps,c=Of(Ae.current).createElement(l),c[Ut]=o,c[It]=s,sn(c,l,s),Tt(c),o.stateNode=c):o.memoizedState=xT(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Zs(o),s===null&&He&&(c=o.stateNode=ET(o.type,o.pendingProps,Ae.current),Sn=o,Yi=!0,m=yt,wr(o.type)?(Ag=m,yt=Ti(c.firstChild)):yt=m),tn(s,o,o.pendingProps.children,l),_f(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&He&&((m=c=yt)&&(c=VP(c,o.type,o.pendingProps,Yi),c!==null?(o.stateNode=c,Sn=o,yt=Ti(c.firstChild),Yi=!1,m=!0):m=!1),m||No(o)),Zs(o),m=o.type,y=o.pendingProps,T=s!==null?s.memoizedProps:null,c=y.children,wg(m,y)?c=null:T!==null&&wg(m,T)&&(o.flags|=32),o.memoizedState!==null&&(m=bm(s,o,eP,null,null,l),sc._currentValue=m),_f(s,o),tn(s,o,c,l),o.child;case 6:return s===null&&He&&((s=l=yt)&&(l=LP(l,o.pendingProps,Yi),l!==null?(o.stateNode=l,Sn=o,yt=null,s=!0):s=!1),s||No(o)),null;case 13:return _w(s,o,l);case 4:return tt(o,o.stateNode.containerInfo),c=o.pendingProps,s===null?o.child=Wa(o,null,c,l):tn(s,o,c,l),o.child;case 11:return hw(s,o,o.type,o.pendingProps,l);case 7:return tn(s,o,o.pendingProps,l),o.child;case 8:return tn(s,o,o.pendingProps.children,l),o.child;case 12:return tn(s,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,or(o,o.type,c.value),tn(s,o,c.children,l),o.child;case 9:return m=o.type._context,c=o.pendingProps.children,Lo(o),m=fn(m),c=c(m),o.flags|=1,tn(s,o,c,l),o.child;case 14:return fw(s,o,o.type,o.pendingProps,l);case 15:return dw(s,o,o.type,o.pendingProps,l);case 19:return ww(s,o,l);case 31:return c=o.pendingProps,l=o.mode,c={mode:c.mode,children:c.children},s===null?(l=bf(c,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=Rs(s.child,c),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return pw(s,o,l);case 24:return Lo(o),c=fn(jt),s===null?(m=hm(),m===null&&(m=nt,y=um(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),o.memoizedState={parent:c,cache:m},dm(o),or(o,jt,m)):((s.lanes&l)!==0&&(pm(s,o),Vu(o,null,null,l),Nu()),m=s.memoizedState,y=o.memoizedState,m.parent!==c?(m={parent:c,cache:c},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),or(o,jt,c)):(c=y.cache,or(o,jt,c),c!==m.cache&&lm(o,[jt],l,!0))),tn(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Ns(s){s.flags|=4}function Ew(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!PT(o)){if(o=ri.current,o!==null&&((je&4194048)===je?Xi!==null:(je&62914560)!==je&&(je&536870912)===0||o!==Xi))throw ku=fm,o0;s.flags|=8192}}function wf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?ou():536870912,s.lanes|=o,tl|=o)}function qu(s,o){if(!He)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ft(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,o}function uP(s,o,l){var c=o.pendingProps;switch(sm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(o),null;case 1:return ft(o),null;case 3:return l=o.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ps(jt),Vi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(xu(o)?Ns(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,t0())),ft(o),null;case 26:return l=o.memoizedState,s===null?(Ns(o),l!==null?(ft(o),Ew(o,l)):(ft(o),o.flags&=-16777217)):l?l!==s.memoizedState?(Ns(o),ft(o),Ew(o,l)):(ft(o),o.flags&=-16777217):(s.memoizedProps!==c&&Ns(o),ft(o),o.flags&=-16777217),null;case 27:ps(o),l=Ae.current;var m=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==c&&Ns(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return ft(o),null}s=ye.current,xu(o)?Jb(o):(s=ET(m,c,l),o.stateNode=s,Ns(o))}return ft(o),null;case 5:if(ps(o),l=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&Ns(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return ft(o),null}if(s=ye.current,xu(o))Jb(o);else{switch(m=Of(Ae.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[Ut]=o,s[It]=c;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=s;e:switch(sn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ns(o)}}return ft(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==c&&Ns(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(i(166));if(s=Ae.current,xu(o)){if(s=o.stateNode,l=o.memoizedProps,c=null,m=Sn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Ut]=o,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||gT(s.nodeValue,l)),s||No(o)}else s=Of(s).createTextNode(c),s[Ut]=o,o.stateNode=s}return ft(o),null;case 13:if(c=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=xu(o),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ut]=o}else Ru(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ft(o),m=!1}else m=t0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(ks(o),o):(ks(o),null)}if(ks(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=o.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(o.child.flags|=8192),wf(o,o.updateQueue),ft(o),null;case 4:return Vi(),s===null&&gg(o.stateNode.containerInfo),ft(o),null;case 10:return Ps(o.type),ft(o),null;case 19:if(ce(Ft),m=o.memoizedState,m===null)return ft(o),null;if(c=(o.flags&128)!==0,y=m.rendering,y===null)if(c)qu(m,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(y=gf(s),y!==null){for(o.flags|=128,qu(m,!1),s=y.updateQueue,o.updateQueue=s,wf(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)Wb(l,s),l=l.sibling;return ae(Ft,Ft.current&1|2),o.child}s=s.sibling}m.tail!==null&&Xn()>Sf&&(o.flags|=128,c=!0,qu(m,!1),o.lanes=4194304)}else{if(!c)if(s=gf(y),s!==null){if(o.flags|=128,c=!0,s=s.updateQueue,o.updateQueue=s,wf(o,s),qu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!He)return ft(o),null}else 2*Xn()-m.renderingStartTime>Sf&&l!==536870912&&(o.flags|=128,c=!0,qu(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(s=m.last,s!==null?s.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Xn(),o.sibling=null,s=Ft.current,ae(Ft,c?s&1|2:s&1),o):(ft(o),null);case 22:case 23:return ks(o),vm(),c=o.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(ft(o),o.subtreeFlags&6&&(o.flags|=8192)):ft(o),l=o.updateQueue,l!==null&&wf(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),s!==null&&ce(Uo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ps(jt),ft(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function cP(s,o){switch(sm(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ps(jt),Vi(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return ps(o),null;case 13:if(ks(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Ru()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ce(Ft),null;case 4:return Vi(),null;case 10:return Ps(o.type),null;case 22:case 23:return ks(o),vm(),s!==null&&ce(Uo),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ps(jt),null;case 25:return null;default:return null}}function Sw(s,o){switch(sm(o),o.tag){case 3:Ps(jt),Vi();break;case 26:case 27:case 5:ps(o);break;case 4:Vi();break;case 13:ks(o);break;case 19:ce(Ft);break;case 10:Ps(o.type);break;case 22:case 23:ks(o),vm(),s!==null&&ce(Uo);break;case 24:Ps(jt)}}function Hu(s,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==m)}}catch(S){et(o,o.return,S)}}function dr(s,o,l){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,m=o;var k=l,Y=S;try{Y()}catch(ee){et(m,k,ee)}}}c=c.next}while(c!==y)}}catch(ee){et(o,o.return,ee)}}function Aw(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{f0(o,l)}catch(c){et(s,s.return,c)}}}function xw(s,o,l){l.props=Bo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){et(s,o,c)}}function Gu(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){et(s,o,m)}}function Qi(s,o){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){et(s,o,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){et(s,o,m)}else l.current=null}function Rw(s){var o=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){et(s,s.return,m)}}function $m(s,o,l){try{var c=s.stateNode;PP(c,s.type,l,o),c[It]=o}catch(m){et(s,s.return,m)}}function Cw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&wr(s.type)||s.tag===4}function Km(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Cw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&wr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ym(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=kf));else if(c!==4&&(c===27&&wr(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(Ym(s,o,l),s=s.sibling;s!==null;)Ym(s,o,l),s=s.sibling}function Tf(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(c!==4&&(c===27&&wr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Tf(s,o,l),s=s.sibling;s!==null;)Tf(s,o,l),s=s.sibling}function Iw(s){var o=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);sn(o,c,l),o[Ut]=s,o[It]=l}catch(y){et(s,s.return,y)}}var Vs=!1,St=!1,Xm=!1,Dw=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function hP(s,o){if(s=s.containerInfo,_g=Bf,s=jb(s),Kp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,S=-1,k=-1,Y=0,ee=0,ie=s,X=null;t:for(;;){for(var Q;ie!==l||m!==0&&ie.nodeType!==3||(S=T+m),ie!==y||c!==0&&ie.nodeType!==3||(k=T+c),ie.nodeType===3&&(T+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)X=ie,ie=Q;for(;;){if(ie===s)break t;if(X===l&&++Y===m&&(S=T),X===y&&++ee===c&&(k=T),(Q=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Q}l=S===-1||k===-1?null:{start:S,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(bg={focusedElem:s,selectionRange:l},Bf=!1,Yt=o;Yt!==null;)if(o=Yt,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Yt=s;else for(;Yt!==null;){switch(o=Yt,y=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=o,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ee=Bo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ee,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(ve){et(l,l.return,ve)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)Eg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Eg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Yt=s;break}Yt=o.return}}function Pw(s,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:pr(s,l),c&4&&Hu(5,l);break;case 1:if(pr(s,l),c&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(T){et(l,l.return,T)}else{var m=Bo(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(m,o,s.__reactInternalSnapshotBeforeUpdate)}catch(T){et(l,l.return,T)}}c&64&&Aw(l),c&512&&Gu(l,l.return);break;case 3:if(pr(s,l),c&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{f0(s,o)}catch(T){et(l,l.return,T)}}break;case 27:o===null&&c&4&&Iw(l);case 26:case 5:pr(s,l),o===null&&c&4&&Rw(l),c&512&&Gu(l,l.return);break;case 12:pr(s,l);break;case 13:pr(s,l),c&4&&Ow(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=bP.bind(null,l),UP(s,l))));break;case 22:if(c=l.memoizedState!==null||Vs,!c){o=o!==null&&o.memoizedState!==null||St,m=Vs;var y=St;Vs=c,(St=o)&&!y?mr(s,l,(l.subtreeFlags&8772)!==0):pr(s,l),Vs=m,St=y}break;case 30:break;default:pr(s,l)}}function Mw(s){var o=s.alternate;o!==null&&(s.alternate=null,Mw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&nr(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var lt=null,In=!1;function Ls(s,o,l){for(l=l.child;l!==null;)kw(s,o,l),l=l.sibling}function kw(s,o,l){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(gt,l)}catch{}switch(l.tag){case 26:St||Qi(l,o),Ls(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:St||Qi(l,o);var c=lt,m=In;wr(l.type)&&(lt=l.stateNode,In=!1),Ls(s,o,l),ec(l.stateNode),lt=c,In=m;break;case 5:St||Qi(l,o);case 6:if(c=lt,m=In,lt=null,Ls(s,o,l),lt=c,In=m,lt!==null)if(In)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(y){et(l,o,y)}else try{lt.removeChild(l.stateNode)}catch(y){et(l,o,y)}break;case 18:lt!==null&&(In?(s=lt,wT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),lc(s)):wT(lt,l.stateNode));break;case 4:c=lt,m=In,lt=l.stateNode.containerInfo,In=!0,Ls(s,o,l),lt=c,In=m;break;case 0:case 11:case 14:case 15:St||dr(2,l,o),St||dr(4,l,o),Ls(s,o,l);break;case 1:St||(Qi(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&xw(l,o,c)),Ls(s,o,l);break;case 21:Ls(s,o,l);break;case 22:St=(c=St)||l.memoizedState!==null,Ls(s,o,l),St=c;break;default:Ls(s,o,l)}}function Ow(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{lc(s)}catch(l){et(o,o.return,l)}}function fP(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Dw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Dw),o;default:throw Error(i(435,s.tag))}}function Qm(s,o){var l=fP(s);o.forEach(function(c){var m=wP.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function zn(s,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,T=o,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(wr(S.type)){lt=S.stateNode,In=!1;break e}break;case 5:lt=S.stateNode,In=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(lt===null)throw Error(i(160));kw(y,T,m),lt=null,In=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Nw(o,s),o=o.sibling}var wi=null;function Nw(s,o){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zn(o,s),Bn(s),c&4&&(dr(3,s,s.return),Hu(3,s),dr(5,s,s.return));break;case 1:zn(o,s),Bn(s),c&512&&(St||l===null||Qi(l,l.return)),c&64&&Vs&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=wi;if(zn(o,s),Bn(s),c&512&&(St||l===null||Qi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[mo]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),sn(y,c,l),y[Ut]=s,Tt(y),c=y;break e;case"link":var T=IT("link","href",m).get(c+(l.href||""));if(T){for(var S=0;S<T.length;S++)if(y=T[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(S,1);break t}}y=m.createElement(c),sn(y,c,l),m.head.appendChild(y);break;case"meta":if(T=IT("meta","content",m).get(c+(l.content||""))){for(S=0;S<T.length;S++)if(y=T[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(S,1);break t}}y=m.createElement(c),sn(y,c,l),m.head.appendChild(y);break;default:throw Error(i(468,c))}y[Ut]=s,Tt(y),c=y}s.stateNode=c}else DT(m,s.type,s.stateNode);else s.stateNode=CT(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?DT(m,s.type,s.stateNode):CT(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&$m(s,s.memoizedProps,l.memoizedProps)}break;case 27:zn(o,s),Bn(s),c&512&&(St||l===null||Qi(l,l.return)),l!==null&&c&4&&$m(s,s.memoizedProps,l.memoizedProps);break;case 5:if(zn(o,s),Bn(s),c&512&&(St||l===null||Qi(l,l.return)),s.flags&32){m=s.stateNode;try{Wn(m,"")}catch(Q){et(s,s.return,Q)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,$m(s,m,l!==null?l.memoizedProps:m)),c&1024&&(Xm=!0);break;case 6:if(zn(o,s),Bn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Q){et(s,s.return,Q)}}break;case 3:if(Lf=null,m=wi,wi=Nf(o.containerInfo),zn(o,s),wi=m,Bn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{lc(o.containerInfo)}catch(Q){et(s,s.return,Q)}Xm&&(Xm=!1,Vw(s));break;case 4:c=wi,wi=Nf(s.stateNode.containerInfo),zn(o,s),Bn(s),wi=c;break;case 12:zn(o,s),Bn(s);break;case 13:zn(o,s),Bn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ng=Xn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qm(s,c)));break;case 22:m=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,Y=Vs,ee=St;if(Vs=Y||m,St=ee||k,zn(o,s),St=ee,Vs=Y,Bn(s),c&8192)e:for(o=s.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||k||Vs||St||jo(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){k=l=o;try{if(y=k.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=k.stateNode;var ie=k.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){et(k,k.return,Q)}}}else if(o.tag===6){if(l===null){k=o;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(Q){et(k,k.return,Q)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Qm(s,l))));break;case 19:zn(o,s),Bn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qm(s,c)));break;case 30:break;case 21:break;default:zn(o,s),Bn(s)}}function Bn(s){var o=s.flags;if(o&2){try{for(var l,c=s.return;c!==null;){if(Cw(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,y=Km(s);Tf(s,y,m);break;case 5:var T=l.stateNode;l.flags&32&&(Wn(T,""),l.flags&=-33);var S=Km(s);Tf(s,S,T);break;case 3:case 4:var k=l.stateNode.containerInfo,Y=Km(s);Ym(s,Y,k);break;default:throw Error(i(161))}}catch(ee){et(s,s.return,ee)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Vw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Vw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function pr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Pw(s,o.alternate,o),o=o.sibling}function jo(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:dr(4,o,o.return),jo(o);break;case 1:Qi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&xw(o,o.return,l),jo(o);break;case 27:ec(o.stateNode);case 26:case 5:Qi(o,o.return),jo(o);break;case 22:o.memoizedState===null&&jo(o);break;case 30:jo(o);break;default:jo(o)}s=s.sibling}}function mr(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,m=s,y=o,T=y.flags;switch(y.tag){case 0:case 11:case 15:mr(m,y,l),Hu(4,y);break;case 1:if(mr(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){et(c,c.return,Y)}if(c=y,m=c.updateQueue,m!==null){var S=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)h0(k[m],S)}catch(Y){et(c,c.return,Y)}}l&&T&64&&Aw(y),Gu(y,y.return);break;case 27:Iw(y);case 26:case 5:mr(m,y,l),l&&c===null&&T&4&&Rw(y),Gu(y,y.return);break;case 12:mr(m,y,l);break;case 13:mr(m,y,l),l&&T&4&&Ow(m,y);break;case 22:y.memoizedState===null&&mr(m,y,l),Gu(y,y.return);break;case 30:break;default:mr(m,y,l)}o=o.sibling}}function Wm(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Du(l))}function Zm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Du(s))}function Wi(s,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Lw(s,o,l,c),o=o.sibling}function Lw(s,o,l,c){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Wi(s,o,l,c),m&2048&&Hu(9,o);break;case 1:Wi(s,o,l,c);break;case 3:Wi(s,o,l,c),m&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Du(s)));break;case 12:if(m&2048){Wi(s,o,l,c),s=o.stateNode;try{var y=o.memoizedProps,T=y.id,S=y.onPostCommit;typeof S=="function"&&S(T,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){et(o,o.return,k)}}else Wi(s,o,l,c);break;case 13:Wi(s,o,l,c);break;case 23:break;case 22:y=o.stateNode,T=o.alternate,o.memoizedState!==null?y._visibility&2?Wi(s,o,l,c):$u(s,o):y._visibility&2?Wi(s,o,l,c):(y._visibility|=2,Za(s,o,l,c,(o.subtreeFlags&10256)!==0)),m&2048&&Wm(T,o);break;case 24:Wi(s,o,l,c),m&2048&&Zm(o.alternate,o);break;default:Wi(s,o,l,c)}}function Za(s,o,l,c,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=s,T=o,S=l,k=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Za(y,T,S,k,m),Hu(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&2?Za(y,T,S,k,m):$u(y,T):(ee._visibility|=2,Za(y,T,S,k,m)),m&&Y&2048&&Wm(T.alternate,T);break;case 24:Za(y,T,S,k,m),m&&Y&2048&&Zm(T.alternate,T);break;default:Za(y,T,S,k,m)}o=o.sibling}}function $u(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,c=o,m=c.flags;switch(c.tag){case 22:$u(l,c),m&2048&&Wm(c.alternate,c);break;case 24:$u(l,c),m&2048&&Zm(c.alternate,c);break;default:$u(l,c)}o=o.sibling}}var Ku=8192;function Ja(s){if(s.subtreeFlags&Ku)for(s=s.child;s!==null;)Uw(s),s=s.sibling}function Uw(s){switch(s.tag){case 26:Ja(s),s.flags&Ku&&s.memoizedState!==null&&WP(wi,s.memoizedState,s.memoizedProps);break;case 5:Ja(s);break;case 3:case 4:var o=wi;wi=Nf(s.stateNode.containerInfo),Ja(s),wi=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Ku,Ku=16777216,Ja(s),Ku=o):Ja(s));break;default:Ja(s)}}function zw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Yu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];Yt=c,jw(c,s)}zw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bw(s),s=s.sibling}function Bw(s){switch(s.tag){case 0:case 11:case 15:Yu(s),s.flags&2048&&dr(9,s,s.return);break;case 3:Yu(s);break;case 12:Yu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Ef(s)):Yu(s);break;default:Yu(s)}}function Ef(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];Yt=c,jw(c,s)}zw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:dr(8,o,o.return),Ef(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Ef(o));break;default:Ef(o)}s=s.sibling}}function jw(s,o){for(;Yt!==null;){var l=Yt;switch(l.tag){case 0:case 11:case 15:dr(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Du(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Yt=c;else e:for(l=s;Yt!==null;){c=Yt;var m=c.sibling,y=c.return;if(Mw(c),c===l){Yt=null;break e}if(m!==null){m.return=y,Yt=m;break e}Yt=y}}}var dP={getCacheForType:function(s){var o=fn(jt),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l}},pP=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Oe=null,je=0,Xe=0,jn=null,gr=!1,el=!1,Jm=!1,Us=0,vt=0,yr=0,Fo=0,eg=0,oi=0,tl=0,Xu=null,Dn=null,tg=!1,ng=0,Sf=1/0,Af=null,vr=null,nn=0,_r=null,nl=null,il=0,ig=0,sg=null,Fw=null,Qu=0,rg=null;function Fn(){if((Ye&2)!==0&&je!==0)return je&-je;if(J.T!==null){var s=Ha;return s!==0?s:fg()}return er()}function qw(){oi===0&&(oi=(je&536870912)===0||He?ru():536870912);var s=ri.current;return s!==null&&(s.flags|=32),oi}function qn(s,o,l){(s===nt&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)&&(sl(s,0),br(s,je,oi,!1)),gs(s,l),((Ye&2)===0||s!==nt)&&(s===nt&&((Ye&2)===0&&(Fo|=l),vt===4&&br(s,je,oi,!1)),Zi(s))}function Hw(s,o,l){if((Ye&6)!==0)throw Error(i(327));var c=!l&&(o&124)===0&&(o&s.expiredLanes)===0||po(s,o),m=c?yP(s,o):lg(s,o,!0),y=c;do{if(m===0){el&&!c&&br(s,o,0,!1);break}else{if(l=s.current.alternate,y&&!mP(l)){m=lg(s,o,!1),y=!1;continue}if(m===2){if(y=o,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var S=s;m=Xu;var k=S.current.memoizedState.isDehydrated;if(k&&(sl(S,T).flags|=256),T=lg(S,T,!1),T!==2){if(Jm&&!k){S.errorRecoveryDisabledLanes|=y,Fo|=y,m=4;break e}y=Dn,Dn=m,y!==null&&(Dn===null?Dn=y:Dn.push.apply(Dn,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){sl(s,0),br(s,o,0,!0);break}e:{switch(c=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:br(c,o,oi,!gr);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=ng+300-Xn(),10<m)){if(br(c,o,oi,!gr),wa(c,0,!0)!==0)break e;c.timeoutHandle=_T(Gw.bind(null,c,l,Dn,Af,tg,o,oi,Fo,tl,gr,y,2,-0,0),m);break e}Gw(c,l,Dn,Af,tg,o,oi,Fo,tl,gr,y,0,-0,0)}}break}while(!0);Zi(s)}function Gw(s,o,l,c,m,y,T,S,k,Y,ee,ie,X,Q){if(s.timeoutHandle=-1,ie=o.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(ic={stylesheets:null,count:0,unsuspend:QP},Uw(o),ie=ZP(),ie!==null)){s.cancelPendingCommit=ie(Zw.bind(null,s,o,y,l,c,m,T,S,k,ee,1,X,Q)),br(s,y,T,!Y);return}Zw(s,o,y,l,c,m,T,S,k)}function mP(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!Ln(y(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function br(s,o,l,c){o&=~eg,o&=~Fo,s.suspendedLanes|=o,s.pingedLanes&=~o,c&&(s.warmLanes|=o),c=s.expirationTimes;for(var m=o;0<m;){var y=31-hn(m),T=1<<y;c[y]=-1,m&=~T}l!==0&&Li(s,l,o)}function xf(){return(Ye&6)===0?(Wu(0),!1):!0}function og(){if(Oe!==null){if(Xe===0)var s=Oe.return;else s=Oe,Ds=Vo=null,Em(s),Qa=null,ju=0,s=Oe;for(;s!==null;)Sw(s.alternate,s),s=s.return;Oe=null}}function sl(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,kP(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),og(),nt=s,Oe=l=Rs(s.current,null),je=o,Xe=0,jn=null,gr=!1,el=po(s,o),Jm=!1,tl=oi=eg=Fo=yr=vt=0,Dn=Xu=null,tg=!1,(o&8)!==0&&(o|=o&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=o;0<c;){var m=31-hn(c),y=1<<m;o|=s[m],c&=~y}return Us=o,Kh(),l}function $w(s,o){Pe=null,J.H=df,o===Mu||o===nf?(o=u0(),Xe=3):o===o0?(o=u0(),Xe=4):Xe=o===cw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,jn=o,Oe===null&&(vt=1,vf(s,ti(o,s.current)))}function Kw(){var s=J.H;return J.H=df,s===null?df:s}function Yw(){var s=J.A;return J.A=dP,s}function ag(){vt=4,gr||(je&4194048)!==je&&ri.current!==null||(el=!0),(yr&134217727)===0&&(Fo&134217727)===0||nt===null||br(nt,je,oi,!1)}function lg(s,o,l){var c=Ye;Ye|=2;var m=Kw(),y=Yw();(nt!==s||je!==o)&&(Af=null,sl(s,o)),o=!1;var T=vt;e:do try{if(Xe!==0&&Oe!==null){var S=Oe,k=jn;switch(Xe){case 8:og(),T=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(o=!0);var Y=Xe;if(Xe=0,jn=null,rl(s,S,k,Y),l&&el){T=0;break e}break;default:Y=Xe,Xe=0,jn=null,rl(s,S,k,Y)}}gP(),T=vt;break}catch(ee){$w(s,ee)}while(!0);return o&&s.shellSuspendCounter++,Ds=Vo=null,Ye=c,J.H=m,J.A=y,Oe===null&&(nt=null,je=0,Kh()),T}function gP(){for(;Oe!==null;)Xw(Oe)}function yP(s,o){var l=Ye;Ye|=2;var c=Kw(),m=Yw();nt!==s||je!==o?(Af=null,Sf=Xn()+500,sl(s,o)):el=po(s,o);e:do try{if(Xe!==0&&Oe!==null){o=Oe;var y=jn;t:switch(Xe){case 1:Xe=0,jn=null,rl(s,o,y,1);break;case 2:case 9:if(a0(y)){Xe=0,jn=null,Qw(o);break}o=function(){Xe!==2&&Xe!==9||nt!==s||(Xe=7),Zi(s)},y.then(o,o);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:a0(y)?(Xe=0,jn=null,Qw(o)):(Xe=0,jn=null,rl(s,o,y,7));break;case 5:var T=null;switch(Oe.tag){case 26:T=Oe.memoizedState;case 5:case 27:var S=Oe;if(!T||PT(T)){Xe=0,jn=null;var k=S.sibling;if(k!==null)Oe=k;else{var Y=S.return;Y!==null?(Oe=Y,Rf(Y)):Oe=null}break t}}Xe=0,jn=null,rl(s,o,y,5);break;case 6:Xe=0,jn=null,rl(s,o,y,6);break;case 8:og(),vt=6;break e;default:throw Error(i(462))}}vP();break}catch(ee){$w(s,ee)}while(!0);return Ds=Vo=null,J.H=c,J.A=m,Ye=l,Oe!==null?0:(nt=null,je=0,Kh(),vt)}function vP(){for(;Oe!==null&&!tu();)Xw(Oe)}function Xw(s){var o=Tw(s.alternate,s,Us);s.memoizedProps=s.pendingProps,o===null?Rf(s):Oe=o}function Qw(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=gw(l,o,o.pendingProps,o.type,void 0,je);break;case 11:o=gw(l,o,o.pendingProps,o.type.render,o.ref,je);break;case 5:Em(o);default:Sw(l,o),o=Oe=Wb(o,Us),o=Tw(l,o,Us)}s.memoizedProps=s.pendingProps,o===null?Rf(s):Oe=o}function rl(s,o,l,c){Ds=Vo=null,Em(o),Qa=null,ju=0;var m=o.return;try{if(aP(s,m,o,l,je)){vt=1,vf(s,ti(l,s.current)),Oe=null;return}}catch(y){if(m!==null)throw Oe=m,y;vt=1,vf(s,ti(l,s.current)),Oe=null;return}o.flags&32768?(He||c===1?s=!0:el||(je&536870912)!==0?s=!1:(gr=s=!0,(c===2||c===9||c===3||c===6)&&(c=ri.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ww(o,s)):Rf(o)}function Rf(s){var o=s;do{if((o.flags&32768)!==0){Ww(o,gr);return}s=o.return;var l=uP(o.alternate,o,Us);if(l!==null){Oe=l;return}if(o=o.sibling,o!==null){Oe=o;return}Oe=o=s}while(o!==null);vt===0&&(vt=5)}function Ww(s,o){do{var l=cP(s.alternate,s);if(l!==null){l.flags&=32767,Oe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){Oe=s;return}Oe=s=l}while(s!==null);vt=6,Oe=null}function Zw(s,o,l,c,m,y,T,S,k){s.cancelPendingCommit=null;do Cf();while(nn!==0);if((Ye&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(y=o.lanes|o.childLanes,y|=Zp,au(s,l,y,T,S,k),s===nt&&(Oe=nt=null,je=0),nl=o,_r=s,il=l,ig=y,sg=m,Fw=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,TP(uo,function(){return iT(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,m=oe.p,oe.p=2,T=Ye,Ye|=4;try{hP(s,o,l)}finally{Ye=T,oe.p=m,J.T=c}}nn=1,Jw(),eT(),tT()}}function Jw(){if(nn===1){nn=0;var s=_r,o=nl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var c=oe.p;oe.p=2;var m=Ye;Ye|=4;try{Nw(o,s);var y=bg,T=jb(s.containerInfo),S=y.focusedElem,k=y.selectionRange;if(T!==S&&S&&S.ownerDocument&&Bb(S.ownerDocument.documentElement,S)){if(k!==null&&Kp(S)){var Y=k.start,ee=k.end;if(ee===void 0&&(ee=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ee,S.value.length);else{var ie=S.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Q=X.getSelection(),Ee=S.textContent.length,ve=Math.min(k.start,Ee),Je=k.end===void 0?ve:Math.min(k.end,Ee);!Q.extend&&ve>Je&&(T=Je,Je=ve,ve=T);var H=zb(S,ve),U=zb(S,Je);if(H&&U&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var $=ie.createRange();$.setStart(H.node,H.offset),Q.removeAllRanges(),ve>Je?(Q.addRange($),Q.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),Q.addRange($))}}}}for(ie=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Bf=!!_g,bg=_g=null}finally{Ye=m,oe.p=c,J.T=l}}s.current=o,nn=2}}function eT(){if(nn===2){nn=0;var s=_r,o=nl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var c=oe.p;oe.p=2;var m=Ye;Ye|=4;try{Pw(s,o.alternate,o)}finally{Ye=m,oe.p=c,J.T=l}}nn=3}}function tT(){if(nn===4||nn===3){nn=0,Th();var s=_r,o=nl,l=il,c=Fw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?nn=5:(nn=0,nl=_r=null,nT(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(vr=null),Ta(l),o=o.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(gt,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=J.T,m=oe.p,oe.p=2,J.T=null;try{for(var y=s.onRecoverableError,T=0;T<c.length;T++){var S=c[T];y(S.value,{componentStack:S.stack})}}finally{J.T=o,oe.p=m}}(il&3)!==0&&Cf(),Zi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===rg?Qu++:(Qu=0,rg=s):Qu=0,Wu(0)}}function nT(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Du(o)))}function Cf(s){return Jw(),eT(),tT(),iT()}function iT(){if(nn!==5)return!1;var s=_r,o=ig;ig=0;var l=Ta(il),c=J.T,m=oe.p;try{oe.p=32>l?32:l,J.T=null,l=sg,sg=null;var y=_r,T=il;if(nn=0,nl=_r=null,il=0,(Ye&6)!==0)throw Error(i(331));var S=Ye;if(Ye|=4,Bw(y.current),Lw(y,y.current,T,l),Ye=S,Wu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(gt,y)}catch{}return!0}finally{oe.p=m,J.T=c,nT(s,o)}}function sT(s,o,l){o=ti(l,o),o=Lm(s.stateNode,o,2),s=ur(s,o,2),s!==null&&(gs(s,2),Zi(s))}function et(s,o,l){if(s.tag===3)sT(s,s,l);else for(;o!==null;){if(o.tag===3){sT(o,s,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(vr===null||!vr.has(c))){s=ti(l,s),l=lw(2),c=ur(o,l,2),c!==null&&(uw(l,c,o,s),gs(c,2),Zi(c));break}}o=o.return}}function ug(s,o,l){var c=s.pingCache;if(c===null){c=s.pingCache=new pP;var m=new Set;c.set(o,m)}else m=c.get(o),m===void 0&&(m=new Set,c.set(o,m));m.has(l)||(Jm=!0,m.add(l),s=_P.bind(null,s,o,l),o.then(s,s))}function _P(s,o,l){var c=s.pingCache;c!==null&&c.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,nt===s&&(je&l)===l&&(vt===4||vt===3&&(je&62914560)===je&&300>Xn()-ng?(Ye&2)===0&&sl(s,0):eg|=l,tl===je&&(tl=0)),Zi(s)}function rT(s,o){o===0&&(o=ou()),s=Ba(s,o),s!==null&&(gs(s,o),Zi(s))}function bP(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),rT(s,l)}function wP(s,o){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(o),rT(s,l)}function TP(s,o){return ao(s,o)}var If=null,ol=null,cg=!1,Df=!1,hg=!1,qo=0;function Zi(s){s!==ol&&s.next===null&&(ol===null?If=ol=s:ol=ol.next=s),Df=!0,cg||(cg=!0,SP())}function Wu(s,o){if(!hg&&Df){hg=!0;do for(var l=!1,c=If;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-hn(42|s)+1)-1,y&=m&~(T&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,uT(c,y))}else y=je,y=wa(c,c===nt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||po(c,y)||(l=!0,uT(c,y));c=c.next}while(l);hg=!1}}function EP(){oT()}function oT(){Df=cg=!1;var s=0;qo!==0&&(MP()&&(s=qo),qo=0);for(var o=Xn(),l=null,c=If;c!==null;){var m=c.next,y=aT(c,o);y===0?(c.next=null,l===null?If=m:l.next=m,m===null&&(ol=l)):(l=c,(s!==0||(y&3)!==0)&&(Df=!0)),c=m}Wu(s)}function aT(s,o){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-hn(y),S=1<<T,k=m[T];k===-1?((S&l)===0||(S&c)!==0)&&(m[T]=su(S,o)):k<=o&&(s.expiredLanes|=S),y&=~S}if(o=nt,l=je,l=wa(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===o&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&lo(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||po(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(c!==null&&lo(c),Ta(l)){case 2:case 8:l=_a;break;case 32:l=uo;break;case 268435456:l=ba;break;default:l=uo}return c=lT.bind(null,s),l=ao(l,c),s.callbackPriority=o,s.callbackNode=l,o}return c!==null&&c!==null&&lo(c),s.callbackPriority=2,s.callbackNode=null,2}function lT(s,o){if(nn!==0&&nn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Cf()&&s.callbackNode!==l)return null;var c=je;return c=wa(s,s===nt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Hw(s,c,o),aT(s,Xn()),s.callbackNode!=null&&s.callbackNode===l?lT.bind(null,s):null)}function uT(s,o){if(Cf())return null;Hw(s,o,!0)}function SP(){OP(function(){(Ye&6)!==0?ao(nu,EP):oT()})}function fg(){return qo===0&&(qo=ru()),qo}function cT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ca(""+s)}function hT(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function AP(s,o,l,c,m){if(o==="submit"&&l&&l.stateNode===m){var y=cT((m[It]||null).action),T=c.submitter;T&&(o=(o=T[It]||null)?cT(o.formAction):T.getAttribute("formAction"),o!==null&&(y=o,T=null));var S=new Ia("action","action",null,c,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qo!==0){var k=T?hT(m,T):new FormData(m);Mm(l,{pending:!0,data:k,method:m.method,action:y},null,k)}}else typeof y=="function"&&(S.preventDefault(),k=T?hT(m,T):new FormData(m),Mm(l,{pending:!0,data:k,method:m.method,action:y},y,k))},currentTarget:m}]})}}for(var dg=0;dg<Wp.length;dg++){var pg=Wp[dg],xP=pg.toLowerCase(),RP=pg[0].toUpperCase()+pg.slice(1);bi(xP,"on"+RP)}bi(Hb,"onAnimationEnd"),bi(Gb,"onAnimationIteration"),bi($b,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(HD,"onTransitionRun"),bi(GD,"onTransitionStart"),bi($D,"onTransitionCancel"),bi(Kb,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function fT(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(o)for(var T=c.length-1;0<=T;T--){var S=c[T],k=S.instance,Y=S.currentTarget;if(S=S.listener,k!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=Y;try{y(m)}catch(ee){yf(ee)}m.currentTarget=null,y=k}else for(T=0;T<c.length;T++){if(S=c[T],k=S.instance,Y=S.currentTarget,S=S.listener,k!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=Y;try{y(m)}catch(ee){yf(ee)}m.currentTarget=null,y=k}}}}function Ne(s,o){var l=o[uu];l===void 0&&(l=o[uu]=new Set);var c=s+"__bubble";l.has(c)||(dT(o,s,2,!1),l.add(c))}function mg(s,o,l){var c=0;o&&(c|=4),dT(l,s,c,o)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function gg(s){if(!s[Pf]){s[Pf]=!0,cu.forEach(function(l){l!=="selectionchange"&&(CP.has(l)||mg(l,!1,s),mg(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Pf]||(o[Pf]=!0,mg("selectionchange",!1,o))}}function dT(s,o,l,c){switch(LT(o)){case 2:var m=tM;break;case 8:m=nM;break;default:m=Dg}l=m.bind(null,o,l,s),m=void 0,!Jn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function yg(s,o,l,c,m){var y=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===m)break;if(T===4)for(T=c.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;S!==null;){if(T=ys(S),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){c=y=T;continue e}S=S.parentNode}}c=c.return}Mh(function(){var Y=y,ee=Zn(l),ie=[];e:{var X=Yb.get(s);if(X!==void 0){var Q=Ia,Ee=s;switch(s){case"keypress":if(qi(l)===0)break e;case"keydown":case"keyup":Q=Na;break;case"focusin":Ee="focus",Q=Ma;break;case"focusout":Ee="blur",Q=Ma;break;case"beforeblur":case"afterblur":Q=Ma;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Bh;break;case Hb:case Gb:case $b:Q=ka;break;case Kb:Q=Fh;break;case"scroll":case"scrollend":Q=kh;break;case"wheel":Q=Va;break;case"copy":case"cut":case"paste":Q=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Tu;break;case"toggle":case"beforetoggle":Q=Hh}var ve=(o&4)!==0,Je=!ve&&(s==="scroll"||s==="scrollend"),H=ve?X!==null?X+"Capture":null:X;ve=[];for(var U=Y,$;U!==null;){var te=U;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||H===null||(te=To(U,H),te!=null&&ve.push(Ju(U,te,$))),Je)break;U=U.return}0<ve.length&&(X=new Q(X,Ee,null,l,ee),ie.push({event:X,listeners:ve}))}}if((o&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",X&&l!==ws&&(Ee=l.relatedTarget||l.fromElement)&&(ys(Ee)||Ee[Qn]))break e;if((Q||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(Ee=l.relatedTarget||l.toElement,Q=Y,Ee=Ee?ys(Ee):null,Ee!==null&&(Je=a(Ee),ve=Ee.tag,Ee!==Je||ve!==5&&ve!==27&&ve!==6)&&(Ee=null)):(Q=null,Ee=Y),Q!==Ee)){if(ve=ei,te="onMouseLeave",H="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(ve=Tu,te="onPointerLeave",H="onPointerEnter",U="pointer"),Je=Q==null?X:zi(Q),$=Ee==null?X:zi(Ee),X=new ve(te,U+"leave",Q,l,ee),X.target=Je,X.relatedTarget=$,te=null,ys(ee)===Y&&(ve=new ve(H,U+"enter",Ee,l,ee),ve.target=$,ve.relatedTarget=Je,te=ve),Je=te,Q&&Ee)t:{for(ve=Q,H=Ee,U=0,$=ve;$;$=al($))U++;for($=0,te=H;te;te=al(te))$++;for(;0<U-$;)ve=al(ve),U--;for(;0<$-U;)H=al(H),$--;for(;U--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=al(ve),H=al(H)}ve=null}else ve=null;Q!==null&&pT(ie,X,Q,ve,!1),Ee!==null&&Je!==null&&pT(ie,Je,Ee,ve,!0)}}e:{if(X=Y?zi(Y):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var pe=kb;else if(Bt(X))if(Ob)pe=jD;else{pe=zD;var ke=UD}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&mu(Y.elementType)&&(pe=kb):pe=BD;if(pe&&(pe=pe(s,Y))){xs(ie,pe,l,ee);break e}ke&&ke(s,X,Y),s==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&sr(X,"number",X.value)}switch(ke=Y?zi(Y):window,s){case"focusin":(Bt(ke)||ke.contentEditable==="true")&&(La=ke,Yp=Y,Au=null);break;case"focusout":Au=Yp=La=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,Fb(ie,l,ee);break;case"selectionchange":if(qD)break;case"keydown":case"keyup":Fb(ie,l,ee)}var me;if($i)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ze?W(s,l)&&(be="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(w&&l.locale!=="ko"&&(ze||be!=="onCompositionStart"?be==="onCompositionEnd"&&ze&&(me=yu()):(Fi=ee,rr="value"in Fi?Fi.value:Fi.textContent,ze=!0)),ke=Mf(Y,be),0<ke.length&&(be=new bu(be,s,null,l,ee),ie.push({event:be,listeners:ke}),me?be.data=me:(me=le(l),me!==null&&(be.data=me)))),(me=_?zt(s,l):Be(s,l))&&(be=Mf(Y,"onBeforeInput"),0<be.length&&(ke=new bu("onBeforeInput","beforeinput",null,l,ee),ie.push({event:ke,listeners:be}),ke.data=me)),AP(ie,s,Y,l,ee)}fT(ie,o)})}function Ju(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Mf(s,o){for(var l=o+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=To(s,l),m!=null&&c.unshift(Ju(s,m,y)),m=To(s,o),m!=null&&c.push(Ju(s,m,y))),s.tag===3)return c;s=s.return}return[]}function al(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function pT(s,o,l,c,m){for(var y=o._reactName,T=[];l!==null&&l!==c;){var S=l,k=S.alternate,Y=S.stateNode;if(S=S.tag,k!==null&&k===c)break;S!==5&&S!==26&&S!==27||Y===null||(k=Y,m?(Y=To(l,y),Y!=null&&T.unshift(Ju(l,Y,k))):m||(Y=To(l,y),Y!=null&&T.push(Ju(l,Y,k)))),l=l.return}T.length!==0&&s.push({event:o,listeners:T})}var IP=/\r\n?/g,DP=/\u0000|\uFFFD/g;function mT(s){return(typeof s=="string"?s:""+s).replace(IP,`
`).replace(DP,"")}function gT(s,o){return o=mT(o),mT(s)===o}function kf(){}function Ze(s,o,l,c,m,y){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||Wn(s,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&Wn(s,""+c);break;case"className":Bi(s,"class",c);break;case"tabIndex":Bi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(s,l,c);break;case"style":pu(s,c,y);break;case"data":if(o!=="object"){Bi(s,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ca(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(o!=="input"&&Ze(s,o,"name",m.name,m,null),Ze(s,o,"formEncType",m.formEncType,m,null),Ze(s,o,"formMethod",m.formMethod,m,null),Ze(s,o,"formTarget",m.formTarget,m,null)):(Ze(s,o,"encType",m.encType,m,null),Ze(s,o,"method",m.method,m,null),Ze(s,o,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ca(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=kf);break;case"onScroll":c!=null&&Ne("scroll",s);break;case"onScrollEnd":c!=null&&Ne("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ca(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ne("beforetoggle",s),Ne("toggle",s),ir(s,"popover",c);break;case"xlinkActuate":Jt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Jt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Jt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Jt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Jt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Jt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ir(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=jp.get(l)||l,ir(s,l,c))}}function vg(s,o,l,c,m,y){switch(l){case"style":pu(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Wn(s,c):(typeof c=="number"||typeof c=="bigint")&&Wn(s,""+c);break;case"onScroll":c!=null&&Ne("scroll",s);break;case"onScrollEnd":c!=null&&Ne("scrollend",s);break;case"onClick":c!=null&&(s.onclick=kf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),y=s[It]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(o,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):ir(s,l,c)}}}function sn(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",s),Ne("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ze(s,o,y,T,l,null)}}m&&Ze(s,o,"srcSet",l.srcSet,l,null),c&&Ze(s,o,"src",l.src,l,null);return;case"input":Ne("invalid",s);var S=y=T=m=null,k=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":m=ee;break;case"type":T=ee;break;case"checked":k=ee;break;case"defaultChecked":Y=ee;break;case"value":y=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:Ze(s,o,c,ee,l,null)}}_o(s,y,S,k,Y,T,m,!1),Ra(s);return;case"select":Ne("invalid",s),c=T=y=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:Ze(s,o,m,S,l,null)}o=y,l=T,s.multiple=!!c,o!=null?bs(s,!!c,o,!1):l!=null&&bs(s,!!c,l,!0);return;case"textarea":Ne("invalid",s),y=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(S=l[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Ze(s,o,T,S,l,null)}bo(s,c,m,y),Ra(s);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(s,o,k,c,l,null)}return;case"dialog":Ne("beforetoggle",s),Ne("toggle",s),Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":Ne("load",s);break;case"video":case"audio":for(c=0;c<Zu.length;c++)Ne(Zu[c],s);break;case"image":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"embed":case"source":case"link":Ne("error",s),Ne("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ze(s,o,Y,c,l,null)}return;default:if(mu(o)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&vg(s,o,ee,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&Ze(s,o,S,c,l,null))}function PP(s,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,S=null,k=null,Y=null,ee=null;for(Q in l){var ie=l[Q];if(l.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=ie;default:c.hasOwnProperty(Q)||Ze(s,o,Q,null,c,ie)}}for(var X in c){var Q=c[X];if(ie=l[X],c.hasOwnProperty(X)&&(Q!=null||ie!=null))switch(X){case"type":y=Q;break;case"name":m=Q;break;case"checked":Y=Q;break;case"defaultChecked":ee=Q;break;case"value":T=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,o));break;default:Q!==ie&&Ze(s,o,X,Q,c,ie)}}Vn(s,T,S,k,Y,ee,y,m);return;case"select":Q=T=S=X=null;for(y in l)if(k=l[y],l.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":Q=k;default:c.hasOwnProperty(y)||Ze(s,o,y,null,c,k)}for(m in c)if(y=c[m],k=l[m],c.hasOwnProperty(m)&&(y!=null||k!=null))switch(m){case"value":X=y;break;case"defaultValue":S=y;break;case"multiple":T=y;default:y!==k&&Ze(s,o,m,y,c,k)}o=S,l=T,c=Q,X!=null?bs(s,!!l,X,!1):!!c!=!!l&&(o!=null?bs(s,!!l,o,!0):bs(s,!!l,l?[]:"",!1));return;case"textarea":Q=X=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(s,o,S,null,c,m)}for(T in c)if(m=c[T],y=l[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":X=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&Ze(s,o,T,m,c,y)}Qe(s,X,Q);return;case"option":for(var Ee in l)if(X=l[Ee],l.hasOwnProperty(Ee)&&X!=null&&!c.hasOwnProperty(Ee))switch(Ee){case"selected":s.selected=!1;break;default:Ze(s,o,Ee,null,c,X)}for(k in c)if(X=c[k],Q=l[k],c.hasOwnProperty(k)&&X!==Q&&(X!=null||Q!=null))switch(k){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ze(s,o,k,X,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)X=l[ve],l.hasOwnProperty(ve)&&X!=null&&!c.hasOwnProperty(ve)&&Ze(s,o,ve,null,c,X);for(Y in c)if(X=c[Y],Q=l[Y],c.hasOwnProperty(Y)&&X!==Q&&(X!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,o));break;default:Ze(s,o,Y,X,c,Q)}return;default:if(mu(o)){for(var Je in l)X=l[Je],l.hasOwnProperty(Je)&&X!==void 0&&!c.hasOwnProperty(Je)&&vg(s,o,Je,void 0,c,X);for(ee in c)X=c[ee],Q=l[ee],!c.hasOwnProperty(ee)||X===Q||X===void 0&&Q===void 0||vg(s,o,ee,X,c,Q);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!c.hasOwnProperty(H)&&Ze(s,o,H,null,c,X);for(ie in c)X=c[ie],Q=l[ie],!c.hasOwnProperty(ie)||X===Q||X==null&&Q==null||Ze(s,o,ie,X,c,Q)}var _g=null,bg=null;function Of(s){return s.nodeType===9?s:s.ownerDocument}function yT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vT(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function wg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Tg=null;function MP(){var s=window.event;return s&&s.type==="popstate"?s===Tg?!1:(Tg=s,!0):(Tg=null,!1)}var _T=typeof setTimeout=="function"?setTimeout:void 0,kP=typeof clearTimeout=="function"?clearTimeout:void 0,bT=typeof Promise=="function"?Promise:void 0,OP=typeof queueMicrotask=="function"?queueMicrotask:typeof bT<"u"?function(s){return bT.resolve(null).then(s).catch(NP)}:_T;function NP(s){setTimeout(function(){throw s})}function wr(s){return s==="head"}function wT(s,o){var l=o,c=0,m=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=s.ownerDocument;if(l&1&&ec(T.documentElement),l&2&&ec(T.body),l&4)for(l=T.head,ec(l),T=l.firstChild;T;){var S=T.nextSibling,k=T.nodeName;T[mo]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=S}}if(m===0){s.removeChild(y),lc(o);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);lc(o)}function Eg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Eg(l),nr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function VP(s,o,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[mo])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Ti(s.nextSibling),s===null)break}return null}function LP(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ti(s.nextSibling),s===null))return null;return s}function Sg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function UP(s,o){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Ti(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Ag=null;function TT(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}function ET(s,o,l){switch(o=Of(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ec(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);nr(s)}var ai=new Map,ST=new Set;function Nf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var zs=oe.d;oe.d={f:zP,r:BP,D:jP,C:FP,L:qP,m:HP,X:$P,S:GP,M:KP};function zP(){var s=zs.f(),o=xf();return s||o}function BP(s){var o=Ui(s);o!==null&&o.tag===5&&o.type==="form"?H0(o):zs.r(s)}var ll=typeof document>"u"?null:document;function AT(s,o,l){var c=ll;if(c&&typeof o=="string"&&o){var m=Dt(o);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),ST.has(m)||(ST.add(m),s={rel:s,crossOrigin:l,href:o},c.querySelector(m)===null&&(o=c.createElement("link"),sn(o,"link",s),Tt(o),c.head.appendChild(o)))}}function jP(s){zs.D(s),AT("dns-prefetch",s,null)}function FP(s,o){zs.C(s,o),AT("preconnect",s,o)}function qP(s,o,l){zs.L(s,o,l);var c=ll;if(c&&s&&o){var m='link[rel="preload"][as="'+Dt(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Dt(l.imageSizes)+'"]')):m+='[href="'+Dt(s)+'"]';var y=m;switch(o){case"style":y=ul(s);break;case"script":y=cl(s)}ai.has(y)||(s=g({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),ai.set(y,s),c.querySelector(m)!==null||o==="style"&&c.querySelector(tc(y))||o==="script"&&c.querySelector(nc(y))||(o=c.createElement("link"),sn(o,"link",s),Tt(o),c.head.appendChild(o)))}}function HP(s,o){zs.m(s,o);var l=ll;if(l&&s){var c=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Dt(c)+'"][href="'+Dt(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=cl(s)}if(!ai.has(y)&&(s=g({rel:"modulepreload",href:s},o),ai.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(nc(y)))return}c=l.createElement("link"),sn(c,"link",s),Tt(c),l.head.appendChild(c)}}}function GP(s,o,l){zs.S(s,o,l);var c=ll;if(c&&s){var m=wn(c).hoistableStyles,y=ul(s);o=o||"default";var T=m.get(y);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(tc(y)))S.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},l),(l=ai.get(y))&&xg(s,l);var k=T=c.createElement("link");Tt(k),sn(k,"link",s),k._p=new Promise(function(Y,ee){k.onload=Y,k.onerror=ee}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Vf(T,o,c)}T={type:"stylesheet",instance:T,count:1,state:S},m.set(y,T)}}}function $P(s,o){zs.X(s,o);var l=ll;if(l&&s){var c=wn(l).hoistableScripts,m=cl(s),y=c.get(m);y||(y=l.querySelector(nc(m)),y||(s=g({src:s,async:!0},o),(o=ai.get(m))&&Rg(s,o),y=l.createElement("script"),Tt(y),sn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function KP(s,o){zs.M(s,o);var l=ll;if(l&&s){var c=wn(l).hoistableScripts,m=cl(s),y=c.get(m);y||(y=l.querySelector(nc(m)),y||(s=g({src:s,async:!0,type:"module"},o),(o=ai.get(m))&&Rg(s,o),y=l.createElement("script"),Tt(y),sn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function xT(s,o,l,c){var m=(m=Ae.current)?Nf(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=ul(l.href),l=wn(m).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=ul(l.href);var y=wn(m).hoistableStyles,T=y.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=m.querySelector(tc(s)))&&!y._p&&(T.instance=y,T.state.loading=5),ai.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ai.set(s,l),y||YP(m,s,l,T.state))),o&&c===null)throw Error(i(528,""));return T}if(o&&c!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cl(l),l=wn(m).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ul(s){return'href="'+Dt(s)+'"'}function tc(s){return'link[rel="stylesheet"]['+s+"]"}function RT(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function YP(s,o,l,c){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=s.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),sn(o,"link",l),Tt(o),s.head.appendChild(o))}function cl(s){return'[src="'+Dt(s)+'"]'}function nc(s){return"script[async]"+s}function CT(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=s.querySelector('style[data-href~="'+Dt(l.href)+'"]');if(c)return o.instance=c,Tt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Tt(c),sn(c,"style",m),Vf(c,l.precedence,s),o.instance=c;case"stylesheet":m=ul(l.href);var y=s.querySelector(tc(m));if(y)return o.state.loading|=4,o.instance=y,Tt(y),y;c=RT(l),(m=ai.get(m))&&xg(c,m),y=(s.ownerDocument||s).createElement("link"),Tt(y);var T=y;return T._p=new Promise(function(S,k){T.onload=S,T.onerror=k}),sn(y,"link",c),o.state.loading|=4,Vf(y,l.precedence,s),o.instance=y;case"script":return y=cl(l.src),(m=s.querySelector(nc(y)))?(o.instance=m,Tt(m),m):(c=l,(m=ai.get(y))&&(c=g({},l),Rg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Tt(m),sn(m,"link",c),s.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,Vf(c,l.precedence,s));return o.instance}function Vf(s,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===o)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function xg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Rg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Lf=null;function IT(s,o,l){if(Lf===null){var c=new Map,m=Lf=new Map;m.set(l,c)}else m=Lf,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[mo]||y[Ut]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(o)||"";T=s+T;var S=c.get(T);S?S.push(y):c.set(T,[y])}}return c}function DT(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function XP(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function PT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var ic=null;function QP(){}function WP(s,o,l){if(ic===null)throw Error(i(475));var c=ic;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=ul(l.href),y=s.querySelector(tc(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Uf.bind(c),s.then(c,c)),o.state.loading|=4,o.instance=y,Tt(y);return}y=s.ownerDocument||s,l=RT(l),(m=ai.get(m))&&xg(l,m),y=y.createElement("link"),Tt(y);var T=y;T._p=new Promise(function(S,k){T.onload=S,T.onerror=k}),sn(y,"link",l),o.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=Uf.bind(c),s.addEventListener("load",o),s.addEventListener("error",o))}}function ZP(){if(ic===null)throw Error(i(475));var s=ic;return s.stylesheets&&s.count===0&&Cg(s,s.stylesheets),0<s.count?function(o){var l=setTimeout(function(){if(s.stylesheets&&Cg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Uf(){if(this.count--,this.count===0){if(this.stylesheets)Cg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var zf=null;function Cg(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,zf=new Map,o.forEach(JP,s),zf=null,Uf.call(s))}function JP(s,o){if(!(o.state.loading&4)){var l=zf.get(s);if(l)var c=l.get(null);else{l=new Map,zf.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=o.instance,T=m.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,m),l.set(T,m),this.count++,c=Uf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),o.state.loading|=4}}var sc={$$typeof:F,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function eM(s,o,l,c,m,y,T,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.hiddenUpdates=ms(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function MT(s,o,l,c,m,y,T,S,k,Y,ee,ie){return s=new eM(s,o,l,T,S,k,Y,ie),o=1,y===!0&&(o|=24),y=Un(3,null,null,o),s.current=y,y.stateNode=s,o=um(),o.refCount++,s.pooledCache=o,o.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:o},dm(y),s}function kT(s){return s?(s=ja,s):ja}function OT(s,o,l,c,m,y){m=kT(m),c.context===null?c.context=m:c.pendingContext=m,c=lr(o),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=ur(s,c,o),l!==null&&(qn(l,s,o),Ou(l,s,o))}function NT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Ig(s,o){NT(s,o),(s=s.alternate)&&NT(s,o)}function VT(s){if(s.tag===13){var o=Ba(s,67108864);o!==null&&qn(o,s,67108864),Ig(s,67108864)}}var Bf=!0;function tM(s,o,l,c){var m=J.T;J.T=null;var y=oe.p;try{oe.p=2,Dg(s,o,l,c)}finally{oe.p=y,J.T=m}}function nM(s,o,l,c){var m=J.T;J.T=null;var y=oe.p;try{oe.p=8,Dg(s,o,l,c)}finally{oe.p=y,J.T=m}}function Dg(s,o,l,c){if(Bf){var m=Pg(c);if(m===null)yg(s,o,c,jf,l),UT(s,c);else if(sM(m,s,o,l,c))c.stopPropagation();else if(UT(s,c),o&4&&-1<iM.indexOf(s)){for(;m!==null;){var y=Ui(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=yi(y.pendingLanes);if(T!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var k=1<<31-hn(T);S.entanglements[1]|=k,T&=~k}Zi(y),(Ye&6)===0&&(Sf=Xn()+500,Wu(0))}}break;case 13:S=Ba(y,2),S!==null&&qn(S,y,2),xf(),Ig(y,2)}if(y=Pg(c),y===null&&yg(s,o,c,jf,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else yg(s,o,c,null,l)}}function Pg(s){return s=Zn(s),Mg(s)}var jf=null;function Mg(s){if(jf=null,s=ys(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=u(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return jf=s,null}function LT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Np()){case nu:return 2;case _a:return 8;case uo:case Vp:return 32;case ba:return 268435456;default:return 32}default:return 32}}var kg=!1,Tr=null,Er=null,Sr=null,rc=new Map,oc=new Map,Ar=[],iM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UT(s,o){switch(s){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":rc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(o.pointerId)}}function ac(s,o,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Ui(o),o!==null&&VT(o)),s):(s.eventSystemFlags|=c,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function sM(s,o,l,c,m){switch(o){case"focusin":return Tr=ac(Tr,s,o,l,c,m),!0;case"dragenter":return Er=ac(Er,s,o,l,c,m),!0;case"mouseover":return Sr=ac(Sr,s,o,l,c,m),!0;case"pointerover":var y=m.pointerId;return rc.set(y,ac(rc.get(y)||null,s,o,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,oc.set(y,ac(oc.get(y)||null,s,o,l,c,m)),!0}return!1}function zT(s){var o=ys(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){s.blockedOn=o,Ah(s.priority,function(){if(l.tag===13){var c=Fn();c=Js(c);var m=Ba(l,c);m!==null&&qn(m,l,c),Ig(l,c)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ff(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Pg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ws=c,l.target.dispatchEvent(c),ws=null}else return o=Ui(l),o!==null&&VT(o),s.blockedOn=l,!1;o.shift()}return!0}function BT(s,o,l){Ff(s)&&l.delete(o)}function rM(){kg=!1,Tr!==null&&Ff(Tr)&&(Tr=null),Er!==null&&Ff(Er)&&(Er=null),Sr!==null&&Ff(Sr)&&(Sr=null),rc.forEach(BT),oc.forEach(BT)}function qf(s,o){s.blockedOn===o&&(s.blockedOn=null,kg||(kg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,rM)))}var Hf=null;function jT(s){Hf!==s&&(Hf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hf===s&&(Hf=null);for(var o=0;o<s.length;o+=3){var l=s[o],c=s[o+1],m=s[o+2];if(typeof c!="function"){if(Mg(c||l)===null)continue;break}var y=Ui(l);y!==null&&(s.splice(o,3),o-=3,Mm(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function lc(s){function o(k){return qf(k,s)}Tr!==null&&qf(Tr,s),Er!==null&&qf(Er,s),Sr!==null&&qf(Sr,s),rc.forEach(o),oc.forEach(o);for(var l=0;l<Ar.length;l++){var c=Ar[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ar.length&&(l=Ar[0],l.blockedOn===null);)zT(l),l.blockedOn===null&&Ar.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],T=m[It]||null;if(typeof y=="function")T||jT(l);else if(T){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[It]||null)S=T.formAction;else if(Mg(m)!==null)continue}else S=T.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),jT(l)}}}function Og(s){this._internalRoot=s}Gf.prototype.render=Og.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,c=Fn();OT(l,c,s,o,null,null)},Gf.prototype.unmount=Og.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;OT(s.current,2,null,s,null,null),xf(),o[Qn]=null}};function Gf(s){this._internalRoot=s}Gf.prototype.unstable_scheduleHydration=function(s){if(s){var o=er();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Ar.length&&o!==0&&o<Ar[l].priority;l++);Ar.splice(l,0,s),l===0&&zT(s)}};var FT=e.version;if(FT!=="19.1.1")throw Error(i(527,FT,"19.1.1"));oe.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(o),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var oM={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{gt=$f.inject(oM),Ke=$f}catch{}}return cc.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,c="",m=sw,y=rw,T=ow,S=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(S=o.unstable_transitionCallbacks)),o=MT(s,1,!1,null,null,l,c,m,y,T,S,null),s[Qn]=o.current,gg(s),new Og(o)},cc.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var c=!1,m="",y=sw,T=rw,S=ow,k=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),o=MT(s,1,!0,o,l??null,c,m,y,T,S,k,Y),o.context=kT(null),l=o.current,c=Fn(),c=Js(c),m=lr(c),m.callback=null,ur(l,m,c),l=c,o.current.lanes=l,gs(o,l),Zi(o),s[Qn]=o.current,gg(s),new Gf(o)},cc.version="19.1.1",cc}var ZT;function gM(){if(ZT)return Lg.exports;ZT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lg.exports=mM(),Lg.exports}var yM=gM();const vM=wx(yM);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JT="popstate";function _M(n={}){function e(r,a){let{pathname:u="/",search:h="",hash:f=""}=da(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Vy("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let u=r.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=r.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof a=="string"?a:Nc(a))}function i(r,a){pi(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return wM(e,t,i,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bM(){return Math.random().toString(36).substring(2,10)}function eE(n,e){return{usr:n.state,key:n.key,idx:e}}function Vy(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?da(e):e,state:t,key:e&&e.key||i||bM()}}function Nc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function da(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function wM(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,u=r.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let I=g(),D=I==null?null:I-d;d=I,f&&f({action:h,location:A.location,delta:D})}function b(I,D){h="PUSH";let j=Vy(A.location,I,D);t&&t(j,I),d=g()+1;let F=eE(j,d),K=A.createHref(j);try{u.pushState(F,"",K)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;r.location.assign(K)}a&&f&&f({action:h,location:A.location,delta:1})}function E(I,D){h="REPLACE";let j=Vy(A.location,I,D);t&&t(j,I),d=g();let F=eE(j,d),K=A.createHref(j);u.replaceState(F,"",K),a&&f&&f({action:h,location:A.location,delta:0})}function C(I){return TM(I)}let A={get action(){return h},get location(){return n(r,u)},listen(I){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(JT,v),f=I,()=>{r.removeEventListener(JT,v),f=null}},createHref(I){return e(r,I)},createURL:C,encodeLocation(I){let D=C(I);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:E,go(I){return u.go(I)}};return A}function TM(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Nc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Tx(n,e,t="/"){return EM(n,e,t,!1)}function EM(n,e,t,i){let r=typeof e=="string"?da(e):e,a=Gs(r.pathname||"/",t);if(a==null)return null;let u=Ex(n);SM(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=NM(a);h=kM(u[f],d,i)}return h}function Ex(n,e=[],t=[],i="",r=!1){let a=(u,h,f=r,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;ct(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=Fs([i,g.relativePath]),b=t.concat(g);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Ex(u.children,e,b,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:PM(v,u.index),routesMeta:b})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of Sx(u.path))a(u,h,!0,f)}),e}function Sx(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let u=Sx(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),r&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function SM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:MM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var AM=/^:[\w-]+$/,xM=3,RM=2,CM=1,IM=10,DM=-2,tE=n=>n==="*";function PM(n,e){let t=n.split("/"),i=t.length;return t.some(tE)&&(i+=DM),e&&(i+=RM),t.filter(r=>!tE(r)).reduce((r,a)=>r+(AM.test(a)?xM:a===""?CM:IM),i)}function MM(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function kM(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),b=f.route;if(!v&&d&&t&&!i[i.length-1].route.index&&(v=Ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:Fs([a,v.pathname]),pathnameBase:zM(Fs([a,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(a=Fs([a,v.pathnameBase]))}return u}function Ad(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=OM(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],u=a.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:v},b)=>{if(g==="*"){let C=h[b]||"";u=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const E=h[b];return v&&!E?d[g]=void 0:d[g]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:u,pattern:n}}function OM(n,e=!1,t=!0){pi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function NM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function VM(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?da(n):n;return{pathname:t?t.startsWith("/")?t:LM(t,e):e,search:BM(i),hash:jM(r)}}function LM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function jg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bv(n){let e=UM(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function jv(n,e,t,i=!1){let r;typeof n=="string"?r=da(n):(r={...n},ct(!r.pathname||!r.pathname.includes("?"),jg("?","pathname","search",r)),ct(!r.pathname||!r.pathname.includes("#"),jg("#","pathname","hash",r)),ct(!r.search||!r.search.includes("#"),jg("#","search","hash",r)));let a=n===""||r.pathname==="",u=a?"/":r.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}h=v>=0?e[v]:"/"}let f=VM(r,h),d=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Fs=n=>n.join("/").replace(/\/\/+/g,"/"),zM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ax=["POST","PUT","PATCH","DELETE"];new Set(Ax);var qM=["GET",...Ax];new Set(qM);var ql=z.createContext(null);ql.displayName="DataRouter";var tp=z.createContext(null);tp.displayName="DataRouterState";z.createContext(!1);var xx=z.createContext({isTransitioning:!1});xx.displayName="ViewTransition";var HM=z.createContext(new Map);HM.displayName="Fetchers";var GM=z.createContext(null);GM.displayName="Await";var Oi=z.createContext(null);Oi.displayName="Navigation";var nh=z.createContext(null);nh.displayName="Location";var Ni=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var Fv=z.createContext(null);Fv.displayName="RouteError";function $M(n,{relative:e}={}){ct(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(Oi),{hash:r,pathname:a,search:u}=sh(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Fs([t,a])),i.createHref({pathname:h,search:u,hash:r})}function Hl(){return z.useContext(nh)!=null}function gi(){return ct(Hl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(nh).location}var Rx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cx(n){z.useContext(Oi).static||z.useLayoutEffect(n)}function ih(){let{isDataRoute:n}=z.useContext(Ni);return n?ak():KM()}function KM(){ct(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(ql),{basename:e,navigator:t}=z.useContext(Oi),{matches:i}=z.useContext(Ni),{pathname:r}=gi(),a=JSON.stringify(Bv(i)),u=z.useRef(!1);return Cx(()=>{u.current=!0}),z.useCallback((f,d={})=>{if(pi(u.current,Rx),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=jv(f,JSON.parse(a),r,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Fs([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,a,r,n])}var YM=z.createContext(null);function XM(n){let e=z.useContext(Ni).outlet;return e&&z.createElement(YM.Provider,{value:n},e)}function sh(n,{relative:e}={}){let{matches:t}=z.useContext(Ni),{pathname:i}=gi(),r=JSON.stringify(Bv(t));return z.useMemo(()=>jv(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function QM(n,e){return Ix(n,e)}function Ix(n,e,t,i){ct(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=z.useContext(Oi),{matches:a}=z.useContext(Ni),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",d=u?u.pathnameBase:"/",g=u&&u.route;{let D=g&&g.path||"";Dx(f,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=gi(),b;if(e){let D=typeof e=="string"?da(e):e;ct(d==="/"||D.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=v;let E=b.pathname||"/",C=E;if(d!=="/"){let D=d.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let A=Tx(n,{pathname:C});pi(g||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),pi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=tk(A&&A.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:Fs([d,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?d:Fs([d,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,i);return e&&I?z.createElement(nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},I):I}function WM(){let n=ok(),e=FM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:r},t):null,u)}var ZM=z.createElement(WM,null),JM=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(Ni.Provider,{value:this.props.routeContext},z.createElement(Fv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ek({routeContext:n,match:e,children:t}){let i=z.useContext(ql);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Ni.Provider,{value:n},t)}function tk(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t?.errors;if(a!=null){let f=r.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<r.length;f++){let d=r[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:v}=t,b=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,d,g)=>{let v,b=!1,E=null,C=null;t&&(v=a&&d.route.id?a[d.route.id]:void 0,E=d.route.errorElement||ZM,u&&(h<0&&g===0?(Dx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):h===g&&(b=!0,C=d.route.hydrateFallbackElement||null)));let A=e.concat(r.slice(0,g+1)),I=()=>{let D;return v?D=E:b?D=C:d.route.Component?D=z.createElement(d.route.Component,null):d.route.element?D=d.route.element:D=f,z.createElement(ek,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:D})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?z.createElement(JM,{location:t.location,revalidation:t.revalidation,component:E,error:v,children:I(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):I()},null)}function qv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nk(n){let e=z.useContext(ql);return ct(e,qv(n)),e}function ik(n){let e=z.useContext(tp);return ct(e,qv(n)),e}function sk(n){let e=z.useContext(Ni);return ct(e,qv(n)),e}function Hv(n){let e=sk(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rk(){return Hv("useRouteId")}function ok(){let n=z.useContext(Fv),e=ik("useRouteError"),t=Hv("useRouteError");return n!==void 0?n:e.errors?.[t]}function ak(){let{router:n}=nk("useNavigate"),e=Hv("useNavigate"),t=z.useRef(!1);return Cx(()=>{t.current=!0}),z.useCallback(async(r,a={})=>{pi(t.current,Rx),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var nE={};function Dx(n,e,t){!e&&!nE[n]&&(nE[n]=!0,pi(!1,t))}z.memo(lk);function lk({routes:n,future:e,state:t}){return Ix(n,void 0,t,e)}function uk({to:n,replace:e,state:t,relative:i}){ct(Hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=z.useContext(Oi);pi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=z.useContext(Ni),{pathname:u}=gi(),h=ih(),f=jv(n,Bv(a),u,i==="path"),d=JSON.stringify(f);return z.useEffect(()=>{h(JSON.parse(d),{replace:e,state:t,relative:i})},[h,d,i,e,t]),null}function ck(n){return XM(n.context)}function Cr(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hk({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){ct(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:u,navigator:r,static:a,future:{}}),[u,r,a]);typeof t=="string"&&(t=da(t));let{pathname:f="/",search:d="",hash:g="",state:v=null,key:b="default"}=t,E=z.useMemo(()=>{let C=Gs(f,u);return C==null?null:{location:{pathname:C,search:d,hash:g,state:v,key:b},navigationType:i}},[u,f,d,g,v,b,i]);return pi(E!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:z.createElement(Oi.Provider,{value:h},z.createElement(nh.Provider,{children:e,value:E}))}function fk({children:n,location:e}){return QM(Ly(n),e)}function Ly(n,e=[]){let t=[];return z.Children.forEach(n,(i,r)=>{if(!z.isValidElement(i))return;let a=[...e,r];if(i.type===z.Fragment){t.push.apply(t,Ly(i.props.children,a));return}ct(i.type===Cr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ly(i.props.children,a)),t.push(u)}),t}var od="get",ad="application/x-www-form-urlencoded";function np(n){return n!=null&&typeof n.tagName=="string"}function dk(n){return np(n)&&n.tagName.toLowerCase()==="button"}function pk(n){return np(n)&&n.tagName.toLowerCase()==="form"}function mk(n){return np(n)&&n.tagName.toLowerCase()==="input"}function gk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yk(n,e){return n.button===0&&(!e||e==="_self")&&!gk(n)}var Kf=null;function vk(){if(Kf===null)try{new FormData(document.createElement("form"),0),Kf=!1}catch{Kf=!0}return Kf}var _k=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fg(n){return n!=null&&!_k.has(n)?(pi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ad}"`),null):n}function bk(n,e){let t,i,r,a,u;if(pk(n)){let h=n.getAttribute("action");i=h?Gs(h,e):null,t=n.getAttribute("method")||od,r=Fg(n.getAttribute("enctype"))||ad,a=new FormData(n)}else if(dk(n)||mk(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Gs(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||od,r=Fg(n.getAttribute("formenctype"))||Fg(h.getAttribute("enctype"))||ad,a=new FormData(h,n),!vk()){let{name:d,type:g,value:v}=n;if(g==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,v)}}else{if(np(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=od,i=null,r=ad,u=n}return a&&r==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wk(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Gs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function Tk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ek(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Sk(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let u=await Tk(a,t);return u.links?u.links():[]}return[]}));return Ck(i.flat(1).filter(Ek).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function iE(n,e,t,i,r,a){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):a==="data"?e.filter((f,d)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Ak(n,e,{includeHydrateFallback:t}={}){return xk(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function xk(n){return[...new Set(n)]}function Rk(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Ck(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(Rk(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function Px(){let n=z.useContext(ql);return Gv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ik(){let n=z.useContext(tp);return Gv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $v=z.createContext(void 0);$v.displayName="FrameworkContext";function Mx(){let n=z.useContext($v);return Gv(n,"You must render this element inside a <HydratedRouter> element"),n}function Dk(n,e){let t=z.useContext($v),[i,r]=z.useState(!1),[a,u]=z.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=e,b=z.useRef(null);z.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=D=>{D.forEach(j=>{u(j.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[n]),z.useEffect(()=>{if(i){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},C=()=>{r(!1),u(!1)};return t?n!=="intent"?[a,b,{}]:[a,b,{onFocus:hc(h,E),onBlur:hc(f,C),onMouseEnter:hc(d,E),onMouseLeave:hc(g,C),onTouchStart:hc(v,E)}]:[!1,b,{}]}function hc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Pk({page:n,...e}){let{router:t}=Px(),i=z.useMemo(()=>Tx(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(kk,{page:n,matches:i,...e}):null}function Mk(n){let{manifest:e,routeModules:t}=Mx(),[i,r]=z.useState([]);return z.useEffect(()=>{let a=!1;return Sk(n,e,t).then(u=>{a||r(u)}),()=>{a=!0}},[n,e,t]),i}function kk({page:n,matches:e,...t}){let i=gi(),{manifest:r,routeModules:a}=Mx(),{basename:u}=Px(),{loaderData:h,matches:f}=Ik(),d=z.useMemo(()=>iE(n,e,f,r,i,"data"),[n,e,f,r,i]),g=z.useMemo(()=>iE(n,e,f,r,i,"assets"),[n,e,f,r,i]),v=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,A=!1;if(e.forEach(D=>{let j=r.routes[D.route.id];!j||!j.hasLoader||(!d.some(F=>F.route.id===D.route.id)&&D.route.id in h&&a[D.route.id]?.shouldRevalidate||j.hasClientLoader?A=!0:C.add(D.route.id))}),C.size===0)return[];let I=wk(n,u,"data");return A&&C.size>0&&I.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[I.pathname+I.search]},[u,h,i,r,d,e,n,a]),b=z.useMemo(()=>Ak(g,r),[g,r]),E=Mk(g);return z.createElement(z.Fragment,null,v.map(C=>z.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),b.map(C=>z.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),E.map(({key:C,link:A})=>z.createElement("link",{key:C,nonce:t.nonce,...A})))}function Ok(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kx&&(window.__reactRouterVersion="7.8.1")}catch{}function Nk({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=_M({window:t,v5Compat:!0}));let r=i.current,[a,u]=z.useState({action:r.action,location:r.location}),h=z.useCallback(f=>{z.startTransition(()=>u(f))},[u]);return z.useLayoutEffect(()=>r.listen(h),[r,h]),z.createElement(hk,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var Ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ai=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:v,...b},E){let{basename:C}=z.useContext(Oi),A=typeof d=="string"&&Ox.test(d),I,D=!1;if(typeof d=="string"&&A&&(I=d,kx))try{let P=new URL(window.location.href),L=d.startsWith("//")?new URL(P.protocol+d):new URL(d),B=Gs(L.pathname,C);L.origin===P.origin&&B!=null?d=B+L.search+L.hash:D=!0}catch{pi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=$M(d,{relative:r}),[F,K,Z]=Dk(i,b),ue=Uk(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:r,viewTransition:v});function O(P){e&&e(P),P.defaultPrevented||ue(P)}let R=z.createElement("a",{...b,...Z,href:I||j,onClick:D||a?e:O,ref:Ok(E,K),target:f,"data-discover":!A&&t==="render"?"true":void 0});return F&&!A?z.createElement(z.Fragment,null,R,z.createElement(Pk,{page:j})):R});Ai.displayName="Link";var Ir=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:u,viewTransition:h,children:f,...d},g){let v=sh(u,{relative:d.relative}),b=gi(),E=z.useContext(tp),{navigator:C,basename:A}=z.useContext(Oi),I=E!=null&&qk(v)&&h===!0,D=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,j=b.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(j=j.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&A&&(F=Gs(F,A)||F);const K=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Z=j===D||!r&&j.startsWith(D)&&j.charAt(K)==="/",ue=F!=null&&(F===D||!r&&F.startsWith(D)&&F.charAt(D.length)==="/"),O={isActive:Z,isPending:ue,isTransitioning:I},R=Z?e:void 0,P;typeof i=="function"?P=i(O):P=[i,Z?"active":null,ue?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(O):a;return z.createElement(Ai,{...d,"aria-current":R,className:P,ref:g,style:L,to:u,viewTransition:h},typeof f=="function"?f(O):f)});Ir.displayName="NavLink";var Vk=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:u=od,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:v,...b},E)=>{let C=jk(),A=Fk(h,{relative:d}),I=u.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&Ox.test(h),j=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let K=F.nativeEvent.submitter,Z=K?.getAttribute("formmethod")||u;C(K||F.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:r,state:a,relative:d,preventScrollReset:g,viewTransition:v})};return z.createElement("form",{ref:E,method:I,action:A,onSubmit:i?f:j,...b,"data-discover":!D&&n==="render"?"true":void 0})});Vk.displayName="Form";function Lk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nx(n){let e=z.useContext(ql);return ct(e,Lk(n)),e}function Uk(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:u}={}){let h=ih(),f=gi(),d=sh(n,{relative:a});return z.useCallback(g=>{if(yk(g,e)){g.preventDefault();let v=t!==void 0?t:Nc(f)===Nc(d);h(n,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:u})}},[f,h,d,t,i,e,n,r,a,u])}var zk=0,Bk=()=>`__${String(++zk)}__`;function jk(){let{router:n}=Nx("useSubmit"),{basename:e}=z.useContext(Oi),t=rk();return z.useCallback(async(i,r={})=>{let{action:a,method:u,encType:h,formData:f,body:d}=bk(i,e);if(r.navigate===!1){let g=r.fetcherKey||Bk();await n.fetch(g,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function Fk(n,{relative:e}={}){let{basename:t}=z.useContext(Oi),i=z.useContext(Ni);ct(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...sh(n||".",{relative:e})},u=gi();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Fs([t,a.pathname])),Nc(a)}function qk(n,{relative:e}={}){let t=z.useContext(xx);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Nx("useViewTransitionState"),r=sh(n,{relative:e});if(!t.isTransitioning)return!1;let a=Gs(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Gs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ad(r.pathname,u)!=null||Ad(r.pathname,a)!=null}const wc="generated",Hk="pointerdown",Gk="pointerup",Uy="pointerleave",$k="pointerout",ia="pointermove",Kk="touchstart",sE="touchend",Yk="touchmove",Xk="touchcancel",Qk="resize",Wk="visibilitychange",mi="tsParticles - Error";class Hn{constructor(e,t,i){if(this._updateFromAngle=(r,a)=>{this.x=Math.cos(r)*a,this.y=Math.sin(r)*a},!Ri(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${mi} Vector3d not initialized correctly`)}static get origin(){return Hn.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Hn.create(e.x,e.y,e.z)}static create(e,t,i){return new Hn(e,t,i)}add(e){return Hn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Hn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Hn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Hn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Hn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return Hn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Wt extends Hn{constructor(e,t){super(e,t,0)}static get origin(){return Wt.create(0,0)}static clone(e){return Wt.create(e.x,e.y)}static create(e,t){return new Wt(e,t)}}let Zk=Math.random;const zy=new Map;function qg(n,e){zy.get(n)||zy.set(n,e)}function Vx(n){return zy.get(n)||(e=>e)}function ot(){return Di(Zk(),0,1-1e-16)}function Di(n,e,t){return Math.min(Math.max(n,e),t)}function Hg(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function kn(n){const e=Vr(n);let t=Kv(n);return e===t&&(t=0),ot()*(e-t)+t}function _e(n){return Ri(n)?n:kn(n)}function Kv(n){return Ri(n)?n:n.min}function Vr(n){return Ri(n)?n:n.max}function Ie(n,e){if(n===e||e===void 0&&Ri(n))return n;const t=Kv(n),i=Vr(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Ie(t,i)}function sa(n){const e=n.random,{enable:t,minimumValue:i}=Ur(e)?{enable:e,minimumValue:0}:e;return _e(t?Ie(n.value,i):n.value)}function Rn(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function Kn(n,e){return Rn(n,e).distance}function Jk(n,e,t){if(Ri(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return ot()*Math.PI*2}}function e2(n){const e=Wt.origin;return e.length=1,e.angle=n,e}function rE(n,e,t,i){return Wt.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function t2(n){return{x:n.position?.x??ot()*n.size.width,y:n.position?.y??ot()*n.size.height}}function Lx(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const n2={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function ra(){return n2}function oE(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:a,velocity:u,factor:h}=n;return i.min<a.min||i.min>a.max||i.max<a.min||i.max>a.max||(t.max>=r.min&&t.max<=(r.max+r.min)/2&&u>0||t.min<=r.max&&t.min>(r.max+r.min)/2&&u<0)&&(e.velocity=u*-h,e.bounced=!0),e}function i2(n,e){const t=Zt(e,i=>n.matches(i));return Yn(t)?t.some(i=>i):t}function Pl(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function s2(){return!Pl()&&typeof matchMedia<"u"}function Ux(n){if(s2())return matchMedia(n)}function r2(n){if(!(Pl()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Rt(n,e){return n===e||Yn(e)&&e.indexOf(n)>-1}async function o2(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function a2(n){return Math.floor(ot()*n.length)}function ip(n,e,t=!0){return n[e!==void 0&&t?e%n.length:a2(n)]}function Yv(n,e,t,i,r){return l2(rh(n,i??0),e,t,r)}function l2(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function rh(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function vn(n,...e){for(const t of e){if(t==null)continue;if(!yl(t)){n=t;continue}const i=Array.isArray(t);i&&(yl(n)||!n||!Array.isArray(n))?n=[]:!i&&(yl(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const a=t,u=a[r],h=n;h[r]=yl(u)&&Array.isArray(u)?u.map(f=>vn(h[r],f)):vn(h[r],u)}}return n}function Xv(n,e){return!!jx(e,t=>t.enable&&Rt(n,t.mode))}function Qv(n,e,t){Zt(e,i=>{const r=i.mode;i.enable&&Rt(n,r)&&u2(i,t)})}function u2(n,e){const t=n.selectors;Zt(t,i=>{e(i,n)})}function zx(n,e){if(!(!e||!n))return jx(n,t=>i2(e,t.selectors))}function By(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:Wt.create(sa(n.options.bounce.horizontal),sa(n.options.bounce.vertical))}}function Bx(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,a]=[n.position,e.position],{dx:u,dy:h}=Rn(a,r);if(t*u+i*h<0)return;const f=-Math.atan2(h,u),d=n.mass,g=e.mass,v=n.velocity.rotate(f),b=e.velocity.rotate(f),E=rE(v,b,d,g),C=rE(b,v,d,g),A=E.rotate(-f),I=C.rotate(-f);n.velocity.x=A.x*n.factor.x,n.velocity.y=A.y*n.factor.y,e.velocity.x=I.x*e.factor.x,e.velocity.y=I.y*e.factor.y}function c2(n,e){const t=n.getPosition(),i=n.getRadius(),r=rh(t,i),a=oE({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:sa(n.options.bounce.horizontal)});a.bounced&&(a.velocity!==void 0&&(n.velocity.x=a.velocity),a.position!==void 0&&(n.position.x=a.position));const u=oE({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:sa(n.options.bounce.vertical)});u.bounced&&(u.velocity!==void 0&&(n.velocity.y=u.velocity),u.position!==void 0&&(n.position.y=u.position))}function Zt(n,e){return Yn(n)?n.map((t,i)=>e(t,i)):e(n,0)}function qs(n,e,t){return Yn(n)?ip(n,e,t):n}function jx(n,e){return Yn(n)?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}function Fx(n,e){const t=n.value,i=n.animation,r={delayTime:_e(i.delay)*1e3,enable:i.enable,value:_e(n.value)*e,max:Vr(t)*e,min:Kv(t)*e,loops:0,maxLoops:_e(i.count),time:0};if(i.enable){switch(r.decay=1-_e(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=ot()>=.5?"increasing":"decreasing";break}const a=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,a&&(r.status="increasing");break;case"max":r.value=r.max,a&&(r.status="decreasing");break;case"random":default:r.value=kn(r),a&&(r.status=ot()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function h2(n,e){if(!(n.mode==="percent")){const{mode:r,...a}=n;return a}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function qx(n,e){return h2(n,e)}function Ur(n){return typeof n=="boolean"}function xi(n){return typeof n=="string"}function Ri(n){return typeof n=="number"}function Hx(n){return typeof n=="function"}function yl(n){return typeof n=="object"&&n!==null}function Yn(n){return Array.isArray(n)}const xd="random",ld="mid",sp=new Map;function aE(n){sp.set(n.key,n)}function Gg(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function f2(n){for(const[,a]of sp)if(n.startsWith(a.stringPrefix))return a.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(a,u,h,f,d)=>u+u+h+h+f+f+(d!==void 0?d+d:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Ci(n,e,t=!0){if(!n)return;const i=xi(n)?{value:n}:n;if(xi(i.value))return Gx(i.value,e,t);if(Yn(i.value))return Ci({value:ip(i.value,e,t)});for(const[,r]of sp){const a=r.handleRangeColor(i);if(a)return a}}function Gx(n,e,t=!0){if(!n)return;const i=xi(n)?{value:n}:n;if(xi(i.value))return i.value===xd?Kx():d2(i.value);if(Yn(i.value))return Gx({value:ip(i.value,e,t)});for(const[,r]of sp){const a=r.handleColor(i);if(a)return a}}function Vc(n,e,t=!0){const i=Ci(n,e,t);return i?$x(i):void 0}function $x(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),a=Math.min(e,t,i),u={h:0,l:(r+a)/2,s:0};return r!==a&&(u.s=u.l<.5?(r-a)/(r+a):(r-a)/(2-r-a),u.h=e===r?(t-i)/(r-a):u.h=t===r?2+(i-e)/(r-a):4+(e-t)/(r-a)),u.l*=100,u.s*=100,u.h*=60,u.h<0&&(u.h+=360),u.h>=360&&(u.h-=360),u}function d2(n){return f2(n)}function Ml(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=Gg(r,i,t.h+1/3),e.g=Gg(r,i,t.h),e.b=Gg(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function p2(n){const e=Ml(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function Kx(n){return{b:Math.floor(kn(Ie(0,256))),g:Math.floor(kn(Ie(0,256))),r:Math.floor(kn(Ie(0,256)))}}function Hs(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function Lc(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function Wv(n,e,t,i){let r=n,a=e;return r.r===void 0&&(r=Ml(n)),a.r===void 0&&(a=Ml(e)),{b:Hg(r.b,a.b,t,i),g:Hg(r.g,a.g,t,i),r:Hg(r.r,a.r,t,i)}}function jy(n,e,t){if(t===xd)return Kx();if(t===ld){const i=n.getFillColor()??n.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return Wv(i,r,n.getRadius(),e.getRadius());{const a=i??r;if(a)return Ml(a)}}else return t}function Yx(n,e,t){const i=xi(n)?n:n.value;return i===xd?t?Ci({value:i}):e?xd:ld:i===ld?ld:Ci({value:i})}function lE(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function Xx(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&($g(i.h,e.h,t),$g(i.s,e.s,t),$g(i.l,e.l,t)),i}function $g(n,e,t){n.enable=e.enable,n.enable?(n.velocity=_e(e.speed)/100*t,n.decay=1-_e(e.decay),n.status="increasing",n.loops=0,n.maxLoops=_e(e.count),n.time=0,n.delayTime=_e(e.delay)*1e3,e.sync||(n.velocity*=ot(),n.value*=ot()),n.initialValue=n.value):n.velocity=0}function Tc(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function m2(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function g2(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function y2(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function Kg(n,e){n.clearRect(0,0,e.width,e.height)}function v2(n){const{container:e,context:t,particle:i,delta:r,colorStyles:a,backgroundMask:u,composite:h,radius:f,opacity:d,shadow:g,transform:v}=n,b=i.getPosition(),E=i.rotation+(i.pathRotation?i.velocity.angle:0),C={sin:Math.sin(E),cos:Math.cos(E)},A={a:C.cos*(v.a??1),b:C.sin*(v.b??1),c:-C.sin*(v.c??1),d:C.cos*(v.d??1)};t.setTransform(A.a,A.b,A.c,A.d,b.x,b.y),t.beginPath(),u&&(t.globalCompositeOperation=h);const I=i.shadowColor;g.enable&&I&&(t.shadowBlur=g.blur,t.shadowColor=Hs(I),t.shadowOffsetX=g.offset.x,t.shadowOffsetY=g.offset.y),a.fill&&(t.fillStyle=a.fill);const D=i.strokeWidth??0;t.lineWidth=D,a.stroke&&(t.strokeStyle=a.stroke),_2(e,t,i,f,d,r),D>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),b2(e,t,i,f,d,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function _2(n,e,t,i,r,a){if(!t.shape)return;const u=n.drawers.get(t.shape);u&&u.draw(e,t,i,r,a,n.retina.pixelRatio)}function b2(n,e,t,i,r,a){if(!t.shape)return;const u=n.drawers.get(t.shape);!u||!u.afterEffect||u.afterEffect(e,t,i,r,a,n.retina.pixelRatio)}function w2(n,e,t){e.draw&&e.draw(n,t)}function T2(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function E2(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function S2(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}class A2{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,a,u,h)=>{for(const f of this._preDrawUpdaters){if(f.getColorStyles){const{fill:d,stroke:g}=f.getColorStyles(i,t,r,a);d&&(u.fill=d),g&&(u.stroke=g)}if(f.getTransformValues){const d=f.getTransformValues(i);for(const g in d)S2(h,d,g)}f.beforeDraw&&f.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const a of this._colorPlugins)if(!i&&a.particleFillColor&&(i=Vc(a.particleFillColor(t))),!r&&a.particleStrokeColor&&(r=Vc(a.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,a=Ci(r);if(a){const u={...a,a:i.opacity};this._coverColorStyle=Hs(u,u.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=vn({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const a=i.style[r];a&&t.style.setProperty(r,a,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const a=Ci(r.color);if(!a)return;const u=t.particles.move.trail;this._trailFill={color:{...a},opacity:1/u.length}}else await new Promise((a,u)=>{if(!r.image)return;const h=document.createElement("img");h.addEventListener("load",()=>{this._trailFill={image:h,opacity:1/i.length},a()}),h.addEventListener("error",f=>{u(f.error)}),h.src=r.image})},this._paintBase=t=>{this.draw(i=>g2(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>y2(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(Hs(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{Kg(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),a=e.getStrokeColor()??r;let[u,h]=this._getPluginParticleColors(e);u||(u=r),h||(h=a),!(!u&&!h)&&this.draw(f=>{const d=this.container,g=d.actualOptions,v=e.options.zIndex,b=(1-e.zIndexFactor)**v.opacityRate,E=e.bubble.opacity??e.opacity?.value??1,C=e.strokeOpacity??E,A=E*b,I=C*b,D={},j={fill:u?Lc(u,A):void 0};j.stroke=h?Lc(h,I):j.fill,this._applyPreDrawUpdaters(f,e,i,A,j,D),v2({container:d,context:f,particle:e,delta:t,colorStyles:j,backgroundMask:g.backgroundMask.enable,composite:g.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**v.sizeRate,opacity:A,shadow:e.options.shadow,transform:D}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>T2(r,e,t,i))}drawPlugin(e,t){this.draw(i=>w2(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=r2(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){ra().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const a=Ci(t.color);r.backgroundColor=a?Hs(a,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&wc in e.dataset?e.dataset[wc]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=vn({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Kg(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const a={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/a.width,height:i.height/a.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Kg(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function li(n,e,t,i,r){if(i){let a={passive:!0};Ur(r)?a.capture=r:r!==void 0&&(a=r),n.addEventListener(e,t,a)}else{const a=r;n.removeEventListener(e,t,a)}}class x2{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const a=i.interactivity.mouse,u=a.position;if(!u)return;a.clickPosition={...u},a.clickTime=new Date().getTime();const h=r.interactivity.events.onClick;Zt(h.mode,f=>this.container.handleClickMode(f))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,a=r.options,u=a.defaultThemes,h=i.matches?u.dark:u.light,f=a.themes.find(d=>d.name===h);f&&f.default.auto&&r.loadTheme(h)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,a=this.container,u=a.actualOptions,h=a.interactivity.element;if(!h)return;const f=h,d=a.canvas.element;d&&(d.style.pointerEvents=f===d?"initial":"none"),(u.interactivity.events.onHover.enable||u.interactivity.events.onClick.enable)&&(li(h,ia,r.mouseMove,i),li(h,Kk,r.touchStart,i),li(h,Yk,r.touchMove,i),u.interactivity.events.onClick.enable?(li(h,sE,r.touchEndClick,i),li(h,Gk,r.mouseUp,i),li(h,Hk,r.mouseDown,i)):li(h,sE,r.touchEnd,i),li(h,t,r.mouseLeave,i),li(h,Xk,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,a=r.actualOptions,u=a.interactivity.detectsOn,h=r.canvas.element;let f=Uy;u==="window"?(r.interactivity.element=window,f=$k):u==="parent"&&h?r.interactivity.element=h.parentElement??h.parentNode:r.interactivity.element=h,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(f,t),document&&li(document,Wk,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=Ux("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){li(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){li(window,Qk,i.resize,t);return}const u=r.canvas.element;this._resizeObserver&&!t?(u&&this._resizeObserver.unobserve(u),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&u&&(this._resizeObserver=new ResizeObserver(async h=>{h.find(d=>d.target===u)&&await this._handleWindowResize()}),this._resizeObserver.observe(u))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:a}=i.interactivity;a.inside=!0;let u=!1;const h=a.position;if(!(!h||!r.interactivity.events.onClick.enable)){for(const[,f]of i.plugins)if(f.clickPositionValid&&(u=f.clickPositionValid(h),u))break;u||this._doMouseTouchClick(t),a.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=Uy,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,a=i.interactivity,u=i.canvas.element;if(!a||!a.element)return;a.mouse.inside=!0;let h;if(t.type.startsWith("pointer")){this._canPush=!0;const d=t;if(a.element===window){if(u){const g=u.getBoundingClientRect();h={x:d.clientX-g.left,y:d.clientY-g.top}}}else if(r.interactivity.detectsOn==="parent"){const g=d.target,v=d.currentTarget;if(g&&v&&u){const b=g.getBoundingClientRect(),E=v.getBoundingClientRect(),C=u.getBoundingClientRect();h={x:d.offsetX+2*b.left-(E.left+C.left),y:d.offsetY+2*b.top-(E.top+C.top)}}else h={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY}}else d.target===u&&(h={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY})}else if(this._canPush=t.type!=="touchmove",u){const d=t,g=d.touches[d.touches.length-1],v=u.getBoundingClientRect();h={x:g.clientX-(v.left??0),y:g.clientY-(v.top??0)}}const f=i.retina.pixelRatio;h&&(h.x*=f,h.y*=f),a.mouse.position=h,a.status=ia},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.set(a.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class un{constructor(){this.value=""}static create(e,t){const i=new un;return i.load(e),t!==void 0&&(xi(t)||Yn(t)?i.load({value:t}):i.load(t)),i}load(e){e?.value!==void 0&&(this.value=e.value)}}class R2{constructor(){this.color=new un,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class C2{constructor(){this.color=new un,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class I2{constructor(){this.composite="destination-out",this.cover=new C2,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=xi(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class D2{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class P2{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class uE{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Zt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Zt(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class M2{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class k2{constructor(){this.enable=!1,this.mode=[],this.parallax=new M2}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class O2{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class N2{constructor(){this.onClick=new P2,this.onDiv=new uE,this.onHover=new k2,this.resize=new O2}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=Zt(t,i=>{const r=new uE;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),Ur(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class V2{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class Qx{constructor(e,t){this.detectsOn="window",this.events=new N2,this.modes=new V2(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class L2{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=vn({},e.options)))}}class U2{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=vn({},e.options)))}}class z2{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class B2{constructor(){this.name="",this.default=new z2}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=vn({},e.options)))}}class Yg{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Ie(e.offset)),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.delay!==void 0&&(this.delay=Ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class j2{constructor(){this.h=new Yg,this.s=new Yg,this.l=new Yg}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Uc extends un{constructor(){super(),this.animation=new j2}static create(e,t){const i=new Uc;return i.load(e),t!==void 0&&(xi(t)||Yn(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class F2{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class q2{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class H2{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.delay!==void 0&&(this.delay=Ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Wx extends H2{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class G2{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class eo{constructor(){this.random=new G2,this.value=0}load(e){e&&(Ur(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Ie(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class cE extends eo{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class Zx{constructor(){this.horizontal=new cE,this.vertical=new cE}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class $2{constructor(){this.absorb=new F2,this.bounce=new Zx,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new q2}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Ie(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class K2{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Ie(e.offset)),e.value!==void 0&&(this.value=Ie(e.value)))}}class Y2{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){if(!e)return;e.distance!==void 0&&(this.distance=Ie(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=e.rotate?.x??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=e.rotate?.y??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class X2{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class Q2{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Ie(e.maxSpeed)))}}class W2{constructor(){this.clamp=!0,this.delay=new eo,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=vn(this.options,e.options)))}}class Z2{load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class J2{constructor(){this.enable=!1,this.length=10,this.fill=new Z2}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class eO{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class tO{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=vn({},e.position)))}}class nO{constructor(){this.angle=new K2,this.attract=new Y2,this.center=new X2,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new Q2,this.path=new W2,this.outModes=new eO,this.random=!1,this.size=!1,this.speed=2,this.spin=new tO,this.straight=!1,this.trail=new J2,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Ri(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Ri(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Ie(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(yl(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Ie(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class iO extends Wx{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){e?.opacity_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class sO extends eo{constructor(){super(),this.animation=new iO,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class rO{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class oO{constructor(){this.density=new rO,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class aO{constructor(){this.blur=0,this.color=new un,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=un.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Xg="character",Qg="char",Wg="image",Zg="images",Jg="polygon",ey="star";class lO{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const a=Yn(e),u=a?[]:{},h=a!==Yn(this.options[t]),f=a!==Yn(this.options[i]);h&&(this.options[t]=u),f&&r&&(this.options[i]=u),this.options[t]=vn(this.options[t]??u,e),(!this.options[i]||r)&&(this.options[i]=vn(this.options[i]??u,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Xg]??this.options[Qg]}set character(e){this.options[Qg]=this.options[Xg]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Wg]??this.options[Zg]}set image(e){this.options[Zg]=this.options[Wg]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Jg]??this.options[ey]}set polygon(e){this.options[ey]=this.options[Jg]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=vn(this.options[i]??{},r))}this.loadShape(e.character,Xg,Qg,!0),this.loadShape(e.polygon,Jg,ey,!1),this.loadShape(e.image??e.images,Wg,Zg,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class uO extends Wx{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){e?.size_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class cO extends eo{constructor(){super(),this.animation=new uO,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class hE{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Uc.create(this.color,e.color)),e.width!==void 0&&(this.width=Ie(e.width)),e.opacity!==void 0&&(this.opacity=Ie(e.opacity)))}}class hO extends eo{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class fO{constructor(e,t){this._engine=e,this._container=t,this.bounce=new Zx,this.collisions=new $2,this.color=new Uc,this.color.value="#fff",this.groups={},this.move=new nO,this.number=new oO,this.opacity=new sO,this.reduceDuplicates=!1,this.shadow=new aO,this.shape=new lO,this.size=new cO,this.stroke=new hE,this.zIndex=new hO}load(e){if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Uc.create(this.color,e.color)),e.groups!==void 0)for(const r in e.groups){const a=e.groups[r];a!==void 0&&(this.groups[r]=vn(this.groups[r]??{},a))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=e.move?.collisions??e.move?.bounce;t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=vn({},e.interactivity));const i=e.stroke??e.shape?.stroke;if(i&&(this.stroke=Zt(i,r=>{const a=new hE;return a.load(r),a})),this._container){const r=this._engine.plugins.updaters.get(this._container);if(r)for(const u of r)u.loadOptions&&u.loadOptions(this,e);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const u of a)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}}function Jx(n,...e){for(const t of e)n.load(t)}function e1(n,e,...t){const i=new fO(n,e);return Jx(i,...t),i}class dO{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new R2,this.backgroundMask=new I2,this.defaultThemes={},this.delay=0,this.fullScreen=new D2,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Qx(e,t),this.manualParticles=[],this.particles=e1(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){if(!e)return;e.preset!==void 0&&Zt(e.preset,u=>this._importPreset(u)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Ie(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Ie(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;Ur(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(u=>{const h=new L2;return h.load(u),h})),this.particles.load(e.particles),this.style=vn(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const u of a)u.loadOptions&&u.loadOptions(this,e);if(e.responsive!==void 0)for(const u of e.responsive){const h=new U2;h.load(u),this.responsive.push(h)}if(this.responsive.sort((u,h)=>u.maxWidth-h.maxWidth),e.themes!==void 0)for(const u of e.themes){const h=this.themes.find(f=>f.name===u.name);if(h)h.load(u);else{const f=new B2;f.load(u),this.themes.push(f)}}this.defaultThemes.dark=this._findDefaultTheme("dark")?.name,this.defaultThemes.light=this._findDefaultTheme("light")?.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(a=>a.mode==="screen"&&screen?a.maxWidth>screen.availWidth:a.maxWidth*t>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=Ux("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class pO{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const fE=n=>{if(!Rt(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class mO{constructor(e,t,i,r,a,u){this.container=i,this._calcPosition=(h,f,d,g=0)=>{for(const[,j]of h.plugins){const F=j.particlePosition!==void 0?j.particlePosition(f,this):void 0;if(F)return Hn.create(F.x,F.y,d)}const v=h.canvas.size,b=t2({size:v,position:f}),E=Hn.create(b.x,b.y,d),C=this.getRadius(),A=this.options.move.outModes,I=j=>{fE({outMode:j,checkModes:["bounce","bounce-horizontal"],coord:E.x,maxCoord:h.canvas.size.width,setCb:F=>E.x+=F,radius:C})},D=j=>{fE({outMode:j,checkModes:["bounce","bounce-vertical"],coord:E.y,maxCoord:h.canvas.size.height,setCb:F=>E.y+=F,radius:C})};return I(A.left??A.default),I(A.right??A.default),D(A.top??A.default),D(A.bottom??A.default),this._checkOverlap(E,g)?this._calcPosition(h,void 0,d,g+1):E},this._calculateVelocity=()=>{const h=e2(this.direction),f=h.copy(),d=this.options.move;if(d.direction==="inside"||d.direction==="outside")return f;const g=Math.PI/180*_e(d.angle.value),v=Math.PI/180*_e(d.angle.offset),b={left:v-g/2,right:v+g/2};return d.straight||(f.angle+=kn(Ie(b.left,b.right))),d.random&&typeof d.speed=="number"&&(f.length*=ot()),f},this._checkOverlap=(h,f=0)=>{const d=this.options.collisions,g=this.getRadius();if(!d.enable)return!1;const v=d.overlap;if(v.enable)return!1;const b=v.retries;if(b>=0&&f>b)throw new Error(`${mi} particle is overlapping and can't be placed`);return!!this.container.particles.find(E=>Kn(h,E.position)<g+E.getRadius())},this._getRollColor=h=>{if(!h||!this.roll||!this.backColor&&!this.roll.alter)return h;const f=this.roll.horizontal&&this.roll.vertical?2:1,d=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+d)/(Math.PI/f))%2?this.backColor?this.backColor:this.roll.alter?E2(h,this.roll.alter.type,this.roll.alter.value):h:h},this._initPosition=h=>{const f=this.container,d=_e(this.options.zIndex.value);this.position=this._calcPosition(f,h,Di(d,0,f.zLayers)),this.initialPosition=this.position.copy();const g=f.canvas.size;switch(this.moveCenter={...qx(this.options.move.center,g),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=Jk(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Wt.origin},this._loadShapeData=(h,f)=>{const d=h.options[this.shape];if(d)return vn({close:h.close,fill:h.fill},qs(d,this.id,f))},this._engine=e,this.init(t,r,a,u)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??lE(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??lE(this.strokeColor))}init(e,t,i,r){const a=this.container,u=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const h=a.retina.pixelRatio,f=a.actualOptions,d=e1(this._engine,a,f.particles),g=d.shape.type,{reduceDuplicates:v}=d;this.shape=qs(g,this.id,v);const b=d.shape;if(i&&i.shape&&i.shape.type){const F=i.shape.type,K=qs(F,this.id,v);K&&(this.shape=K,b.load(i.shape))}this.shapeData=this._loadShapeData(b,v),d.load(i);const E=this.shapeData;E&&d.load(E.particles);const C=new Qx(u,a);C.load(a.actualOptions.interactivity),C.load(d.interactivity),this.interactivity=C,this.fill=E?.fill??d.shape.fill,this.close=E?.close??d.shape.close,this.options=d;const A=this.options.move.path;this.pathDelay=sa(A.delay)*1e3,A.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(A.generator),this.pathGenerator&&a.addPath(A.generator,this.pathGenerator)&&this.pathGenerator.init(a)),a.retina.initParticle(this),this.size=Fx(this.options.size,h),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-_e(this.options.move.decay);const I=a.particles;I.needsSort=I.needsSort||I.lastZIndex<this.position.z,I.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/a.zLayers,this.sides=24;let D=a.drawers.get(this.shape);D||(D=this._engine.plugins.getShapeDrawer(this.shape),D&&a.drawers.set(this.shape,D)),D&&D.loadShape&&D.loadShape(this);const j=D?.getSidesCount;j&&(this.sides=j(this)),this.spawning=!1,this.shadowColor=Ci(this.options.shadow.color);for(const F of a.particles.updaters)F.init(this);for(const F of a.particles.movers)F.init&&F.init(this);D&&D.particleInit&&D.particleInit(a,this);for(const[,F]of a.plugins)F.particleCreated&&F.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class gO{constructor(e,t){this.position=e,this.particle=t}}class t1{constructor(e,t){this.position={x:e,y:t}}}class Pi extends t1{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof _n&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,a=e.position,u=e instanceof Pi?e.size:{width:0,height:0},h=u.width,f=u.height;return a.x<r.x+t&&a.x+h>r.x&&a.y<r.y+i&&a.y+f>r.y}}class _n extends t1{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return Kn(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},a=this.radius;if(e instanceof _n){const u=a+e.radius,h=Math.sqrt(r.x**2+r.y**2);return u>h}else if(e instanceof Pi){const{width:u,height:h}=e.size;return Math.pow(r.x-u,2)+Math.pow(r.y-h,2)<=a**2||r.x<=a+u&&r.y<=a+h||r.x<=u||r.y<=h}return!1}}class Rd{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:a,height:u}=this.rectangle.size,{capacity:h}=this;for(let f=0;f<4;f++)this._subs.push(new Rd(new Pi(i+a/2*(f%2),r+u/2*(Math.round(f/2)-f%2),a/2,u/2),h));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const a of this._points)!e.contains(a.position)&&Kn(e.position,a.position)>a.particle.getRadius()&&(!t||t(a.particle))||r.push(a.particle);if(this._divided)for(const a of this._subs)a.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new _n(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Pi(e.x,e.y,t.width,t.height),i)}}const dE=4,pE=n=>new Pi(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let yO=class{constructor(e,t){this._applyDensity=(r,a,u)=>{if(!r.number.density?.enable)return;const h=r.number,f=this._initDensityFactor(h.density),d=h.value,g=h.limit>0?h.limit:d,v=Math.min(d,g)*f+a,b=Math.min(this.count,this.filter(E=>E.group===u).length);this.limit=h.limit*f,b<v?this.push(Math.abs(v-b),void 0,r,u):b>v&&this.removeQuantity(b-v,u)},this._initDensityFactor=r=>{const a=this._container;if(!a.canvas.element||!r.enable)return 1;const u=a.canvas.element,h=a.retina.pixelRatio;return u.width*u.height/(r.factor*h**2*r.area)},this._pushParticle=(r,a,u,h)=>{try{let f=this.pool.pop();f?f.init(this._nextId,r,a,u):f=new mO(this._engine,this._nextId,this._container,r,a,u);let d=!0;return h&&(d=h(f)),d?(this._array.push(f),this._zArray.push(f),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:f}}),f):void 0}catch(f){ra().warning(`${mi} adding particle: ${f}`);return}},this._removeParticle=(r,a,u)=>{const h=this._array[r];if(!h||h.group!==a)return!1;h.destroy(u);const f=this._zArray.indexOf(h);return this._array.splice(r,1),this._zArray.splice(f,1),this.pool.push(h),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:h}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new pO(e,t);const i=t.canvas.size;this.quadTree=new Rd(pE(i),dE),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?qx(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const a=this._container,u=a.actualOptions,h=u.particles.number.limit;if(h>0){const f=this.count+1-h;f>0&&this.removeQuantity(f)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,r]of e.plugins)if(r.particlesInitialization!==void 0&&(i=r.particlesInitialization()),i)break;this._interactionManager.init();for(const[,r]of e.pathGenerators)r.init(e);if(this.addManualParticles(),!i){for(const r in t.particles.groups){const a=t.particles.groups[r];for(let u=this.count,h=0;h<a.number?.value&&u<t.particles.number.value;u++,h++)this.addParticle(void 0,a,r)}for(let r=this.count;r<t.particles.number.value;r++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let a=0;a<e;a++)this.addParticle(t?.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let a=0;for(let u=e;a<t&&u<this.count;u++)this._removeParticle(u--,i,r)&&a++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new Rd(pE(t.canvas.size),dE);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const a=t.canvas.resizeFactor;a&&!r.ignoresResizeRatio&&(r.position.x*=a.width,r.position.y*=a.height,r.initialPosition.x*=a.width,r.initialPosition.y*=a.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,u]of this._container.plugins){if(r.destroyed)break;u.particleUpdate&&u.particleUpdate(r,e)}for(const u of this.movers)u.isEnabled(r)&&u.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new gO(r.getPosition(),r))}if(i.size){const r=a=>!i.has(a);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const a of this.updaters)a.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((a,u)=>u.position.z-a.position.z||a.id-u.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class vO{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Pl()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const u=e.canvas.element;e.canvas.size.width=u.offsetWidth*i,e.canvas.size.height=u.offsetHeight*i}const r=t.particles,a=r.move;this.attractDistance=_e(a.attract.distance)*i,this.maxSpeed=_e(a.gravity.maxSpeed)*i,this.sizeAnimationSpeed=_e(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,a=r.distance,u=e.retina;u.attractDistance=_e(r.attract.distance)*i,u.moveDrift=_e(r.drift)*i,u.moveSpeed=_e(r.speed)*i,u.sizeAnimationSpeed=_e(t.size.animation.speed)*i;const h=u.maxDistance;h.horizontal=a.horizontal!==void 0?a.horizontal*i:void 0,h.vertical=a.vertical!==void 0?a.vertical*i:void 0,u.maxSpeed=_e(r.gravity.maxSpeed)*i}}function dt(n){return n&&!n.destroyed}function _O(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function hl(n,e,...t){const i=new dO(n,e);return Jx(i,...t),i}const bO="default",mE={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class wO{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!dt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const a of r)a.target===this.interactivity.element&&(a.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??=r;const a=_O(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(a.value),this.lastFrameTime=r,a.value>1e3){this.draw(!1);return}if(await this.particles.draw(a),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(a){ra().error(`${mi} in animation loop`,a)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new vO(this),this.canvas=new A2(this),this.particles=new yO(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=hl(this._engine,this),this.actualOptions=hl(this._engine,this),this._eventListeners=new x2(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!dt(this))return;const t=this.interactivity.element;if(!t)return;const i=(v,b,E)=>{if(!dt(this))return;const C=this.retina.pixelRatio,A={x:b.x*C,y:b.y*C},I=this.particles.quadTree.queryCircle(A,E*C);e(v,I)},r=v=>{if(!dt(this))return;const b=v,E={x:b.offsetX||b.clientX,y:b.offsetY||b.clientY};i(v,E,1)},a=()=>{dt(this)&&(d=!0,g=!1)},u=()=>{dt(this)&&(g=!0)},h=v=>{if(dt(this)){if(d&&!g){const b=v;let E=b.touches[b.touches.length-1];if(!E&&(E=b.changedTouches[b.changedTouches.length-1],!E))return;const C=this.canvas.element,A=C?C.getBoundingClientRect():void 0,I={x:E.clientX-(A?A.left:0),y:E.clientY-(A?A.top:0)};i(v,I,Math.max(E.radiusX,E.radiusY))}d=!1,g=!1}},f=()=>{dt(this)&&(d=!1,g=!1)};let d=!1,g=!1;t.addEventListener("click",r),t.addEventListener("touchstart",a),t.addEventListener("touchmove",u),t.addEventListener("touchend",h),t.addEventListener("touchcancel",f)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!dt(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??mE),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!dt(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!dt(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}ra().error(`${mi} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&dt(this)}handleClickMode(e){if(dt(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!dt(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=hl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=hl(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=_e(this.actualOptions.duration)*1e3,this._delay=_e(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){dt(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(dt(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!dt(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(dt(this))return this.stop(),this.start()}async reset(){if(dt(this))return this._initialSourceOptions=void 0,this._options=hl(this._engine,this),this.actualOptions=hl(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){dt(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!dt(this))return;const r={...mE};if(Hx(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const a=r;r.generate=e.generate||a.generate,r.init=e.init||a.init,r.update=e.update||a.update}this.addPath(bO,r,!0)}async start(){!dt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!dt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class TO{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,a=i.indexOf(t);a<0||(r===1?this._listeners.delete(e):i.splice(a,1))}}function ty(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(a=>a(n)),e.set(n,r)),r}class EO{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){Zt(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return ty(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return ty(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return ty(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const a of r)a.loadOptions&&a.loadOptions(t,...i)}}async function SO(n){const e=qs(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(ra().error(`${mi} ${t.status} while retrieving config file`),n.fallback)}function AO(n){return!n.id&&!n.element&&!n.url&&!n.options}function xO(n){return!AO(n)}class RO{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new TO,this._initialized=!1,this.plugins=new EO(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){xi(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,a,u=!0){let h,f=u,d,g,v;Ur(i)?(f=i,d=void 0):d=i,Ur(r)?(f=r,g=void 0):g=r,Ur(a)?(f=a,v=void 0):v=a,Hx(t)?h={afterEffect:g,destroy:v,draw:t,init:d}:h=t,this.plugins.addShapeDrawer(e,h),await this.refresh(f)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return xO(e)?r=e:(r={},xi(e)?r.id=e:r.options=e,Ri(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,a;return Ri(t)||t===void 0?r=e:(a=e,r=t),this._loadParams({id:a,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const a={index:r};return xi(e)?a.id=e:a.element=e,t instanceof HTMLElement?a.element=t:a.options=t,Ri(i)?a.index=i:a.options=i??a.options,this._loadParams(a)}async setJSON(e,t,i,r){const a={};return e instanceof HTMLElement?(a.element=e,a.url=t,a.index=i):(a.id=e,a.element=t,a.url=i,a.index=r),this._loadParams(a)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${mi} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(ot()*1e4)}`,{index:i,url:r}=e,a=r?await SO({fallback:e.options,url:r,index:i}):e.options;let u=e.element??document.getElementById(t);u||(u=document.createElement("div"),u.id=t,document.body.append(u));const h=qs(a,i),f=this.dom(),d=f.findIndex(b=>b.id===t);if(d>=0){const b=this.domItem(d);b&&!b.destroyed&&(b.destroy(),f.splice(d,1))}let g;if(u.tagName.toLowerCase()==="canvas")g=u,g.dataset[wc]="false";else{const b=u.getElementsByTagName("canvas");b.length?(g=b[0],g.dataset[wc]="false"):(g=document.createElement("canvas"),g.dataset[wc]="true",u.appendChild(g))}g.style.width||(g.style.width="100%"),g.style.height||(g.style.height="100%");const v=new wO(this,t,h);return d>=0?f.splice(d,0,v):f.push(v),v.canvas.loadCanvas(g),await v.start(),v}}class CO{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Ml(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Ml({h:_e(i.h),l:_e(i.l),s:_e(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?p2({a:i.length>4?Lx(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class IO{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:_e(i.r),g:_e(i.g),b:_e(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?Lx(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function DO(){const n=new IO,e=new CO;aE(n),aE(e);const t=new RO;return t.init(),t}class fs{constructor(e){this.container=e,this.type="external"}}class Zv{constructor(e){this.container=e,this.type="particles"}}const Cd=DO();Pl()||(window.tsParticles=Cd);const vl=n=>typeof n=="object"&&n!==null;function Id(n,e,t=()=>!1){if(!vl(n)||!vl(e))return n===e;const i=Object.keys(n).filter(a=>!t(a)),r=Object.keys(e).filter(a=>!t(a));if(i.length!==r.length)return!1;for(const a of i){const u=n[a],h=e[a];if(vl(u)&&vl(h)){if(u===e&&h===n)continue;if(!Id(u,h,t))return!1}else if(Array.isArray(u)&&Array.isArray(h)){if(!n1(u,h,t))return!1}else if(u!==h)return!1}return!0}function n1(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],a=e[i];if(Array.isArray(r)&&Array.isArray(a)){if(!n1(r,a,t))return!1}else if(vl(r)&&vl(a)){if(!Id(r,a,t))return!1}else if(r!==a)return!1}return!0}const i1="tsparticles";let s1=class r1 extends z.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!Id(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!Id(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Cd),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:a}=this.props;return Ny.createElement("div",{className:i,id:a},Ny.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??r1.defaultProps.id??i1,t=await Cd.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}};s1.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:i1};class Dd{static init(e){const t=new Dd,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return Cd.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:e.responsive?.map(a=>({maxWidth:a.breakpoint,options:{particles:{color:{value:a.options?.color},links:{distance:a.options?.minDistance,enable:a.options?.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:a.options?.speed},size:{value:a.options?.sizeVariations}}}}))}).then(a=>{t._container=a}),t}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const PO=n=>{const e=(i,r)=>n.load(i,r);e.load=(i,r,a)=>{n.loadJSON(i,r).then(u=>{u&&a(u)}).catch(()=>{a(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},MO=n=>{const{particlesJS:e,pJSDom:t}=PO(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=Dd,{particlesJS:e,pJSDom:t,Particles:Dd}};function kO(n){const e=n.initialPosition,{dx:t,dy:i}=Rn(e,n.position),r=Math.abs(t),a=Math.abs(i),{maxDistance:u}=n.retina,h=u.horizontal,f=u.vertical;if(!(!h&&!f)){if((h&&r>=h||f&&a>=f)&&!n.misplaced)n.misplaced=!!h&&r>h||!!f&&a>f,h&&(n.velocity.x=n.velocity.y/2-n.velocity.x),f&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!h||r<h)&&(!f||a<f)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const d=n.position,g=n.velocity;h&&(d.x<e.x&&g.x<0||d.x>e.x&&g.x>0)&&(g.x*=-ot()),f&&(d.y<e.y&&g.y<0||d.y>e.y&&g.y>0)&&(g.y*=-ot())}}}function OO(n,e,t,i,r,a){VO(n,a);const u=n.gravity,h=u?.enable&&u.inverse?-1:1;r&&t&&(n.velocity.x+=r*a.factor/(60*t)),u?.enable&&t&&(n.velocity.y+=h*(u.acceleration*a.factor)/(60*t));const f=n.moveDecay;n.velocity.multTo(f);const d=n.velocity.mult(t);u?.enable&&i>0&&(!u.inverse&&d.y>=0&&d.y>=i||u.inverse&&d.y<=0&&d.y<=-i)&&(d.y=h*i,t&&(n.velocity.y=d.y/t));const g=n.options.zIndex,v=(1-n.zIndexFactor)**g.velocityRate;d.multTo(v);const{position:b}=n;b.addTo(d),e.vibrate&&(b.x+=Math.sin(b.x*Math.cos(b.y)),b.y+=Math.cos(b.y*Math.sin(b.x)))}function NO(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}function VO(n,e){const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const a=n.pathGenerator?.generate(n,e);a&&n.velocity.addTo(a),i.clamp&&(n.velocity.x=Di(n.velocity.x,-1,1),n.velocity.y=Di(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function LO(n){return n.slow.inRange?n.slow.factor:1}const UO=2;class zO{constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const a=r.position??{x:50,y:50},u={x:a.x/100*t.canvas.size.width,y:a.y/100*t.canvas.size.height},h=e.getPosition(),f=Kn(h,u),d=_e(r.acceleration);e.retina.spinAcceleration=d*t.retina.pixelRatio,e.spin={center:u,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:f,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:_e(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const i=e.options,r=i.move;if(!r.enable)return;const a=e.container,u=a.retina.pixelRatio,h=LO(e),f=(e.retina.moveSpeed??=_e(r.speed)*u)*a.retina.reduceFactor,d=e.retina.moveDrift??=_e(e.options.move.drift)*u,g=Vr(i.size.value)*u,v=r.size?e.getRadius()/g:1,b=f*v*h*(t.factor||1)/UO,E=e.retina.maxSpeed??a.retina.maxSpeed;r.spin.enable?NO(e,b):OO(e,r,b,E,d,t),kO(e)}}async function BO(n,e=!0){await n.addMover("base",()=>new zO,e)}class jO{draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:Math.PI*2});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=i?.angle??{max:360,min:0};t.circleRange=yl(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function FO(n,e=!0){await n.addShape("circle",new jO,e)}function ny(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const a=kn(t.offset),u=(e.velocity??0)*n.factor+a*3.6,h=e.decay??1;!r||e.status==="increasing"?(e.value+=u,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=u,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&h!==1&&(e.velocity*=h),e.value>i&&(e.value%=i)}function qO(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:a}=n;if(!a)return;const{h:u,s:h,l:f}=a;u&&ny(e,u,t,360,!1),h&&ny(e,h,i,100,!0),f&&ny(e,f,r,100,!0)}class HO{constructor(e){this.container=e}init(e){const t=Vc(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=Xx(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:a}=e;return!e.destroyed&&!e.spawning&&(a?.h.value!==void 0&&t.enable||a?.s.value!==void 0&&i.enable||a?.l.value!==void 0&&r.enable)}update(e,t){qO(e,t)}}async function GO(n,e=!0){await n.addParticleUpdater("color",t=>new HO(t),e)}function $O(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function KO(n,e){const t=n.opacity;if(n.destroyed||!t?.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,a=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=a),$O(n,t.value,i,r),n.destroyed||(t.value=Di(t.value,i,r))}}class YO{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=Fx(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=_e(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=ot()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&KO(e,t)}}async function XO(n,e=!0){await n.addParticleUpdater("opacity",t=>new YO(t),e)}function QO(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=sa(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function WO(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=sa(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class ZO{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;let u=!1;for(const[,b]of a.plugins)if(b.particleBounce!==void 0&&(u=b.particleBounce(e,i,t)),u)break;if(u)return;const h=e.getPosition(),f=e.offset,d=e.getRadius(),g=rh(h,d),v=a.canvas.size;QO({particle:e,outMode:r,direction:t,bounds:g,canvasSize:v,offset:f,size:d}),WO({particle:e,outMode:r,direction:t,bounds:g,canvasSize:v,offset:f,size:d})}}class JO{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case"normal":case"outside":if(Yv(e.position,a.canvas.size,Wt.origin,e.getRadius(),t))return;break;case"inside":{const{dx:u,dy:h}=Rn(e.position,e.moveCenter),{x:f,y:d}=e.velocity;if(f<0&&u>e.moveCenter.radius||d<0&&h>e.moveCenter.radius||f>=0&&u<-e.moveCenter.radius||d>=0&&h<-e.moveCenter.radius)return;break}}a.particles.remove(e,void 0,!0)}}class eN{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const a=e.options.move.gravity,u=this.container,h=u.canvas.size,f=e.getRadius();if(a.enable){const d=e.position;(!a.inverse&&d.y>h.height+f&&t==="bottom"||a.inverse&&d.y<-f&&t==="top")&&u.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=h.height+f||e.velocity.y<0&&e.position.y>=-f||e.velocity.x>0&&e.position.x<=h.width+f||e.velocity.x<0&&e.position.x>=-f)return;Yv(e.position,u.canvas.size,Wt.origin,f,t)||u.particles.remove(e)}}}class tN{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case"inside":{const{x:u,y:h}=e.velocity,f=Wt.origin;f.length=e.moveCenter.radius,f.angle=e.velocity.angle+Math.PI,f.addTo(Wt.create(e.moveCenter));const{dx:d,dy:g}=Rn(e.position,f);if(u<=0&&d>=0||h<=0&&g>=0||u>=0&&d<=0||h>=0&&g<=0)return;e.position.x=Math.floor(kn({min:0,max:a.canvas.size.width})),e.position.y=Math.floor(kn({min:0,max:a.canvas.size.height}));const{dx:v,dy:b}=Rn(e.position,e.moveCenter);e.direction=Math.atan2(-b,-v),e.velocity.angle=e.direction;break}default:{if(Yv(e.position,a.canvas.size,Wt.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(kn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(kn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:u,dy:h}=Rn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(h,u),e.velocity.angle=e.direction);break}case"normal":{const u=e.options.move.warp,h=a.canvas.size,f={bottom:h.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:h.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},d=e.getRadius(),g=rh(e.position,d);t==="right"&&g.left>h.width+e.offset.x?(e.position.x=f.left,e.initialPosition.x=e.position.x,u||(e.position.y=ot()*h.height,e.initialPosition.y=e.position.y)):t==="left"&&g.right<-e.offset.x&&(e.position.x=f.right,e.initialPosition.x=e.position.x,u||(e.position.y=ot()*h.height,e.initialPosition.y=e.position.y)),t==="bottom"&&g.top>h.height+e.offset.y?(u||(e.position.x=ot()*h.width,e.initialPosition.x=e.position.x),e.position.y=f.top,e.initialPosition.y=e.position.y):t==="top"&&g.bottom<-e.offset.y&&(u||(e.position.x=ot()*h.width,e.initialPosition.x=e.position.x),e.position.y=f.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class nN{constructor(e){this.container=e,this._updateOutMode=(t,i,r,a)=>{for(const u of this.updaters)u.update(t,a,i,r)},this.updaters=[new ZO(e),new JO(e),new tN(e),new eN(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function iN(n,e=!0){await n.addParticleUpdater("outModes",t=>new nN(t),e)}function sN(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function rN(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,a=t.max,u=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=a?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&u!==1&&(t.velocity*=u),sN(n,t.value,r,a),n.destroyed||(t.value=Di(t.value,r,a))}}class oN{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=ot()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&rN(e,t)}}async function aN(n,e=!0){await n.addParticleUpdater("size",()=>new oN,e)}async function lN(n,e=!0){await BO(n,!1),await FO(n,!1),await GO(n,!1),await XO(n,!1),await iN(n,!1),await aN(n,!1),await n.refresh(e)}async function uN(){qg("ease-in-quad",n=>n**2),qg("ease-out-quad",n=>1-(1-n)**2),qg("ease-in-out-quad",n=>n<.5?2*n**2:1-(-2*n+2)**2/2)}class cN{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let hN=class extends fs{constructor(e,t){super(t),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const a=i.interactivity.mouse.clickPosition,u=i.retina.attractModeDistance;if(!u||u<0||!a)return;this._processAttract(a,u,new _n(a.x,a.y,u))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.attractModeDistance;!a||a<0||!r||this._processAttract(r,a,new _n(r.x,r.y,a))},this._processAttract=(i,r,a)=>{const u=this.container,h=u.actualOptions.interactivity.modes.attract;if(!h)return;const f=u.particles.quadTree.query(a,d=>this.isEnabled(d));for(const d of f){const{dx:g,dy:v,distance:b}=Rn(d.position,i),E=h.speed*h.factor,C=Di(Vx(h.easing)(1-b/r)*E,0,h.maxSpeed),A=Wt.create(b===0?E:g/b*C,b===0?E:v/b*C);d.position.subFrom(A)}},this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.attract;if(!(!a||i!=="attract")){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const u of t.attract.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},a.duration*1e3)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===ia,r=t.interactivity.events,a=r.onHover.enable,u=r.onHover.mode,h=r.onClick.enable,f=r.onClick.mode;i&&a&&Rt("attract",u)?this._hoverAttract():h&&Rt("attract",f)&&this._clickAttract()}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events;if((!r.position||!a.onHover.enable)&&(!r.clickPosition||!a.onClick.enable))return!1;const u=a.onHover.mode,h=a.onClick.mode;return Rt("attract",u)||Rt("attract",h)}loadModeOptions(e,...t){e.attract||(e.attract=new cN);for(const i of t)e.attract.load(i?.attract)}reset(){}};async function fN(n,e=!0){await n.addInteractor("externalAttract",t=>new hN(n,t),e)}class dN{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class pN extends fs{constructor(e){super(e),this._processBounce=(t,i,r)=>{const a=this.container.particles.quadTree.query(r,u=>this.isEnabled(u));for(const u of a)r instanceof _n?Bx(By(u),{position:t,mass:i**2*Math.PI/2,velocity:Wt.origin,factor:Wt.origin}):r instanceof Pi&&c2(u,rh(t,i))},this._processMouseBounce=()=>{const t=this.container,i=t.retina.pixelRatio,r=10*i,a=t.interactivity.mouse.position,u=t.retina.bounceModeDistance;!u||u<0||!a||this._processBounce(a,u,new _n(a.x,a.y,u+r))},this._singleSelectorBounce=(t,i)=>{const r=this.container,a=document.querySelectorAll(t);a.length&&a.forEach(u=>{const h=u,f=r.retina.pixelRatio,d={x:(h.offsetLeft+h.offsetWidth/2)*f,y:(h.offsetTop+h.offsetHeight/2)*f},g=h.offsetWidth/2*f,v=10*f,b=i.type==="circle"?new _n(d.x,d.y,g+v):new Pi(h.offsetLeft*f-v,h.offsetTop*f-v,h.offsetWidth*f+v*2,h.offsetHeight*f+v*2);this._processBounce(d,g,b)})}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===ia,a=i.onHover.enable,u=i.onHover.mode,h=i.onDiv;r&&a&&Rt("bounce",u)?this._processMouseBounce():Qv("bounce",h,(f,d)=>this._singleSelectorBounce(f,d))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,u=a.onDiv;return r.position&&a.onHover.enable&&Rt("bounce",a.onHover.mode)||Xv("bounce",u)}loadModeOptions(e,...t){e.bounce||(e.bounce=new dN);for(const i of t)e.bounce.load(i?.bounce)}reset(){}}async function mN(n,e=!0){await n.addInteractor("externalBounce",t=>new pN(t),e)}class o1{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=Yn(this.color)?void 0:this.color;this.color=Zt(e.color,i=>un.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class gN extends o1{constructor(){super(),this.selectors=[]}get ids(){return Zt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Zt(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class yN extends o1{load(e){super.load(e),e&&(this.divs=Zt(e.divs,t=>{const i=new gN;return i.load(t),i}))}}function gE(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Di(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Di(r,e,n)}}class vN extends fs{constructor(e){super(e),this._clickBubble=()=>{const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.clickPosition,a=i.interactivity.modes.bubble;if(!a||!r)return;t.bubble||(t.bubble={});const u=t.retina.bubbleModeDistance;if(!u||u<0)return;const h=t.particles.quadTree.queryCircle(r,u,d=>this.isEnabled(d)),{bubble:f}=t;for(const d of h){if(!f.clicking)continue;d.bubble.inRange=!f.durationEnd;const g=d.getPosition(),v=Kn(g,r),b=(new Date().getTime()-(t.interactivity.mouse.clickTime||0))/1e3;b>a.duration&&(f.durationEnd=!0),b>a.duration*2&&(f.clicking=!1,f.durationEnd=!1);const E={bubbleObj:{optValue:t.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Vr(d.options.size.value)*t.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,v,b,E);const C={bubbleObj:{optValue:a.opacity,value:d.bubble.opacity},particlesObj:{optValue:Vr(d.options.opacity.value),value:d.opacity?.value??1},type:"opacity"};this._process(d,v,b,C),!f.durationEnd&&v<=u?this._hoverBubbleColor(d,v):delete d.bubble.color}},this._hoverBubble=()=>{const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const a=t.particles.quadTree.queryCircle(i,r,u=>this.isEnabled(u));for(const u of a){u.bubble.inRange=!0;const h=u.getPosition(),f=Kn(h,i),d=1-f/r;f<=r?d>=0&&t.interactivity.status===ia&&(this._hoverBubbleSize(u,d),this._hoverBubbleOpacity(u,d),this._hoverBubbleColor(u,d)):this.reset(u),t.interactivity.status===Uy&&this.reset(u)}},this._hoverBubbleColor=(t,i,r)=>{const a=this.container.actualOptions,u=r??a.interactivity.modes.bubble;if(u){if(!t.bubble.finalColor){const h=u.color;if(!h)return;const f=qs(h);t.bubble.finalColor=Vc(f)}if(t.bubble.finalColor)if(u.mix){t.bubble.color=void 0;const h=t.getFillColor();t.bubble.color=h?$x(Wv(h,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,i,r)=>{const a=this.container,u=a.actualOptions,h=r?.opacity??u.interactivity.modes.bubble?.opacity;if(!h)return;const f=t.options.opacity.value,d=t.opacity?.value??1,g=gE(d,h,Vr(f),i);g!==void 0&&(t.bubble.opacity=g)},this._hoverBubbleSize=(t,i,r)=>{const a=this.container,u=r?.size?r.size*a.retina.pixelRatio:a.retina.bubbleModeSize;if(u===void 0)return;const h=Vr(t.options.size.value)*a.retina.pixelRatio,f=t.size.value,d=gE(f,u,h,i);d!==void 0&&(t.bubble.radius=d)},this._process=(t,i,r,a)=>{const u=this.container,h=a.bubbleObj.optValue,f=u.actualOptions,d=f.interactivity.modes.bubble;if(!d||h===void 0)return;const g=d.duration,v=u.retina.bubbleModeDistance,b=a.particlesObj.optValue,E=a.bubbleObj.value,C=a.particlesObj.value||0,A=a.type;if(!(!v||v<0||h===b))if(u.bubble||(u.bubble={}),u.bubble.durationEnd)E&&(A==="size"&&delete t.bubble.radius,A==="opacity"&&delete t.bubble.opacity);else if(i<=v){if((E??C)!==h){const D=C-r*(C-h)/g;A==="size"&&(t.bubble.radius=D),A==="opacity"&&(t.bubble.opacity=D)}}else A==="size"&&delete t.bubble.radius,A==="opacity"&&delete t.bubble.opacity},this._singleSelectorHover=(t,i,r)=>{const a=this.container,u=document.querySelectorAll(i),h=a.actualOptions.interactivity.modes.bubble;!h||!u.length||u.forEach(f=>{const d=f,g=a.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth/2)*g,y:(d.offsetTop+d.offsetHeight/2)*g},b=d.offsetWidth/2*g,E=r.type==="circle"?new _n(v.x,v.y,b):new Pi(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),C=a.particles.quadTree.query(E,A=>this.isEnabled(A));for(const A of C){if(!E.contains(A.getPosition()))continue;A.bubble.inRange=!0;const I=h.divs,D=zx(I,d);(!A.bubble.div||A.bubble.div!==d)&&(this.clear(A,t,!0),A.bubble.div=d),this._hoverBubbleSize(A,1,D),this._hoverBubbleOpacity(A,1,D),this._hoverBubbleColor(A,1,D)}})},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,a=i.onClick,u=r.enable,h=r.mode,f=a.enable,d=a.mode,g=i.onDiv;u&&Rt("bubble",h)?this._hoverBubble():f&&Rt("bubble",d)?this._clickBubble():Qv("bubble",g,(v,b)=>this._singleSelectorHover(e,v,b))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,{onClick:u,onDiv:h,onHover:f}=a,d=Xv("bubble",h);return d||f.enable&&r.position||u.enable&&r.clickPosition?Rt("bubble",f.mode)||Rt("bubble",u.mode)||d:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new yN);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function _N(n,e=!0){await n.addInteractor("externalBubble",t=>new vN(t),e)}class bN{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class wN{constructor(){this.distance=80,this.links=new bN,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function TN(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),a=e.getFillColor(),u=t.getFillColor();if(!a||!u)return;const h=e.getPosition(),f=t.getPosition(),d=Wv(a,u,e.getRadius(),t.getRadius()),g=n.createLinearGradient(h.x,h.y,f.x,f.y);return g.addColorStop(0,Lc(a,i)),g.addColorStop(r>1?1:r,Hs(d,i)),g.addColorStop(1,Lc(u,i)),g}function EN(n,e,t,i,r){Tc(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function SN(n,e,t,i){const r=n.actualOptions,a=r.interactivity.modes.connect;if(a)return TN(e,t,i,a.links.opacity)}function AN(n,e,t){n.canvas.draw(i=>{const r=SN(n,i,e,t);if(!r)return;const a=e.getPosition(),u=t.getPosition();EN(i,e.retina.linksWidth??0,r,a,u)})}class xN extends fs{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),a=e.particles.quadTree.queryCircle(i,r,h=>this.isEnabled(h));let u=0;for(const h of a){const f=h.getPosition();for(const d of a.slice(u+1)){const g=d.getPosition(),v=Math.abs(e.retina.connectModeDistance),b=Math.abs(f.x-g.x),E=Math.abs(f.y-g.y);b<v&&E<v&&AN(e,h,d)}++u}}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Rt("connect",r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new wN);for(const i of t)e.connect.load(i?.connect)}reset(){}}async function RN(n,e=!0){await n.addInteractor("externalConnect",t=>new xN(t),e)}class CN{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class IN{constructor(){this.distance=100,this.links=new CN}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function DN(n,e,t,i,r,a){Tc(n,t,i),n.strokeStyle=Hs(r,a),n.lineWidth=e,n.stroke()}function PN(n,e,t,i,r){n.canvas.draw(a=>{const u=e.getPosition();DN(a,e.retina.linksWidth??0,u,r,t,i)})}class MN extends fs{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==ia)return;const r=e.interactivity.mouse.position;if(!r)return;const a=e.retina.grabModeDistance;if(!a||a<0)return;const u=e.particles.quadTree.queryCircle(r,a,h=>this.isEnabled(h));for(const h of u){const f=h.getPosition(),d=Kn(f,r);if(d>a)continue;const g=i.modes.grab.links,v=g.opacity,b=v-d*v/a;if(b<=0)continue;const E=g.color??h.options.links?.color;if(!e.particles.grabLineColor&&E){const A=i.modes.grab.links;e.particles.grabLineColor=Yx(E,A.blink,A.consent)}const C=jy(h,void 0,e.particles.grabLineColor);C&&PN(e,h,C,b,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Rt("grab",r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new IN);for(const i of t)e.grab.load(i?.grab)}reset(){}}async function kN(n,e=!0){await n.addInteractor("externalGrab",t=>new MN(t),e)}class ON extends fs{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function NN(n,e=!0){await n.addInteractor("externalPause",t=>new ON(t),e)}class VN{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Ie(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Ie(t))}}class LN extends fs{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="push")return;const i=this.container,r=i.actualOptions,a=r.interactivity.modes.push;if(!a)return;const u=_e(a.quantity);if(u<=0)return;const h=ip([void 0,...a.groups]),f=h!==void 0?i.actualOptions.particles.groups[h]:void 0;i.particles.push(u,i.interactivity.mouse,f,h)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new VN);for(const i of t)e.push.load(i?.push)}reset(){}}async function UN(n,e=!0){await n.addInteractor("externalPush",t=>new LN(t),e)}class zN{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Ie(e)}load(e){if(!e)return;const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Ie(t))}}class BN extends fs{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!=="remove")return;const a=_e(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new zN);for(const i of t)e.remove.load(i?.remove)}reset(){}}async function jN(n,e=!0){await n.addInteractor("externalRemove",t=>new BN(t),e)}class a1{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class FN extends a1{constructor(){super(),this.selectors=[]}get ids(){return Zt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Zt(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class qN extends a1{load(e){super.load(e),e&&(this.divs=Zt(e.divs,t=>{const i=new FN;return i.load(t),i}))}}class HN extends fs{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const a=i.repulse||{particles:[]};if(a.finish||(a.count||(a.count=0),a.count++,a.count===i.particles.count&&(a.finish=!0)),a.clicking){const u=i.retina.repulseModeDistance;if(!u||u<0)return;const h=Math.pow(u/6,3),f=i.interactivity.mouse.clickPosition;if(f===void 0)return;const d=new _n(f.x,f.y,h),g=i.particles.quadTree.query(d,v=>this.isEnabled(v));for(const v of g){const{dx:b,dy:E,distance:C}=Rn(f,v.position),A=C**2,I=r.speed,D=-h*I/A;if(A<=h){a.particles.push(v);const j=Wt.create(b,E);j.length=D,v.velocity.setTo(j)}}}else if(a.clicking===!1){for(const u of a.particles)u.velocity.setTo(u.initialVelocity);a.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.repulseModeDistance;!a||a<0||!r||this._processRepulse(r,a,new _n(r.x,r.y,a))},this._processRepulse=(i,r,a,u)=>{const h=this.container,f=h.particles.quadTree.query(a,g=>this.isEnabled(g)),d=h.actualOptions.interactivity.modes.repulse;if(d)for(const g of f){const{dx:v,dy:b,distance:E}=Rn(g.position,i),C=(u?.speed??d.speed)*d.factor,A=Di(Vx(d.easing)(1-E/r)*C,0,d.maxSpeed),I=Wt.create(E===0?C:v/E*A,E===0?C:b/E*A);g.position.addTo(I)}},this._singleSelectorRepulse=(i,r)=>{const a=this.container,u=a.actualOptions.interactivity.modes.repulse;if(!u)return;const h=document.querySelectorAll(i);h.length&&h.forEach(f=>{const d=f,g=a.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth/2)*g,y:(d.offsetTop+d.offsetHeight/2)*g},b=d.offsetWidth/2*g,E=r.type==="circle"?new _n(v.x,v.y,b):new Pi(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),C=u.divs,A=zx(C,d);this._processRepulse(v,b,E,A)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.repulse;if(!a||i!=="repulse")return;t.repulse||(t.repulse={particles:[]});const u=t.repulse;u.clicking=!0,u.count=0;for(const h of t.repulse.particles)this.isEnabled(h)&&h.velocity.setTo(h.initialVelocity);u.particles=[],u.finish=!1,setTimeout(()=>{t.destroyed||(u.clicking=!1)},a.duration*1e3)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===ia,r=t.interactivity.events,a=r.onHover,u=a.enable,h=a.mode,f=r.onClick,d=f.enable,g=f.mode,v=r.onDiv;i&&u&&Rt("repulse",h)?this._hoverRepulse():d&&Rt("repulse",g)?this._clickRepulse():Qv("repulse",v,(b,E)=>this._singleSelectorRepulse(b,E))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,u=a.onDiv,h=a.onHover,f=a.onClick,d=Xv("repulse",u);if(!(d||h.enable&&r.position||f.enable&&r.clickPosition))return!1;const g=h.mode,v=f.mode;return Rt("repulse",g)||Rt("repulse",v)||d}loadModeOptions(e,...t){e.repulse||(e.repulse=new qN);for(const i of t)e.repulse.load(i?.repulse)}reset(){}}async function GN(n,e=!0){await n.addInteractor("externalRepulse",t=>new HN(n,t),e)}class $N{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class KN extends fs{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Rt("slow",r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new $N);for(const i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,a=t.retina.slowModeRadius,u=i.interactivity.modes.slow;if(!u||!a||a<0||!r)return;const h=e.getPosition(),f=Kn(r,h),d=f/a,g=u.factor,{slow:v}=e;f>a||(v.inRange=!0,v.factor=d/g)}}async function YN(n,e=!0){await n.addInteractor("externalSlow",t=>new KN(t),e)}const iy=[0,4,2,1],yE=[8,8,4,2];class XN{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let i=t;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==0);return e}readSubBlocksBin(){let e=0,t=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)t+=e;const i=new Uint8Array(t);for(let r=0;(e=this.data[this.pos++])!==0;)for(let a=e;--a>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function l1(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}async function QN(n,e,t,i){switch(n.nextByte()){case 249:{const r=e.frames[t(!1)];n.pos++;const a=n.nextByte();r.GCreserved=(a&224)>>>5,r.disposalMethod=(a&28)>>>2,r.userInputDelayFlag=(a&2)===2;const u=(a&1)===1;r.delayTime=n.nextTwoBytes()*10;const h=n.nextByte();u&&i(h),n.pos++;break}case 255:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([t(!1),n.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function WN(n,e,t,i,r,a){const u=e.frames[i(!0)];u.left=n.nextTwoBytes(),u.top=n.nextTwoBytes(),u.width=n.nextTwoBytes(),u.height=n.nextTwoBytes();const h=n.nextByte(),f=(h&128)===128,d=(h&64)===64;u.sortFlag=(h&32)===32,u.reserved=(h&24)>>>3;const g=1<<(h&7)+1;f&&(u.localColorTable=l1(n,g));const v=D=>{const{r:j,g:F,b:K}=(f?u.localColorTable:e.globalColorTable)[D];return{r:j,g:F,b:K,a:D===r(null)?t?~~((j+F+K)/3):0:255}},b=(()=>{try{return new ImageData(u.width,u.height,{colorSpace:"srgb"})}catch(D){if(D instanceof DOMException&&D.name==="IndexSizeError")return null;throw D}})();if(b==null)throw new EvalError("GIF frame size is to large");const E=n.nextByte(),C=n.readSubBlocksBin(),A=1<<E,I=(D,j)=>{const F=D>>>3,K=D&7;return(C[F]+(C[F+1]<<8)+(C[F+2]<<16)&(1<<j)-1<<K)>>>K};if(d){for(let D=0,j=E+1,F=0,K=[[0]],Z=0;Z<4;Z++)if(iy[Z]<u.height)for(let ue=0,O=0;;){const R=D;if(D=I(F,j),F+=j+1,D===A){j=E+1,K.length=A+2;for(let P=0;P<K.length;P++)K[P]=P<A?[P]:[]}else{D>=K.length?K.push(K[R].concat(K[R][0])):R!==A&&K.push(K[R].concat(K[D][0]));for(let P=0;P<K[D].length;P++){const{r:L,g:B,b:q,a:N}=v(K[D][P]);b.data.set([L,B,q,N],iy[Z]*u.width+yE[Z]*O+ue%(u.width*4)),ue+=4}K.length===1<<j&&j<12&&j++}if(ue===u.width*4*(O+1)&&(O++,iy[Z]+yE[Z]*O>=u.height))break}u.image=b,u.bitmap=await createImageBitmap(b)}else{for(let D=0,j=E+1,F=0,K=[[0]],Z=-4;;){const ue=D;if(D=I(F,j),F+=j,D===A){j=E+1,K.length=A+2;for(let O=0;O<K.length;O++)K[O]=O<A?[O]:[]}else{if(D===A+1)break;D>=K.length?K.push(K[ue].concat(K[ue][0])):ue!==A&&K.push(K[ue].concat(K[D][0]));for(let O=0;O<K[D].length;O++){const{r:R,g:P,b:L,a:B}=v(K[D][O]);b.data.set([R,P,L,B],Z+=4)}K.length>=1<<j&&j<12&&j++}}u.image=b,u.bitmap=await createImageBitmap(b)}}async function ZN(n,e,t,i,r,a){switch(n.nextByte()){case 59:return!0;case 44:await WN(n,e,t,i,r);break;case 33:await QN(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function JN(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function eV(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),a={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},u=new XN(new Uint8ClampedArray(r));if(u.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");a.width=u.nextTwoBytes(),a.height=u.nextTwoBytes();const h=u.nextByte(),f=(h&128)===128;a.colorRes=(h&112)>>>4,a.sortFlag=(h&8)===8;const d=1<<(h&7)+1,g=u.nextByte();a.pixelAspectRatio=u.nextByte(),a.pixelAspectRatio!==0&&(a.pixelAspectRatio=(a.pixelAspectRatio+15)/64),f&&(a.globalColorTable=l1(u,d));const v=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(K){if(K instanceof DOMException&&K.name==="IndexSizeError")return null;throw K}})();if(v==null)throw new Error("GIF frame size is to large");const{r:b,g:E,b:C}=a.globalColorTable[g];v.data.set(f?[b,E,C,255]:[0,0,0,0]);for(let K=4;K<v.data.length;K*=2)v.data.copyWithin(K,0,K);a.backgroundImage=v;let A=-1,I=!0,D=-1;const j=K=>(K&&(I=!0),A),F=K=>(K!=null&&(D=K),D);try{do I&&(a.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),A++,D=-1,I=!1);while(!await ZN(u,a,t,j,F,e));a.frames.length--;for(const K of a.frames){if(K.userInputDelayFlag&&K.delayTime===0){a.totalTime=1/0;break}a.totalTime+=K.delayTime}return a}catch(K){throw K instanceof EvalError?new Error(`error while parsing frame ${A} "${K.message}"`):K}}const tV=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function nV(n,e,t){const{svgData:i}=n;if(!i)return"";const r=Lc(e,t);if(i.includes("fill"))return i.replace(tV,()=>r);const a=i.indexOf(">");return`${i.substring(0,a)} fill="${r}"${i.substring(a)}`}async function rp(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,ra().error(`${mi} loading image: ${n.source}`),e()}),t.src=n.source})}async function iV(n){if(n.type!=="gif"){await rp(n);return}n.loading=!0;try{n.gifData=await eV(n.source),n.gifLoopCount=JN(n.gifData)??0,n.gifLoopCount===0&&(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}async function sV(n){if(n.type!=="svg"){await rp(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(ra().error(`${mi} Image not found`),n.error=!0),n.loading=!1}function rV(n,e,t,i){const r=nV(n,t,i.opacity?.value??1),a={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(u=>{const h=new Blob([r],{type:"image/svg+xml"}),f=URL||window.URL||window.webkitURL||window,d=f.createObjectURL(h),g=new Image;g.addEventListener("load",()=>{a.loaded=!0,a.element=g,u(a),f.revokeObjectURL(d)}),g.addEventListener("error",async()=>{f.revokeObjectURL(d);const v={...n,error:!1,loading:!0};await rp(v),a.loaded=!0,a.element=v.element,u(a)}),g.src=d})}class oV{constructor(e){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${mi} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??t.replace_color??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,t,i,r,a){const u=t.image,h=u?.element;if(u){if(e.globalAlpha=r,u.gif&&u.gifData){const f=new OffscreenCanvas(u.gifData.width,u.gifData.height),d=f.getContext("2d");if(!d)throw new Error("could not create offscreen canvas context");d.imageSmoothingQuality="low",d.imageSmoothingEnabled=!1,d.clearRect(0,0,f.width,f.height),t.gifLoopCount===void 0&&(t.gifLoopCount=u.gifLoopCount??0);let g=t.gifFrame??0;const v={x:-u.gifData.width*.5,y:-u.gifData.height*.5},b=u.gifData.frames[g];if(t.gifTime===void 0&&(t.gifTime=0),!b.bitmap)return;switch(e.scale(i/u.gifData.width,i/u.gifData.height),b.disposalMethod){case 4:case 5:case 6:case 7:case 0:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height);break;case 1:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y);break;case 2:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height),u.gifData.globalColorTable.length===0?d.putImageData(u.gifData.frames[0].image,v.x+b.left,v.y+b.top):d.putImageData(u.gifData.backgroundImage,v.x,v.y);break;case 3:{const E=d.getImageData(0,0,f.width,f.height);d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height),d.putImageData(E,0,0)}break}if(t.gifTime+=a.value,t.gifTime>b.delayTime){if(t.gifTime-=b.delayTime,++g>=u.gifData.frames.length){if(--t.gifLoopCount<=0)return;g=0,d.clearRect(0,0,f.width,f.height)}t.gifFrame=g}e.scale(u.gifData.width/i,u.gifData.height/i)}else if(h){const f=u.ratio,d={x:-i,y:-i};e.drawImage(h,d.x,d.y,i*2,i*2/f)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData,a=t.getFillColor(),u=i.find(f=>f.name===r.name||f.source===r.src);if(!u)return;const h=r.replaceColor??r.replace_color??u.replaceColor;if(u.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let f;u.svgData&&a?f=await rV(u,r,a,t):f={color:a,data:u,element:u.element,gif:u.gif,gifData:u.gifData,gifLoopCount:u.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:u.ratio??1,replaceColor:h,source:r.src},f.ratio||(f.ratio=1);const d=r.fill??t.fill,g=r.close??t.close,v={image:f,fill:d,close:g};t.image=v.image,t.fill=v.fill,t.close=v.close})()}}class aV{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class lV{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,t){if(!t||!t.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const a=i.find(u=>u.name===r.name||u.src===r.src);if(a)a.load(r);else{const u=new aV;u.load(r),i.push(u)}}}needsPlugin(){return!0}}function uV(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${mi} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t),await(e.gif?iV:e.replaceColor?sV:rp)(t)}catch{throw new Error(`${mi} ${e.name??e.src} not found`)}})}async function cV(n,e=!0){uV(n);const t=new lV(n);await n.addPlugin(t,e),await n.addShape(["image","images"],new oV(n),e)}class hV extends eo{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class fV extends eo{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class dV{constructor(){this.count=0,this.delay=new hV,this.duration=new fV}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class pV{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?_e(r.delay.value)*(r.delay.sync?1:ot())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?_e(r.duration.value)*(r.duration.sync?1:ot())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new dV);for(const i of t)e.life.load(i?.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=t.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const a=this.container.canvas.size,u=Ie(0,a.width),h=Ie(0,a.width);e.position.x=kn(u),e.position.y=kn(h),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const f=e.options.life;f&&(i.delay=_e(f.delay.value)*1e3,i.duration=_e(f.duration.value)*1e3)}}async function mV(n,e=!0){await n.addParticleUpdater("life",t=>new pV(t),e)}class gV{draw(e,t,i){const r=t.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=r?.cap??"butt"}getSidesCount(){return 1}}async function yV(n,e=!0){await n.addShape("line",new gV,e)}class vV{init(){}isEnabled(e){return!Pl()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(Pl()||!r.enable)return;const a=r.force,u=t.interactivity.mouse.position;if(!u)return;const h=t.canvas.size,f={x:h.width/2,y:h.height/2},d=r.smooth,g=e.getRadius()/a,v={x:(u.x-f.x)*g,y:(u.y-f.y)*g},{offset:b}=e;b.x+=(v.x-b.x)/d,b.y+=(v.y-b.y)/d}}async function _V(n,e=!0){await n.addMover("parallax",()=>new vV,e)}class bV extends Zv{constructor(e){super(e)}clear(){}init(){}async interact(e){const t=this.container,i=e.retina.attractDistance??t.retina.attractDistance,r=e.getPosition(),a=t.particles.quadTree.queryCircle(r,i);for(const u of a){if(e===u||!u.options.move.attract.enable||u.destroyed||u.spawning)continue;const h=u.getPosition(),{dx:f,dy:d}=Rn(r,h),g=e.options.move.attract.rotate,v=f/(g.x*1e3),b=d/(g.y*1e3),E=u.size.value/e.size.value,C=1/E;e.velocity.x-=v*E,e.velocity.y-=b*E,u.velocity.x+=v*C,u.velocity.y+=b*C}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function wV(n,e=!0){await n.addInteractor("particlesAttract",t=>new bV(t),e)}function vE(n,e,t,i,r,a){const u=Di(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=u/2,t.size.value-=u,i<=a&&(t.size.value=0,t.destroy())}function TV(n,e,t,i){const r=n.getRadius(),a=e.getRadius();r===void 0&&a!==void 0?n.destroy():r!==void 0&&a===void 0?e.destroy():r!==void 0&&a!==void 0&&(r>=a?vE(n,r,e,a,t,i):vE(e,a,n,r,t,i))}const _E=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=_e(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function u1(n,e){Bx(By(n),By(e)),_E(n),_E(e)}function EV(n,e){!n.unbreakable&&!e.unbreakable&&u1(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function SV(n,e,t,i){switch(n.options.collisions.mode){case"absorb":{TV(n,e,t,i);break}case"bounce":{u1(n,e);break}case"destroy":{EV(n,e);break}}}class AV extends Zv{constructor(e){super(e)}clear(){}init(){}async interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),a=e.getRadius(),u=i.particles.quadTree.queryCircle(r,a*2);for(const h of u){if(e===h||!h.options.collisions.enable||e.options.collisions.mode!==h.options.collisions.mode||h.destroyed||h.spawning)continue;const f=h.getPosition(),d=h.getRadius();if(Math.abs(Math.round(r.z)-Math.round(f.z))>a+d)continue;const g=Kn(r,f),v=a+d;g>v||SV(e,h,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function xV(n,e=!0){await n.addInteractor("particlesCollisions",t=>new AV(t),e)}class RV extends _n{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:a}=e;return super.contains(e)||super.contains({x:r-t,y:a})||super.contains({x:r-t,y:a-i})||super.contains({x:r,y:a-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const a=new _n(r.x,r.y,i.radius*2);return super.intersects(a)}else if(t.size!==void 0){const a=new Pi(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(a)}return!1}}class CV{constructor(){this.blur=5,this.color=new un,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=un.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class IV{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class DV{constructor(){this.blink=!1,this.color=new un,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new CV,this.triangles=new IV,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=un.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function PV(n,e,t,i,r){const{dx:a,dy:u,distance:h}=Rn(n,e);if(!r||h<=t)return h;const f={x:Math.abs(a),y:Math.abs(u)},d={x:Math.min(f.x,i.width-f.x),y:Math.min(f.y,i.height-f.y)};return Math.sqrt(d.x**2+d.y**2)}class MV extends Zv{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let a=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(a)return;const u=r.color;a=Yx(u,r.blink,r.consent),r.id===void 0?i.particles.linksColor=a:i.particles.linksColors.set(r.id,a)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const a=e.options.links,u=a.opacity,h=e.retina.linksDistance??0,f=a.warp,d=f?new RV(t.x,t.y,h,r):new _n(t.x,t.y,h),g=i.particles.quadTree.query(d);for(const v of g){const b=v.options.links;if(e===v||!b?.enable||a.id!==b.id||v.spawning||v.destroyed||!v.links||e.links.some(I=>I.destination===v)||v.links.some(I=>I.destination===e))continue;const E=v.getPosition();if(E.x<0||E.y<0||E.x>r.width||E.y>r.height)continue;const C=PV(t,E,h,r,f&&b.warp);if(C>h)continue;const A=(1-C/h)*u;this._setColor(e),e.links.push({destination:v,opacity:A})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new DV);for(const i of t)e.links.load(i?.links??i?.lineLinked??i?.line_linked)}reset(){}}async function kV(n,e=!0){await n.addInteractor("particlesLinks",t=>new MV(t),e)}function OV(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:a,canvasSize:u,width:h,backgroundMask:f,colorLine:d,opacity:g,links:v}=n;if(Kn(t,i)<=r)Tc(a,t,i),e=!0;else if(v.warp){let E,C;const A={x:i.x-u.width,y:i.y},I=Rn(t,A);if(I.distance<=r){const D=t.y-I.dy/I.dx*t.x;E={x:0,y:D},C={x:u.width,y:D}}else{const D={x:i.x,y:i.y-u.height},j=Rn(t,D);if(j.distance<=r){const K=-(t.y-j.dy/j.dx*t.x)/(j.dy/j.dx);E={x:K,y:0},C={x:K,y:u.height}}else{const F={x:i.x-u.width,y:i.y-u.height},K=Rn(t,F);if(K.distance<=r){const Z=t.y-K.dy/K.dx*t.x;E={x:-Z/(K.dy/K.dx),y:Z},C={x:E.x+u.width,y:E.y+u.height}}}}E&&C&&(Tc(a,t,E),Tc(a,i,C),e=!0)}if(!e)return;a.lineWidth=h,f.enable&&(a.globalCompositeOperation=f.composite),a.strokeStyle=Hs(d,g);const{shadow:b}=v;if(b.enable){const E=Ci(b.color);E&&(a.shadowBlur=b.blur,a.shadowColor=Hs(E))}a.stroke()}function NV(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:a,colorTriangle:u,opacityTriangle:h}=n;m2(e,t,i,r),a.enable&&(e.globalCompositeOperation=a.composite),e.fillStyle=Hs(u,h),e.fill()}function VV(n){return n.sort((e,t)=>e-t),n.join("_")}function bE(n,e){const t=VV(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=ot(),e.set(t,i)),i}class LV{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=t.options.links;if(!r?.enable)return;const a=this.container,u=a.actualOptions,h=i.destination,f=t.getPosition(),d=h.getPosition();let g=i.opacity;a.canvas.draw(v=>{let b;const E=t.options.twinkle?.lines;if(E?.enable){const D=E.frequency,j=Ci(E.color);ot()<D&&j&&(b=j,g=_e(E.opacity))}if(!b){const D=r.id!==void 0?a.particles.linksColors.get(r.id):a.particles.linksColor;b=jy(t,h,D)}if(!b)return;const C=t.retina.linksWidth??0,A=t.retina.linksDistance??0,{backgroundMask:I}=u;OV({context:v,width:C,begin:f,end:d,maxDistance:A,canvasSize:a.canvas.size,links:r,backgroundMask:I,colorLine:b,opacity:g})})},this._drawLinkTriangle=(t,i,r)=>{const a=t.options.links;if(!a?.enable)return;const u=a.triangles;if(!u.enable)return;const h=this.container,f=h.actualOptions,d=i.destination,g=r.destination,v=u.opacity??(i.opacity+r.opacity)/2;v<=0||h.canvas.draw(b=>{const E=t.getPosition(),C=d.getPosition(),A=g.getPosition(),I=t.retina.linksDistance??0;if(Kn(E,C)>I||Kn(A,C)>I||Kn(A,E)>I)return;let D=Ci(u.color);if(!D){const j=a.id!==void 0?h.particles.linksColors.get(a.id):h.particles.linksColor;D=jy(t,d,j)}D&&NV({context:b,pos1:E,pos2:C,pos3:A,backgroundMask:f.backgroundMask,colorTriangle:D,opacityTriangle:v})})},this._drawTriangles=(t,i,r,a)=>{const u=r.destination;if(!(t.links?.triangles.enable&&u.options.links?.triangles.enable))return;const h=u.links?.filter(f=>{const d=this._getLinkFrequency(u,f.destination);return u.options.links&&d<=u.options.links.frequency&&a.findIndex(g=>g.destination===f.destination)>=0});if(h?.length)for(const f of h){const d=f.destination;this._getTriangleFrequency(i,u,d)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(t,i)=>bE([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>bE([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const a=i.filter(u=>r.links&&this._getLinkFrequency(t,u.destination)<=r.links.frequency);for(const u of a)this._drawTriangles(r,t,u,a),u.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,u)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:a}=e.options.links;i.linksDistance=r*t,i.linksWidth=a*t}particleDestroyed(e){e.links=[]}}class UV{constructor(){this.id="links"}getPlugin(e){return new LV(e)}loadOptions(){}needsPlugin(){return!0}}async function zV(n,e=!0){const t=new UV;await n.addPlugin(t,e)}async function BV(n,e=!0){await kV(n,e),await zV(n,e)}class c1{draw(e,t,i){const r=this.getCenter(t,i),a=this.getSidesData(t,i),u=a.count.numerator*a.count.denominator,h=a.count.numerator/a.count.denominator,f=180*(h-2)/h,d=Math.PI-Math.PI*f/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let g=0;g<u;g++)e.lineTo(a.length,0),e.translate(a.length,0),e.rotate(d)}}getSidesCount(e){const t=e.shapeData;return Math.round(_e(t?.sides??t?.nb_sides??5))}}class jV extends c1{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/(2.66/3.5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*2.66/(i/3)}}}class FV extends c1{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:t*2}}}async function qV(n,e=!0){await n.addShape("polygon",new jV,e)}async function HV(n,e=!0){await n.addShape("triangle",new FV,e)}async function GV(n,e=!0){await qV(n,e),await HV(n,e)}class $V{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class KV extends eo{constructor(){super(),this.animation=new $V,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function YV(n,e){const t=n.rotate,i=n.options.rotate;if(!t||!i)return;const r=i.animation,a=(t.velocity??0)*e.factor,u=2*Math.PI,h=t.decay??1;if(r.enable){switch(t.status){case"increasing":t.value+=a,t.value>u&&(t.value-=u);break;case"decreasing":default:t.value-=a,t.value<0&&(t.value+=u);break}t.velocity&&h!==1&&(t.velocity*=h)}}class XV{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:_e(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch(i==="random"&&(i=Math.floor(ot()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=t.animation;r.enable&&(e.rotate.decay=1-_e(r.decay),e.rotate.velocity=_e(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=ot())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path:!1}loadOptions(e,...t){e.rotate||(e.rotate=new KV);for(const i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(YV(e,t),e.rotation=e.rotate?.value??0)}}async function QV(n,e=!0){await n.addParticleUpdater("rotate",t=>new XV(t),e)}const WV=Math.sqrt(2);class ZV{draw(e,t,i){const r=i/WV,a=r*2;e.rect(-r,-r,a,a)}getSidesCount(){return 4}}async function JV(n,e=!0){await n.addShape(["edge","square"],new ZV,e)}class eL{draw(e,t,i){const r=t.sides,a=t.starInset??2;e.moveTo(0,0-i);for(let u=0;u<r;u++)e.rotate(Math.PI/r),e.lineTo(0,0-i*a),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const t=e.shapeData;return Math.round(_e(t?.sides??t?.nb_sides??5))}particleInit(e,t){const i=t.shapeData,r=_e(i?.inset??2);t.starInset=r}}async function tL(n,e=!0){await n.addShape("star",new eL,e)}function sy(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const a=kn(t.offset),u=(e.velocity??0)*n.factor+a*3.6,h=e.decay??1;!r||e.status==="increasing"?(e.value+=u,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=u,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&h!==1&&(e.velocity*=h),e.value>i&&(e.value%=i)}function nL(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const{h:t,s:i,l:r}=n.strokeColor,{h:a,s:u,l:h}=n.strokeAnimation;t&&sy(e,t,a,360,!1),i&&sy(e,i,u,100,!0),r&&sy(e,r,h,100,!0)}class iL{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=qs(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=_e(r.width)*t.retina.pixelRatio,e.strokeOpacity=_e(r.opacity??1),e.strokeAnimation=r.color?.animation;const a=Vc(r.color)??e.getFillColor();a&&(e.strokeColor=Xx(a,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&nL(e,t)}}async function sL(n,e=!0){await n.addParticleUpdater("strokeColor",t=>new iL(t),e)}const ud=["text","character","char"];class rL{draw(e,t,i,r){const a=t.shapeData;if(a===void 0)return;const u=a.value;if(u===void 0)return;t.text===void 0&&(t.text=qs(u,t.randomIndexData));const h=t.text,f=a.style??"",d=a.weight??"400",g=Math.round(i)*2,v=a.font??"Verdana",b=t.fill,E=h.length*i/2;e.font=`${f} ${d} ${g}px "${v}"`;const C={x:-E,y:i/2};e.globalAlpha=r,b?e.fillText(h,C.x,C.y):e.strokeText(h,C.x,C.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(ud.find(i=>Rt(i,t.particles.shape.type))){const i=ud.map(a=>t.particles.shape.options[a]).find(a=>!!a),r=[];Zt(i,a=>{r.push(o2(a.font,a.weight))}),await Promise.all(r)}}particleInit(e,t){if(!t.shape||!ud.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=qs(r,t.randomIndexData))}}async function oL(n,e=!0){await n.addShape(ud,new rL,e)}async function aL(n,e=!0){MO(n),await _V(n,!1),await fN(n,!1),await mN(n,!1),await _N(n,!1),await RN(n,!1),await kN(n,!1),await NN(n,!1),await UN(n,!1),await jN(n,!1),await GN(n,!1),await YN(n,!1),await wV(n,!1),await xV(n,!1),await BV(n,!1),await uN(),await cV(n,!1),await yV(n,!1),await GV(n,!1),await JV(n,!1),await tL(n,!1),await oL(n,!1),await mV(n,!1),await QV(n,!1),await sL(n,!1),await lN(n,e)}function h1({className:n=""}){const e=z.useCallback(async t=>{await aL(t)},[]);return M.jsx(s1,{id:"tsparticles",init:e,className:n,style:{position:"absolute",inset:0},options:{fpsLimit:60,detectRetina:!0,background:{color:"transparent"},fullScreen:{enable:!1},pauseOnBlur:!0,smooth:!0,reduceDuplicates:!0,particles:{number:{value:60,density:{enable:!0,area:900}},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5},size:{value:{min:1,max:3}},links:{enable:!0,distance:130,color:"#ffffff",opacity:.2,width:1},move:{enable:!0,speed:.6,direction:"none",outModes:{default:"out"},random:!1,straight:!1}},interactivity:{detectsOn:"window",events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!1,mode:"push"},resize:!0},modes:{repulse:{distance:80,duration:.3},push:{quantity:2}}}}})}function lL(){const{pathname:n}=gi(),e="/images/computerbg.jpg",[t,i]=z.useState(!1);return z.useEffect(()=>{const r=requestAnimationFrame(()=>i(!0));return()=>cancelAnimationFrame(r)},[]),M.jsxs(M.Fragment,{children:[M.jsx("div",{"aria-hidden":!0,className:"fixed -z-30 left-0 right-0 top-0 h-svh bg-center bg-cover md:bg-fixed",style:{backgroundImage:`url(${e})`,willChange:"transform",transform:"translateZ(0)"}}),M.jsx("div",{"aria-hidden":!0,className:"fixed -z-20 left-0 right-0 top-0 h-svh bg-black/30 pointer-events-none",style:{willChange:"opacity",transform:"translateZ(0)"}}),t&&M.jsx("div",{"aria-hidden":!0,className:"fixed -z-10 left-0 right-0 top-0 h-svh pointer-events-none",style:{willChange:"transform",transform:"translateZ(0)"},children:M.jsx(h1,{},n)})]})}const uL=()=>{};var wE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},cL=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],u=n[t++],h=n[t++],f=((r&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|u&63)}}return e.join("")},d1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],u=r+1<n.length,h=u?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,g=a>>2,v=(a&3)<<4|h>>4;let b=(h&15)<<2|d>>6,E=d&63;f||(E=64,u||(b=64)),i.push(t[g],t[v],t[b],t[E])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(f1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||h==null||d==null||v==null)throw new hL;const b=a<<2|h>>4;if(i.push(b),d!==64){const E=h<<4&240|d>>2;if(i.push(E),v!==64){const C=d<<6&192|v;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fL=function(n){const e=f1(n);return d1.encodeByteArray(e,!0)},Pd=function(n){return fL(n).replace(/\./g,"")},p1=function(n){try{return d1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=()=>dL().__FIREBASE_DEFAULTS__,mL=()=>{if(typeof process>"u"||typeof wE>"u")return;const n=wE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&p1(n[1]);return e&&JSON.parse(e)},op=()=>{try{return uL()||pL()||mL()||gL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m1=n=>op()?.emulatorHosts?.[n],g1=n=>{const e=m1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},y1=()=>op()?.config,v1=n=>op()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Pd(JSON.stringify(t)),Pd(JSON.stringify(u)),""].join(".")}const Ec={};function vL(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?n.emulator.push(e):n.prod.push(e);return n}function _L(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let TE=!1;function e_(n,e){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||Ec[n]===e||Ec[n]||TE)return;Ec[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",a=vL().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{TE=!0,u()},b}function g(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=_L(i),E=t("text"),C=document.getElementById(E)||document.createElement("span"),A=t("learnmore"),I=document.getElementById(A)||document.createElement("a"),D=t("preprendIcon"),j=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;h(F),g(I,A);const K=d();f(j,D),F.append(j,C,I,K),document.body.appendChild(F)}a?(C.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function wL(){const n=op()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EL(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AL(){const n=bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xL(){return!wL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RL(){try{return typeof indexedDB=="object"}catch{return!1}}function CL(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="FirebaseError";class ds extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=IL,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],u=a?DL(a,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new ds(r,h,i)}}function DL(n,e){return n.replace(PL,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const PL=/\{\$([^}]+)}/g;function ML(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function oa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],u=e[r];if(EE(a)&&EE(u)){if(!oa(a,u))return!1}else if(a!==u)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function EE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function mc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function kL(n,e){const t=new OL(n,e);return t.subscribe.bind(t)}class OL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");NL(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=ry),r.error===void 0&&(r.error=ry),r.complete===void 0&&(r.complete=ry);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ry(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n){return n&&n._delegate?n._delegate:n}class Gr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new yL;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UL(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LL(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LL(n){return n===Go?void 0:n}function UL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const BL={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},jL=Ve.INFO,FL={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},qL=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=FL[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=jL,this._logHandler=qL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const HL=(n,e)=>e.some(t=>n instanceof t);let SE,AE;function GL(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $L(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b1=new WeakMap,Fy=new WeakMap,w1=new WeakMap,oy=new WeakMap,n_=new WeakMap;function KL(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(zr(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&b1.set(t,n)}).catch(()=>{}),n_.set(e,n),e}function YL(n){if(Fy.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Fy.set(n,e)}let qy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||w1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XL(n){qy=n(qy)}function QL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ay(this),e,...t);return w1.set(i,e.sort?e.sort():[e]),zr(i)}:$L().includes(n)?function(...e){return n.apply(ay(this),e),zr(b1.get(this))}:function(...e){return zr(n.apply(ay(this),e))}}function WL(n){return typeof n=="function"?QL(n):(n instanceof IDBTransaction&&YL(n),HL(n,GL())?new Proxy(n,qy):n)}function zr(n){if(n instanceof IDBRequest)return KL(n);if(oy.has(n))return oy.get(n);const e=WL(n);return e!==n&&(oy.set(n,e),n_.set(e,n)),e}const ay=n=>n_.get(n);function ZL(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(n,e),h=zr(u);return i&&u.addEventListener("upgradeneeded",f=>{i(zr(u.result),f.oldVersion,f.newVersion,zr(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const JL=["get","getKey","getAll","getAllKeys","count"],e4=["put","add","delete","clear"],ly=new Map;function xE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ly.get(e))return ly.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=e4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||JL.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),r&&f.done]))[0]};return ly.set(e,a),a}XL(n=>({...n,get:(e,t,i)=>xE(e,t)||n.get(e,t,i),has:(e,t)=>!!xE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(n4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function n4(n){return n.getComponent()?.type==="VERSION"}const Hy="@firebase/app",RE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new t_("@firebase/app"),i4="@firebase/app-compat",s4="@firebase/analytics-compat",r4="@firebase/analytics",o4="@firebase/app-check-compat",a4="@firebase/app-check",l4="@firebase/auth",u4="@firebase/auth-compat",c4="@firebase/database",h4="@firebase/data-connect",f4="@firebase/database-compat",d4="@firebase/functions",p4="@firebase/functions-compat",m4="@firebase/installations",g4="@firebase/installations-compat",y4="@firebase/messaging",v4="@firebase/messaging-compat",_4="@firebase/performance",b4="@firebase/performance-compat",w4="@firebase/remote-config",T4="@firebase/remote-config-compat",E4="@firebase/storage",S4="@firebase/storage-compat",A4="@firebase/firestore",x4="@firebase/ai",R4="@firebase/firestore-compat",C4="firebase",I4="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="[DEFAULT]",D4={[Hy]:"fire-core",[i4]:"fire-core-compat",[r4]:"fire-analytics",[s4]:"fire-analytics-compat",[a4]:"fire-app-check",[o4]:"fire-app-check-compat",[l4]:"fire-auth",[u4]:"fire-auth-compat",[c4]:"fire-rtdb",[h4]:"fire-data-connect",[f4]:"fire-rtdb-compat",[d4]:"fire-fn",[p4]:"fire-fn-compat",[m4]:"fire-iid",[g4]:"fire-iid-compat",[y4]:"fire-fcm",[v4]:"fire-fcm-compat",[_4]:"fire-perf",[b4]:"fire-perf-compat",[w4]:"fire-rc",[T4]:"fire-rc-compat",[E4]:"fire-gcs",[S4]:"fire-gcs-compat",[A4]:"fire-fst",[R4]:"fire-fst-compat",[x4]:"fire-vertex","fire-js":"fire-js",[C4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,P4=new Map,$y=new Map;function CE(n,e){try{n.container.addComponent(e)}catch(t){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function aa(n){const e=n.name;if($y.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,n);for(const t of Md.values())CE(t,n);for(const t of P4.values())CE(t,n);return!0}function ap(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new oh("app","Firebase",M4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=I4;function T1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Gy,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Br.create("bad-app-name",{appName:String(r)});if(t||(t=y1()),!t)throw Br.create("no-options");const a=Md.get(r);if(a){if(oa(t,a.options)&&oa(i,a.config))return a;throw Br.create("duplicate-app",{appName:r})}const u=new zL(r);for(const f of $y.values())u.addComponent(f);const h=new k4(t,i,u);return Md.set(r,h),h}function i_(n=Gy){const e=Md.get(n);if(!e&&n===Gy&&y1())return T1();if(!e)throw Br.create("no-app",{appName:n});return e}function ts(n,e,t){let i=D4[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const u=[`Unable to register library "${i}" with version "${e}":`];r&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(u.join(" "));return}aa(new Gr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="firebase-heartbeat-database",N4=1,zc="firebase-heartbeat-store";let uy=null;function E1(){return uy||(uy=ZL(O4,N4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Br.create("idb-open",{originalErrorMessage:n.message})})),uy}async function V4(n){try{const t=(await E1()).transaction(zc),i=await t.objectStore(zc).get(S1(n));return await t.done,i}catch(e){if(e instanceof ds)$s.warn(e.message);else{const t=Br.create("idb-get",{originalErrorMessage:e?.message});$s.warn(t.message)}}}async function IE(n,e){try{const i=(await E1()).transaction(zc,"readwrite");await i.objectStore(zc).put(e,S1(n)),await i.done}catch(t){if(t instanceof ds)$s.warn(t.message);else{const i=Br.create("idb-set",{originalErrorMessage:t?.message});$s.warn(i.message)}}}function S1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=1024,U4=30;class z4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new j4(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=DE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>U4){const r=F4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DE(),{heartbeatsToSend:t,unsentEntries:i}=B4(this._heartbeatsCache.heartbeats),r=Pd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return $s.warn(e),""}}}function DE(){return new Date().toISOString().substring(0,10)}function B4(n,e=L4){const t=[];let i=n.slice();for(const r of n){const a=t.find(u=>u.agent===r.agent);if(a){if(a.dates.push(r.date),PE(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),PE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class j4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RL()?CL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await V4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return IE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return IE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PE(n){return Pd(JSON.stringify({version:2,heartbeats:n})).length}function F4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(n){aa(new Gr("platform-logger",e=>new t4(e),"PRIVATE")),aa(new Gr("heartbeat",e=>new z4(e),"PRIVATE")),ts(Hy,RE,n),ts(Hy,RE,"esm2020"),ts("fire-js","")}q4("");function A1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H4=A1,x1=new oh("auth","Firebase",A1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new t_("@firebase/auth");function G4(n,...e){kd.logLevel<=Ve.WARN&&kd.warn(`Auth (${pa}): ${n}`,...e)}function cd(n,...e){kd.logLevel<=Ve.ERROR&&kd.error(`Auth (${pa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,...e){throw s_(n,...e)}function ns(n,...e){return s_(n,...e)}function R1(n,e,t){const i={...H4(),[e]:t};return new oh("auth","Firebase",i).create(e,{appName:n.name})}function jr(n){return R1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return x1.create(n,...e)}function we(n,e,...t){if(!n)throw s_(e,...t)}function Bs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cd(e),new Error(e)}function Ks(n,e){n||Bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(){return typeof self<"u"&&self.location?.href||""}function $4(){return ME()==="http:"||ME()==="https:"}function ME(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($4()||EL()||"connection"in navigator)?navigator.onLine:!0}function Y4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ks(t>e,"Short delay should be less than long delay!"),this.isMobile=bL()||SL()}get(){return K4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n,e){Ks(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W4=new lh(3e4,6e4);function ma(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function no(n,e,t,i,r={}){return I1(n,r,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=ah({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...a};return TL()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&to(n.emulatorConfig.host)&&(d.credentials="include"),C1.fetch()(await D1(n,n.config.apiHost,t,h),d)})}async function I1(n,e,t){n._canInitEmulator=!1;const i={...X4,...e};try{const r=new J4(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Yf(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Yf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Yf(n,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw R1(n,g,d);Mi(n,g)}}catch(r){if(r instanceof ds)throw r;Mi(n,"network-request-failed",{message:String(r)})}}async function lp(n,e,t,i,r={}){const a=await no(n,e,t,i,r);return"mfaPendingCredential"in a&&Mi(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function D1(n,e,t,i){const r=`${e}${t}?${i}`,a=n,u=a.config.emulator?r_(n.config,r):`${n.config.apiScheme}://${r}`;return Q4.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function Z4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class J4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ns(this.auth,"network-request-failed")),W4.get())})}}function Yf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ns(n,e,i);return r.customData._tokenResponse=t,r}function kE(n){return n!==void 0&&n.enterprise!==void 0}class eU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Z4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tU(n,e){return no(n,"GET","/v2/recaptchaConfig",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(n,e){return no(n,"POST","/v1/accounts:delete",e)}async function Od(n,e){return no(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iU(n,e=!1){const t=ht(n),i=await t.getIdToken(e),r=o_(i);we(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,u=a?.sign_in_provider;return{claims:r,token:i,authTime:Sc(cy(r.auth_time)),issuedAtTime:Sc(cy(r.iat)),expirationTime:Sc(cy(r.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function cy(n){return Number(n)*1e3}function o_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return cd("JWT malformed, contained fewer than 3 sections"),null;try{const r=p1(t);return r?JSON.parse(r):(cd("Failed to decode base64 JWT payload"),null)}catch(r){return cd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function OE(n){const e=o_(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ds&&sU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function sU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(n){const e=n.auth,t=await n.getIdToken(),i=await Bc(n,Od(e,{idToken:t}));we(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=r.providerUserInfo?.length?P1(r.providerUserInfo):[],u=aU(n.providerData,a),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!u?.length,d=h?f:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:u,metadata:new Yy(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function oU(n){const e=ht(n);await Nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aU(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function P1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(n,e){const t=await I1(n,{},async()=>{const i=ah({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,u=await D1(n,r,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&to(n.emulatorConfig.host)&&(f.credentials="include"),C1.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uU(n,e){return no(n,"POST","/v2/accounts:revokeToken",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=OE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await lU(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,u=new Al;return i&&(we(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),r&&(we(typeof r=="string","internal-error",{appName:e}),u.accessToken=r),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return Bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new rU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Yy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iU(this,e)}reload(){return oU(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Nd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(jr(this.auth));const e=await this.getIdToken();return await Bc(this,nU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:E,providerData:C,stsTokenManager:A}=t;we(v&&A,e,"internal-error");const I=Al.fromJSON(this.name,A);we(typeof v=="string",e,"internal-error"),Rr(i,e.name),Rr(r,e.name),we(typeof b=="boolean",e,"internal-error"),we(typeof E=="boolean",e,"internal-error"),Rr(a,e.name),Rr(u,e.name),Rr(h,e.name),Rr(f,e.name),Rr(d,e.name),Rr(g,e.name);const D=new Si({uid:v,auth:e,email:r,emailVerified:b,displayName:i,isAnonymous:E,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:I,createdAt:d,lastLoginAt:g});return C&&Array.isArray(C)&&(D.providerData=C.map(j=>({...j}))),f&&(D._redirectEventId=f),D}static async _fromIdTokenResponse(e,t,i=!1){const r=new Al;r.updateFromServerResponse(t);const a=new Si({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Nd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];we(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?P1(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!a?.length,h=new Al;h.updateFromIdToken(i);const f=new Si({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Yy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;function js(n){Ks(n instanceof Function,"Expected a class definition");let e=NE.get(n);return e?(Ks(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,NE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}M1.type="NONE";const VE=M1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(n,e,t){return`firebase:${n}:${e}:${t}`}class xl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=hd(this.userKey,r.apiKey,a),this.fullPersistenceKey=hd("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Od(this.auth,{idToken:e}).catch(()=>{});return t?Si._fromGetAccountInfoResponse(this.auth,t,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new xl(js(VE),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||js(VE);const u=hd(i,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let v;if(typeof g=="string"){const b=await Od(e,{idToken:g}).catch(()=>{});if(!b)break;v=await Si._fromGetAccountInfoResponse(e,b,g)}else v=Si._fromJSON(e,g);d!==a&&(h=v),a=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new xl(a,e,i):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==a)try{await d._remove(u)}catch{}})),new xl(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U1(e))return"Blackberry";if(z1(e))return"Webos";if(O1(e))return"Safari";if((e.includes("chrome/")||N1(e))&&!e.includes("edge/"))return"Chrome";if(L1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function k1(n=bn()){return/firefox\//i.test(n)}function O1(n=bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N1(n=bn()){return/crios\//i.test(n)}function V1(n=bn()){return/iemobile/i.test(n)}function L1(n=bn()){return/android/i.test(n)}function U1(n=bn()){return/blackberry/i.test(n)}function z1(n=bn()){return/webos/i.test(n)}function a_(n=bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cU(n=bn()){return a_(n)&&!!window.navigator?.standalone}function hU(){return AL()&&document.documentMode===10}function B1(n=bn()){return a_(n)||L1(n)||z1(n)||U1(n)||/windows phone/i.test(n)||V1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n,e=[]){let t;switch(n){case"Browser":t=LE(bn());break;case"Worker":t=`${LE(bn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(n,e={}){return no(n,"GET","/v2/passwordPolicy",ma(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=6;class mU{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??pU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new fU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=js(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Od(this,{idToken:e}),i=await Si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(jr(this));const t=e?ht(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dU(this),t=new mU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await uU(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&js(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[js(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,r);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&G4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gl(n){return ht(n)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=kL(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yU(n){up=n}function F1(n){return up.loadJS(n)}function vU(){return up.recaptchaEnterpriseScript}function _U(){return up.gapiScript}function bU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wU{constructor(){this.enterprise=new TU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class TU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const EU="recaptcha-enterprise",q1="NO_RECAPTCHA";class SU{constructor(e){this.type=EU,this.auth=Gl(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{tU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new eU(f);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function r(a,u,h){const f=window.grecaptcha;kE(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(q1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wU().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&kE(window.grecaptcha))r(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=vU();f.length!==0&&(f+=h),F1(f).then(()=>{r(h,a,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function zE(n,e,t,i=!1,r=!1){const a=new SU(n);let u;if(r)u=q1;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function BE(n,e,t,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await zE(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await zE(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(n,e){const t=ap(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(oa(a,e??{}))return r;Mi(r,"already-initialized")}return t.initialize({options:e})}function xU(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(js);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function RU(n,e,t){const i=Gl(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=H1(e),{host:u,port:h}=CU(e),f=h===null?"":`:${h}`,d={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(oa(d,i.config.emulator)&&oa(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,to(u)?(Jv(`${a}//${u}${f}`),e_("Auth",!0)):IU()}function H1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CU(n){const e=H1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:jE(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:jE(u)}}}function jE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bs("not implemented")}_getIdTokenResponse(e){return Bs("not implemented")}_linkToIdToken(e,t){return Bs("not implemented")}_getReauthenticationResolver(e){return Bs("not implemented")}}async function DU(n,e){return no(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(n,e){return lp(n,"POST","/v1/accounts:signInWithPassword",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MU(n,e){return lp(n,"POST","/v1/accounts:signInWithEmailLink",ma(n,e))}async function kU(n,e){return lp(n,"POST","/v1/accounts:signInWithEmailLink",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends l_{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new jc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BE(e,t,"signInWithPassword",PU);case"emailLink":return MU(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BE(e,i,"signUpPassword",DU);case"emailLink":return kU(e,{idToken:t,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n,e){return lp(n,"POST","/v1/accounts:signInWithIdp",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="http://localhost";class la extends l_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=t;if(!i||!r)return null;const u=new la(i,r);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Rl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Rl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rl(e,t)}buildRequest(){const e={requestUri:OU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ah(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VU(n){const e=pc(mc(n)).link,t=e?pc(mc(e)).deep_link_id:null,i=pc(mc(n)).deep_link_id;return(i?pc(mc(i)).link:null)||i||t||e||n}class u_{constructor(e){const t=pc(mc(e)),i=t.apiKey??null,r=t.oobCode??null,a=NU(t.mode??null);we(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=VU(e);try{return new u_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.providerId=$l.PROVIDER_ID}static credential(e,t){return jc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=u_.parseLink(t);return we(i,"argument-error"),jc._fromEmailAndCode(e,i.code,i.tenantId)}}$l.PROVIDER_ID="password";$l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends G1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends uh{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return la._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Mr.credential(t,i)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends uh{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends uh{constructor(){super("twitter.com")}static credential(e,t){return la._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Or.credential(t,i)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Si._fromIdTokenResponse(e,i,r),u=FE(i);return new kl({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=FE(i);return new kl({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function FE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends ds{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Vd(e,t,i,r)}}function $1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vd._fromErrorAndOperation(n,a,e,i):a})}async function LU(n,e,t=!1){const i=await Bc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return kl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(n,e,t=!1){const{auth:i}=n;if(hi(i.app))return Promise.reject(jr(i));const r="reauthenticate";try{const a=await Bc(n,$1(i,r,e,n),t);we(a.idToken,i,"internal-error");const u=o_(a.idToken);we(u,i,"internal-error");const{sub:h}=u;return we(n.uid===h,i,"user-mismatch"),kl._forOperation(n,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&Mi(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(n,e,t=!1){if(hi(n.app))return Promise.reject(jr(n));const i="signIn",r=await $1(n,i,e),a=await kl._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function zU(n,e){return K1(Gl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(n){const e=Gl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jU(n,e,t){return hi(n.app)?Promise.reject(jr(n)):zU(ht(n),$l.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&BU(n),i})}function FU(n,e,t,i){return ht(n).onIdTokenChanged(e,t,i)}function qU(n,e,t){return ht(n).beforeAuthStateChanged(e,t)}function cp(n,e,t,i){return ht(n).onAuthStateChanged(e,t,i)}function Y1(n){return ht(n).signOut()}const Ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=1e3,GU=10;class Q1 extends X1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);hU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,GU):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},HU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q1.type="LOCAL";const $U=Q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends X1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}W1.type="SESSION";const Z1=W1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new hp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,u=this.handlersMap[r];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async d=>d(t.origin,a)),f=await KU(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const d=c_("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(b.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function XU(n){is().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function QU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WU(){return navigator?.serviceWorker?.controller||null}function ZU(){return J1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="firebaseLocalStorageDb",JU=1,Ud="firebaseLocalStorage",tR="fbase_key";class ch{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fp(n,e){return n.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function e3(){const n=indexedDB.deleteDatabase(eR);return new ch(n).toPromise()}function Xy(){const n=indexedDB.open(eR,JU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ud,{keyPath:tR})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ud)?e(i):(i.close(),await e3(),e(await Xy()))})})}async function qE(n,e,t){const i=fp(n,!0).put({[tR]:e,value:t});return new ch(i).toPromise()}async function t3(n,e){const t=fp(n,!1).get(e),i=await new ch(t).toPromise();return i===void 0?null:i.value}function HE(n,e){const t=fp(n,!0).delete(e);return new ch(t).toPromise()}const n3=800,i3=3;class nR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>i3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hp._getInstance(ZU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QU(),!this.activeServiceWorker)return;this.sender=new YU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xy();return await qE(e,Ld,"1"),await HE(e,Ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>qE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>t3(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>HE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=fp(r,!1).getAll();return new ch(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nR.type="LOCAL";const s3=nR;new lh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(n,e){return e?js(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends l_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function o3(n){return K1(n.auth,new h_(n),n.bypassAuthState)}function a3(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),UU(t,new h_(n),n.bypassAuthState)}async function l3(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),LU(t,new h_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o3;case"linkViaPopup":case"linkViaRedirect":return l3;case"reauthViaPopup":case"reauthViaRedirect":return a3;default:Mi(this.auth,"internal-error")}}resolve(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new lh(2e3,1e4);class _l extends iR{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,_l.currentPopupAction&&_l.currentPopupAction.cancel(),_l.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ks(this.filter.length===1,"Popup operations only handle one event");const e=c_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_l.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u3.get())};e()}}_l.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="pendingRedirect",fd=new Map;class h3 extends iR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const i=await f3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f3(n,e){const t=m3(e),i=p3(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function d3(n,e){fd.set(n._key(),e)}function p3(n){return js(n._redirectPersistence)}function m3(n){return hd(c3,n.config.apiKey,n.name)}async function g3(n,e,t=!1){if(hi(n.app))return Promise.reject(jr(n));const i=Gl(n),r=r3(i,e),u=await new h3(i,r,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=600*1e3;class v3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!sR(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ns(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y3&&this.cachedEventUids.clear(),this.cachedEventUids.has(GE(e))}saveEventToCache(e){this.cachedEventUids.add(GE(e)),this.lastProcessedEventTime=Date.now()}}function GE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function _3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(n,e={}){return no(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T3=/^https?/;async function E3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await b3(n);for(const t of e)try{if(S3(t))return}catch{}Mi(n,"unauthorized-domain")}function S3(n){const e=Ky(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!T3.test(t))return!1;if(w3.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=new lh(3e4,6e4);function $E(){const n=is().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function x3(n){return new Promise((e,t)=>{function i(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),t(ns(n,"network-request-failed"))},timeout:A3.get()})}if(is().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(is().gapi?.load)i();else{const r=bU("iframefcb");return is()[r]=()=>{gapi.load?i():t(ns(n,"network-request-failed"))},F1(`${_U()}?onload=${r}`).catch(a=>t(a))}}).catch(e=>{throw dd=null,e})}let dd=null;function R3(n){return dd=dd||x3(n),dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new lh(5e3,15e3),I3="__/auth/iframe",D3="emulator/auth/iframe",P3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k3(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?r_(e,D3):`https://${n.config.authDomain}/${I3}`,i={apiKey:e.apiKey,appName:n.name,v:pa},r=M3.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${ah(i).slice(1)}`}async function O3(n){const e=await R3(n),t=is().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:k3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P3,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const u=ns(n,"network-request-failed"),h=is().setTimeout(()=>{a(u)},C3.get());function f(){is().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V3=500,L3=600,U3="_blank",z3="http://localhost";class KE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B3(n,e,t,i=V3,r=L3){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...N3,width:i.toString(),height:r.toString(),top:a,left:u},d=bn().toLowerCase();t&&(h=N1(d)?U3:t),k1(d)&&(e=e||z3,f.scrollbars="yes");const g=Object.entries(f).reduce((b,[E,C])=>`${b}${E}=${C},`,"");if(cU(d)&&h!=="_self")return j3(e||"",h),new KE(null);const v=window.open(e||"",h,g);we(v,n,"popup-blocked");try{v.focus()}catch{}return new KE(v)}function j3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="__/auth/handler",q3="emulator/auth/handler",H3=encodeURIComponent("fac");async function YE(n,e,t,i,r,a){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:pa,eventId:r};if(e instanceof G1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",ML(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof uh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${H3}=${encodeURIComponent(f)}`:"";return`${G3(n)}?${ah(h).slice(1)}${d}`}function G3({config:n}){return n.emulator?r_(n,q3):`https://${n.authDomain}/${F3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="webStorageSupport";class $3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z1,this._completeRedirectFn=g3,this._overrideRedirectResult=d3}async _openPopup(e,t,i,r){Ks(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await YE(e,t,i,Ky(),r);return B3(e,a,c_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await YE(e,t,i,Ky(),r);return XU(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Ks(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await O3(e),i=new v3(e);return t.register("authEvent",r=>(we(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hy,{type:hy},r=>{const a=r?.[0]?.[hy];a!==void 0&&t(!!a),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=E3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return B1()||O1()||a_()}}const K3=$3;var XE="@firebase/auth",QE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q3(n){aa(new Gr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(n)},d=new gU(i,r,a,f);return xU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),aa(new Gr("auth-internal",e=>{const t=Gl(e.getProvider("auth").getImmediate());return(i=>new Y3(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(XE,QE,X3(n)),ts(XE,QE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=300,Z3=v1("authIdTokenMaxAge")||W3;let WE=null;const J3=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Z3)return;const r=t?.token;WE!==r&&(WE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function e6(n=i_()){const e=ap(n,"auth");if(e.isInitialized())return e.getImmediate();const t=AU(n,{popupRedirectResolver:K3,persistence:[s3,$U,Z1]}),i=v1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=J3(a.toString());qU(t,u,()=>u(t.currentUser)),FU(t,h=>u(h))}}const r=m1("auth");return r&&RU(t,`http://${r}`),t}function t6(){return document.getElementsByTagName("head")?.[0]??document}yU({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=ns("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",t6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q3("Browser");var n6="firebase",i6="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(n6,i6,"app");var ZE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,rR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function P(){}P.prototype=R.prototype,O.D=R.prototype,O.prototype=new P,O.prototype.constructor=O,O.C=function(L,B,q){for(var N=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)N[Ct-2]=arguments[Ct];return R.prototype[B].apply(L,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,R,P){P||(P=0);var L=Array(16);if(typeof R=="string")for(var B=0;16>B;++B)L[B]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(B=0;16>B;++B)L[B]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=O.g[0],P=O.g[1],B=O.g[2];var q=O.g[3],N=R+(q^P&(B^q))+L[0]+3614090360&4294967295;R=P+(N<<7&4294967295|N>>>25),N=q+(B^R&(P^B))+L[1]+3905402710&4294967295,q=R+(N<<12&4294967295|N>>>20),N=B+(P^q&(R^P))+L[2]+606105819&4294967295,B=q+(N<<17&4294967295|N>>>15),N=P+(R^B&(q^R))+L[3]+3250441966&4294967295,P=B+(N<<22&4294967295|N>>>10),N=R+(q^P&(B^q))+L[4]+4118548399&4294967295,R=P+(N<<7&4294967295|N>>>25),N=q+(B^R&(P^B))+L[5]+1200080426&4294967295,q=R+(N<<12&4294967295|N>>>20),N=B+(P^q&(R^P))+L[6]+2821735955&4294967295,B=q+(N<<17&4294967295|N>>>15),N=P+(R^B&(q^R))+L[7]+4249261313&4294967295,P=B+(N<<22&4294967295|N>>>10),N=R+(q^P&(B^q))+L[8]+1770035416&4294967295,R=P+(N<<7&4294967295|N>>>25),N=q+(B^R&(P^B))+L[9]+2336552879&4294967295,q=R+(N<<12&4294967295|N>>>20),N=B+(P^q&(R^P))+L[10]+4294925233&4294967295,B=q+(N<<17&4294967295|N>>>15),N=P+(R^B&(q^R))+L[11]+2304563134&4294967295,P=B+(N<<22&4294967295|N>>>10),N=R+(q^P&(B^q))+L[12]+1804603682&4294967295,R=P+(N<<7&4294967295|N>>>25),N=q+(B^R&(P^B))+L[13]+4254626195&4294967295,q=R+(N<<12&4294967295|N>>>20),N=B+(P^q&(R^P))+L[14]+2792965006&4294967295,B=q+(N<<17&4294967295|N>>>15),N=P+(R^B&(q^R))+L[15]+1236535329&4294967295,P=B+(N<<22&4294967295|N>>>10),N=R+(B^q&(P^B))+L[1]+4129170786&4294967295,R=P+(N<<5&4294967295|N>>>27),N=q+(P^B&(R^P))+L[6]+3225465664&4294967295,q=R+(N<<9&4294967295|N>>>23),N=B+(R^P&(q^R))+L[11]+643717713&4294967295,B=q+(N<<14&4294967295|N>>>18),N=P+(q^R&(B^q))+L[0]+3921069994&4294967295,P=B+(N<<20&4294967295|N>>>12),N=R+(B^q&(P^B))+L[5]+3593408605&4294967295,R=P+(N<<5&4294967295|N>>>27),N=q+(P^B&(R^P))+L[10]+38016083&4294967295,q=R+(N<<9&4294967295|N>>>23),N=B+(R^P&(q^R))+L[15]+3634488961&4294967295,B=q+(N<<14&4294967295|N>>>18),N=P+(q^R&(B^q))+L[4]+3889429448&4294967295,P=B+(N<<20&4294967295|N>>>12),N=R+(B^q&(P^B))+L[9]+568446438&4294967295,R=P+(N<<5&4294967295|N>>>27),N=q+(P^B&(R^P))+L[14]+3275163606&4294967295,q=R+(N<<9&4294967295|N>>>23),N=B+(R^P&(q^R))+L[3]+4107603335&4294967295,B=q+(N<<14&4294967295|N>>>18),N=P+(q^R&(B^q))+L[8]+1163531501&4294967295,P=B+(N<<20&4294967295|N>>>12),N=R+(B^q&(P^B))+L[13]+2850285829&4294967295,R=P+(N<<5&4294967295|N>>>27),N=q+(P^B&(R^P))+L[2]+4243563512&4294967295,q=R+(N<<9&4294967295|N>>>23),N=B+(R^P&(q^R))+L[7]+1735328473&4294967295,B=q+(N<<14&4294967295|N>>>18),N=P+(q^R&(B^q))+L[12]+2368359562&4294967295,P=B+(N<<20&4294967295|N>>>12),N=R+(P^B^q)+L[5]+4294588738&4294967295,R=P+(N<<4&4294967295|N>>>28),N=q+(R^P^B)+L[8]+2272392833&4294967295,q=R+(N<<11&4294967295|N>>>21),N=B+(q^R^P)+L[11]+1839030562&4294967295,B=q+(N<<16&4294967295|N>>>16),N=P+(B^q^R)+L[14]+4259657740&4294967295,P=B+(N<<23&4294967295|N>>>9),N=R+(P^B^q)+L[1]+2763975236&4294967295,R=P+(N<<4&4294967295|N>>>28),N=q+(R^P^B)+L[4]+1272893353&4294967295,q=R+(N<<11&4294967295|N>>>21),N=B+(q^R^P)+L[7]+4139469664&4294967295,B=q+(N<<16&4294967295|N>>>16),N=P+(B^q^R)+L[10]+3200236656&4294967295,P=B+(N<<23&4294967295|N>>>9),N=R+(P^B^q)+L[13]+681279174&4294967295,R=P+(N<<4&4294967295|N>>>28),N=q+(R^P^B)+L[0]+3936430074&4294967295,q=R+(N<<11&4294967295|N>>>21),N=B+(q^R^P)+L[3]+3572445317&4294967295,B=q+(N<<16&4294967295|N>>>16),N=P+(B^q^R)+L[6]+76029189&4294967295,P=B+(N<<23&4294967295|N>>>9),N=R+(P^B^q)+L[9]+3654602809&4294967295,R=P+(N<<4&4294967295|N>>>28),N=q+(R^P^B)+L[12]+3873151461&4294967295,q=R+(N<<11&4294967295|N>>>21),N=B+(q^R^P)+L[15]+530742520&4294967295,B=q+(N<<16&4294967295|N>>>16),N=P+(B^q^R)+L[2]+3299628645&4294967295,P=B+(N<<23&4294967295|N>>>9),N=R+(B^(P|~q))+L[0]+4096336452&4294967295,R=P+(N<<6&4294967295|N>>>26),N=q+(P^(R|~B))+L[7]+1126891415&4294967295,q=R+(N<<10&4294967295|N>>>22),N=B+(R^(q|~P))+L[14]+2878612391&4294967295,B=q+(N<<15&4294967295|N>>>17),N=P+(q^(B|~R))+L[5]+4237533241&4294967295,P=B+(N<<21&4294967295|N>>>11),N=R+(B^(P|~q))+L[12]+1700485571&4294967295,R=P+(N<<6&4294967295|N>>>26),N=q+(P^(R|~B))+L[3]+2399980690&4294967295,q=R+(N<<10&4294967295|N>>>22),N=B+(R^(q|~P))+L[10]+4293915773&4294967295,B=q+(N<<15&4294967295|N>>>17),N=P+(q^(B|~R))+L[1]+2240044497&4294967295,P=B+(N<<21&4294967295|N>>>11),N=R+(B^(P|~q))+L[8]+1873313359&4294967295,R=P+(N<<6&4294967295|N>>>26),N=q+(P^(R|~B))+L[15]+4264355552&4294967295,q=R+(N<<10&4294967295|N>>>22),N=B+(R^(q|~P))+L[6]+2734768916&4294967295,B=q+(N<<15&4294967295|N>>>17),N=P+(q^(B|~R))+L[13]+1309151649&4294967295,P=B+(N<<21&4294967295|N>>>11),N=R+(B^(P|~q))+L[4]+4149444226&4294967295,R=P+(N<<6&4294967295|N>>>26),N=q+(P^(R|~B))+L[11]+3174756917&4294967295,q=R+(N<<10&4294967295|N>>>22),N=B+(R^(q|~P))+L[2]+718787259&4294967295,B=q+(N<<15&4294967295|N>>>17),N=P+(q^(B|~R))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(B+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+B&4294967295,O.g[3]=O.g[3]+q&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var P=R-this.blockSize,L=this.B,B=this.h,q=0;q<R;){if(B==0)for(;q<=P;)r(this,O,q),q+=this.blockSize;if(typeof O=="string"){for(;q<R;)if(L[B++]=O.charCodeAt(q++),B==this.blockSize){r(this,L),B=0;break}}else for(;q<R;)if(L[B++]=O[q++],B==this.blockSize){r(this,L),B=0;break}}this.h=B,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var P=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=P&255,P/=256;for(this.u(O),O=Array(16),R=P=0;4>R;++R)for(var L=0;32>L;L+=8)O[P++]=this.g[R]>>>L&255;return O};function a(O,R){var P=h;return Object.prototype.hasOwnProperty.call(P,O)?P[O]:P[O]=R(O)}function u(O,R){this.h=R;for(var P=[],L=!0,B=O.length-1;0<=B;B--){var q=O[B]|0;L&&q==R||(P[B]=q,L=!1)}this.g=P}var h={};function f(O){return-128<=O&&128>O?a(O,function(R){return new u([R|0],0>R?-1:0)}):new u([O|0],0>O?-1:0)}function d(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return I(d(-O));for(var R=[],P=1,L=0;O>=P;L++)R[L]=O/P|0,P*=4294967296;return new u(R,0)}function g(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return I(g(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(R,8)),L=v,B=0;B<O.length;B+=8){var q=Math.min(8,O.length-B),N=parseInt(O.substring(B,B+q),R);8>q?(q=d(Math.pow(R,q)),L=L.j(q).add(d(N))):(L=L.j(P),L=L.add(d(N)))}return L}var v=f(0),b=f(1),E=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-I(this).m();for(var O=0,R=1,P=0;P<this.g.length;P++){var L=this.i(P);O+=(0<=L?L:4294967296+L)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(A(this))return"-"+I(this).toString(O);for(var R=d(Math.pow(O,6)),P=this,L="";;){var B=K(P,R).g;P=D(P,B.j(R));var q=((0<P.g.length?P.g[0]:P.h)>>>0).toString(O);if(P=B,C(P))return q+L;for(;6>q.length;)q="0"+q;L=q+L}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function A(O){return O.h==-1}n.l=function(O){return O=D(this,O),A(O)?-1:C(O)?0:1};function I(O){for(var R=O.g.length,P=[],L=0;L<R;L++)P[L]=~O.g[L];return new u(P,~O.h).add(b)}n.abs=function(){return A(this)?I(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),P=[],L=0,B=0;B<=R;B++){var q=L+(this.i(B)&65535)+(O.i(B)&65535),N=(q>>>16)+(this.i(B)>>>16)+(O.i(B)>>>16);L=N>>>16,q&=65535,N&=65535,P[B]=N<<16|q}return new u(P,P[P.length-1]&-2147483648?-1:0)};function D(O,R){return O.add(I(R))}n.j=function(O){if(C(this)||C(O))return v;if(A(this))return A(O)?I(this).j(I(O)):I(I(this).j(O));if(A(O))return I(this.j(I(O)));if(0>this.l(E)&&0>O.l(E))return d(this.m()*O.m());for(var R=this.g.length+O.g.length,P=[],L=0;L<2*R;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var B=0;B<O.g.length;B++){var q=this.i(L)>>>16,N=this.i(L)&65535,Ct=O.i(B)>>>16,st=O.i(B)&65535;P[2*L+2*B]+=N*st,j(P,2*L+2*B),P[2*L+2*B+1]+=q*st,j(P,2*L+2*B+1),P[2*L+2*B+1]+=N*Ct,j(P,2*L+2*B+1),P[2*L+2*B+2]+=q*Ct,j(P,2*L+2*B+2)}for(L=0;L<R;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=R;L<2*R;L++)P[L]=0;return new u(P,0)};function j(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function F(O,R){this.g=O,this.h=R}function K(O,R){if(C(R))throw Error("division by zero");if(C(O))return new F(v,v);if(A(O))return R=K(I(O),R),new F(I(R.g),I(R.h));if(A(R))return R=K(O,I(R)),new F(I(R.g),R.h);if(30<O.g.length){if(A(O)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var P=b,L=R;0>=L.l(O);)P=Z(P),L=Z(L);var B=ue(P,1),q=ue(L,1);for(L=ue(L,2),P=ue(P,2);!C(L);){var N=q.add(L);0>=N.l(O)&&(B=B.add(P),q=N),L=ue(L,1),P=ue(P,1)}return R=D(O,B.j(R)),new F(B,R)}for(B=v;0<=O.l(R);){for(P=Math.max(1,Math.floor(O.m()/R.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),q=d(P),N=q.j(R);A(N)||0<N.l(O);)P-=L,q=d(P),N=q.j(R);C(q)&&(q=b),B=B.add(q),O=D(O,N)}return new F(B,O)}n.A=function(O){return K(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),P=[],L=0;L<R;L++)P[L]=this.i(L)&O.i(L);return new u(P,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),P=[],L=0;L<R;L++)P[L]=this.i(L)|O.i(L);return new u(P,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),P=[],L=0;L<R;L++)P[L]=this.i(L)^O.i(L);return new u(P,this.h^O.h)};function Z(O){for(var R=O.g.length+1,P=[],L=0;L<R;L++)P[L]=O.i(L)<<1|O.i(L-1)>>>31;return new u(P,O.h)}function ue(O,R){var P=R>>5;R%=32;for(var L=O.g.length-P,B=[],q=0;q<L;q++)B[q]=0<R?O.i(q+P)>>>R|O.i(q+P+1)<<32-R:O.i(q+P);return new u(B,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,rR=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Fr=u}).apply(typeof ZE<"u"?ZE:typeof self<"u"?self:typeof window<"u"?window:{});var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oR,gc,aR,pd,Qy,lR,uR,cR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,w){return p==Array.prototype||p==Object.prototype||(p[_]=w.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xf=="object"&&Xf];for(var _=0;_<p.length;++_){var w=p[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(p,_){if(_)e:{var w=i;p=p.split(".");for(var x=0;x<p.length-1;x++){var G=p[x];if(!(G in w))break e;w=w[G]}p=p[p.length-1],x=w[p],_=_(x),_!=x&&_!=null&&e(w,p,{configurable:!0,writable:!0,value:_})}}function a(p,_){p instanceof String&&(p+="");var w=0,x=!1,G={next:function(){if(!x&&w<p.length){var W=w++;return{value:_(W,p[W]),done:!1}}return x=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}r("Array.prototype.values",function(p){return p||function(){return a(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function d(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function g(p,_,w){return p.call.apply(p.bind,arguments)}function v(p,_,w){if(!p)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,x),p.apply(_,G)}}return function(){return p.apply(_,arguments)}}function b(p,_,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function E(p,_){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),p.apply(this,x)}}function C(p,_){function w(){}w.prototype=_.prototype,p.aa=_.prototype,p.prototype=new w,p.prototype.constructor=p,p.Qb=function(x,G,W){for(var le=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)le[ze-2]=arguments[ze];return _.prototype[G].apply(x,le)}}function A(p){const _=p.length;if(0<_){const w=Array(_);for(let x=0;x<_;x++)w[x]=p[x];return w}return[]}function I(p,_){for(let w=1;w<arguments.length;w++){const x=arguments[w];if(f(x)){const G=p.length||0,W=x.length||0;p.length=G+W;for(let le=0;le<W;le++)p[G+le]=x[le]}else p.push(x)}}class D{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(p){return/^[\s\xa0]*$/.test(p)}function F(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function K(p){return K[" "](p),p}K[" "]=function(){};var Z=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ue(p,_,w){for(const x in p)_.call(w,p[x],x,p)}function O(p,_){for(const w in p)_.call(void 0,p[w],w,p)}function R(p){const _={};for(const w in p)_[w]=p[w];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(p,_){let w,x;for(let G=1;G<arguments.length;G++){x=arguments[G];for(w in x)p[w]=x[w];for(let W=0;W<P.length;W++)w=P[W],Object.prototype.hasOwnProperty.call(x,w)&&(p[w]=x[w])}}function B(p){var _=1;p=p.split(":");const w=[];for(;0<_&&p.length;)w.push(p.shift()),_--;return p.length&&w.push(p.join(":")),w}function q(p){h.setTimeout(()=>{throw p},0)}function N(){var p=De;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class Ct{constructor(){this.h=this.g=null}add(_,w){const x=st.get();x.set(_,w),this.h?this.h.next=x:this.g=x,this.h=x}}var st=new D(()=>new J,p=>p.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,fe=!1,De=new Ct,V=()=>{const p=h.Promise.resolve(void 0);oe=()=>{p.then(re)}};var re=()=>{for(var p;p=N();){try{p.h.call(p.g)}catch(w){q(w)}var _=st;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}fe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const w=()=>{};h.addEventListener("test",w,_),h.removeEventListener("test",w,_)}catch{}return p})();function Me(p,_){if(ae.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var w=this.type=p.type,x=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(Z){e:{try{K(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else w=="mouseover"?_=p.fromElement:w=="mouseout"&&(_=p.toElement);this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ae[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Me.aa.h.call(this)}}C(Me,ae);var Ae={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Vi(p,_,w,x,G){this.listener=p,this.proxy=null,this.src=_,this.type=w,this.capture=!!x,this.ha=G,this.key=++tt,this.da=this.fa=!1}function Zs(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ps(p){this.src=p,this.g={},this.h=0}ps.prototype.add=function(p,_,w,x,G){var W=p.toString();p=this.g[W],p||(p=this.g[W]=[],this.h++);var le=ao(p,_,x,G);return-1<le?(_=p[le],w||(_.fa=!1)):(_=new Vi(_,this.src,W,!!x,G),_.fa=w,p.push(_)),_};function oo(p,_){var w=_.type;if(w in p.g){var x=p.g[w],G=Array.prototype.indexOf.call(x,_,void 0),W;(W=0<=G)&&Array.prototype.splice.call(x,G,1),W&&(Zs(_),p.g[w].length==0&&(delete p.g[w],p.h--))}}function ao(p,_,w,x){for(var G=0;G<p.length;++G){var W=p[G];if(!W.da&&W.listener==_&&W.capture==!!w&&W.ha==x)return G}return-1}var lo="closure_lm_"+(1e6*Math.random()|0),tu={};function Th(p,_,w,x,G){if(Array.isArray(_)){for(var W=0;W<_.length;W++)Th(p,_[W],w,x,G);return null}return w=Eh(w),p&&p[Ht]?p.K(_,w,d(x)?!!x.capture:!1,G):Xn(p,_,w,!1,x,G)}function Xn(p,_,w,x,G,W){if(!_)throw Error("Invalid event type");var le=d(G)?!!G.capture:!!G,ze=ba(p);if(ze||(p[lo]=ze=new ps(p)),w=ze.add(_,w,x,le,W),w.proxy)return w;if(x=Np(),w.proxy=x,x.src=p,x.listener=w,p.addEventListener)ye||(G=le),G===void 0&&(G=!1),p.addEventListener(_.toString(),x,G);else if(p.attachEvent)p.attachEvent(uo(_.toString()),x);else if(p.addListener&&p.removeListener)p.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Np(){function p(w){return _.call(p.src,p.listener,w)}const _=Vp;return p}function nu(p,_,w,x,G){if(Array.isArray(_))for(var W=0;W<_.length;W++)nu(p,_[W],w,x,G);else x=d(x)?!!x.capture:!!x,w=Eh(w),p&&p[Ht]?(p=p.i,_=String(_).toString(),_ in p.g&&(W=p.g[_],w=ao(W,w,x,G),-1<w&&(Zs(W[w]),Array.prototype.splice.call(W,w,1),W.length==0&&(delete p.g[_],p.h--)))):p&&(p=ba(p))&&(_=p.g[_.toString()],p=-1,_&&(p=ao(_,w,x,G)),(w=-1<p?_[p]:null)&&_a(w))}function _a(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[Ht])oo(_.i,p);else{var w=p.type,x=p.proxy;_.removeEventListener?_.removeEventListener(w,x,p.capture):_.detachEvent?_.detachEvent(uo(w),x):_.addListener&&_.removeListener&&_.removeListener(x),(w=ba(_))?(oo(w,p),w.h==0&&(w.src=null,_[lo]=null)):Zs(p)}}}function uo(p){return p in tu?tu[p]:tu[p]="on"+p}function Vp(p,_){if(p.da)p=!0;else{_=new Me(_,this);var w=p.listener,x=p.ha||p.src;p.fa&&_a(p),p=w.call(x,_)}return p}function ba(p){return p=p[lo],p instanceof ps?p:null}var iu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eh(p){return typeof p=="function"?p:(p[iu]||(p[iu]=function(_){return p.handleEvent(_)}),p[iu])}function gt(){ce.call(this),this.i=new ps(this),this.M=this,this.F=null}C(gt,ce),gt.prototype[Ht]=!0,gt.prototype.removeEventListener=function(p,_,w,x){nu(this,p,_,w,x)};function Ke(p,_){var w,x=p.F;if(x)for(w=[];x;x=x.F)w.push(x);if(p=p.M,x=_.type||_,typeof _=="string")_=new ae(_,p);else if(_ instanceof ae)_.target=_.target||p;else{var G=_;_=new ae(x,p),L(_,G)}if(G=!0,w)for(var W=w.length-1;0<=W;W--){var le=_.g=w[W];G=Nn(le,x,!0,_)&&G}if(le=_.g=p,G=Nn(le,x,!0,_)&&G,G=Nn(le,x,!1,_)&&G,w)for(W=0;W<w.length;W++)le=_.g=w[W],G=Nn(le,x,!1,_)&&G}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var w=p.g[_],x=0;x<w.length;x++)Zs(w[x]);delete p.g[_],p.h--}}this.F=null},gt.prototype.K=function(p,_,w,x){return this.i.add(String(p),_,!1,w,x)},gt.prototype.L=function(p,_,w,x){return this.i.add(String(p),_,!0,w,x)};function Nn(p,_,w,x){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,W=0;W<_.length;++W){var le=_[W];if(le&&!le.da&&le.capture==w){var ze=le.listener,zt=le.ha||le.src;le.fa&&oo(p.i,le),G=ze.call(zt,x)!==!1&&G}}return G&&!x.defaultPrevented}function hn(p,_,w){if(typeof p=="function")w&&(p=b(p,w));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(p,_||0)}function Sh(p){p.g=hn(()=>{p.g=null,p.i&&(p.i=!1,Sh(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class Lp extends ce{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Sh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(p){ce.call(this),this.h=p,this.g={}}C(co,ce);var ho=[];function fo(p){ue(p.g,function(_,w){this.g.hasOwnProperty(w)&&_a(_)},p),p.g={}}co.prototype.N=function(){co.aa.N.call(this),fo(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yi=h.JSON.stringify,wa=h.JSON.parse,po=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function su(){}su.prototype.h=null;function ru(p){return p.h||(p.h=p.i())}function ou(){}var ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gs(){ae.call(this,"d")}C(gs,ae);function au(){ae.call(this,"c")}C(au,ae);var Li={},lu=null;function Js(){return lu=lu||new gt}Li.La="serverreachability";function Ta(p){ae.call(this,Li.La,p)}C(Ta,ae);function er(p){const _=Js();Ke(_,new Ta(_))}Li.STAT_EVENT="statevent";function Ah(p,_){ae.call(this,Li.STAT_EVENT,p),this.stat=_}C(Ah,ae);function at(p){const _=Js();Ke(_,new Ah(_,p))}Li.Ma="timingevent";function Ut(p,_){ae.call(this,Li.Ma,p),this.size=_}C(Ut,ae);function It(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},_)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function uu(p,_,w,x,G,W){p.info(function(){if(p.g)if(W)for(var le="",ze=W.split("&"),zt=0;zt<ze.length;zt++){var Be=ze[zt].split("=");if(1<Be.length){var $t=Be[0];Be=Be[1];var Bt=$t.split("_");le=2<=Bt.length&&Bt[1]=="type"?le+($t+"="+Be+"&"):le+($t+"=redacted&")}}else le=null;else le=W;return"XMLHTTP REQ ("+x+") [attempt "+G+"]: "+_+`
`+w+`
`+le})}function Up(p,_,w,x,G,W,le){p.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+G+"]: "+_+`
`+w+`
`+W+" "+le})}function tr(p,_,w,x){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+mo(p,w)+(x?" "+x:"")})}function xh(p,_){p.info(function(){return"TIMEOUT: "+_})}Qn.prototype.info=function(){};function mo(p,_){if(!p.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(p=0;p<w.length;p++)if(Array.isArray(w[p])){var x=w[p];if(!(2>x.length)){var G=x[1];if(Array.isArray(G)&&!(1>G.length)){var W=G[0];if(W!="noop"&&W!="stop"&&W!="close")for(var le=1;le<G.length;le++)G[le]=""}}}}return yi(w)}catch{return _}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ys={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ui;function zi(){}C(zi,su),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},Ui=new zi;function wn(p,_,w,x){this.j=p,this.i=_,this.l=w,this.R=x||1,this.U=new co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var cu={},Ea={};function vi(p,_,w){p.L=1,p.v=bo(Vn(_)),p.m=w,p.P=!0,vs(p,null)}function vs(p,_){p.F=Date.now(),go(p),p.A=Vn(p.v);var w=p.A,x=p.R;Array.isArray(x)||(x=[String(x)]),gu(w.i,"t",x),p.C=0,w=p.j.J,p.h=new Tt,p.g=Fh(p.j,w?_:null,!p.m),0<p.O&&(p.M=new Lp(b(p.Y,p,p.g),p.O)),_=p.U,w=p.g,x=p.ca;var G="readystatechange";Array.isArray(G)||(G&&(ho[0]=G.toString()),G=ho);for(var W=0;W<G.length;W++){var le=Th(w,G[W],x||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),er(),uu(p.i,p.u,p.A,p.l,p.R,p.m)}wn.prototype.ca=function(p){p=p.target;const _=this.M;_&&ei(p)==3?_.j():this.Y(p)},wn.prototype.Y=function(p){try{if(p==this.g)e:{const Bt=ei(this.g);var _=this.g.Ba();const xs=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Oh(this.g)))){this.J||Bt!=4||_==7||(_==8||0>=xs?er(3):er(2)),ir(this);var w=this.g.Z();this.X=w;t:if(Rh(this)){var x=Oh(this.g);p="";var G=x.length,W=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),Bi(this);var le="";break t}this.h.i=new h.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,p+=this.h.i.decode(x[_],{stream:!(W&&_==G-1)});x.length=0,this.h.g+=p,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=w==200,Up(this.i,this.u,this.A,this.l,this.R,Bt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,zt=this.g;if((ze=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ze)){var Be=ze;break t}}Be=null}if(w=Be)tr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yo(this,w);else{this.o=!1,this.s=3,at(12),Jt(this),Bi(this);break e}}if(this.P){w=!0;let en;for(;!this.J&&this.C<le.length;)if(en=Ch(this,le),en==Ea){Bt==4&&(this.s=4,at(14),w=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(en==cu){this.s=4,at(15),tr(this.i,this.l,le,"[Invalid Chunk]"),w=!1;break}else tr(this.i,this.l,en,null),yo(this,en);if(Rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||le.length!=0||this.h.h||(this.s=1,at(16),w=!1),this.o=this.o&&w,!w)tr(this.i,this.l,le,"[Invalid Chunked Response]"),Jt(this),Bi(this);else if(0<le.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Co($t),$t.M=!0,at(11))}}else tr(this.i,this.l,le,null),yo(this,le);Bt==4&&Jt(this),this.o&&!this.J&&(Bt==4?zh(this.j,this):(this.o=!1,go(this)))}else qp(this.g),w==400&&0<le.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Jt(this),Bi(this)}}}catch{}finally{}};function Rh(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Ch(p,_){var w=p.C,x=_.indexOf(`
`,w);return x==-1?Ea:(w=Number(_.substring(w,x)),isNaN(w)?cu:(x+=1,x+w>_.length?Ea:(_=_.slice(x,x+w),p.C=x+w,_)))}wn.prototype.cancel=function(){this.J=!0,Jt(this)};function go(p){p.S=Date.now()+p.I,Ih(p,p.I)}function Ih(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=It(b(p.ba,p),_)}function ir(p){p.B&&(h.clearTimeout(p.B),p.B=null)}wn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(xh(this.i,this.A),this.L!=2&&(er(),at(17)),Jt(this),this.s=2,Bi(this)):Ih(this,this.S-p)};function Bi(p){p.j.G==0||p.J||zh(p.j,p)}function Jt(p){ir(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,fo(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function yo(p,_){try{var w=p.j;if(w.G!=0&&(w.g==p||hu(w.h,p))){if(!p.K&&hu(w.h,p)&&w.G==3){try{var x=w.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var G=x;if(G[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<p.F)Na(w),ka(w);else break e;wu(w),at(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&w.v==0&&!w.C&&(w.C=It(b(w.Za,w),6e3));if(1>=Aa(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else As(w,11)}else if((p.K||w.g==p)&&Na(w),!j(_))for(G=w.Da.g.parse(_),_=0;_<G.length;_++){let Be=G[_];if(w.T=Be[0],Be=Be[1],w.G==2)if(Be[0]=="c"){w.K=Be[1],w.ia=Be[2];const $t=Be[3];$t!=null&&(w.la=$t,w.j.info("VER="+w.la));const Bt=Be[4];Bt!=null&&(w.Aa=Bt,w.j.info("SVER="+w.Aa));const xs=Be[5];xs!=null&&typeof xs=="number"&&0<xs&&(x=1.5*xs,w.L=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;const en=p.g;if(en){const Ki=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ki){var W=x.h;W.g||Ki.indexOf("spdy")==-1&&Ki.indexOf("quic")==-1&&Ki.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(xa(W,W.h),W.h=null))}if(x.D){const Eu=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Eu&&(x.ya=Eu,Qe(x.I,x.D,Eu))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-p.F,w.j.info("Handshake RTT: "+w.R+"ms")),x=w;var le=p;if(x.qa=jh(x,x.J?x.ia:null,x.W),le.K){Tn(x.h,le);var ze=le,zt=x.L;zt&&(ze.I=zt),ze.B&&(ir(ze),go(ze)),x.g=le}else Lh(x);0<w.i.length&&Oa(w)}else Be[0]!="stop"&&Be[0]!="close"||As(w,7);else w.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?As(w,7):_u(w):Be[0]!="noop"&&w.l&&w.l.ta(Be),w.v=0)}}er(4)}catch{}}var Dh=class{constructor(p,_){this.g=p,this.map=_}};function _s(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Aa(p){return p.h?1:p.g?p.g.size:0}function hu(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function xa(p,_){p.g?p.g.add(_):p.h=_}function Tn(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}_s.prototype.cancel=function(){if(this.i=fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function fu(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const w of p.g.values())_=_.concat(w.D);return _}return A(p.i)}function zp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var _=[],w=p.length,x=0;x<w;x++)_.push(p[x]);return _}_=[],w=0;for(x in p)_[w++]=p[x];return _}function Ra(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var _=[];p=p.length;for(var w=0;w<p;w++)_.push(w);return _}_=[],w=0;for(const x in p)_[w++]=x;return _}}}function du(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var w=Ra(p),x=zp(p),G=x.length,W=0;W<G;W++)_.call(void 0,x[W],w&&w[W],p)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bp(p,_){if(p){p=p.split("&");for(var w=0;w<p.length;w++){var x=p[w].indexOf("="),G=null;if(0<=x){var W=p[w].substring(0,x);G=p[w].substring(x+1)}else W=p[w];_(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Dt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Dt){this.h=p.h,_o(this,p.j),this.o=p.o,this.g=p.g,sr(this,p.s),this.l=p.l;var _=p.i,w=new ws;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),bs(this,w),this.m=p.m}else p&&(_=String(p).match(vo))?(this.h=!1,_o(this,_[1]||"",!0),this.o=Wn(_[2]||""),this.g=Wn(_[3]||"",!0),sr(this,_[4]),this.l=Wn(_[5]||"",!0),bs(this,_[6]||"",!0),this.m=Wn(_[7]||"")):(this.h=!1,this.i=new ws(null,this.h))}Dt.prototype.toString=function(){var p=[],_=this.j;_&&p.push(wo(_,pu,!0),":");var w=this.g;return(w||_=="file")&&(p.push("//"),(_=this.o)&&p.push(wo(_,pu,!0),"@"),p.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&p.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&p.push("/"),p.push(wo(w,w.charAt(0)=="/"?jp:mu,!0))),(w=this.i.toString())&&p.push("?",w),(w=this.m)&&p.push("#",wo(w,Ca)),p.join("")};function Vn(p){return new Dt(p)}function _o(p,_,w){p.j=w?Wn(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function sr(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function bs(p,_,w){_ instanceof ws?(p.i=_,Mh(p.i,p.h)):(w||(_=wo(_,Fp)),p.i=new ws(_,p.h))}function Qe(p,_,w){p.i.set(_,w)}function bo(p){return Qe(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Wn(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function wo(p,_,w){return typeof p=="string"?(p=encodeURI(p).replace(_,Ph),w&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Ph(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var pu=/[#\/\?@]/g,mu=/[#\?:]/g,jp=/[#\?]/g,Fp=/[#\?@]/g,Ca=/#/g;function ws(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function Zn(p){p.g||(p.g=new Map,p.h=0,p.i&&Bp(p.i,function(_,w){p.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=ws.prototype,n.add=function(p,_){Zn(this),this.i=null,p=ji(this,p);var w=this.g.get(p);return w||this.g.set(p,w=[]),w.push(_),this.h+=1,this};function Ts(p,_){Zn(p),_=ji(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Es(p,_){return Zn(p),_=ji(p,_),p.g.has(_)}n.forEach=function(p,_){Zn(this),this.g.forEach(function(w,x){w.forEach(function(G){p.call(_,G,x,this)},this)},this)},n.na=function(){Zn(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let x=0;x<_.length;x++){const G=p[x];for(let W=0;W<G.length;W++)w.push(_[x])}return w},n.V=function(p){Zn(this);let _=[];if(typeof p=="string")Es(this,p)&&(_=_.concat(this.g.get(ji(this,p))));else{p=Array.from(this.g.values());for(let w=0;w<p.length;w++)_=_.concat(p[w])}return _},n.set=function(p,_){return Zn(this),this.i=null,p=ji(this,p),Es(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},n.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function gu(p,_,w){Ts(p,_),0<w.length&&(p.i=null,p.g.set(ji(p,_),A(w)),p.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var x=_[w];const W=encodeURIComponent(String(x)),le=this.V(x);for(x=0;x<le.length;x++){var G=W;le[x]!==""&&(G+="="+encodeURIComponent(String(le[x]))),p.push(G)}}return this.i=p.join("&")};function ji(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Mh(p,_){_&&!p.j&&(Zn(p),p.i=null,p.g.forEach(function(w,x){var G=x.toLowerCase();x!=G&&(Ts(this,x),gu(this,G,w))},p)),p.j=_}function To(p,_){const w=new Qn;if(h.Image){const x=new Image;x.onload=E(Jn,w,"TestLoadImage: loaded",!0,_,x),x.onerror=E(Jn,w,"TestLoadImage: error",!1,_,x),x.onabort=E(Jn,w,"TestLoadImage: abort",!1,_,x),x.ontimeout=E(Jn,w,"TestLoadImage: timeout",!1,_,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=p}else _(!1)}function _i(p,_){const w=new Qn,x=new AbortController,G=setTimeout(()=>{x.abort(),Jn(w,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:x.signal}).then(W=>{clearTimeout(G),W.ok?Jn(w,"TestPingServer: ok",!0,_):Jn(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Jn(w,"TestPingServer: error",!1,_)})}function Jn(p,_,w,x,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),x(w)}catch{}}function Eo(){this.g=new po}function Fi(p,_,w){const x=w||"";try{du(p,function(G,W){let le=G;d(G)&&(le=yi(G)),_.push(x+W+"="+encodeURIComponent(le))})}catch(G){throw _.push(x+"type="+encodeURIComponent("_badmap")),G}}function rr(p){this.l=p.Ub||null,this.j=p.eb||!1}C(rr,su),rr.prototype.g=function(){return new Ss(this.l,this.j)},rr.prototype.i=(function(p){return function(){return p}})({});function Ss(p,_){gt.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ss,gt),n=Ss.prototype,n.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,Hi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function yu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?qi(this):Hi(this),this.readyState==3&&yu(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,qi(this))},n.Qa=function(p){this.g&&(this.response=p,qi(this))},n.ga=function(){this.g&&qi(this)};function qi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Hi(p)}n.setRequestHeader=function(p,_){this.u.append(p,_)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,p.push(w[0]+": "+w[1]),w=_.next();return p.join(`\r
`)};function Hi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function vu(p){let _="";return ue(p,function(w,x){_+=x,_+=":",_+=w,_+=`\r
`}),_}function Gt(p,_,w){e:{for(x in w){var x=!1;break e}x=!0}x||(w=vu(w),typeof p=="string"?w!=null&&encodeURIComponent(String(w)):Qe(p,_,w))}function Ge(p){gt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ge,gt);var Ia=/^https?$/i,So=["POST","PUT"];n=Ge.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,_,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ui.g(),this.v=this.o?ru(this.o):ru(Ui),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(W){kh(this,W);return}if(p=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var G in x)w.set(G,x[G]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())w.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),G=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(So,_,void 0))||x||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,le]of w)this.g.setRequestHeader(W,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ao(this),this.u=!0,this.g.send(p),this.u=!1}catch(W){kh(this,W)}};function kh(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,Da(p),Gi(p)}function Da(p){p.A||(p.A=!0,Ke(p,"complete"),Ke(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ke(this,"complete"),Ke(this,"abort"),Gi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},n.bb=function(){Pa(this)};function Pa(p){if(p.h&&typeof u<"u"&&(!p.v[1]||ei(p)!=4||p.Z()!=2)){if(p.u&&ei(p)==4)hn(p.Ea,0,p);else if(Ke(p,"readystatechange"),ei(p)==4){p.h=!1;try{const le=p.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var x;if(x=le===0){var G=String(p.D).match(vo)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),x=!Ia.test(G?G.toLowerCase():"")}w=x}if(w)Ke(p,"complete"),Ke(p,"success");else{p.m=6;try{var W=2<ei(p)?p.g.statusText:""}catch{W=""}p.l=W+" ["+p.Z()+"]",Da(p)}}finally{Gi(p)}}}}function Gi(p,_){if(p.g){Ao(p);const w=p.g,x=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||Ke(p,"ready");try{w.onreadystatechange=x}catch{}}}function Ao(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function ei(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),wa(_)}};function Oh(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function qp(p){const _={};p=(p.g&&2<=ei(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<p.length;x++){if(j(p[x]))continue;var w=B(p[x]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=_[G]||[];_[G]=W,W.push(w)}O(_,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xo(p,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[p]||_}function Ma(p){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xo("baseRetryDelayMs",5e3,p),this.cb=xo("retryDelaySeedMs",1e4,p),this.Wa=xo("forwardChannelMaxRetries",2,p),this.wa=xo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(p&&p.concurrentRequestLimit),this.Da=new Eo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ma.prototype,n.la=8,n.G=1,n.connect=function(p,_,w,x){at(0),this.W=p,this.H=_||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.I=jh(this,null,this.W),Oa(this)};function _u(p){if(Nh(p),p.G==3){var _=p.U++,w=Vn(p.I);if(Qe(w,"SID",p.K),Qe(w,"RID",_),Qe(w,"TYPE","terminate"),Ro(p,w),_=new wn(p,p.j,_),_.L=2,_.v=bo(Vn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=_.v,w=!0),w||(_.g=Fh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),go(_)}Bh(p)}function ka(p){p.g&&(Co(p),p.g.cancel(),p.g=null)}function Nh(p){ka(p),p.u&&(h.clearTimeout(p.u),p.u=null),Na(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Oa(p){if(!Sa(p.h)&&!p.s){p.s=!0;var _=p.Ga;oe||V(),fe||(oe(),fe=!0),De.add(_,p),p.B=0}}function Hp(p,_){return Aa(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=It(b(p.Ga,p,_),Tu(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const G=new wn(this,this.j,p);let W=this.o;if(this.S&&(W?(W=R(W),L(W,this.S)):W=this.S),this.m!==null||this.O||(G.H=W,W=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=Vh(this,G,_),w=Vn(this.I),Qe(w,"RID",p),Qe(w,"CVER",22),this.D&&Qe(w,"X-HTTP-Session-Id",this.D),Ro(this,w),W&&(this.O?_="headers="+encodeURIComponent(String(vu(W)))+"&"+_:this.m&&Gt(w,this.m,W)),xa(this.h,G),this.Ua&&Qe(w,"TYPE","init"),this.P?(Qe(w,"$req",_),Qe(w,"SID","null"),G.T=!0,vi(G,w,null)):vi(G,w,_),this.G=2}}else this.G==3&&(p?bu(this,p):this.i.length==0||Sa(this.h)||bu(this))};function bu(p,_){var w;_?w=_.l:w=p.U++;const x=Vn(p.I);Qe(x,"SID",p.K),Qe(x,"RID",w),Qe(x,"AID",p.T),Ro(p,x),p.m&&p.o&&Gt(x,p.m,p.o),w=new wn(p,p.j,w,p.B+1),p.m===null&&(w.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Vh(p,w,1e3),w.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),xa(p.h,w),vi(w,x,_)}function Ro(p,_){p.H&&ue(p.H,function(w,x){Qe(_,x,w)}),p.l&&du({},function(w,x){Qe(_,x,w)})}function Vh(p,_,w){w=Math.min(p.i.length,w);var x=p.l?b(p.l.Na,p.l,p):null;e:{var G=p.i;let W=-1;for(;;){const le=["count="+w];W==-1?0<w?(W=G[0].g,le.push("ofs="+W)):W=0:le.push("ofs="+W);let ze=!0;for(let zt=0;zt<w;zt++){let Be=G[zt].g;const $t=G[zt].map;if(Be-=W,0>Be)W=Math.max(0,G[zt].g-100),ze=!1;else try{Fi($t,le,"req"+Be+"_")}catch{x&&x($t)}}if(ze){x=le.join("&");break e}}}return p=p.i.splice(0,w),_.D=p,x}function Lh(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;oe||V(),fe||(oe(),fe=!0),De.add(_,p),p.v=0}}function wu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=It(b(p.Fa,p),Tu(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Uh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=It(b(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),ka(this),Uh(this))};function Co(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function Uh(p){p.g=new wn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Vn(p.qa);Qe(_,"RID","rpc"),Qe(_,"SID",p.K),Qe(_,"AID",p.T),Qe(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&Qe(_,"TO",p.ja),Qe(_,"TYPE","xmlhttp"),Ro(p,_),p.m&&p.o&&Gt(_,p.m,p.o),p.L&&(p.g.I=p.L);var w=p.g;p=p.ia,w.L=1,w.v=bo(Vn(_)),w.m=null,w.P=!0,vs(w,p)}n.Za=function(){this.C!=null&&(this.C=null,ka(this),wu(this),at(19))};function Na(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function zh(p,_){var w=null;if(p.g==_){Na(p),Co(p),p.g=null;var x=2}else if(hu(p.h,_))w=_.D,Tn(p.h,_),x=1;else return;if(p.G!=0){if(_.o)if(x==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var G=p.B;x=Js(),Ke(x,new Ut(x,w)),Oa(p)}else Lh(p);else if(G=_.s,G==3||G==0&&0<_.X||!(x==1&&Hp(p,_)||x==2&&wu(p)))switch(w&&0<w.length&&(_=p.h,_.i=_.i.concat(w)),G){case 1:As(p,5);break;case 4:As(p,10);break;case 3:As(p,6);break;default:As(p,2)}}}function Tu(p,_){let w=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(w*=2),w*_}function As(p,_){if(p.j.info("Error code "+_),_==2){var w=b(p.fb,p),x=p.Xa;const G=!x;x=new Dt(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||_o(x,"https"),bo(x),G?To(x.toString(),w):_i(x.toString(),w)}else at(2);p.G=0,p.l&&p.l.sa(_),Bh(p),Nh(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Bh(p){if(p.G=0,p.ka=[],p.l){const _=fu(p.h);(_.length!=0||p.i.length!=0)&&(I(p.ka,_),I(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function jh(p,_,w){var x=w instanceof Dt?Vn(w):new Dt(w);if(x.g!="")_&&(x.g=_+"."+x.g),sr(x,x.s);else{var G=h.location;x=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var W=new Dt(null);x&&_o(W,x),_&&(W.g=_),G&&sr(W,G),w&&(W.l=w),x=W}return w=p.D,_=p.ya,w&&_&&Qe(x,w,_),Qe(x,"VER",p.la),Ro(p,x),x}function Fh(p,_,w){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new Ge(new rr({eb:w})):new Ge(p.pa),_.Ha(p.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qh(){}n=qh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Va(){}Va.prototype.g=function(p,_){return new En(p,_)};function En(p,_){gt.call(this),this.g=new Ma(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!j(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!j(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new $i(this)}C(En,gt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){_u(this.g)},En.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var w={};w.__data__=p,p=w}else this.u&&(w={},w.__data__=yi(p),p=w);_.i.push(new Dh(_.Ya++,p)),_.G==3&&Oa(_)},En.prototype.N=function(){this.g.l=null,delete this.j,_u(this.g),delete this.g,En.aa.N.call(this)};function Hh(p){gs.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const w in _){p=w;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}C(Hh,gs);function Gh(){au.call(this),this.status=1}C(Gh,au);function $i(p){this.g=p}C($i,qh),$i.prototype.ua=function(){Ke(this.g,"a")},$i.prototype.ta=function(p){Ke(this.g,new Hh(p))},$i.prototype.sa=function(p){Ke(this.g,new Gh)},$i.prototype.ra=function(){Ke(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,cR=function(){return new Va},uR=function(){return Js()},lR=Li,Qy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,pd=nr,ys.COMPLETE="complete",aR=ys,ou.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",gt.prototype.listen=gt.prototype.K,gc=ou,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,oR=Ge}).apply(typeof Xf<"u"?Xf:typeof self<"u"?self:typeof window<"u"?window:{});const JE="@firebase/firestore",eS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new t_("@firebase/firestore");function dl(){return ua.logLevel}function de(n,...e){if(ua.logLevel<=Ve.DEBUG){const t=e.map(f_);ua.debug(`Firestore (${Kl}): ${n}`,...t)}}function Ys(n,...e){if(ua.logLevel<=Ve.ERROR){const t=e.map(f_);ua.error(`Firestore (${Kl}): ${n}`,...t)}}function Ol(n,...e){if(ua.logLevel<=Ve.WARN){const t=e.map(f_);ua.warn(`Firestore (${Kl}): ${n}`,...t)}}function f_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,hR(n,i,t)}function hR(n,e,t){let i=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ys(i),new Error(i)}function $e(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||hR(e,r,i)}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ds{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(mn.UNAUTHENTICATED)))}shutdown(){}}class r6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class o6{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zo,e.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zo)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new fR(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class a6{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l6{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new a6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new tS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=c6(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function Wy(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),a=e.charAt(i);if(r!==a)return fy(r)===fy(a)?Le(r,a):fy(r)?1:-1}return Le(n.length,e.length)}const h6=55296,f6=57343;function fy(n){const e=n.charCodeAt(0);return e>=h6&&e<=f6}function Nl(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="__name__";class Ji{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Te(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=Ji.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Le(e.length,t.length)}static compareSegments(e,t){const i=Ji.isNumericId(e),r=Ji.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Ji.extractNumericId(e).compare(Ji.extractNumericId(t)):Wy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class it extends Ji{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const d6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Ji{construct(e,t,i){return new ln(e,t,i)}static isValidIdentifier(e){return d6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nS}static keyField(){return new ln([nS])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(a(),r++)}if(a(),u)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(n,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function p6(n,e,t,i){if(e===!0&&i===!0)throw new he(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iS(n){if(!ge.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sS(n){if(ge.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function dp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dp(n);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function hh(n,e){if(!pR(n))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(r&&typeof u!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new he(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=-62135596800,oS=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*oS);return new rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rS)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oS}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hh(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Vt("string",rt._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new rt(0,0))}static max(){return new xe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function m6(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xe.fromTimestamp(i===1e9?new rt(t+1,0):new rt(t,i));return new $r(r,ge.empty(),e)}function g6(n){return new $r(n.readTime,n.key,Fc)}class $r{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $r(xe.min(),ge.empty(),Fc)}static max(){return new $r(xe.max(),ge.empty(),Fc)}}function y6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==v6)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,i)=>{t(e)}))}static reject(e){return new se(((t,i)=>{i(e)}))}static waitFor(e){return new se(((t,i)=>{let r=0,a=0,u=!1;e.forEach((h=>{++r,h.next((()=>{++a,u&&a===r&&t()}),(f=>i(f)))})),u=!0,a===r&&t()}))}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next((r=>r?se.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,a)=>{i.push(t.call(this,r,a))})),this.waitFor(i)}static mapArray(e,t){return new se(((i,r)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++h,h===a&&i(u)}),(g=>r(g)))}}))}static doWhile(e,t){return new se(((i,r)=>{const a=()=>{e()===!0?t().next((()=>{a()}),r):i()};a()}))}}function b6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=-1;function mp(n){return n==null}function zd(n){return n===0&&1/n==-1/0}function w6(n){return typeof n=="number"&&Number.isInteger(n)&&!zd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="";function T6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aS(e)),e=E6(n.get(t),e);return aS(e)}function E6(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case mR:t+="";break;default:t+=a}}return t}function aS(n){return n+mR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function io(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qf(this.root,e,this.comparator,!0)}}class Qf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??on.RED,this.left=r??on.EMPTY,this.right=a??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new on(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return on.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uS(this.data.getIterator())}getIteratorFrom(e){return new uS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class uS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new qt(ln.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yR("Invalid base64 string: "+a):a}})(e);return new cn(t)}static fromUint8Array(e){const t=(function(r){let a="";for(let u=0;u<r.length;++u)a+=String.fromCharCode(r[u]);return a})(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const S6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if($e(!!n,39018),typeof n=="string"){let e=0;const t=S6.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yr(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="server_timestamp",_R="__type__",bR="__previous_value__",wR="__local_write_time__";function m_(n){return(n?.mapValue?.fields||{})[_R]?.stringValue===vR}function gp(n){const e=n.mapValue.fields[bR];return m_(e)?gp(e):e}function qc(n){const e=Kr(n.mapValue.fields[wR].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,t,i,r,a,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const Bd="(default)";class Hc{constructor(e,t){this.projectId=e,this.database=t||Bd}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="__type__",x6="__max__",Wf={mapValue:{}},ER="__vector__",jd="value";function Xr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?m_(n)?4:C6(n)?9007199254740991:R6(n)?10:11:Te(28295,{value:n})}function hs(n,e){if(n===e)return!0;const t=Xr(n);if(t!==Xr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const u=Kr(r.timestampValue),h=Kr(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,a){return Yr(r.bytesValue).isEqual(Yr(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,a){return xt(r.geoPointValue.latitude)===xt(a.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(a.geoPointValue.longitude)})(n,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return xt(r.integerValue)===xt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const u=xt(r.doubleValue),h=xt(a.doubleValue);return u===h?zd(u)===zd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Nl(n.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return(function(r,a){const u=r.mapValue.fields||{},h=a.mapValue.fields||{};if(lS(u)!==lS(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!hs(u[f],h[f])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function Gc(n,e){return(n.values||[]).find((t=>hs(t,e)))!==void 0}function Vl(n,e){if(n===e)return 0;const t=Xr(n),i=Xr(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=xt(a.integerValue||a.doubleValue),f=xt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return cS(n.timestampValue,e.timestampValue);case 4:return cS(qc(n),qc(e));case 5:return Wy(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Yr(a),f=Yr(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=Le(h[d],f[d]);if(g!==0)return g}return Le(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Le(xt(a.latitude),xt(u.latitude));return h!==0?h:Le(xt(a.longitude),xt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return hS(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},d=h[jd]?.arrayValue,g=f[jd]?.arrayValue,v=Le(d?.values?.length||0,g?.values?.length||0);return v!==0?v:hS(d,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Wf.mapValue&&u===Wf.mapValue)return 0;if(a===Wf.mapValue)return 1;if(u===Wf.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const b=Wy(f[v],g[v]);if(b!==0)return b;const E=Vl(h[f[v]],d[g[v]]);if(E!==0)return E}return Le(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function cS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Kr(n),i=Kr(e),r=Le(t.seconds,i.seconds);return r!==0?r:Le(t.nanos,i.nanos)}function hS(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Vl(t[r],i[r]);if(a)return a}return Le(t.length,i.length)}function Ll(n){return Zy(n)}function Zy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Kr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Yr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ge.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Zy(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const u of i)a?a=!1:r+=",",r+=`${u}:${Zy(t.fields[u])}`;return r+"}"})(n.mapValue):Te(61005,{value:n})}function md(n){switch(Xr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gp(n);return e?16+md(e):16;case 5:return 2*n.stringValue.length;case 6:return Yr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+md(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return io(i.fields,((a,u)=>{r+=a.length+md(u)})),r})(n.mapValue);default:throw Te(13486,{value:n})}}function fS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Jy(n){return!!n&&"integerValue"in n}function g_(n){return!!n&&"arrayValue"in n}function dS(n){return!!n&&"nullValue"in n}function pS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gd(n){return!!n&&"mapValue"in n}function R6(n){return(n?.mapValue?.fields||{})[TR]?.stringValue===ER}function Ac(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return io(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Ac(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ac(n.arrayValue.values[t]);return e}return{...n}}function C6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===x6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(t)}setAll(e){let t=ln.emptyPath(),i={},r=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=Ac(u):r.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());gd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];gd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){io(t,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new Mn(Ac(this.value))}}function SR(n){const e=[];return io(n.fields,((t,i)=>{const r=new ln([t]);if(gd(i)){const a=SR(i.mapValue).fields;if(a.length===0)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t,i,r,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new gn(e,0,xe.min(),xe.min(),xe.min(),Mn.empty(),0)}static newFoundDocument(e,t,i,r){return new gn(e,1,t,xe.min(),i,r,0)}static newNoDocument(e,t){return new gn(e,2,t,xe.min(),xe.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new gn(e,3,t,xe.min(),xe.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t){this.position=e,this.inclusive=t}}function mS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(a.field.isKeyField()?i=ge.comparator(ge.fromName(u.referenceValue),t.key):i=Vl(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function gS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t="asc"){this.field=e,this.dir=t}}function I6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class Nt extends AR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new P6(e,t,i):t==="array-contains"?new O6(e,i):t==="in"?new N6(e,i):t==="not-in"?new V6(e,i):t==="array-contains-any"?new L6(e,i):new Nt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new M6(e,i):new k6(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Vl(t,this.value)):t!==null&&Xr(this.value)===Xr(t)&&this.matchesComparison(Vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends AR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ki(e,t)}matches(e){return xR(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xR(n){return n.op==="and"}function RR(n){return D6(n)&&xR(n)}function D6(n){for(const e of n.filters)if(e instanceof ki)return!1;return!0}function ev(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+Ll(n.value);if(RR(n))return n.filters.map((e=>ev(e))).join(",");{const e=n.filters.map((t=>ev(t))).join(",");return`${n.op}(${e})`}}function CR(n,e){return n instanceof Nt?(function(i,r){return r instanceof Nt&&i.op===r.op&&i.field.isEqual(r.field)&&hs(i.value,r.value)})(n,e):n instanceof ki?(function(i,r){return r instanceof ki&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,u,h)=>a&&CR(u,r.filters[h])),!0):!1})(n,e):void Te(19439)}function IR(n){return n instanceof Nt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ll(t.value)}`})(n):n instanceof ki?(function(t){return t.op.toString()+" {"+t.getFilters().map(IR).join(" ,")+"}"})(n):"Filter"}class P6 extends Nt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class M6 extends Nt{constructor(e,t){super(e,"in",t),this.keys=DR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class k6 extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=DR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function DR(n,e){return(e.arrayValue?.values||[]).map((t=>ge.fromName(t.referenceValue)))}class O6 extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return g_(t)&&Gc(t.arrayValue,this.value)}}class N6 extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gc(this.value.arrayValue,t)}}class V6 extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gc(this.value.arrayValue,t)}}class L6 extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!g_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Gc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,t=null,i=[],r=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function yS(n,e=null,t=[],i=[],r=null,a=null,u=null){return new U6(n,e,t,i,r,a,u)}function y_(n){const e=Re(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>ev(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),mp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ll(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ll(i))).join(",")),e.Te=t}return e.Te}function v_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!I6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gS(n.startAt,e.startAt)&&gS(n.endAt,e.endAt)}function tv(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t=null,i=[],r=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z6(n,e,t,i,r,a,u,h){return new Ql(n,e,t,i,r,a,u,h)}function __(n){return new Ql(n)}function vS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PR(n){return n.collectionGroup!==null}function xc(n){const e=Re(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new qt(ln.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new $c(a,i))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new $c(ln.keyField(),i))}return e.Ie}function ss(n){const e=Re(n);return e.Ee||(e.Ee=B6(e,xc(n))),e.Ee}function B6(n,e){if(n.limitType==="F")return yS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new $c(r.field,a)}));const t=n.endAt?new Fd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Fd(n.startAt.position,n.startAt.inclusive):null;return yS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function nv(n,e){const t=n.filters.concat([e]);return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function iv(n,e,t){return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yp(n,e){return v_(ss(n),ss(e))&&n.limitType===e.limitType}function MR(n){return`${y_(ss(n))}|lt:${n.limitType}`}function pl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>IR(r))).join(", ")}]`),mp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ll(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ll(r))).join(",")),`Target(${i})`})(ss(n))}; limitType=${n.limitType})`}function vp(n,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ge.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,r){for(const a of xc(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(u,h,f){const d=mS(u,h,f);return u.inclusive?d<=0:d<0})(i.startAt,xc(i),r)||i.endAt&&!(function(u,h,f){const d=mS(u,h,f);return u.inclusive?d>=0:d>0})(i.endAt,xc(i),r))})(n,e)}function j6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kR(n){return(e,t)=>{let i=!1;for(const r of xc(n)){const a=F6(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function F6(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):(function(a,u,h){const f=u.data.field(a),d=h.data.field(a);return f!==null&&d!==null?Vl(f,d):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,((t,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return gR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new mt(ge.comparator);function Xs(){return q6}const OR=new mt(ge.comparator);function yc(...n){let e=OR;for(const t of n)e=e.insert(t.key,t);return e}function NR(n){let e=OR;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Yo(){return Rc()}function VR(){return Rc()}function Rc(){return new ga((n=>n.toString()),((n,e)=>n.isEqual(e)))}const H6=new mt(ge.comparator),G6=new qt(ge.comparator);function Ue(...n){let e=G6;for(const t of n)e=e.add(t);return e}const $6=new qt(Le);function K6(){return $6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function LR(n){return{integerValue:""+n}}function Y6(n,e){return w6(e)?LR(e):b_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this._=void 0}}function X6(n,e,t){return n instanceof Kc?(function(r,a){const u={fields:{[_R]:{stringValue:vR},[wR]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&m_(a)&&(a=gp(a)),a&&(u.fields[bR]=a),{mapValue:u}})(t,e):n instanceof Yc?zR(n,e):n instanceof Xc?BR(n,e):(function(r,a){const u=UR(r,a),h=_S(u)+_S(r.Ae);return Jy(u)&&Jy(r.Ae)?LR(h):b_(r.serializer,h)})(n,e)}function Q6(n,e,t){return n instanceof Yc?zR(n,e):n instanceof Xc?BR(n,e):t}function UR(n,e){return n instanceof qd?(function(i){return Jy(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Kc extends _p{}class Yc extends _p{constructor(e){super(),this.elements=e}}function zR(n,e){const t=jR(e);for(const i of n.elements)t.some((r=>hs(r,i)))||t.push(i);return{arrayValue:{values:t}}}class Xc extends _p{constructor(e){super(),this.elements=e}}function BR(n,e){let t=jR(e);for(const i of n.elements)t=t.filter((r=>!hs(r,i)));return{arrayValue:{values:t}}}class qd extends _p{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function _S(n){return xt(n.integerValue||n.doubleValue)}function jR(n){return g_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,t){this.field=e,this.transform=t}}function Z6(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof Yc&&r instanceof Yc||i instanceof Xc&&r instanceof Xc?Nl(i.elements,r.elements,hs):i instanceof qd&&r instanceof qd?hs(i.Ae,r.Ae):i instanceof Kc&&r instanceof Kc})(n.transform,e.transform)}class J6{constructor(e,t){this.version=e,this.transformResults=t}}class Ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class bp{}function FR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new w_(n.key,Ii.none()):new fh(n.key,n.data,Ii.none());{const t=n.data,i=Mn.empty();let r=new qt(ln.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),r=r.add(a)}return new so(n.key,i,new Gn(r.toArray()),Ii.none())}}function ez(n,e,t){n instanceof fh?(function(r,a,u){const h=r.value.clone(),f=wS(r.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof so?(function(r,a,u){if(!yd(r.precondition,a))return void a.convertToUnknownDocument(u.version);const h=wS(r.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(qR(r)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(r,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Cc(n,e,t,i){return n instanceof fh?(function(a,u,h,f){if(!yd(a.precondition,u))return h;const d=a.value.clone(),g=TS(a.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof so?(function(a,u,h,f){if(!yd(a.precondition,u))return h;const d=TS(a.fieldTransforms,f,u),g=u.data;return g.setAll(qR(a)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(a,u,h){return yd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function tz(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=UR(i.transform,r||null);a!=null&&(t===null&&(t=Mn.empty()),t.set(i.field,a))}return t||null}function bS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Nl(i,r,((a,u)=>Z6(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fh extends bp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class so extends bp{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function qR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function wS(n,e,t){const i=new Map;$e(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,h=e.data.field(a.field);i.set(a.field,Q6(u,h,t[r]))}return i}function TS(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,X6(a,u,e))}return i}class w_ extends bp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nz extends bp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&ez(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Cc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Cc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=VR();return this.mutations.forEach((r=>{const a=e.get(r.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(r.key)?null:h;const f=FR(u,h);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,((t,i)=>bS(t,i)))&&Nl(this.baseMutations,e.baseMutations,((t,i)=>bS(t,i)))}}class T_{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){$e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return H6})();const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new T_(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Fe;function oz(n){switch(n){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function HR(n){if(n===void 0)return Ys("GRPC error has no .code"),ne.UNKNOWN;switch(n){case kt.OK:return ne.OK;case kt.CANCELLED:return ne.CANCELLED;case kt.UNKNOWN:return ne.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ne.INTERNAL;case kt.UNAVAILABLE:return ne.UNAVAILABLE;case kt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case kt.NOT_FOUND:return ne.NOT_FOUND;case kt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case kt.ABORTED:return ne.ABORTED;case kt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case kt.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:n})}}(Fe=kt||(kt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=new Fr([4294967295,4294967295],0);function ES(n){const e=az().encode(n),t=new rR;return t.update(e),new Uint8Array(t.digest())}function SS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fr([t,i],0),new Fr([r,a],0)]}class E_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new vc(`Invalid padding: ${t}`);if(i<0)throw new vc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new vc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Fr.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(Fr.fromNumber(i)));return r.compare(lz)===1&&(r=new Fr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ES(e),[i,r]=SS(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);if(!this.we(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new E_(a,r,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=ES(e),[i,r]=SS(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,dh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new wp(xe.min(),r,new mt(Le),Xs(),Ue())}}class dh{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new dh(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t,i,r){this.be=e,this.removedTargetIds=t,this.key=i,this.De=r}}class GR{constructor(e,t){this.targetId=e,this.Ce=t}}class $R{constructor(e,t,i=cn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class AS{constructor(){this.ve=0,this.Fe=xS(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),i=Ue();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Te(38017,{changeType:a})}})),new dh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=xS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uz{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xs(),this.Je=Zf(),this.He=Zf(),this.Ye=new mt(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(tv(a))if(i===0){const u=new ge(a.path);this.et(t,u,gn.newNoDocument(u,xe.min()))}else $e(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let u,h;try{u=Yr(i).toUint8Array()}catch(f){if(f instanceof yR)return Ol("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new E_(u,r,a)}catch(f){return Ol(f instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&tv(h.target)){const f=new ge(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,gn.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let i=Ue();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const r=new wp(e,t,this.Ye,this.je,i);return this.je=Xs(),this.Je=Zf(),this.He=Zf(),this.Ye=new mt(Le),r}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new AS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new AS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zf(){return new mt(ge.comparator)}function xS(){return new mt(ge.comparator)}const cz={asc:"ASCENDING",desc:"DESCENDING"},hz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fz={and:"AND",or:"OR"};class dz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sv(n,e){return n.useProto3Json||mp(e)?e:{value:e}}function Hd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pz(n,e){return Hd(n,e.toTimestamp())}function rs(n){return $e(!!n,49232),xe.fromTimestamp((function(t){const i=Kr(t);return new rt(i.seconds,i.nanos)})(n))}function S_(n,e){return rv(n,e).canonicalString()}function rv(n,e){const t=(function(r){return new it(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function YR(n){const e=it.fromString(n);return $e(JR(e),10190,{key:e.toString()}),e}function ov(n,e){return S_(n.databaseId,e.path)}function dy(n,e){const t=YR(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(QR(t))}function XR(n,e){return S_(n.databaseId,e)}function mz(n){const e=YR(n);return e.length===4?it.emptyPath():QR(e)}function av(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QR(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function RS(n,e,t){return{name:ov(n,e),fields:t.value.mapValue.fields}}function gz(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Te(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(d,g){return d.useProto3Json?($e(g===void 0||typeof g=="string",58123),cn.fromBase64String(g||"")):($e(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),cn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(d){const g=d.code===void 0?ne.UNKNOWN:HR(d.code);return new he(g,d.message||"")})(u);t=new $R(i,r,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=dy(n,i.document.name),a=rs(i.document.updateTime),u=i.document.createTime?rs(i.document.createTime):xe.min(),h=new Mn({mapValue:{fields:i.document.fields}}),f=gn.newFoundDocument(r,a,u,h),d=i.targetIds||[],g=i.removedTargetIds||[];t=new vd(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=dy(n,i.document),a=i.readTime?rs(i.readTime):xe.min(),u=gn.newNoDocument(r,a),h=i.removedTargetIds||[];t=new vd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=dy(n,i.document),a=i.removedTargetIds||[];t=new vd([],a,r,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,u=new rz(r,a),h=i.targetId;t=new GR(h,u)}}return t}function yz(n,e){let t;if(e instanceof fh)t={update:RS(n,e.key,e.value)};else if(e instanceof w_)t={delete:ov(n,e.key)};else if(e instanceof so)t={update:RS(n,e.key,e.data),updateMask:xz(e.fieldMask)};else{if(!(e instanceof nz))return Te(16599,{Vt:e.type});t={verify:ov(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const h=u.transform;if(h instanceof Kc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Yc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof qd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:pz(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)})(n,e.precondition)),t}function vz(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map((t=>(function(r,a){let u=r.updateTime?rs(r.updateTime):rs(a);return u.isEqual(xe.min())&&(u=rs(a)),new J6(u,r.transformResults||[])})(t,e)))):[]}function _z(n,e){return{documents:[XR(n,e.path)]}}function bz(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=XR(n,r);const a=(function(d){if(d.length!==0)return ZR(ki.create(d,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(d){if(d.length!==0)return d.map((g=>(function(b){return{field:ml(b.field),direction:Ez(b.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=sv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:r}}function wz(n){let e=mz(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){$e(i===1,65062);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(v){const b=WR(v);return b instanceof ki&&RR(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((b=>(function(C){return new $c(gl(C.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let b;return b=typeof v=="object"?v.value:v,mp(b)?null:b})(t.limit));let f=null;t.startAt&&(f=(function(v){const b=!!v.before,E=v.values||[];return new Fd(E,b)})(t.startAt));let d=null;return t.endAt&&(d=(function(v){const b=!v.before,E=v.values||[];return new Fd(E,b)})(t.endAt)),z6(e,r,u,a,h,"F",f,d)}function Tz(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function WR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=gl(t.unaryFilter.field);return Nt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=gl(t.unaryFilter.field);return Nt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gl(t.unaryFilter.field);return Nt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=gl(t.unaryFilter.field);return Nt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Nt.create(gl(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ki.create(t.compositeFilter.filters.map((i=>WR(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function Ez(n){return cz[n]}function Sz(n){return hz[n]}function Az(n){return fz[n]}function ml(n){return{fieldPath:n.canonicalString()}}function gl(n){return ln.fromServerFormat(n.fieldPath)}function ZR(n){return n instanceof Nt?(function(t){if(t.op==="=="){if(pS(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NAN"}};if(dS(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pS(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NAN"}};if(dS(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(t.field),op:Sz(t.op),value:t.value}}})(n):n instanceof ki?(function(t){const i=t.getFilters().map((r=>ZR(r)));return i.length===1?i[0]:{compositeFilter:{op:Az(t.op),filters:i}}})(n):Te(54877,{filter:n})}function xz(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function JR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,t,i,r,a=xe.min(),u=xe.min(),h=cn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.yt=e}}function Cz(n){const e=wz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?iv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.Cn=new Dz}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve($r.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve($r.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Dz{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new qt(it.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new qt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eC=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(eC,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ul(0)}static cr(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="LruGarbageCollector",Pz=1048576;function DS([n,e],[t,i]){const r=Le(n,t);return r===0?Le(e,i):r}class Mz{constructor(e){this.Ir=e,this.buffer=new qt(DS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();DS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kz{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(IS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xl(t)?de(IS,"Ignoring IndexedDB error during garbage collection: ",t):await Yl(t)}await this.Vr(3e5)}))}}class Oz{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(pp.ce);const i=new Mz(t);return this.mr.forEachTarget(e,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(CS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,r,a,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(e,r)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,t)))).next((v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(d=Date.now(),dl()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v}))))}}function Nz(n,e){return new Oz(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.changes=new ga((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&Cc(i.mutation,r,Gn.empty(),rt.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ue()){const r=Yo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((a=>{let u=yc();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=Yo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ue())))}populateOverlays(e,t,i){const r=[];return i.forEach((a=>{t.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,r){let a=Xs();const u=Rc(),h=(function(){return Rc()})();return t.forEach(((f,d)=>{const g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof so)?a=a.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Cc(g.mutation,d,g.mutation.getFieldMask(),rt.now())):u.set(d.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>h.set(d,new Lz(g,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Rc();let r=new mt(((u,h)=>u-h)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=i.get(f)||Gn.empty();g=h.applyToLocalView(d,g),i.set(f,g);const v=(r.get(h.batchId)||Ue()).add(f);r=r.insert(h.batchId,v)}))})).next((()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,v=VR();g.forEach((b=>{if(!a.has(b)){const E=FR(t.get(b),i.get(b));E!==null&&v.set(b,E),a=a.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return se.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Yo());let h=Fc,f=a;return u.next((d=>se.forEach(d,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),a.get(g)?se.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{f=f.insert(g,b)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,f,d,Ue()))).next((g=>({batchId:h,changes:NR(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((i=>{let r=yc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let u=yc();return this.indexManager.getCollectionParents(e,a).next((h=>se.forEach(h,(f=>{const d=(function(v,b){return new Ql(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next((g=>{g.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r)))).next((u=>{a.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,gn.newInvalidDocument(g)))}));let h=yc();return u.forEach(((f,d)=>{const g=a.get(f);g!==void 0&&Cc(g.mutation,d,Gn.empty(),rt.now()),vp(t,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:rs(r.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:Cz(r.bundledQuery),readTime:rs(r.readTime)}})(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.overlays=new mt(ge.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Yo();return se.forEach(t,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,a)=>{this.St(e,t,a)})),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Yo(),a=t.length+1,u=new ge(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>i&&r.set(f.getKey(),f)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new mt(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=a.get(d.largestBatchId);g===null&&(g=Yo(),a=a.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=Yo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>h.set(d,g))),!(h.size()>=r)););return se.resolve(h)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new sz(t,i));let a=this.qr.get(t);a===void 0&&(a=Ue(),this.qr.set(t,a)),this.qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.Qr=new qt(Qt.$r),this.Ur=new qt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Qt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ge(new it([])),i=new Qt(t,e),r=new Qt(t,e+1),a=[];return this.Ur.forEachInRange([i,r],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new it([])),i=new Qt(t,e),r=new Qt(t,e+1);let a=Ue();return this.Ur.forEachInRange([i,r],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Qt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Qt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new iz(a,t,i,r);this.mutationQueue.push(u);for(const h of r)this.Zr=this.Zr.add(new Qt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ei(i),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?p_:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qt(t,0),r=new Qt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],(u=>{const h=this.Xr(u.Yr);a.push(h)})),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qt(Le);return t.forEach((r=>{const a=new Qt(r,0),u=new Qt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{i=i.add(h.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;ge.isDocumentKey(a)||(a=a.child(""));const u=new Qt(new ge(a),0);let h=new qt(Le);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(h=h.add(f.Yr)),!0)}),u),se.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const r=this.Xr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){$e(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(t.mutations,(r=>{const a=new Qt(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Qt(t,0),r=this.Zr.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.ri=e,this.docs=(function(){return new mt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let i=Xs();return t.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():gn.newInvalidDocument(r))})),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Xs();const u=t.path,h=new ge(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||y6(g6(g),i)<=0||(r.has(g.key)||vp(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Te(9500)}ii(e,t){return se.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Hz(this)}getSize(e){return se.resolve(this.size)}}class Hz extends Vz{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.persistence=e,this.si=new ga((t=>y_(t)),v_),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new A_,this.targetCount=0,this.ai=Ul.ur()}forEachTarget(e,t){return this.si.forEach(((i,r)=>t(r))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ul(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),se.waitFor(a).next((()=>r))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((u=>{a.push(r.markPotentiallyOrphaned(e,u))})),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t){this.ui={},this.overlays={},this.ci=new pp(0),this.li=!1,this.li=!0,this.hi=new jz,this.referenceDelegate=e(this),this.Pi=new Gz(this),this.indexManager=new Iz,this.remoteDocumentCache=(function(r){return new qz(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Rz(t),this.Ii=new zz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Fz(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const r=new $z(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((a=>this.referenceDelegate.di(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ai(e,t){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class $z extends _6{constructor(e){super(),this.currentSequenceNumber=e}}class x_{constructor(e){this.persistence=e,this.Ri=new A_,this.Vi=null}static mi(e){return new x_(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const r=ge.fromPath(i);return this.gi(e,r).next((a=>{a||t.removeEntry(r,xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Gd{constructor(e,t){this.persistence=e,this.pi=new ga((i=>T6(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=Nz(this,t)}static mi(e,t){return new Gd(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((i,r)=>this.br(e,i,r).next((a=>a?se.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,a.removeEntry(u,xe.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=md(e.data.value)),t}br(e,t,i){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return se.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=r}static As(e,t){let i=Ue(),r=Ue();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new R_(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xL()?8:b6(bn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,r,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new Kz;return this.Ss(e,t,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>a.result))}bs(e,t,i,r){return i.documentReadCount<this.fs?(dl()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",pl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(dl()<=Ve.DEBUG&&de("QueryEngine","Query:",pl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(dl()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",pl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(t))):se.resolve())}ys(e,t){if(vS(t))return se.resolve(null);let i=ss(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=iv(t,null,"F"),i=ss(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Ue(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const d=this.Ds(t,h);return this.Cs(t,d,u,f.readTime)?this.ys(e,iv(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,i,r){return vS(t)||r.isEqual(xe.min())?se.resolve(null):this.ps.getDocuments(e,i).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,i,r)?se.resolve(null):(dl()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pl(t)),this.vs(e,u,t,m6(r,Fc)).next((h=>h)))}))}Ds(e,t){let i=new qt(kR(e));return t.forEach(((r,a)=>{vp(e,a)&&(i=i.add(a))})),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,i){return dl()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",pl(t)),this.ps.getDocumentsMatchingQuery(e,t,$r.min(),i)}vs(e,t,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="LocalStore",Xz=3e8;class Qz{constructor(e,t,i,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new mt(Le),this.xs=new ga((a=>y_(a)),v_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Wz(n,e,t,i){return new Qz(n,e,t,i)}async function nC(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],h=[];let f=Ue();for(const d of r){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of a){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function Zz(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,g){const v=d.batch,b=v.keys();let E=se.resolve();return b.forEach((C=>{E=E.next((()=>g.getEntry(f,C))).next((A=>{const I=d.docVersions.get(C);$e(I!==null,48541),A.version.compareTo(I)<0&&(v.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ue();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function iC(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Jz(n,e){const t=Re(n),i=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const h=[];e.targetChanges.forEach(((g,v)=>{const b=r.get(v);if(!b)return;h.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,v))));let E=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(cn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,i)),r=r.insert(v,E),(function(A,I,D){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Xz?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(b,E,g)&&h.push(t.Pi.updateTargetData(a,E))}));let f=Xs(),d=Ue();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),h.push(eB(a,u,e.documentUpdates).next((g=>{f=g.ks,d=g.qs}))),!i.isEqual(xe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((v=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(g)}return se.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,d))).next((()=>f))})).then((a=>(t.Ms=r,a)))}function eB(n,e,t){let i=Ue(),r=Ue();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let u=Xs();return t.forEach(((h,f)=>{const d=a.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):de(C_,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:r}}))}function tB(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=p_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function nB(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.Pi.getTargetData(i,e).next((a=>a?(r=a,se.resolve(r)):t.Pi.allocateTargetId(i).next((u=>(r=new Lr(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function lv(n,e,t){const i=Re(n),r=i.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Xl(u))throw u;de(C_,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function PS(n,e,t){const i=Re(n);let r=xe.min(),a=Ue();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const v=Re(f),b=v.xs.get(g);return b!==void 0?se.resolve(v.Ms.get(b)):v.Pi.getTargetData(d,g)})(i,u,ss(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?r:xe.min(),t?a:Ue()))).next((h=>(iB(i,j6(e),h),{documents:h,Qs:a})))))}function iB(n,e,t){let i=n.Os.get(e)||xe.min();t.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Os.set(e,i)}class MS{constructor(){this.activeTargetIds=K6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sB{constructor(){this.Mo=new MS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new MS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="ConnectivityMonitor";class OS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(kS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(kS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function uv(){return Jf===null?Jf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="RestConnection",oB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Bd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,t,i,r,a){const u=uv(),h=this.zo(e,t.toUriEncodedString());de(py,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,a);const{host:d}=new URL(h),g=to(d);return this.Jo(e,h,f,i,g).then((v=>(de(py,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Ol(py,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,t,i,r,a,u){return this.Go(e,t,i,r,a)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,a)=>e[a]=r)),i&&i.headers.forEach(((r,a)=>e[a]=r))}zo(e,t){const i=oB[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class uB extends aB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,a){const u=uv();return new Promise(((h,f)=>{const d=new oR;d.setWithCredentials(!0),d.listenOnce(aR.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case pd.NO_ERROR:const v=d.getResponseJson();de(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case pd.TIMEOUT:de(pn,`RPC '${e}' ${u} timed out`),f(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const b=d.getStatus();if(de(pn,`RPC '${e}' ${u} failed with status:`,b,"response text:",d.getResponseText()),b>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E?.error;if(C&&C.status&&C.message){const A=(function(D){const j=D.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(j)>=0?j:ne.UNKNOWN})(C.status);f(new he(A,C.message))}else f(new he(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{de(pn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(r);de(pn,`RPC '${e}' ${u} sending request:`,r),d.send(t,"POST",g,i,15)}))}T_(e,t,i){const r=uv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=cR(),h=uR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=a.join("");de(pn,`Creating RPC '${e}' stream ${r}: ${g}`,f);const v=u.createWebChannel(g,f);this.I_(v);let b=!1,E=!1;const C=new lB({Yo:I=>{E?de(pn,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(b||(de(pn,`Opening RPC '${e}' stream ${r} transport.`),v.open(),b=!0),de(pn,`RPC '${e}' stream ${r} sending:`,I),v.send(I))},Zo:()=>v.close()}),A=(I,D,j)=>{I.listen(D,(F=>{try{j(F)}catch(K){setTimeout((()=>{throw K}),0)}}))};return A(v,gc.EventType.OPEN,(()=>{E||(de(pn,`RPC '${e}' stream ${r} transport opened.`),C.o_())})),A(v,gc.EventType.CLOSE,(()=>{E||(E=!0,de(pn,`RPC '${e}' stream ${r} transport closed`),C.a_(),this.E_(v))})),A(v,gc.EventType.ERROR,(I=>{E||(E=!0,Ol(pn,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),C.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),A(v,gc.EventType.MESSAGE,(I=>{if(!E){const D=I.data[0];$e(!!D,16349);const j=D,F=j?.error||j[0]?.error;if(F){de(pn,`RPC '${e}' stream ${r} received error:`,F);const K=F.status;let Z=(function(R){const P=kt[R];if(P!==void 0)return HR(P)})(K),ue=F.message;Z===void 0&&(Z=ne.INTERNAL,ue="Unknown error status: "+K+" with message "+F.message),E=!0,C.a_(new he(Z,ue)),v.close()}else de(pn,`RPC '${e}' stream ${r} received:`,D),C.u_(D)}})),A(h,lR.STAT_EVENT,(I=>{I.stat===Qy.PROXY?de(pn,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===Qy.NOPROXY&&de(pn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function my(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(n){return new dz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&de("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="PersistentStream";class rC{constructor(e,t,i,r,a,u,h,f){this.Mi=e,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ys(t.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new he(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(NS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(NS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cB extends rC{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=gz(this.serializer,e),i=(function(a){if(!("targetChange"in a))return xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?rs(u.readTime):xe.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=av(this.serializer),t.addTarget=(function(a,u){let h;const f=u.target;if(h=tv(f)?{documents:_z(a,f)}:{query:bz(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=KR(a,u.resumeToken);const d=sv(a,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(xe.min())>0){h.readTime=Hd(a,u.snapshotVersion.toTimestamp());const d=sv(a,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const i=Tz(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=av(this.serializer),t.removeTarget=e,this.q_(t)}}class hB extends rC{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vz(e.writeResults,e.commitTime),i=rs(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=av(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>yz(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{}class dB extends fB{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,rv(t,i),r,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(ne.UNKNOWN,a.toString())}))}Ho(e,t,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,rv(t,i),r,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ys(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class mB{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{ya(this)&&(de(ca,"Restarting streams for network reachability change."),await(async function(f){const d=Re(f);d.Ea.add(4),await ph(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ep(d)})(this))}))})),this.Ra=new pB(i,r)}}async function Ep(n){if(ya(n))for(const e of n.da)await e(!0)}async function ph(n){for(const e of n.da)await e(!1)}function oC(n,e){const t=Re(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),M_(t)?P_(t):Wl(t).O_()&&D_(t,e))}function I_(n,e){const t=Re(n),i=Wl(t);t.Ia.delete(e),i.O_()&&aC(t,e),t.Ia.size===0&&(i.O_()?i.L_():ya(t)&&t.Ra.set("Unknown"))}function D_(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wl(n).Y_(e)}function aC(n,e){n.Va.Ue(e),Wl(n).Z_(e)}function P_(n){n.Va=new uz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Wl(n).start(),n.Ra.ua()}function M_(n){return ya(n)&&!Wl(n).x_()&&n.Ia.size>0}function ya(n){return Re(n).Ea.size===0}function lC(n){n.Va=void 0}async function gB(n){n.Ra.set("Online")}async function yB(n){n.Ia.forEach(((e,t)=>{D_(n,e)}))}async function vB(n,e){lC(n),M_(n)?(n.Ra.ha(e),P_(n)):n.Ra.set("Unknown")}async function _B(n,e,t){if(n.Ra.set("Online"),e instanceof $R&&e.state===2&&e.cause)try{await(async function(r,a){const u=a.cause;for(const h of a.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.Ia.delete(h),r.Va.removeTarget(h))})(n,e)}catch(i){de(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await $d(n,i)}else if(e instanceof vd?n.Va.Ze(e):e instanceof GR?n.Va.st(e):n.Va.tt(e),!t.isEqual(xe.min()))try{const i=await iC(n.localStore);t.compareTo(i)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(d);g&&a.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(cn.EMPTY_BYTE_STRING,g.snapshotVersion)),aC(a,f);const v=new Lr(g.target,f,d,g.sequenceNumber);D_(a,v)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){de(ca,"Failed to raise snapshot:",i),await $d(n,i)}}async function $d(n,e,t){if(!Xl(e))throw e;n.Ea.add(1),await ph(n),n.Ra.set("Offline"),t||(t=()=>iC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(ca,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ep(n)}))}function uC(n,e){return e().catch((t=>$d(n,t,e)))}async function Sp(n){const e=Re(n),t=Qr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:p_;for(;bB(e);)try{const r=await tB(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,wB(e,r)}catch(r){await $d(e,r)}cC(e)&&hC(e)}function bB(n){return ya(n)&&n.Ta.length<10}function wB(n,e){n.Ta.push(e);const t=Qr(n);t.O_()&&t.X_&&t.ea(e.mutations)}function cC(n){return ya(n)&&!Qr(n).x_()&&n.Ta.length>0}function hC(n){Qr(n).start()}async function TB(n){Qr(n).ra()}async function EB(n){const e=Qr(n);for(const t of n.Ta)e.ea(t.mutations)}async function SB(n,e,t){const i=n.Ta.shift(),r=T_.from(i,e,t);await uC(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Sp(n)}async function AB(n,e){e&&Qr(n).X_&&await(async function(i,r){if((function(u){return oz(u)&&u!==ne.ABORTED})(r.code)){const a=i.Ta.shift();Qr(i).B_(),await uC(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await Sp(i)}})(n,e),cC(n)&&hC(n)}async function VS(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),de(ca,"RemoteStore received new credentials");const i=ya(t);t.Ea.add(3),await ph(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ep(t)}async function xB(n,e){const t=Re(n);e?(t.Ea.delete(2),await Ep(t)):e||(t.Ea.add(2),await ph(t),t.Ra.set("Unknown"))}function Wl(n){return n.ma||(n.ma=(function(t,i,r){const a=Re(t);return a.sa(),new cB(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:gB.bind(null,n),t_:yB.bind(null,n),r_:vB.bind(null,n),H_:_B.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),M_(n)?P_(n):n.Ra.set("Unknown")):(await n.ma.stop(),lC(n))}))),n.ma}function Qr(n){return n.fa||(n.fa=(function(t,i,r){const a=Re(t);return a.sa(),new hB(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:TB.bind(null,n),r_:AB.bind(null,n),ta:EB.bind(null,n),na:SB.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Sp(n)):(await n.fa.stop(),n.Ta.length>0&&(de(ca,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,h=new k_(e,t,u,r,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O_(n,e){if(Ys("AsyncQueue",`${e}: ${n}`),Xl(n))return new he(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=yc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Cl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.ga=new mt(ge.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class zl{constructor(e,t,i,r,a,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new zl(e,t,Cl.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CB{constructor(){this.queries=US(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Re(t),a=r.queries;r.queries=US(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function US(){return new ga((n=>MR(n)),yp)}async function IB(n,e){const t=Re(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.ba()&&e.Da()&&(i=2):(a=new RB,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(u){const h=O_(u,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&N_(t)}async function DB(n,e){const t=Re(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function PB(n,e){const t=Re(n);let i=!1;for(const r of e){const a=r.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Fa(r)&&(i=!0);u.wa=r}}i&&N_(t)}function MB(n,e,t){const i=Re(n),r=i.queries.get(e);if(r)for(const a of r.Sa)a.onError(t);i.queries.delete(e)}function N_(n){n.Ca.forEach((e=>{e.next()}))}var cv,zS;(zS=cv||(cv={})).Ma="default",zS.Cache="cache";class kB{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new zl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.key=e}}class dC{constructor(e){this.key=e}}class OB{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=kR(e),this.tu=new Cl(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new LS,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((g,v)=>{const b=r.get(g),E=vp(this.query,v)?v:null,C=!!b&&this.mutatedKeys.has(b.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;b&&E?b.data.isEqual(E.data)?C!==A&&(i.track({type:3,doc:E}),I=!0):this.su(b,E)||(i.track({type:2,doc:E}),I=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(h=!0)):!b&&E?(i.track({type:0,doc:E}),I=!0):b&&!E&&(i.track({type:1,doc:b}),I=!0,(f||d)&&(h=!0)),I&&(E?(u=u.add(E),a=A?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,v)=>(function(E,C){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:I})}};return A(E)-A(C)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),r=r??!1;const h=t&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new zl(this.query,e.tu,a,u,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new dC(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new fC(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const V_="SyncEngine";class NB{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class VB{constructor(e){this.key=e,this.hu=!1}}class LB{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ga((h=>MR(h)),yp),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ge.comparator),this.Au=new Map,this.Ru=new A_,this.Vu={},this.mu=new Map,this.fu=Ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UB(n,e,t=!0){const i=_C(n);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await pC(i,e,t,!0),r}async function zB(n,e){const t=_C(n);await pC(t,e,!0,!1)}async function pC(n,e,t,i){const r=await nB(n.localStore,ss(e)),a=r.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await BB(n,e,a,u==="current",r.resumeToken)),n.isPrimaryClient&&t&&oC(n.remoteStore,r),h}async function BB(n,e,t,i,r){n.pu=(v,b,E)=>(async function(A,I,D,j){let F=I.view.ru(D);F.Cs&&(F=await PS(A.localStore,I.query,!1).then((({documents:O})=>I.view.ru(O,F))));const K=j&&j.targetChanges.get(I.targetId),Z=j&&j.targetMismatches.get(I.targetId)!=null,ue=I.view.applyChanges(F,A.isPrimaryClient,K,Z);return jS(A,I.targetId,ue.au),ue.snapshot})(n,v,b,E);const a=await PS(n.localStore,e,!0),u=new OB(e,a.Qs),h=u.ru(a.documents),f=dh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=u.applyChanges(h,n.isPrimaryClient,f);jS(n,t,d.au);const g=new NB(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function jB(n,e,t){const i=Re(n),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter((u=>!yp(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await lv(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&I_(i.remoteStore,r.targetId),hv(i,r.targetId)})).catch(Yl)):(hv(i,r.targetId),await lv(i.localStore,r.targetId,!0))}async function FB(n,e){const t=Re(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),I_(t.remoteStore,i.targetId))}async function qB(n,e,t){const i=QB(n);try{const r=await(function(u,h){const f=Re(u),d=rt.now(),g=h.reduce(((E,C)=>E.add(C.key)),Ue());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let C=Xs(),A=Ue();return f.Ns.getEntries(E,g).next((I=>{C=I,C.forEach(((D,j)=>{j.isValidDocument()||(A=A.add(D))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,C))).next((I=>{v=I;const D=[];for(const j of h){const F=tz(j,v.get(j.key).overlayedDocument);F!=null&&D.push(new so(j.key,F,SR(F.value.mapValue),Ii.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,D,h)})).next((I=>{b=I;const D=I.applyToLocalDocumentSet(v,A);return f.documentOverlayCache.saveOverlays(E,I.batchId,D)}))})).then((()=>({batchId:b.batchId,changes:NR(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new mt(Le)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(i,r.batchId,t),await mh(i,r.changes),await Sp(i.remoteStore)}catch(r){const a=O_(r,"Failed to persist write");t.reject(a)}}async function mC(n,e){const t=Re(n);try{const i=await Jz(t.localStore,e);e.targetChanges.forEach(((r,a)=>{const u=t.Au.get(a);u&&($e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.hu=!0:r.modifiedDocuments.size>0?$e(u.hu,14607):r.removedDocuments.size>0&&($e(u.hu,42227),u.hu=!1))})),await mh(t,i,e)}catch(i){await Yl(i)}}function BS(n,e,t){const i=Re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(u,h){const f=Re(u);f.onlineState=h;let d=!1;f.queries.forEach(((g,v)=>{for(const b of v.Sa)b.va(h)&&(d=!0)})),d&&N_(f)})(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function HB(n,e,t){const i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),a=r&&r.key;if(a){let u=new mt(ge.comparator);u=u.insert(a,gn.newNoDocument(a,xe.min()));const h=Ue().add(a),f=new wp(xe.min(),new Map,new mt(Le),u,h);await mC(i,f),i.du=i.du.remove(a),i.Au.delete(e),L_(i)}else await lv(i.localStore,e,!1).then((()=>hv(i,e,t))).catch(Yl)}async function GB(n,e){const t=Re(n),i=e.batch.batchId;try{const r=await Zz(t.localStore,e);yC(t,i,null),gC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await mh(t,r)}catch(r){await Yl(r)}}async function $B(n,e,t){const i=Re(n);try{const r=await(function(u,h){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next((v=>($e(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,e);yC(i,e,t),gC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await mh(i,r)}catch(r){await Yl(r)}}function gC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function yC(n,e,t){const i=Re(n);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function hv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||vC(n,i)}))}function vC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(I_(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),L_(n))}function jS(n,e,t){for(const i of t)i instanceof fC?(n.Ru.addReference(i.key,e),KB(n,i)):i instanceof dC?(de(V_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||vC(n,i.key)):Te(19791,{wu:i})}function KB(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(de(V_,"New document in limbo: "+t),n.Eu.add(i),L_(n))}function L_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ge(it.fromString(e)),i=n.fu.next();n.Au.set(i,new VB(t)),n.du=n.du.insert(t,i),oC(n.remoteStore,new Lr(ss(__(t.path)),i,"TargetPurposeLimboResolution",pp.ce))}}async function mh(n,e,t){const i=Re(n),r=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{u.push(i.pu(f,e,t).then((d=>{if((d||t)&&i.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){r.push(d);const g=R_.As(f.targetId,d);a.push(g)}})))})),await Promise.all(u),i.Pu.H_(r),await(async function(f,d){const g=Re(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>se.forEach(d,(b=>se.forEach(b.Es,(E=>g.persistence.referenceDelegate.addReference(v,b.targetId,E))).next((()=>se.forEach(b.ds,(E=>g.persistence.referenceDelegate.removeReference(v,b.targetId,E)))))))))}catch(v){if(!Xl(v))throw v;de(C_,"Failed to update sequence numbers: "+v)}for(const v of d){const b=v.targetId;if(!v.fromCache){const E=g.Ms.get(b),C=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(b,A)}}})(i.localStore,a))}async function YB(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){de(V_,"User change. New user:",e.toKey());const i=await nC(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new he(ne.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await mh(t,i.Ls)}}function XB(n,e){const t=Re(n),i=t.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let r=Ue();const a=t.Iu.get(e);if(!a)return r;for(const u of a){const h=t.Tu.get(u);r=r.unionWith(h.view.nu)}return r}}function _C(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HB.bind(null,e),e.Pu.H_=PB.bind(null,e.eventManager),e.Pu.yu=MB.bind(null,e.eventManager),e}function QB(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$B.bind(null,e),e}class Kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Wz(this.persistence,new Yz,e.initialUser,this.serializer)}Cu(e){return new tC(x_.mi,this.serializer)}Du(e){return new sB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kd.provider={build:()=>new Kd};class WB extends Kd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){$e(this.persistence.referenceDelegate instanceof Gd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new kz(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new tC((i=>Gd.mi(i,t)),this.serializer)}}class fv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>BS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YB.bind(null,this.syncEngine),await xB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CB})()}createDatastore(e){const t=Tp(e.databaseInfo.databaseId),i=(function(a){return new uB(a)})(e.databaseInfo);return(function(a,u,h,f){return new dB(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,a,u,h){return new mB(i,r,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>BS(this.syncEngine,t,0)),(function(){return OS.v()?new OS:new rB})())}createSyncEngine(e,t){return(function(r,a,u,h,f,d,g){const v=new LB(r,a,u,h,f,d);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Re(t);de(ca,"RemoteStore shutting down."),i.Ea.add(5),await ph(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fv.provider={build:()=>new fv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class JB{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=mn.UNAUTHENTICATED,this.clientId=d_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{de(Wr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(de(Wr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=O_(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function gy(n,e){n.asyncQueue.verifyOperationInProgress(),de(Wr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await nC(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function FS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await e9(n);de(Wr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>VS(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>VS(e.remoteStore,r))),n._onlineComponents=e}async function e9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Wr,"Using user provided OfflineComponentProvider");try{await gy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===ne.FAILED_PRECONDITION||r.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Ol("Error using user provided cache. Falling back to memory cache: "+t),await gy(n,new Kd)}}else de(Wr,"Using default OfflineComponentProvider"),await gy(n,new WB(void 0));return n._offlineComponents}async function bC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Wr,"Using user provided OnlineComponentProvider"),await FS(n,n._uninitializedComponentsProvider._online)):(de(Wr,"Using default OnlineComponentProvider"),await FS(n,new fv))),n._onlineComponents}function t9(n){return bC(n).then((e=>e.syncEngine))}async function qS(n){const e=await bC(n),t=e.eventManager;return t.onListen=UB.bind(null,e.syncEngine),t.onUnlisten=jB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FB.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firestore.googleapis.com",GS=!0;class $S{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TC,this.ssl=GS}else this.host=e.host,this.ssl=e.ssl??GS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pz)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $S({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $S(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new s6;switch(i.type){case"firstParty":return new l6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=HS.get(t);i&&(de("ComponentProvider","Removing Datastore"),HS.delete(t),i.terminate())})(this),Promise.resolve()}}function n9(n,e,t,i={}){n=qr(n,Ap);const r=to(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;r&&(Jv(`https://${h}`),e_("Firestore",!0)),a.host!==TC&&a.host!==h&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:r,emulatorOptions:i};if(!oa(f,u)&&(n._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=mn.MOCK_USER;else{d=_1(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new mn(v)}n._authCredentials=new r6(new fR(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Lt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(hh(t,Lt._jsonSchema))return new Lt(e,i||null,new ge(it.fromString(t.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Vt("string",Lt._jsonSchemaVersion),referencePath:Vt("string")};class Hr extends va{constructor(e,t,i){super(e,t,__(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new ge(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function Yd(n,e,...t){if(n=ht(n),dR("collection","path",e),n instanceof Ap){const i=it.fromString(e,...t);return sS(i),new Hr(n,null,i)}{if(!(n instanceof Lt||n instanceof Hr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return sS(i),new Hr(n.firestore,null,i)}}function _d(n,e,...t){if(n=ht(n),arguments.length===1&&(e=d_.newId()),dR("doc","path",e),n instanceof Ap){const i=it.fromString(e,...t);return iS(i),new Lt(n,null,new ge(i))}{if(!(n instanceof Lt||n instanceof Hr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return iS(i),new Lt(n.firestore,n instanceof Hr?n.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="AsyncQueue";class YS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sC(this,"async_queue_retry"),this._c=()=>{const i=my();i&&de(KS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=my();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=my();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Zo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xl(e))throw e;de(KS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ys("INTERNAL UNHANDLED ERROR: ",XS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=k_.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Te(47125,{Pc:XS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function XS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const a of i)if(a in r&&typeof r[a]=="function")return!0;return!1})(n,["next","error","complete"])}class Bl extends Ap{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new YS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YS(e),this._firestoreClient=void 0,await e}}}function i9(n,e){const t=typeof n=="object"?n:i_(),i=typeof n=="string"?n:Bd,r=ap(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=g1("firestore");a&&n9(r,...a)}return r}function EC(n){if(n._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||s9(n),n._firestoreClient}function s9(n){const e=n._freezeSettings(),t=(function(r,a,u,h){return new A6(r,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new JB(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(r){const a=r?._online.build();return{_offline:r?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(cn.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fi(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hh(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Vt("string",fi._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:os._jsonSchemaVersion}}static fromJSON(e){if(hh(e,os._jsonSchema))return new os(e.latitude,e.longitude)}}os._jsonSchemaVersion="firestore/geoPoint/1.0",os._jsonSchema={type:Vt("string",os._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:as._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hh(e,as._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new as(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}as._jsonSchemaVersion="firestore/vectorValue/1.0",as._jsonSchema={type:Vt("string",as._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=/^__.*__$/;class o9{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,t,this.fieldTransforms):new fh(e,this.data,t,this.fieldTransforms)}}class SC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new so(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class U_{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new U_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AC(this.Ac)&&r9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class a9{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Tp(e)}Cc(e,t,i,r=!1){return new U_({Ac:e,methodName:t,Dc:i,path:ln.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z_(n){const e=n._freezeSettings(),t=Tp(n._databaseId);return new a9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function l9(n,e,t,i,r,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,r);j_("Data must be an object, but it was:",u,i);const h=xC(i,u);let f,d;if(a.merge)f=new Gn(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const b=dv(e,v,t);if(!u.contains(b))throw new he(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);CC(g,b)||g.push(b)}f=new Gn(g),d=u.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,d=u.fieldTransforms;return new o9(new Mn(h),f,d)}class Cp extends Rp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}class B_ extends Rp{_toFieldTransform(e){return new W6(e.path,new Kc)}isEqual(e){return e instanceof B_}}function u9(n,e,t,i){const r=n.Cc(1,e,t);j_("Data must be an object, but it was:",r,i);const a=[],u=Mn.empty();io(i,((f,d)=>{const g=F_(e,f,t);d=ht(d);const v=r.yc(g);if(d instanceof Cp)a.push(g);else{const b=gh(d,v);b!=null&&(a.push(g),u.set(g,b))}}));const h=new Gn(a);return new SC(u,h,r.fieldTransforms)}function c9(n,e,t,i,r,a){const u=n.Cc(1,e,t),h=[dv(e,i,t)],f=[r];if(a.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)h.push(dv(e,a[b])),f.push(a[b+1]);const d=[],g=Mn.empty();for(let b=h.length-1;b>=0;--b)if(!CC(d,h[b])){const E=h[b];let C=f[b];C=ht(C);const A=u.yc(E);if(C instanceof Cp)d.push(E);else{const I=gh(C,A);I!=null&&(d.push(E),g.set(E,I))}}const v=new Gn(d);return new SC(g,v,u.fieldTransforms)}function h9(n,e,t,i=!1){return gh(t,n.Cc(i?4:3,e))}function gh(n,e){if(RC(n=ht(n)))return j_("Unsupported field value:",e,n),xC(n,e);if(n instanceof Rp)return(function(i,r){if(!AC(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,r){const a=[];let u=0;for(const h of i){let f=gh(h,r.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(i,r){if((i=ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Y6(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=rt.fromDate(i);return{timestampValue:Hd(r.serializer,a)}}if(i instanceof rt){const a=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hd(r.serializer,a)}}if(i instanceof os)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fi)return{bytesValue:KR(r.serializer,i._byteString)};if(i instanceof Lt){const a=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw r.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:S_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof as)return(function(u,h){return{mapValue:{fields:{[TR]:{stringValue:ER},[jd]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return b_(h.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${dp(i)}`)})(n,e)}function xC(n,e){const t={};return gR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(n,((i,r)=>{const a=gh(r,e.mc(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function RC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof os||n instanceof fi||n instanceof Lt||n instanceof Rp||n instanceof as)}function j_(n,e,t){if(!RC(t)||!pR(t)){const i=dp(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function dv(n,e,t){if((e=ht(e))instanceof xp)return e._internalPath;if(typeof e=="string")return F_(n,e);throw Xd("Field path arguments must be of type string or ",n,!1,void 0,t)}const f9=new RegExp("[~\\*/\\[\\]]");function F_(n,e,t){if(e.search(f9)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xp(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xd(n,e,t,i,r){const a=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new he(ne.INVALID_ARGUMENT,h+n+f)}function CC(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ip("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class d9 extends IC{data(){return super.data()}}function Ip(n,e){return typeof e=="string"?F_(n,e):e instanceof xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q_{}class DC extends q_{}function pv(n,e,...t){let i=[];e instanceof q_&&i.push(e),i=i.concat(t),(function(a){const u=a.filter((f=>f instanceof H_)).length,h=a.filter((f=>f instanceof Dp)).length;if(u>1||u>0&&h>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class Dp extends DC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Dp(e,t,i)}_apply(e){const t=this._parse(e);return PC(e._query,t),new va(e.firestore,e.converter,nv(e._query,t))}_parse(e){const t=z_(e.firestore);return(function(a,u,h,f,d,g,v){let b;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){ZS(v,g);const C=[];for(const A of v)C.push(WS(f,a,A));b={arrayValue:{values:C}}}else b=WS(f,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||ZS(v,g),b=h9(h,u,v,g==="in"||g==="not-in");return Nt.create(d,g,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function m9(n,e,t){const i=e,r=Ip("where",n);return Dp._create(r,i,t)}class H_ extends q_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new H_(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:ki.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,a){let u=r;const h=a.getFlattenedFilters();for(const f of h)PC(u,f),u=nv(u,f)})(e._query,t),new va(e.firestore,e.converter,nv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G_ extends DC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new G_(e,t)}_apply(e){const t=(function(r,a,u){if(r.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $c(a,u)})(e._query,this._field,this._direction);return new va(e.firestore,e.converter,(function(r,a){const u=r.explicitOrderBy.concat([a]);return new Ql(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function mv(n,e="asc"){const t=e,i=Ip("orderBy",n);return G_._create(i,t)}function WS(n,e,t){if(typeof(t=ht(t))=="string"){if(t==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PR(e)&&t.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!ge.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fS(n,new ge(i))}if(t instanceof Lt)return fS(n,t._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dp(t)}.`)}function ZS(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PC(n,e){const t=(function(r,a){for(const u of r)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class g9{convertValue(e,t="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return io(e,((r,a)=>{i[r]=this.convertValue(a,t)})),i}convertVectorValue(e){const t=e.fields?.[jd].arrayValue?.values?.map((i=>xt(i.doubleValue)));return new as(t)}convertGeoPoint(e){return new os(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=gp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=Kr(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);$e(JR(i),9688,{name:e});const r=new Hc(i.get(1),i.get(3)),a=new ge(i.popFirst(5));return r.isEqual(t)||Ys(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class _c{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jo extends IC{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ip("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Jo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jo._jsonSchema={type:Vt("string",Jo._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class bd extends Jo{data(e={}){return super.data(e)}}class Il{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new _c(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new bd(this._firestore,this._userDataWriter,i.key,i,new _c(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((h=>{const f=new bd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _c(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new bd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _c(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:v9(h.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=d_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}Il._jsonSchemaVersion="firestore/querySnapshot/1.0",Il._jsonSchema={type:Vt("string",Il._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class MC extends g9{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}}function JS(n,e,t,...i){n=qr(n,Lt);const r=qr(n.firestore,Bl),a=z_(r);let u;return u=typeof(e=ht(e))=="string"||e instanceof xp?c9(a,"updateDoc",n._key,e,t,i):u9(a,"updateDoc",n._key,e),$_(r,[u.toMutation(n._key,Ii.exists(!0))])}function _9(n){return $_(qr(n.firestore,Bl),[new w_(n._key,Ii.none())])}function b9(n,e){const t=qr(n.firestore,Bl),i=_d(n),r=y9(n.converter,e);return $_(t,[l9(z_(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ii.exists(!1))]).then((()=>i))}function gv(n,...e){n=ht(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||QS(e[i])||(t=e[i++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(QS(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let a,u,h;if(n instanceof Lt)u=qr(n.firestore,Bl),h=__(n._key.path),a={next:f=>{e[i]&&e[i](w9(u,n,f))},error:e[i+1],complete:e[i+2]};else{const f=qr(n,va);u=qr(f.firestore,Bl),h=f._query;const d=new MC(u);a={next:g=>{e[i]&&e[i](new Il(u,d,f,g))},error:e[i+1],complete:e[i+2]},p9(n._query)}return(function(d,g,v,b){const E=new ZB(b),C=new kB(g,E,v);return d.asyncQueue.enqueueAndForget((async()=>IB(await qS(d),C))),()=>{E.Nu(),d.asyncQueue.enqueueAndForget((async()=>DB(await qS(d),C)))}})(EC(u),h,r,a)}function $_(n,e){return(function(i,r){const a=new Zo;return i.asyncQueue.enqueueAndForget((async()=>qB(await t9(i),r,a))),a.promise})(EC(n),e)}function w9(n,e,t){const i=t.docs.get(e._key),r=new MC(n);return new Jo(n,r,e._key,i,new _c(t.hasPendingWrites,t.fromCache),e.converter)}function ed(){return new B_("serverTimestamp")}(function(e,t=!0){(function(r){Kl=r})(pa),aa(new Gr("firestore",((i,{instanceIdentifier:r,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Bl(new o6(i.getProvider("auth-internal")),new u6(u,i.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(d.options.projectId,g)})(u,r),u);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),ts(JE,eS,e),ts(JE,eS,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="firebasestorage.googleapis.com",OC="storageBucket",T9=120*1e3,E9=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends ds{constructor(e,t,i=0){super(yy(e),`Firebase Storage: ${t} (${yy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function yy(n){return"storage/"+n}function K_(){const n="An unknown error occurred, please check the error payload for server response.";return new wt(bt.UNKNOWN,n)}function S9(n){return new wt(bt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function A9(n){return new wt(bt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function x9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(bt.UNAUTHENTICATED,n)}function R9(){return new wt(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function C9(n){return new wt(bt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function I9(){return new wt(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function D9(){return new wt(bt.CANCELED,"User canceled the upload/download.")}function P9(n){return new wt(bt.INVALID_URL,"Invalid URL '"+n+"'.")}function M9(n){return new wt(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function k9(){return new wt(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OC+"' property when initializing the app?")}function O9(){return new wt(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function N9(){return new wt(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function V9(n){return new wt(bt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yv(n){return new wt(bt.INVALID_ARGUMENT,n)}function NC(){return new wt(bt.APP_DELETED,"The Firebase app was deleted.")}function L9(n){return new wt(bt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ic(n,e){return new wt(bt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function fc(n){throw new wt(bt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=$n.makeFromUrl(e,t)}catch{return new $n(e,"")}if(i.path==="")return i;throw M9(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function a(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+r+u,"i"),f={bucket:1,path:3};function d(K){K.path_=decodeURIComponent(K.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${g}/b/${r}/o${b}`,"i"),C={bucket:1,path:3},A=t===kC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",D=new RegExp(`^https?://${A}/${r}/${I}`,"i"),F=[{regex:h,indices:f,postModify:a},{regex:E,indices:C,postModify:d},{regex:D,indices:{bucket:1,path:2},postModify:d}];for(let K=0;K<F.length;K++){const Z=F[K],ue=Z.regex.exec(e);if(ue){const O=ue[Z.indices.bucket];let R=ue[Z.indices.path];R||(R=""),i=new $n(O,R),Z.postModify(i);break}}if(i==null)throw P9(e);return i}}class U9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(n,e,t){let i=1,r=null,a=null,u=!1,h=0;function f(){return h===2}let d=!1;function g(...I){d||(d=!0,e.apply(null,I))}function v(I){r=setTimeout(()=>{r=null,n(E,f())},I)}function b(){a&&clearTimeout(a)}function E(I,...D){if(d){b();return}if(I){b(),g.call(null,I,...D);return}if(f()||u){b(),g.call(null,I,...D);return}i<64&&(i*=2);let F;h===1?(h=2,F=0):F=(i+Math.random())*1e3,v(F)}let C=!1;function A(I){C||(C=!0,b(),!d&&(r!==null?(I||(h=2),clearTimeout(r),v(0)):I||(h=1)))}return v(0),a=setTimeout(()=>{u=!0,A(!0)},t),A}function B9(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(n){return n!==void 0}function F9(n){return typeof n=="object"&&!Array.isArray(n)}function Y_(n){return typeof n=="string"||n instanceof String}function eA(n){return X_()&&n instanceof Blob}function X_(){return typeof Blob<"u"}function tA(n,e,t,i){if(i<e)throw yv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw yv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function VC(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var ea;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ea||(ea={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||r||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,t,i,r,a,u,h,f,d,g,v,b=!0,E=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,A)=>{this.resolve_=C,this.reject_=A,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new td(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===ea.NO_ERROR,f=a.getStatus();if(!h||q9(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ea.ABORT;i(!1,new td(!1,null,g));return}const d=this.successCodes_.indexOf(f)!==-1;i(!0,new td(d,a))})},t=(i,r)=>{const a=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());j9(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=K_();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(r.canceled){const f=this.appDelete_?NC():D9();u(f)}else{const f=I9();u(f)}};this.canceled_?t(!1,new td(!1,null,!0)):this.backoffId_=z9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&B9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class td{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function G9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function $9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function K9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Y9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function X9(n,e,t,i,r,a,u=!0,h=!1){const f=VC(n.urlParams),d=n.url+f,g=Object.assign({},n.headers);return K9(g,e),G9(g,t),$9(g,a),Y9(g,i),new H9(d,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function W9(...n){const e=Q9();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(X_())return new Blob(n);throw new wt(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Z9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(n){if(typeof atob>"u")throw V9("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vy{constructor(e,t){this.data=e,this.contentType=t||null}}function ej(n,e){switch(n){case es.RAW:return new vy(LC(e));case es.BASE64:case es.BASE64URL:return new vy(UC(n,e));case es.DATA_URL:return new vy(nj(e),ij(e))}throw K_()}function LC(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=i,u=n.charCodeAt(++t);i=65536|(a&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function tj(n){let e;try{e=decodeURIComponent(n)}catch{throw Ic(es.DATA_URL,"Malformed data URL.")}return LC(e)}function UC(n,e){switch(n){case es.BASE64:{const r=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(r||a)throw Ic(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case es.BASE64URL:{const r=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(r||a)throw Ic(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=J9(e)}catch(r){throw r.message.includes("polyfill")?r:Ic(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class zC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ic(es.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=sj(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function nj(n){const e=new zC(n);return e.base64?UC(es.BASE64,e.rest):tj(e.rest)}function ij(n){return new zC(n).contentType}function sj(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,t){let i=0,r="";eA(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(eA(this.data_)){const i=this.data_,r=Z9(i,e,t);return r===null?null:new Nr(r)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Nr(i,!0)}}static getBlob(...e){if(X_()){const t=e.map(i=>i instanceof Nr?i.data_:i);return new Nr(W9.apply(null,t))}else{const t=e.map(u=>Y_(u)?ej(es.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)r[a++]=u[h]}),new Nr(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n){let e;try{e=JSON.parse(n)}catch{return null}return F9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function oj(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function jC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(n,e){return e}class An{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||aj}}let nd=null;function lj(n){return!Y_(n)||n.length<2?n:jC(n)}function FC(){if(nd)return nd;const n=[];n.push(new An("bucket")),n.push(new An("generation")),n.push(new An("metageneration")),n.push(new An("name","fullPath",!0));function e(a,u){return lj(u)}const t=new An("name");t.xform=e,n.push(t);function i(a,u){return u!==void 0?Number(u):u}const r=new An("size");return r.xform=i,n.push(r),n.push(new An("timeCreated")),n.push(new An("updated")),n.push(new An("md5Hash",null,!0)),n.push(new An("cacheControl",null,!0)),n.push(new An("contentDisposition",null,!0)),n.push(new An("contentEncoding",null,!0)),n.push(new An("contentLanguage",null,!0)),n.push(new An("contentType",null,!0)),n.push(new An("metadata","customMetadata",!0)),nd=n,nd}function uj(n,e){function t(){const i=n.bucket,r=n.fullPath,a=new $n(i,r);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function cj(n,e,t){const i={};i.type="file";const r=t.length;for(let a=0;a<r;a++){const u=t[a];i[u.local]=u.xform(i,e[u.server])}return uj(i,n),i}function qC(n,e,t){const i=BC(e);return i===null?null:cj(n,i,t)}function hj(n,e,t,i){const r=BC(e);if(r===null||!Y_(r.downloadTokens))return null;const a=r.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(d=>{const g=n.bucket,v=n.fullPath,b="/b/"+u(g)+"/o/"+u(v),E=Pp(b,t,i),C=VC({alt:"media",token:d});return E+C})[0]}function fj(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class Q_{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(n){if(!n)throw K_()}function dj(n,e){function t(i,r){const a=qC(n,r,e);return HC(a!==null),a}return t}function pj(n,e){function t(i,r){const a=qC(n,r,e);return HC(a!==null),hj(a,r,n.host,n._protocol)}return t}function GC(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=R9():r=x9():t.getStatus()===402?r=A9(n.bucket):t.getStatus()===403?r=C9(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function $C(n){const e=GC(n);function t(i,r){let a=e(i,r);return i.getStatus()===404&&(a=S9(n.path)),a.serverResponse=r.serverResponse,a}return t}function mj(n,e,t){const i=e.fullServerUrl(),r=Pp(i,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,h=new Q_(r,a,pj(n,t),u);return h.errorHandler=$C(e),h}function gj(n,e){const t=e.fullServerUrl(),i=Pp(t,n.host,n._protocol),r="DELETE",a=n.maxOperationRetryTime;function u(f,d){}const h=new Q_(i,r,u,a);return h.successCodes=[200,204],h.errorHandler=$C(e),h}function yj(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function vj(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=yj(null,e)),i}function _j(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let F="";for(let K=0;K<2;K++)F=F+Math.random().toString().slice(2);return F}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const d=vj(e,i,r),g=fj(d,t),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,b=`\r
--`+f+"--",E=Nr.getBlob(v,i,b);if(E===null)throw O9();const C={name:d.fullPath},A=Pp(a,n.host,n._protocol),I="POST",D=n.maxUploadRetryTime,j=new Q_(A,I,dj(n,t),D);return j.urlParams=C,j.headers=u,j.body=E.uploadData(),j.errorHandler=GC(e),j}class bj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ea.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ea.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ea.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r,a){if(this.sent_)throw fc("cannot .send() more than once");if(to(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wj extends bj{initXhr(){this.xhr_.responseType="text"}}function W_(){return new wj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t){this._service=e,t instanceof $n?this._location=t:this._location=$n.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ha(e,t)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jC(this._location.path)}get storage(){return this._service}get parent(){const e=rj(this._location.path);if(e===null)return null;const t=new $n(this._location.bucket,e);return new ha(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw L9(e)}}function Tj(n,e,t){n._throwIfRoot("uploadBytes");const i=_j(n.storage,n._location,FC(),new Nr(e,!0),t);return n.storage.makeRequestWithTokens(i,W_).then(r=>({metadata:r,ref:n}))}function Ej(n){n._throwIfRoot("getDownloadURL");const e=mj(n.storage,n._location,FC());return n.storage.makeRequestWithTokens(e,W_).then(t=>{if(t===null)throw N9();return t})}function Sj(n){n._throwIfRoot("deleteObject");const e=gj(n.storage,n._location);return n.storage.makeRequestWithTokens(e,W_)}function Aj(n,e){const t=oj(n._location.path,e),i=new $n(n._location.bucket,t);return new ha(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(n){return/^[A-Za-z]+:\/\//.test(n)}function Rj(n,e){return new ha(n,e)}function KC(n,e){if(n instanceof Z_){const t=n;if(t._bucket==null)throw k9();const i=new ha(t,t._bucket);return e!=null?KC(i,e):i}else return e!==void 0?Aj(n,e):n}function Cj(n,e){if(e&&xj(e)){if(n instanceof Z_)return Rj(n,e);throw yv("To use ref(service, url), the first argument must be a Storage instance.")}else return KC(n,e)}function nA(n,e){const t=e?.[OC];return t==null?null:$n.makeFromBucketSpec(t,n)}function Ij(n,e,t,i={}){n.host=`${e}:${t}`;const r=to(e);r&&(Jv(`https://${n.host}/b`),e_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:_1(a,n.app.options.projectId))}class Z_{constructor(e,t,i,r,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=kC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T9,this._maxUploadRetryTime=E9,this._requests=new Set,r!=null?this._bucket=$n.makeFromBucketSpec(r,this._host):this._bucket=nA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=nA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ha(this,e)}_makeRequest(e,t,i,r,a=!0){if(this._deleted)return new U9(NC());{const u=X9(e,this._appId,i,r,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const iA="@firebase/storage",sA="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="storage";function Dj(n,e,t){return n=ht(n),Tj(n,e,t)}function Pj(n){return n=ht(n),Ej(n)}function Mj(n){return n=ht(n),Sj(n)}function rA(n,e){return n=ht(n),Cj(n,e)}function kj(n=i_(),e){n=ht(n);const i=ap(n,YC).getImmediate({identifier:e}),r=g1("storage");return r&&Oj(i,...r),i}function Oj(n,e,t,i={}){Ij(n,e,t,i)}function Nj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Z_(t,i,r,e,pa)}function Vj(){aa(new Gr(YC,Nj,"PUBLIC").setMultipleInstances(!0)),ts(iA,sA,""),ts(iA,sA,"esm2020")}Vj();const Lj={apiKey:"AIzaSyAM24lLkve3X0yaBhlHgfNx7LZ7UttRXFw",authDomain:"likwitdevs-417ee.firebaseapp.com",projectId:"likwitdevs-417ee",storageBucket:"likwitdevs-417ee.firebasestorage.app",messagingSenderId:"669619326357",appId:"1:669619326357:web:356366d029b91cb570fa9c"},J_=T1(Lj),fa=e6(J_),Ko=i9(J_),oA=kj(J_);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zj=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),aA=n=>{const e=zj(n);return e.charAt(0).toUpperCase()+e.slice(1)},XC=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Bj=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:u,...h},f)=>z.createElement("svg",{ref:f,...jj,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:XC("lucide",r),...!a&&!Bj(h)&&{"aria-hidden":"true"},...h},[...u.map(([d,g])=>z.createElement(d,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=(n,e)=>{const t=z.forwardRef(({className:i,...r},a)=>z.createElement(Fj,{ref:a,iconNode:e,className:XC(`lucide-${Uj(aA(n))}`,`lucide-${n}`,i),...r}));return t.displayName=aA(n),t};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],WC=QC("github",qj);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ZC=QC("mail",Hj),fl=({isActive:n})=>`px-3 py-2 rounded-lg text-sm transition
   ${n?"bg-white/20 text-white":"text-white/80 hover:text-white hover:bg-white/10"}`;function Gj(){const[n,e]=z.useState(!1),[t,i]=z.useState(!1),r=ih();z.useEffect(()=>{const u=cp(fa,h=>e(!!h));return()=>u()},[]);async function a(){try{await Y1(fa),r("/"),i(!1)}catch(u){console.error("Sign out failed:",u)}}return M.jsx("header",{className:"left-0 right-0 z-50 mt-6",children:M.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[M.jsxs("div",{className:`flex items-center justify-between rounded-2xl border border-white/10\r
                        bg-black/10 backdrop-blur-md px-4 py-3`,children:[M.jsx(Ir,{to:"/",className:"text-white font-semibold",onClick:()=>i(!1),children:"Likwit Devs"}),M.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[M.jsx(Ir,{to:"/",className:fl,children:"Home"}),M.jsx(Ai,{to:{pathname:"/",hash:"#about"},className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition",children:"About"}),M.jsx(Ir,{to:"/contact",className:fl,children:"Contact"}),n&&M.jsxs(M.Fragment,{children:[M.jsx(Ir,{to:"/admin",className:fl,children:"Admin"}),M.jsx("button",{onClick:a,className:"ml-2 px-3 py-1.5 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition",children:"Sign out"})]})]}),M.jsx("button",{className:"md:hidden inline-flex items-center justify-center rounded-lg border border-white/20 px-3 py-2 text-white/90",onClick:()=>i(u=>!u),"aria-expanded":t,"aria-controls":"mobile-nav",children:"Menu"})]}),M.jsx("div",{id:"mobile-nav",className:`md:hidden transition-[max-height] duration-300 overflow-hidden border-x border-b border-white/10 rounded-b-2xl
          ${t?"max-h-80":"max-h-0"}`,children:M.jsxs("div",{className:"px-4 py-3 bg-black/10 backdrop-blur-md",children:[M.jsxs("ul",{className:"space-y-2",children:[M.jsx("li",{children:M.jsx(Ir,{to:"/",className:fl,onClick:()=>i(!1),children:"Home"})}),M.jsx("li",{children:M.jsx(Ai,{to:{pathname:"/",hash:"#about"},onClick:()=>i(!1),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition block text-left",children:"About"})}),M.jsx("li",{children:M.jsx(Ir,{to:"/contact",className:fl,onClick:()=>i(!1),children:"Contact"})}),n&&M.jsxs(M.Fragment,{children:[M.jsx("li",{children:M.jsx(Ir,{to:"/admin",className:fl,onClick:()=>i(!1),children:"Admin"})}),M.jsx("li",{children:M.jsx("button",{onClick:a,className:"px-3 py-2 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition w-full text-left",children:"Sign out"})})]})]}),M.jsx("div",{className:"my-3 h-px bg-white/10"}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx(Ai,{to:"/contact","aria-label":"Contact",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:M.jsx(ZC,{size:18})}),M.jsx("a",{href:"https://github.com/michaelm602",target:"_blank",rel:"noreferrer","aria-label":"GitHub",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:M.jsx(WC,{size:18})})]})]})})]})})}function Xo({as:n="div",className:e="",children:t,y:i=24,duration:r=550,delay:a=0,ease:u="cubic-bezier(0.22,1,0.36,1)",enter:h=.25,exit:f=.12,rootMargin:d="-12% 0px -12% 0px",once:g=!1,startVisible:v=!0,...b}){const E=z.useRef(null),[C,A]=z.useState(v),I=z.useRef(C);z.useEffect(()=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){A(!0),I.current=!0;return}const Z=E.current;if(!Z)return;if(v){const R=Z.getBoundingClientRect();R.top<window.innerHeight&&R.bottom>0&&(A(!0),I.current=!0)}const ue=Array.from({length:21},(R,P)=>P/20),O=new IntersectionObserver(([R])=>{const P=R.intersectionRatio??0;!I.current&&P>=h?(I.current=!0,A(!0),g&&O.disconnect()):!g&&I.current&&P<=f&&(I.current=!1,A(!1))},{threshold:ue,rootMargin:d});return O.observe(Z),()=>O.disconnect()},[h,f,d,g,v]);const D={transition:`transform ${r}ms ${u} ${a}ms, opacity ${r}ms ${u} ${a}ms`,willChange:"transform, opacity",backfaceVisibility:"hidden",transform:"translateZ(0)"},j={transform:`translateY(${i}px)`,opacity:0},F={transform:"translateY(0px)",opacity:1};return M.jsx(n,{ref:E,className:e,style:{...D,...C?F:j},...b,children:t})}function $j(){const n=new Date().getFullYear();function e(t){const i=document.getElementById(t);if(i){const a=i.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:a,behavior:"smooth"})}}return M.jsxs("footer",{className:"mt-10 border-t border-white/10 bg-white/5 backdrop-blur-md",children:[M.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8 grid gap-8 md:grid-cols-3 text-white/90",children:[M.jsx(Xo,{children:M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-semibold text-white",children:"Likwit Devs"}),M.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Modern, responsive websites with clean UX and custom visuals."})]})}),M.jsxs("nav",{className:"grid grid-cols-2 gap-2 text-sm",children:[M.jsx(Xo,{children:M.jsxs("div",{className:"space-y-2",children:[M.jsx("p",{className:"text-white/60 font-medium",children:"Pages"}),M.jsx(Ai,{className:"block hover:text-white",to:"/",children:"Home"}),M.jsx("button",{onClick:()=>e("about"),className:"block text-left hover:text-white w-full",children:"About"}),M.jsx(Ai,{className:"block hover:text-white",to:"/contact",children:"Contact"})]})}),M.jsx(Xo,{children:M.jsxs("div",{className:"space-y-2",children:[M.jsx("p",{className:"text-white/60 font-medium",children:"Services"}),M.jsx("span",{className:"block text-white/70",children:"Portfolio Sites"}),M.jsx("span",{className:"block text-white/70",children:"E-commerce"}),M.jsx("span",{className:"block text-white/70",children:"Brand Visuals"})]})})]}),M.jsx("div",{className:"space-y-3",children:M.jsxs(Xo,{children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"Get in touch"}),M.jsxs("li",{className:"flex items-center gap-2",children:[M.jsx(ZC,{className:"w-5 h-5 opacity-80"}),M.jsx(Ai,{to:"/contact",className:"hover:underline hover:text-white",children:"likwitdevs@gmail.com"})]}),M.jsx("div",{className:"mt-2 flex items-center gap-3",children:M.jsx("a",{href:"https://github.com/michaelm602",target:"_blank",rel:"noreferrer",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition",children:M.jsx(WC,{size:18})})})]})})]}),M.jsxs("div",{className:"border-t border-white/10 text-center text-xs text-white/60 py-4",children:["© ",n," Likwit Devs. All rights reserved."]})]})}function Kj(){const n=gi();return z.useEffect(()=>{if(!n.hash)return;const e=document.getElementById(n.hash.slice(1));e&&e.scrollIntoView({behavior:"smooth",block:"start"})},[n.pathname,n.hash]),null}function Yj(){const n=gi();return z.useEffect(()=>{n.hash||window.scrollTo({top:0,behavior:"instant"})},[n.pathname,n.hash]),M.jsxs(M.Fragment,{children:[M.jsx(lL,{}),M.jsx(Gj,{}),M.jsx(Kj,{offset:100}),M.jsx("main",{className:"min-h-[100svh]",children:M.jsx(ck,{})}),M.jsx($j,{})]})}function Xj({texts:n=[],speed:e=50,pause:t=1500,className:i=""}){const[r,a]=z.useState(""),[u,h]=z.useState(0),[f,d]=z.useState(0),[g,v]=z.useState(!0);return z.useEffect(()=>{let b;return g?f<n[u].length?b=setTimeout(()=>d(f+1),e):b=setTimeout(()=>v(!1),t):f>0?b=setTimeout(()=>d(f-1),e/2):(v(!0),h((u+1)%n.length)),a(n[u].slice(0,f)),()=>clearTimeout(b)},[f,g,u,n,e,t]),M.jsxs("span",{className:i,children:[r,M.jsx("span",{className:"cursor",children:"|"})]})}function Qj(){const[n,e]=z.useState([]),[t,i]=z.useState(!0),[r,a]=z.useState(null);return z.useEffect(()=>{const u=pv(Yd(Ko,"projects"),m9("published","==",!0),mv("order","asc"));let h=gv(u,f=>{e(f.docs.map(d=>({id:d.id,...d.data()}))),i(!1)},f=>{if(!(f.code==="failed-precondition"||/index/i.test(f.message||""))){a(f),i(!1);return}const g=pv(Yd(Ko,"projects"),mv("order","asc"));h=gv(g,v=>{const b=v.docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.published===!0);e(b),i(!1)},v=>{a(v),i(!1)})});return()=>h&&h()},[]),{projects:n,loading:t,error:r}}function Wj({project:n}){const{title:e,summary:t,description:i,href:r,imageUrl:a,tags:u=[],imageFocus:h}=n,f=/^https?:\/\//i.test(r||"")?r:`https://${r||""}`,d=h||"50% 25%";return M.jsxs("article",{className:"rounded-2xl border border-white/15 bg-black/40 backdrop-blur-sm shadow-xl shadow-black/80",children:[M.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"block rounded-t-2xl overflow-hidden","aria-label":`Open ${e} in a new tab`,children:M.jsx(Xo,{children:M.jsx("div",{className:"relative aspect-[16/9] bg-no-repeat bg-contain",style:{backgroundImage:`url('${a||""}')`,backgroundPosition:d},children:M.jsx("div",{className:"absolute inset-0"})})})}),M.jsx(Xo,{children:M.jsxs("div",{className:"rounded-b-2xl p-5 pb-6 text-white",children:[M.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&M.jsx("p",{className:"mt-2 text-white/90",children:t}),i&&M.jsx("p",{className:"mt-2 text-white/80 leading-relaxed break-words",children:i}),M.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[u.length>0&&M.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(g=>M.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10 text-white/85",children:g},g))}),M.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"btn whitespace-nowrap",children:"Live site ↗"})]})]})})]})}function Zj(){const{projects:n,loading:e,error:t}=Qj();return M.jsx("section",{id:"projects",className:"relative z-10 px-4 pt-12 pb-28 md:pt-16 md:pb-32",children:M.jsxs("div",{className:"mx-auto max-w-6xl",children:[M.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:"Recent Work"}),e&&M.jsx("p",{className:"text-white/70",children:"Loading projects…"}),t&&M.jsx("p",{className:"text-red-300",children:"Couldn't load projects."}),!e&&!t&&n.length===0&&M.jsx("p",{className:"text-white/70",children:"No projects yet."}),!e&&!t&&n.length>0&&M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(i=>M.jsx(Wj,{project:i},i.id))})]})})}function Jj(){return M.jsx("section",{id:"about",className:"scroll-mt-24 px-4 py-12 md:py-20",children:M.jsx("div",{className:"mx-auto max-w-6xl rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md p-6 md:p-10",children:M.jsxs(Xo,{children:[M.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"About Me"}),M.jsxs("p",{className:"text-white/90 max-w-3xl",children:["I’m Michael, the builder behind ",M.jsx("span",{className:"font-semibold",children:"Likwit Devs"}),". I design and ship **fast, mobile-first websites** that look clean and make it easy to contact or book. My focus is performance (Core Web Vitals), simple content editing, and custom visuals so your brand actually stands out."]}),M.jsxs("ul",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 text-white/80",children:[M.jsx("li",{children:"• Landing pages and small business sites"}),M.jsx("li",{children:"• CMS or no-code editing (you can update content)"}),M.jsx("li",{children:"• Speed + SEO best practices"}),M.jsx("li",{children:"• Integrations: email, forms, booking, payments"})]}),M.jsxs("div",{className:"mt-6 flex flex-wrap gap-2 text-sm text-white/80",children:[M.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"React"}),M.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Tailwind"}),M.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Firebase"}),M.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Stripe"}),M.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"EmailJS"})]}),M.jsxs("div",{className:"mt-6 grid gap-3 sm:grid-cols-3 text-white/80",children:[M.jsxs("div",{children:[M.jsx("span",{className:"text-white font-semibold",children:"1."})," Brief & scope"]}),M.jsxs("div",{children:[M.jsx("span",{className:"text-white font-semibold",children:"2."})," Design → build"]}),M.jsxs("div",{children:[M.jsx("span",{className:"text-white font-semibold",children:"3."})," Launch & handoff"]})]})]})})})}function e5(){return M.jsxs(M.Fragment,{children:[M.jsxs("section",{className:"relative overflow-hidden hero-stable",children:[M.jsx(h1,{className:"pointer-events-none absolute inset-0"}),M.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-transparent"}),M.jsx("div",{className:"mx-auto max-w-6xl px-4",children:M.jsxs("div",{className:"relative py-14 md:py-24",children:[M.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight text-white",children:"Websites that outpace your competition."}),M.jsx("p",{className:"mt-3 text-base sm:text-lg md:text-xl leading-relaxed text-white/90 max-w-2xl",children:M.jsx(Xj,{texts:["Blazing-fast performance & Core Web Vitals friendly.","Mobile-first design with clean, modern UI.","SEO-ready builds and simple content editing.","Custom visuals so your brand actually stands out."],speed:70,pause:1600})}),M.jsx("button",{onClick:()=>{document.getElementById("projects")?.scrollIntoView({behavior:"smooth"})},className:"btn-subtle text-white bg-black/10 backdrop-blur-md mt-3",children:"View Projects"}),M.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 text-sm text-white/80",children:[M.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Responsive"}),M.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Fast Loads"}),M.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"SEO Ready"}),M.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Modern UI"})]})]})})]}),M.jsx(Zj,{}),M.jsx(Jj,{})]})}class yh{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const t5=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},an={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:t5()},eb=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},n5=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=eb(n);an.publicKey=t.publicKey,an.blockHeadless=t.blockHeadless,an.storageProvider=t.storageProvider,an.blockList=t.blockList,an.limitRate=t.limitRate,an.origin=t.origin||e},JC=async(n,e,t={})=>{const i=await fetch(an.origin+n,{method:"POST",headers:t,body:e}),r=await i.text(),a=new yh(i.status,r);if(i.ok)return a;throw a},eI=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},i5=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},tI=n=>n.webdriver||!n.languages||n.languages.length===0,nI=()=>new yh(451,"Unavailable For Headless Browser"),s5=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},r5=n=>!n.list?.length||!n.watchVariable,o5=(n,e)=>n instanceof FormData?n.get(e):n[e],iI=(n,e)=>{if(r5(n))return!1;s5(n.list,n.watchVariable);const t=o5(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},sI=()=>new yh(403,"Forbidden"),a5=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},l5=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},rI=async(n,e,t)=>{if(!e.throttle||!t)return!1;a5(e.throttle,e.id);const i=e.id||n;return await l5(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},oI=()=>new yh(429,"Too Many Requests"),u5=async(n,e,t,i)=>{const r=eb(i),a=r.publicKey||an.publicKey,u=r.blockHeadless||an.blockHeadless,h=r.storageProvider||an.storageProvider,f={...an.blockList,...r.blockList},d={...an.limitRate,...r.limitRate};return u&&tI(navigator)?Promise.reject(nI()):(eI(a,n,e),i5(t),t&&iI(f,t)?Promise.reject(sI()):await rI(location.pathname,d,h)?Promise.reject(oI()):JC("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},c5=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},h5=n=>typeof n=="string"?document.querySelector(n):n,f5=async(n,e,t,i)=>{const r=eb(i),a=r.publicKey||an.publicKey,u=r.blockHeadless||an.blockHeadless,h=an.storageProvider||r.storageProvider,f={...an.blockList,...r.blockList},d={...an.limitRate,...r.limitRate};if(u&&tI(navigator))return Promise.reject(nI());const g=h5(t);eI(a,n,e),c5(g);const v=new FormData(g);return iI(f,v)?Promise.reject(sI()):await rI(location.pathname,d,h)?Promise.reject(oI()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",e),v.append("user_id",a),JC("/api/v1.0/email/send-form",v))},d5={init:n5,send:u5,sendForm:f5,EmailJSResponseStatus:yh},aI=z.createContext({});function p5(n){const e=z.useRef(null);return e.current===null&&(e.current=n()),e.current}const tb=typeof window<"u",m5=tb?z.useLayoutEffect:z.useEffect,nb=z.createContext(null);function ib(n,e){n.indexOf(e)===-1&&n.push(e)}function sb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Qs=(n,e,t)=>t>e?e:t<n?n:t;let rb=()=>{};const Ws={},lI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function uI(n){return typeof n=="object"&&n!==null}const cI=n=>/^0[^.\s]+$/u.test(n);function ob(n){let e;return()=>(e===void 0&&(e=n()),e)}const di=n=>n,g5=(n,e)=>t=>e(n(t)),vh=(...n)=>n.reduce(g5),Qc=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class ab{constructor(){this.subscriptions=[]}add(e){return ib(this.subscriptions,e),()=>sb(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const u=this.subscriptions[a];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ls=n=>n*1e3,us=n=>n/1e3;function hI(n,e){return e?n*(1e3/e):0}const fI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,y5=1e-7,v5=12;function _5(n,e,t,i,r){let a,u,h=0;do u=e+(t-e)/2,a=fI(u,i,r)-n,a>0?t=u:e=u;while(Math.abs(a)>y5&&++h<v5);return u}function _h(n,e,t,i){if(n===e&&t===i)return di;const r=a=>_5(a,0,1,n,t);return a=>a===0||a===1?a:fI(r(a),e,i)}const dI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,pI=n=>e=>1-n(1-e),mI=_h(.33,1.53,.69,.99),lb=pI(mI),gI=dI(lb),yI=n=>(n*=2)<1?.5*lb(n):.5*(2-Math.pow(2,-10*(n-1))),ub=n=>1-Math.sin(Math.acos(n)),vI=pI(ub),_I=dI(ub),b5=_h(.42,0,1,1),w5=_h(0,0,.58,1),bI=_h(.42,0,.58,1),T5=n=>Array.isArray(n)&&typeof n[0]!="number",wI=n=>Array.isArray(n)&&typeof n[0]=="number",E5={linear:di,easeIn:b5,easeInOut:bI,easeOut:w5,circIn:ub,circInOut:_I,circOut:vI,backIn:lb,backInOut:gI,backOut:mI,anticipate:yI},S5=n=>typeof n=="string",lA=n=>{if(wI(n)){rb(n.length===4);const[e,t,i,r]=n;return _h(e,t,i,r)}else if(S5(n))return E5[n];return n},id=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function A5(n,e){let t=new Set,i=new Set,r=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(d.schedule(g),n()),g(h)}const d={schedule:(g,v=!1,b=!1)=>{const C=b&&r?t:i;return v&&u.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(f),t.clear(),r=!1,a&&(a=!1,d.process(g))}};return d}const x5=40;function TI(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=id.reduce((F,K)=>(F[K]=A5(a),F),{}),{setup:h,read:f,resolveKeyframes:d,preUpdate:g,update:v,preRender:b,render:E,postRender:C}=u,A=()=>{const F=Ws.useManualTiming?r.timestamp:performance.now();t=!1,Ws.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(F-r.timestamp,x5),1)),r.timestamp=F,r.isProcessing=!0,h.process(r),f.process(r),d.process(r),g.process(r),v.process(r),b.process(r),E.process(r),C.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(A))},I=()=>{t=!0,i=!0,r.isProcessing||n(A)};return{schedule:id.reduce((F,K)=>{const Z=u[K];return F[K]=(ue,O=!1,R=!1)=>(t||I(),Z.schedule(ue,O,R)),F},{}),cancel:F=>{for(let K=0;K<id.length;K++)u[id[K]].cancel(F)},state:r,steps:u}}const{schedule:ut,cancel:Zr,state:rn,steps:_y}=TI(typeof requestAnimationFrame<"u"?requestAnimationFrame:di,!0);let wd;function R5(){wd=void 0}const On={now:()=>(wd===void 0&&On.set(rn.isProcessing||Ws.useManualTiming?rn.timestamp:performance.now()),wd),set:n=>{wd=n,queueMicrotask(R5)}},EI=n=>e=>typeof e=="string"&&e.startsWith(n),cb=EI("--"),C5=EI("var(--"),hb=n=>C5(n)?I5.test(n.split("/*")[0].trim()):!1,I5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Wc={...Zl,transform:n=>Qs(0,1,n)},sd={...Zl,default:1},Dc=n=>Math.round(n*1e5)/1e5,fb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D5(n){return n==null}const P5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,db=(n,e)=>t=>!!(typeof t=="string"&&P5.test(t)&&t.startsWith(n)||e&&!D5(t)&&Object.prototype.hasOwnProperty.call(t,e)),SI=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,u,h]=i.match(fb);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},M5=n=>Qs(0,255,n),by={...Zl,transform:n=>Math.round(M5(n))},Qo={test:db("rgb","red"),parse:SI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+by.transform(n)+", "+by.transform(e)+", "+by.transform(t)+", "+Dc(Wc.transform(i))+")"};function k5(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const vv={test:db("#"),parse:k5,transform:Qo.transform},bh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Dr=bh("deg"),cs=bh("%"),Se=bh("px"),O5=bh("vh"),N5=bh("vw"),uA={...cs,parse:n=>cs.parse(n)/100,transform:n=>cs.transform(n*100)},bl={test:db("hsl","hue"),parse:SI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+cs.transform(Dc(e))+", "+cs.transform(Dc(t))+", "+Dc(Wc.transform(i))+")"},Ot={test:n=>Qo.test(n)||vv.test(n)||bl.test(n),parse:n=>Qo.test(n)?Qo.parse(n):bl.test(n)?bl.parse(n):vv.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Qo.transform(n):bl.transform(n),getAnimatableNone:n=>{const e=Ot.parse(n);return e.alpha=0,Ot.transform(e)}},V5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function L5(n){return isNaN(n)&&typeof n=="string"&&(n.match(fb)?.length||0)+(n.match(V5)?.length||0)>0}const AI="number",xI="color",U5="var",z5="var(",cA="${}",B5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zc(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const h=e.replace(B5,f=>(Ot.test(f)?(i.color.push(a),r.push(xI),t.push(Ot.parse(f))):f.startsWith(z5)?(i.var.push(a),r.push(U5),t.push(f)):(i.number.push(a),r.push(AI),t.push(parseFloat(f))),++a,cA)).split(cA);return{values:t,split:h,indexes:i,types:r}}function RI(n){return Zc(n).values}function CI(n){const{split:e,types:t}=Zc(n),i=e.length;return r=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],r[u]!==void 0){const h=t[u];h===AI?a+=Dc(r[u]):h===xI?a+=Ot.transform(r[u]):a+=r[u]}return a}}const j5=n=>typeof n=="number"?0:Ot.test(n)?Ot.getAnimatableNone(n):n;function F5(n){const e=RI(n);return CI(n)(e.map(j5))}const Jr={test:L5,parse:RI,createTransformer:CI,getAnimatableNone:F5};function wy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function q5({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,u=0;if(!e)r=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;r=wy(f,h,n+1/3),a=wy(f,h,n),u=wy(f,h,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Qd(n,e){return t=>t>0?e:n}const pt=(n,e,t)=>n+(e-n)*t,Ty=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},H5=[vv,Qo,bl],G5=n=>H5.find(e=>e.test(n));function hA(n){const e=G5(n);if(!e)return!1;let t=e.parse(n);return e===bl&&(t=q5(t)),t}const fA=(n,e)=>{const t=hA(n),i=hA(e);if(!t||!i)return Qd(n,e);const r={...t};return a=>(r.red=Ty(t.red,i.red,a),r.green=Ty(t.green,i.green,a),r.blue=Ty(t.blue,i.blue,a),r.alpha=pt(t.alpha,i.alpha,a),Qo.transform(r))},_v=new Set(["none","hidden"]);function $5(n,e){return _v.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function K5(n,e){return t=>pt(n,e,t)}function pb(n){return typeof n=="number"?K5:typeof n=="string"?hb(n)?Qd:Ot.test(n)?fA:Q5:Array.isArray(n)?II:typeof n=="object"?Ot.test(n)?fA:Y5:Qd}function II(n,e){const t=[...n],i=t.length,r=n.map((a,u)=>pb(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)t[u]=r[u](a);return t}}function Y5(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=pb(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function X5(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],u=n.indexes[a][i[a]],h=n.values[u]??0;t[r]=h,i[a]++}return t}const Q5=(n,e)=>{const t=Jr.createTransformer(e),i=Zc(n),r=Zc(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?_v.has(n)&&!r.values.length||_v.has(e)&&!i.values.length?$5(n,e):vh(II(X5(i,r),r.values),t):Qd(n,e)};function DI(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?pt(n,e,t):pb(n)(n,e)}const W5=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ut.update(e,t),stop:()=>Zr(e),now:()=>rn.isProcessing?rn.timestamp:On.now()}},PI=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Wd=2e4;function mb(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Wd;)e+=t,i=n.next(e);return e>=Wd?1/0:e}function Z5(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(mb(i),Wd);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:us(r)}}const J5=5;function MI(n,e,t){const i=Math.max(e-J5,0);return hI(t-n(i),e-i)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ey=.001;function eF({duration:n=_t.duration,bounce:e=_t.bounce,velocity:t=_t.velocity,mass:i=_t.mass}){let r,a,u=1-e;u=Qs(_t.minDamping,_t.maxDamping,u),n=Qs(_t.minDuration,_t.maxDuration,us(n)),u<1?(r=d=>{const g=d*u,v=g*n,b=g-t,E=bv(d,u),C=Math.exp(-v);return Ey-b/E*C},a=d=>{const v=d*u*n,b=v*t+t,E=Math.pow(u,2)*Math.pow(d,2)*n,C=Math.exp(-v),A=bv(Math.pow(d,2),u);return(-r(d)+Ey>0?-1:1)*((b-E)*C)/A}):(r=d=>{const g=Math.exp(-d*n),v=(d-t)*n+1;return-Ey+g*v},a=d=>{const g=Math.exp(-d*n),v=(t-d)*(n*n);return g*v});const h=5/n,f=nF(r,a,h);if(n=ls(n),isNaN(f))return{stiffness:_t.stiffness,damping:_t.damping,duration:n};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:u*2*Math.sqrt(i*d),duration:n}}}const tF=12;function nF(n,e,t){let i=t;for(let r=1;r<tF;r++)i=i-n(i)/e(i);return i}function bv(n,e){return n*Math.sqrt(1-e*e)}const iF=["duration","bounce"],sF=["stiffness","damping","mass"];function dA(n,e){return e.some(t=>n[t]!==void 0)}function rF(n){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...n};if(!dA(n,sF)&&dA(n,iF))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*Qs(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:_t.mass,stiffness:r,damping:a}}else{const t=eF(n);e={...e,...t,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Zd(n=_t.visualDuration,e=_t.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:d,mass:g,duration:v,velocity:b,isResolvedFromDuration:E}=rF({...t,velocity:-us(t.velocity||0)}),C=b||0,A=d/(2*Math.sqrt(f*g)),I=u-a,D=us(Math.sqrt(f/g)),j=Math.abs(I)<5;i||(i=j?_t.restSpeed.granular:_t.restSpeed.default),r||(r=j?_t.restDelta.granular:_t.restDelta.default);let F;if(A<1){const Z=bv(D,A);F=ue=>{const O=Math.exp(-A*D*ue);return u-O*((C+A*D*I)/Z*Math.sin(Z*ue)+I*Math.cos(Z*ue))}}else if(A===1)F=Z=>u-Math.exp(-D*Z)*(I+(C+D*I)*Z);else{const Z=D*Math.sqrt(A*A-1);F=ue=>{const O=Math.exp(-A*D*ue),R=Math.min(Z*ue,300);return u-O*((C+A*D*I)*Math.sinh(R)+Z*I*Math.cosh(R))/Z}}const K={calculatedDuration:E&&v||null,next:Z=>{const ue=F(Z);if(E)h.done=Z>=v;else{let O=Z===0?C:0;A<1&&(O=Z===0?ls(C):MI(F,Z,ue));const R=Math.abs(O)<=i,P=Math.abs(u-ue)<=r;h.done=R&&P}return h.value=h.done?u:ue,h},toString:()=>{const Z=Math.min(mb(K),Wd),ue=PI(O=>K.next(Z*O).value,Z,30);return Z+"ms "+ue},toTransition:()=>{}};return K}Zd.applyToOptions=n=>{const e=Z5(n,100,Zd);return n.ease=e.ease,n.duration=ls(e.duration),n.type="keyframes",n};function wv({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const v=n[0],b={done:!1,value:v},E=R=>h!==void 0&&R<h||f!==void 0&&R>f,C=R=>h===void 0?f:f===void 0||Math.abs(h-R)<Math.abs(f-R)?h:f;let A=t*e;const I=v+A,D=u===void 0?I:u(I);D!==I&&(A=D-v);const j=R=>-A*Math.exp(-R/i),F=R=>D+j(R),K=R=>{const P=j(R),L=F(R);b.done=Math.abs(P)<=d,b.value=b.done?D:L};let Z,ue;const O=R=>{E(b.value)&&(Z=R,ue=Zd({keyframes:[b.value,C(b.value)],velocity:MI(F,R,b.value),damping:r,stiffness:a,restDelta:d,restSpeed:g}))};return O(0),{calculatedDuration:null,next:R=>{let P=!1;return!ue&&Z===void 0&&(P=!0,K(R),O(R)),Z!==void 0&&R>=Z?ue.next(R-Z):(!P&&K(R),b)}}}function oF(n,e,t){const i=[],r=t||Ws.mix||DI,a=n.length-1;for(let u=0;u<a;u++){let h=r(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||di:e;h=vh(f,h)}i.push(h)}return i}function aF(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(rb(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=oF(e,i,r),f=h.length,d=g=>{if(u&&g<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const b=Qc(n[v],n[v+1],g);return h[v](b)};return t?g=>d(Qs(n[0],n[a-1],g)):d}function lF(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Qc(0,e,i);n.push(pt(t,1,r))}}function uF(n){const e=[0];return lF(e,n.length-1),e}function cF(n,e){return n.map(t=>t*e)}function hF(n,e){return n.map(()=>e||bI).splice(0,n.length-1)}function Pc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=T5(i)?i.map(lA):lA(i),a={done:!1,value:e[0]},u=cF(t&&t.length===e.length?t:uF(e),n),h=aF(u,e,{ease:Array.isArray(r)?r:hF(e,r)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}const fF=n=>n!==null;function gb(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter(fF),h=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!h||i===void 0?a[h]:i}const dF={decay:wv,inertia:wv,tween:Pc,keyframes:Pc,spring:Zd};function kI(n){typeof n.type=="string"&&(n.type=dF[n.type])}class yb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const pF=n=>n/100;class vb extends yb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==On.now()&&this.tick(On.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kI(e);const{type:t=Pc,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:u=0}=e;let{keyframes:h}=e;const f=t||Pc;f!==Pc&&typeof h[0]!="number"&&(this.mixKeyframes=vh(pF,DI(h[0],h[1])),h=[0,100]);const d=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=mb(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:E,type:C,onUpdate:A,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const D=this.currentTime-d*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?D<0:D>r;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let F=this.currentTime,K=i;if(v){const R=Math.min(this.currentTime,r)/h;let P=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(b==="reverse"?(L=1-L,E&&(L-=E/h)):b==="mirror"&&(K=u)),F=Qs(0,1,L)*h}const Z=j?{done:!1,value:g[0]}:K.next(F);a&&(Z.value=a(Z.value));let{done:ue}=Z;!j&&f!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return O&&C!==wv&&(Z.value=gb(g,this.options,I,this.speed)),A&&A(Z.value),O&&this.finish(),Z}then(e,t){return this.finished.then(e,t)}get duration(){return us(this.calculatedDuration)}get time(){return us(this.currentTime)}set time(e){e=ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(On.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=us(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=W5,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(On.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function mF(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Wo=n=>n*180/Math.PI,Tv=n=>{const e=Wo(Math.atan2(n[1],n[0]));return Ev(e)},gF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Tv,rotateZ:Tv,skewX:n=>Wo(Math.atan(n[1])),skewY:n=>Wo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ev=n=>(n=n%360,n<0&&(n+=360),n),pA=Tv,mA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),gA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),yF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mA,scaleY:gA,scale:n=>(mA(n)+gA(n))/2,rotateX:n=>Ev(Wo(Math.atan2(n[6],n[5]))),rotateY:n=>Ev(Wo(Math.atan2(-n[2],n[0]))),rotateZ:pA,rotate:pA,skewX:n=>Wo(Math.atan(n[4])),skewY:n=>Wo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Sv(n){return n.includes("scale")?1:0}function Av(n,e){if(!n||n==="none")return Sv(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=yF,r=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=gF,r=h}if(!r)return Sv(e);const a=i[e],u=r[1].split(",").map(_F);return typeof a=="function"?a(u):u[a]}const vF=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Av(t,e)};function _F(n){return parseFloat(n.trim())}const Jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eu=new Set(Jl),yA=n=>n===Zl||n===Se,bF=new Set(["x","y","z"]),wF=Jl.filter(n=>!bF.has(n));function TF(n){const e=[];return wF.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const ta={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Av(e,"x"),y:(n,{transform:e})=>Av(e,"y")};ta.translateX=ta.x;ta.translateY=ta.y;const na=new Set;let xv=!1,Rv=!1,Cv=!1;function OI(){if(Rv){const n=Array.from(na).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=TF(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,u])=>{i.getValue(a)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Rv=!1,xv=!1,na.forEach(n=>n.complete(Cv)),na.clear()}function NI(){na.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Rv=!0)})}function EF(){Cv=!0,NI(),OI(),Cv=!1}class _b{constructor(e,t,i,r,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(na.add(this),xv||(xv=!0,ut.read(NI),ut.resolveKeyframes(OI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),r&&a===void 0&&r.set(e[0])}mF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),na.delete(this)}cancel(){this.state==="scheduled"&&(na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const SF=n=>n.startsWith("--");function AF(n,e,t){SF(e)?n.style.setProperty(e,t):n.style[e]=t}const xF=ob(()=>window.ScrollTimeline!==void 0),RF={};function CF(n,e){const t=ob(n);return()=>RF[e]??t()}const VI=CF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,vA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bc([0,.65,.55,1]),circOut:bc([.55,0,1,.45]),backIn:bc([.31,.01,.66,-.59]),backOut:bc([.33,1.53,.69,.99])};function LI(n,e){if(n)return typeof n=="function"?VI()?PI(n,e):"ease-out":wI(n)?bc(n):Array.isArray(n)?n.map(t=>LI(t,e)||vA.easeOut):vA[n]}function IF(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:u="loop",ease:h="easeOut",times:f}={},d=void 0){const g={[e]:t};f&&(g.offset=f);const v=LI(h,r);Array.isArray(v)&&(g.easing=v);const b={delay:i,duration:r,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return d&&(b.pseudoElement=d),n.animate(g,b)}function UI(n){return typeof n=="function"&&"applyToOptions"in n}function DF({type:n,...e}){return UI(n)&&VI()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PF extends yb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,rb(typeof e.type!="string");const d=DF(e);this.animation=IF(t,i,r,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=gb(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):AF(t,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return us(Number(e))}get time(){return us(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&xF()?(this.animation.timeline=e,di):t(this)}}const zI={anticipate:yI,backInOut:gI,circInOut:_I};function MF(n){return n in zI}function kF(n){typeof n.ease=="string"&&MF(n.ease)&&(n.ease=zI[n.ease])}const _A=10;class OF extends PF{constructor(e){kF(e),kI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new vb({...u,autoplay:!1}),f=ls(this.finishedTime??this.time);t.setWithVelocity(h.sample(f-_A).value,h.sample(f).value,_A),h.stop()}}const bA=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Jr.test(n)||n==="0")&&!n.startsWith("url("));function NF(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function VF(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=bA(r,e),h=bA(a,e);return!u||!h?!1:NF(n)||(t==="spring"||UI(t))&&i}function Iv(n){n.duration=0,n.type}const LF=new Set(["opacity","clipPath","filter","transform"]),UF=ob(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zF(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return UF()&&t&&LF.has(t)&&(t!=="transform"||!d)&&!f&&!i&&r!=="mirror"&&a!==0&&u!=="inertia"}const BF=40;class jF extends yb{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:u="loop",keyframes:h,name:f,motionValue:d,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=On.now();const b={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:u,name:f,motionValue:d,element:g,...v},E=g?.KeyframeResolver||_b;this.keyframeResolver=new E(h,(C,A,I)=>this.onKeyframesResolved(C,A,b,!I),f,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:u,velocity:h,delay:f,isHandoff:d,onUpdate:g}=i;this.resolvedAt=On.now(),VF(e,a,u,h)||((Ws.instantAnimations||!f)&&g?.(gb(e,i,t)),e[0]=e[e.length-1],Iv(i),i.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>BF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},E=!d&&zF(b)?new OF({...b,element:b.motionValue.owner.current}):new vb(b);E.finished.then(()=>this.notifyFinished()).catch(di),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),EF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const FF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qF(n){const e=FF.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function BI(n,e,t=1){const[i,r]=qF(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return lI(u)?parseFloat(u):u}return hb(r)?BI(r,e,t+1):r}function bb(n,e){return n?.[e]??n?.default??n}const jI=new Set(["width","height","top","left","right","bottom",...Jl]),HF={test:n=>n==="auto",parse:n=>n},FI=n=>e=>e.test(n),qI=[Zl,Se,cs,Dr,N5,O5,HF],wA=n=>qI.find(FI(n));function GF(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||cI(n):!0}const $F=new Set(["brightness","contrast","saturate","opacity"]);function KF(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(fb)||[];if(!i)return n;const r=t.replace(i,"");let a=$F.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const YF=/\b([a-z-]*)\(.*?\)/gu,Dv={...Jr,getAnimatableNone:n=>{const e=n.match(YF);return e?e.map(KF).join(" "):n}},TA={...Zl,transform:Math.round},XF={rotate:Dr,rotateX:Dr,rotateY:Dr,rotateZ:Dr,scale:sd,scaleX:sd,scaleY:sd,scaleZ:sd,skew:Dr,skewX:Dr,skewY:Dr,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Wc,originX:uA,originY:uA,originZ:Se},wb={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...XF,zIndex:TA,fillOpacity:Wc,strokeOpacity:Wc,numOctaves:TA},QF={...wb,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Dv,WebkitFilter:Dv},HI=n=>QF[n];function GI(n,e){let t=HI(n);return t!==Dv&&(t=Jr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const WF=new Set(["auto","none","0"]);function ZF(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!WF.has(a)&&Zc(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=GI(t,r)}class JF extends _b{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),hb(d))){const g=BI(d,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!jI.has(i)||e.length!==2)return;const[r,a]=e,u=wA(r),h=wA(a);if(u!==h)if(yA(u)&&yA(h))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else ta[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||GF(e[r]))&&i.push(r);i.length&&ZF(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=ta[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function eq(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=t?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const $I=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function tq(n){return uI(n)&&"offsetHeight"in n}const EA=30,nq=n=>!isNaN(parseFloat(n));class iq{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=On.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=On.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ab);const i=this.events[e].add(t);return e==="change"?()=>{i(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>EA)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,EA);return hI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jl(n,e){return new iq(n,e)}const{schedule:Tb}=TI(queueMicrotask,!1),Ei={x:!1,y:!1};function KI(){return Ei.x||Ei.y}function sq(n){return n==="x"||n==="y"?Ei[n]?null:(Ei[n]=!0,()=>{Ei[n]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}function YI(n,e){const t=eq(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function SA(n){return!(n.pointerType==="touch"||KI())}function rq(n,e,t={}){const[i,r,a]=YI(n,t),u=h=>{if(!SA(h))return;const{target:f}=h,d=e(f,h);if(typeof d!="function"||!f)return;const g=v=>{SA(v)&&(d(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,r)};return i.forEach(h=>{h.addEventListener("pointerenter",u,r)}),a}const XI=(n,e)=>e?n===e?!0:XI(n,e.parentElement):!1,Eb=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,oq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aq(n){return oq.has(n.tagName)||n.tabIndex!==-1}const Td=new WeakSet;function AA(n){return e=>{e.key==="Enter"&&n(e)}}function Sy(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lq=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=AA(()=>{if(Td.has(t))return;Sy(t,"down");const r=AA(()=>{Sy(t,"up")}),a=()=>Sy(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function xA(n){return Eb(n)&&!KI()}function uq(n,e,t={}){const[i,r,a]=YI(n,t),u=h=>{const f=h.currentTarget;if(!xA(h))return;Td.add(f);const d=e(f,h),g=(E,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Td.has(f)&&Td.delete(f),xA(E)&&typeof d=="function"&&d(E,{success:C})},v=E=>{g(E,f===window||f===document||t.useGlobalTarget||XI(f,E.target))},b=E=>{g(E,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",b,r)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,r),tq(h)&&(h.addEventListener("focus",d=>lq(d,r)),!aq(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function QI(n){return uI(n)&&"ownerSVGElement"in n}function cq(n){return QI(n)&&n.tagName==="svg"}const yn=n=>!!(n&&n.getVelocity),hq=[...qI,Ot,Jr],fq=n=>hq.find(FI(n)),WI=z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function dq(n=!0){const e=z.useContext(nb);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=z.useId();z.useEffect(()=>{if(n)return r(a)},[n]);const u=z.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,u]:[!0]}const ZI=z.createContext({strict:!1}),RA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fl={};for(const n in RA)Fl[n]={isEnabled:e=>RA[n].some(t=>!!e[t])};function pq(n){for(const e in n)Fl[e]={...Fl[e],...n[e]}}const mq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||mq.has(n)}let JI=n=>!Jd(n);function gq(n){typeof n=="function"&&(JI=e=>e.startsWith("on")?!Jd(e):n(e))}try{gq(require("@emotion/is-prop-valid").default)}catch{}function yq(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(JI(r)||t===!0&&Jd(r)||!e&&!Jd(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const Mp=z.createContext({});function kp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Jc(n){return typeof n=="string"||Array.isArray(n)}const Sb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ab=["initial",...Sb];function Op(n){return kp(n.animate)||Ab.some(e=>Jc(n[e]))}function eD(n){return!!(Op(n)||n.variants)}function vq(n,e){if(Op(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Jc(t)?t:void 0,animate:Jc(i)?i:void 0}}return n.inherit!==!1?e:{}}function _q(n){const{initial:e,animate:t}=vq(n,z.useContext(Mp));return z.useMemo(()=>({initial:e,animate:t}),[CA(e),CA(t)])}function CA(n){return Array.isArray(n)?n.join(" "):n}const eh={};function bq(n){for(const e in n)eh[e]=n[e],cb(e)&&(eh[e].isCSSVariable=!0)}function tD(n,{layout:e,layoutId:t}){return eu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!eh[n]||n==="opacity")}const wq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Tq=Jl.length;function Eq(n,e,t){let i="",r=!0;for(let a=0;a<Tq;a++){const u=Jl[a],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const d=$I(h,wb[u]);if(!f){r=!1;const g=wq[u]||u;i+=`${g}(${d}) `}t&&(e[u]=d)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function xb(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let u=!1,h=!1;for(const f in e){const d=e[f];if(eu.has(f)){u=!0;continue}else if(cb(f)){r[f]=d;continue}else{const g=$I(d,wb[f]);f.startsWith("origin")?(h=!0,a[f]=g):i[f]=g}}if(e.transform||(u||t?i.transform=Eq(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${d} ${g}`}}const Rb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nD(n,e,t){for(const i in e)!yn(e[i])&&!tD(i,t)&&(n[i]=e[i])}function Sq({transformTemplate:n},e){return z.useMemo(()=>{const t=Rb();return xb(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Aq(n,e){const t=n.style||{},i={};return nD(i,t,n),Object.assign(i,Sq(n,e)),i}function xq(n,e){const t={},i=Aq(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const Rq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Cq={offset:"strokeDashoffset",array:"strokeDasharray"};function Iq(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?Rq:Cq;n[a.offset]=Se.transform(-i);const u=Se.transform(e),h=Se.transform(t);n[a.array]=`${u} ${h}`}function iD(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:u=0,...h},f,d,g){if(xb(n,h,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),r!==void 0&&Iq(v,r,a,u,!1)}const sD=()=>({...Rb(),attrs:{}}),rD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Dq(n,e,t,i){const r=z.useMemo(()=>{const a=sD();return iD(a,e,rD(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};nD(a,n.style,n),r.style={...a,...r.style}}return r}const Pq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cb(n){return typeof n!="string"||n.includes("-")?!1:!!(Pq.indexOf(n)>-1||/[A-Z]/u.test(n))}function Mq(n,e,t,{latestValues:i},r,a=!1){const h=(Cb(n)?Dq:xq)(e,i,r,n),f=yq(e,typeof n=="string",a),d=n!==z.Fragment?{...f,...h,ref:t}:{},{children:g}=e,v=z.useMemo(()=>yn(g)?g.get():g,[g]);return z.createElement(n,{...d,children:v})}function IA(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Ib(n,e,t,i){if(typeof e=="function"){const[r,a]=IA(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=IA(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function Ed(n){return yn(n)?n.get():n}function kq({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:Oq(t,i,r,n),renderState:e()}}function Oq(n,e,t,i){const r={},a=i(n,{});for(const b in a)r[b]=Ed(a[b]);let{initial:u,animate:h}=n;const f=Op(n),d=eD(n);e&&d&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!kp(v)){const b=Array.isArray(v)?v:[v];for(let E=0;E<b.length;E++){const C=Ib(n,b[E]);if(C){const{transitionEnd:A,transition:I,...D}=C;for(const j in D){let F=D[j];if(Array.isArray(F)){const K=g?F.length-1:0;F=F[K]}F!==null&&(r[j]=F)}for(const j in A)r[j]=A[j]}}}return r}const oD=n=>(e,t)=>{const i=z.useContext(Mp),r=z.useContext(nb),a=()=>kq(n,e,i,r);return t?a():p5(a)};function Db(n,e,t){const{style:i}=n,r={};for(const a in i)(yn(i[a])||e.style&&yn(e.style[a])||tD(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(r[a]=i[a]);return r}const Nq=oD({scrapeMotionValuesFromProps:Db,createRenderState:Rb});function aD(n,e,t){const i=Db(n,e,t);for(const r in n)if(yn(n[r])||yn(e[r])){const a=Jl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const Vq=oD({scrapeMotionValuesFromProps:aD,createRenderState:sD}),Lq=Symbol.for("motionComponentSymbol");function wl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Uq(n,e,t){return z.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):wl(t)&&(t.current=i))},[e])}const Pb=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zq="framerAppearId",lD="data-"+Pb(zq),uD=z.createContext({});function Bq(n,e,t,i,r){const{visualElement:a}=z.useContext(Mp),u=z.useContext(ZI),h=z.useContext(nb),f=z.useContext(WI).reducedMotion,d=z.useRef(null);i=i||u.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:a,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=d.current,v=z.useContext(uD);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&jq(d.current,t,r,v);const b=z.useRef(!1);z.useInsertionEffect(()=>{g&&b.current&&g.update(t,h)});const E=t[lD],C=z.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return m5(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),z.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),C.current=!1),g.enteringChildren=void 0)}),g}function jq(n,e,t,i){const{layoutId:r,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:cD(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!u||h&&wl(h),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:d})}function cD(n){if(n)return n.options.allowProjection!==!1?n.projection:cD(n.parent)}function Ay(n,{forwardMotionProps:e=!1}={},t,i){t&&pq(t);const r=Cb(n)?Vq:Nq;function a(h,f){let d;const g={...z.useContext(WI),...h,layoutId:Fq(h)},{isStatic:v}=g,b=_q(h),E=r(h,v);if(!v&&tb){qq();const C=Hq(g);d=C.MeasureLayout,b.visualElement=Bq(n,E,g,i,C.ProjectionNode)}return M.jsxs(Mp.Provider,{value:b,children:[d&&b.visualElement?M.jsx(d,{visualElement:b.visualElement,...g}):null,Mq(n,h,Uq(E,b.visualElement,f),E,v,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=z.forwardRef(a);return u[Lq]=n,u}function Fq({layoutId:n}){const e=z.useContext(aI).id;return e&&n!==void 0?e+"-"+n:n}function qq(n,e){z.useContext(ZI).strict}function Hq(n){const{drag:e,layout:t}=Fl;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Gq(n,e){if(typeof Proxy>"u")return Ay;const t=new Map,i=(a,u)=>Ay(a,u,n,e),r=(a,u)=>i(a,u);return new Proxy(r,{get:(a,u)=>u==="create"?i:(t.has(u)||t.set(u,Ay(u,void 0,n,e)),t.get(u))})}function hD({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function $q({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Kq(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function xy(n){return n===void 0||n===1}function Pv({scale:n,scaleX:e,scaleY:t}){return!xy(n)||!xy(e)||!xy(t)}function $o(n){return Pv(n)||fD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function fD(n){return DA(n.x)||DA(n.y)}function DA(n){return n&&n!=="0%"}function ep(n,e,t){const i=n-t,r=e*i;return t+r}function PA(n,e,t,i,r){return r!==void 0&&(n=ep(n,r,i)),ep(n,t,i)+e}function Mv(n,e=0,t=1,i,r){n.min=PA(n.min,e,t,i,r),n.max=PA(n.max,e,t,i,r)}function dD(n,{x:e,y:t}){Mv(n.x,e.translate,e.scale,e.originPoint),Mv(n.y,t.translate,t.scale,t.originPoint)}const MA=.999999999999,kA=1.0000000000001;function Yq(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,u;for(let h=0;h<r;h++){a=t[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&El(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,dD(n,u)),i&&$o(a.latestValues)&&El(n,a.latestValues))}e.x<kA&&e.x>MA&&(e.x=1),e.y<kA&&e.y>MA&&(e.y=1)}function Tl(n,e){n.min=n.min+e,n.max=n.max+e}function OA(n,e,t,i,r=.5){const a=pt(n.min,n.max,r);Mv(n,e,t,a,i)}function El(n,e){OA(n.x,e.x,e.scaleX,e.scale,e.originX),OA(n.y,e.y,e.scaleY,e.scale,e.originY)}function pD(n,e){return hD(Kq(n.getBoundingClientRect(),e))}function Xq(n,e,t){const i=pD(n,t),{scroll:r}=e;return r&&(Tl(i.x,r.offset.x),Tl(i.y,r.offset.y)),i}const NA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sl=()=>({x:NA(),y:NA()}),VA=()=>({min:0,max:0}),At=()=>({x:VA(),y:VA()}),kv={current:null},mD={current:!1};function Qq(){if(mD.current=!0,!!tb)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>kv.current=n.matches;n.addEventListener("change",e),e()}else kv.current=!1}const Wq=new WeakMap;function Zq(n,e,t){for(const i in e){const r=e[i],a=t[i];if(yn(r))n.addValue(i,r);else if(yn(a))n.addValue(i,jl(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(r):u.hasAnimated||u.set(r)}else{const u=n.getStaticValue(i);n.addValue(i,jl(u!==void 0?u:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const LA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Jq{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_b,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=On.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ut.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Op(t),this.isVariantNode=eD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in v){const E=v[b];f[b]!==void 0&&yn(E)&&E.set(f[b])}}mount(e){this.current=e,Wq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),mD.current||Qq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=eu.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fl){const t=Fl[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<LA.length;i++){const r=LA[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,u=e[a];u&&(this.propEventSubscriptions[r]=this.on(r,u))}this.prevMotionValues=Zq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=jl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(lI(i)||cI(i))?i=parseFloat(i):!fq(i)&&Jr.test(t)&&(i=GI(e,t)),this.setBaseTarget(e,yn(i)?i.get():i)),yn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=Ib(this.props,t,this.presenceContext?.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!yn(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ab),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Tb.render(this.render)}}class gD extends Jq{constructor(){super(...arguments),this.KeyframeResolver=JF}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function yD(n,{style:e,vars:t},i,r){const a=n.style;let u;for(u in e)a[u]=e[u];r?.applyProjectionStyles(a,i);for(u in t)a.setProperty(u,t[u])}function e8(n){return window.getComputedStyle(n)}class t8 extends gD{constructor(){super(...arguments),this.type="html",this.renderInstance=yD}readValueFromInstance(e,t){if(eu.has(t))return this.projection?.isProjecting?Sv(t):vF(e,t);{const i=e8(e),r=(cb(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return pD(e,t)}build(e,t,i){xb(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Db(e,t,i)}}const vD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n8(n,e,t,i){yD(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(vD.has(r)?r:Pb(r),e.attrs[r])}class i8 extends gD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(eu.has(t)){const i=HI(t);return i&&i.default||0}return t=vD.has(t)?t:Pb(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return aD(e,t,i)}build(e,t,i){iD(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){n8(e,t,i,r)}mount(e){this.isSVGTag=rD(e.tagName),super.mount(e)}}const s8=(n,e)=>Cb(n)?new i8(e):new t8(e,{allowProjection:n!==z.Fragment});function Dl(n,e,t){const i=n.getProps();return Ib(i,e,t!==void 0?t:i.custom,n)}const Ov=n=>Array.isArray(n);function r8(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,jl(t))}function o8(n){return Ov(n)?n[n.length-1]||0:n}function a8(n,e){const t=Dl(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const u in a){const h=o8(a[u]);r8(n,u,h)}}function l8(n){return!!(yn(n)&&n.add)}function Nv(n,e){const t=n.getValue("willChange");if(l8(t))return t.add(e);if(!t&&Ws.WillChange){const i=new Ws.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function _D(n){return n.props[lD]}const u8=n=>n!==null;function c8(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(u8),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const h8={type:"spring",stiffness:500,damping:25,restSpeed:10},f8=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),d8={type:"keyframes",duration:.8},p8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m8=(n,{keyframes:e})=>e.length>2?d8:eu.has(n)?n.startsWith("scale")?f8(e[1]):h8:p8;function g8({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const Mb=(n,e,t,i={},r,a)=>u=>{const h=bb(i,n)||{},f=h.delay||i.delay||0;let{elapsed:d=0}=i;d=d-ls(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:a?void 0:r};g8(h)||Object.assign(g,m8(n,g)),g.duration&&(g.duration=ls(g.duration)),g.repeatDelay&&(g.repeatDelay=ls(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Iv(g),g.delay===0&&(v=!0)),(Ws.instantAnimations||Ws.skipAnimations)&&(v=!0,Iv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!a&&e.get()!==void 0){const b=c8(g.keyframes,h);if(b!==void 0){ut.update(()=>{g.onUpdate(b),g.onComplete()});return}}return h.isSync?new vb(g):new jF(g)};function y8({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function bD(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(a=i);const f=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const g in h){const v=n.getValue(g,n.latestValues[g]??null),b=h[g];if(b===void 0||d&&y8(d,g))continue;const E={delay:t,...bb(a||{},g)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===C&&!E.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const D=_D(n);if(D){const j=window.MotionHandoffAnimation(D,g,ut);j!==null&&(E.startTime=j,A=!0)}}Nv(n,g),v.start(Mb(g,v,b,n.shouldReduceMotion&&jI.has(g)?{type:!1}:E,n,A));const I=v.animation;I&&f.push(I)}return u&&Promise.all(f).then(()=>{ut.update(()=>{u&&a8(n,u)})}),f}function wD(n,e,t,i=0,r=1){const a=Array.from(n).sort((d,g)=>d.sortNodePosition(g)).indexOf(e),u=n.size,h=(u-1)*i;return typeof t=="function"?t(a,u):r===1?a*i:h-a*i}function Vv(n,e,t={}){const i=Dl(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(bD(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:v}=r;return v8(n,e,f,d,g,v,t)}:()=>Promise.resolve(),{when:h}=r;if(h){const[f,d]=h==="beforeChildren"?[a,u]:[u,a];return f().then(()=>d())}else return Promise.all([a(),u(t.delay)])}function v8(n,e,t=0,i=0,r=0,a=1,u){const h=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),h.push(Vv(f,e,{...u,delay:t+(typeof i=="function"?0:i)+wD(n.variantChildren,f,i,r,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function _8(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>Vv(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=Vv(n,e,t);else{const r=typeof e=="function"?Dl(n,e,t.custom):e;i=Promise.all(bD(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function TD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const b8=Ab.length;function ED(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?ED(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<b8;t++){const i=Ab[t],r=n.props[i];(Jc(r)||r===!1)&&(e[i]=r)}return e}const w8=[...Sb].reverse(),T8=Sb.length;function E8(n){return e=>Promise.all(e.map(({animation:t,options:i})=>_8(n,t,i)))}function S8(n){let e=E8(n),t=UA(),i=!0;const r=f=>(d,g)=>{const v=Dl(n,g,f==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:E,...C}=v;d={...d,...C,...E}}return d};function a(f){e=f(n)}function u(f){const{props:d}=n,g=ED(n.parent)||{},v=[],b=new Set;let E={},C=1/0;for(let I=0;I<T8;I++){const D=w8[I],j=t[D],F=d[D]!==void 0?d[D]:g[D],K=Jc(F),Z=D===f?j.isActive:null;Z===!1&&(C=I);let ue=F===g[D]&&F!==d[D]&&K;if(ue&&i&&n.manuallyAnimateOnMount&&(ue=!1),j.protectedKeys={...E},!j.isActive&&Z===null||!F&&!j.prevProp||kp(F)||typeof F=="boolean")continue;const O=A8(j.prevProp,F);let R=O||D===f&&j.isActive&&!ue&&K||I>C&&K,P=!1;const L=Array.isArray(F)?F:[F];let B=L.reduce(r(D),{});Z===!1&&(B={});const{prevResolvedValues:q={}}=j,N={...q,...B},Ct=oe=>{R=!0,b.has(oe)&&(P=!0,b.delete(oe)),j.needsAnimating[oe]=!0;const fe=n.getValue(oe);fe&&(fe.liveStyle=!1)};for(const oe in N){const fe=B[oe],De=q[oe];if(E.hasOwnProperty(oe))continue;let V=!1;Ov(fe)&&Ov(De)?V=!TD(fe,De):V=fe!==De,V?fe!=null?Ct(oe):b.add(oe):fe!==void 0&&b.has(oe)?Ct(oe):j.protectedKeys[oe]=!0}j.prevProp=F,j.prevResolvedValues=B,j.isActive&&(E={...E,...B}),i&&n.blockInitialAnimation&&(R=!1);const st=ue&&O;R&&(!st||P)&&v.push(...L.map(oe=>{const fe={type:D};if(typeof oe=="string"&&i&&!st&&n.manuallyAnimateOnMount&&n.parent){const{parent:De}=n,V=Dl(De,oe);if(De.enteringChildren&&V){const{delayChildren:re}=V.transition||{};fe.delay=wD(De.enteringChildren,n,re)}}return{animation:oe,options:fe}}))}if(b.size){const I={};if(typeof d.initial!="boolean"){const D=Dl(n,Array.isArray(d.initial)?d.initial[0]:d.initial);D&&D.transition&&(I.transition=D.transition)}b.forEach(D=>{const j=n.getBaseTarget(D),F=n.getValue(D);F&&(F.liveStyle=!0),I[D]=j??null}),v.push({animation:I})}let A=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(v):Promise.resolve()}function h(f,d){if(t[f].isActive===d)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(f,d)),t[f].isActive=d;const g=u(f);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t,reset:()=>{t=UA(),i=!0}}}function A8(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!TD(e,n):!1}function Ho(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UA(){return{animate:Ho(!0),whileInView:Ho(),whileHover:Ho(),whileTap:Ho(),whileDrag:Ho(),whileFocus:Ho(),exit:Ho()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class x8 extends ro{constructor(e){super(e),e.animationState||(e.animationState=S8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let R8=0;class C8 extends ro{constructor(){super(...arguments),this.id=R8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const I8={animation:{Feature:x8},exit:{Feature:C8}};function th(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function wh(n){return{point:{x:n.pageX,y:n.pageY}}}const D8=n=>e=>Eb(e)&&n(e,wh(e));function Mc(n,e,t,i){return th(n,e,D8(t),i)}const SD=1e-4,P8=1-SD,M8=1+SD,AD=.01,k8=0-AD,O8=0+AD;function xn(n){return n.max-n.min}function N8(n,e,t){return Math.abs(n-e)<=t}function zA(n,e,t,i=.5){n.origin=i,n.originPoint=pt(e.min,e.max,n.origin),n.scale=xn(t)/xn(e),n.translate=pt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=P8&&n.scale<=M8||isNaN(n.scale))&&(n.scale=1),(n.translate>=k8&&n.translate<=O8||isNaN(n.translate))&&(n.translate=0)}function kc(n,e,t,i){zA(n.x,e.x,t.x,i?i.originX:void 0),zA(n.y,e.y,t.y,i?i.originY:void 0)}function BA(n,e,t){n.min=t.min+e.min,n.max=n.min+xn(e)}function V8(n,e,t){BA(n.x,e.x,t.x),BA(n.y,e.y,t.y)}function jA(n,e,t){n.min=e.min-t.min,n.max=n.min+xn(e)}function Oc(n,e,t){jA(n.x,e.x,t.x),jA(n.y,e.y,t.y)}function ci(n){return[n("x"),n("y")]}const xD=({current:n})=>n?n.ownerDocument.defaultView:null,FA=(n,e)=>Math.abs(n-e);function L8(n,e){const t=FA(n.x,e.x),i=FA(n.y,e.y);return Math.sqrt(t**2+i**2)}class RD{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Cy(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,C=L8(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!C)return;const{point:A}=b,{timestamp:I}=rn;this.history.push({...A,timestamp:I});const{onStart:D,onMove:j}=this.handlers;E||(D&&D(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,b)},this.handlePointerMove=(b,E)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Ry(E,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(b,E)=>{this.end();const{onEnd:C,onSessionEnd:A,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Cy(b.type==="pointercancel"?this.lastMoveEventInfo:Ry(E,this.transformPagePoint),this.history);this.startEvent&&C&&C(b,D),A&&A(b,D)},!Eb(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=r||window;const h=wh(e),f=Ry(h,this.transformPagePoint),{point:d}=f,{timestamp:g}=rn;this.history=[{...d,timestamp:g}];const{onSessionStart:v}=t;v&&v(e,Cy(f,this.history)),this.removeListeners=vh(Mc(this.contextWindow,"pointermove",this.handlePointerMove),Mc(this.contextWindow,"pointerup",this.handlePointerUp),Mc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zr(this.updatePoint)}}function Ry(n,e){return e?{point:e(n.point)}:n}function qA(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Cy({point:n},e){return{point:n,delta:qA(n,CD(e)),offset:qA(n,U8(e)),velocity:z8(e,.1)}}function U8(n){return n[0]}function CD(n){return n[n.length-1]}function z8(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=CD(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>ls(e)));)t--;if(!i)return{x:0,y:0};const a=us(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function B8(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?pt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?pt(t,n,i.max):Math.min(n,t)),n}function HA(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function j8(n,{top:e,left:t,bottom:i,right:r}){return{x:HA(n.x,t,r),y:HA(n.y,e,i)}}function GA(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function F8(n,e){return{x:GA(n.x,e.x),y:GA(n.y,e.y)}}function q8(n,e){let t=.5;const i=xn(n),r=xn(e);return r>i?t=Qc(e.min,e.max-i,n.min):i>r&&(t=Qc(n.min,n.max-r,e.min)),Qs(0,1,t)}function H8(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Lv=.35;function G8(n=Lv){return n===!1?n=0:n===!0&&(n=Lv),{x:$A(n,"left","right"),y:$A(n,"top","bottom")}}function $A(n,e,t){return{min:KA(n,e),max:KA(n,t)}}function KA(n,e){return typeof n=="number"?n:n[e]||0}const $8=new WeakMap;class K8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wh(v).point)},u=(v,b)=>{const{drag:E,dragPropagation:C,onDragStart:A}=this.getProps();if(E&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sq(E),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(D=>{let j=this.getAxisMotionValue(D).get()||0;if(cs.test(j)){const{projection:F}=this.visualElement;if(F&&F.layout){const K=F.layout.layoutBox[D];K&&(j=xn(K)*(parseFloat(j)/100))}}this.originPoint[D]=j}),A&&ut.postRender(()=>A(v,b)),Nv(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:E,dragDirectionLock:C,onDirectionLock:A,onDrag:I}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:D}=b;if(C&&this.currentDirection===null){this.currentDirection=Y8(D),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,D),this.updateAxis("y",b.point,D),this.visualElement.render(),I&&I(v,b)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ci(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new RD(e,{onSessionStart:a,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:xD(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:u}=r;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ut.postRender(()=>h(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!rd(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=B8(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&wl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=j8(i.layoutBox,e):this.constraints=!1,this.elastic=G8(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ci(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=H8(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!wl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=Xq(i,r.root,this.visualElement.getTransformPagePoint());let u=F8(r.layout.layoutBox,a);if(t){const h=t($q(u));this.hasMutatedConstraints=!!h,h&&(u=hD(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=ci(g=>{if(!rd(g,t,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const b=r?200:1e6,E=r?40:1e7,C={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(d).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Nv(this.visualElement,e),i.start(Mb(e,i,0,t,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ci(t=>{const{drag:i}=this.getProps();if(!rd(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:u,max:h}=r.layout.layoutBox[t];a.set(e[t]-pt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!wl(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ci(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();r[u]=q8({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ci(u=>{if(!rd(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(pt(f,d,r[u]))})}addListeners(){if(!this.visualElement.current)return;$8.set(this.visualElement,this);const e=this.visualElement.current,t=Mc(e,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();wl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ut.read(i);const u=th(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(ci(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:u=Lv,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function rd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Y8(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class X8 extends ro{constructor(e){super(e),this.removeGroupControls=di,this.removeListeners=di,this.controls=new K8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||di}unmount(){this.removeGroupControls(),this.removeListeners()}}const YA=n=>(e,t)=>{n&&ut.postRender(()=>n(e,t))};class Q8 extends ro{constructor(){super(...arguments),this.removePointerDownListener=di}onPointerDown(e){this.session=new RD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:YA(e),onStart:YA(t),onMove:i,onEnd:(a,u)=>{delete this.session,r&&ut.postRender(()=>r(a,u))}}}mount(){this.removePointerDownListener=Mc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function XA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const dc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Se.test(n))n=parseFloat(n);else return n;const t=XA(n,e.target.x),i=XA(n,e.target.y);return`${t}% ${i}%`}},W8={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Jr.parse(n);if(r.length>5)return i;const a=Jr.createTransformer(n),u=typeof r[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;r[0+u]/=h,r[1+u]/=f;const d=pt(h,f,.5);return typeof r[2+u]=="number"&&(r[2+u]/=d),typeof r[3+u]=="number"&&(r[3+u]/=d),a(r)}};let Iy=!1;class Z8 extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;bq(J8),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),Iy&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Sd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,Iy=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ut.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;Iy=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ID(n){const[e,t]=dq(),i=z.useContext(aI);return M.jsx(Z8,{...n,layoutGroup:i,switchLayoutGroup:z.useContext(uD),isPresent:e,safeToRemove:t})}const J8={borderRadius:{...dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dc,borderTopRightRadius:dc,borderBottomLeftRadius:dc,borderBottomRightRadius:dc,boxShadow:W8};function eH(n,e,t){const i=yn(n)?n:jl(n);return i.start(Mb("",i,e,t)),i.animation}const tH=(n,e)=>n.depth-e.depth;class nH{constructor(){this.children=[],this.isDirty=!1}add(e){ib(this.children,e),this.isDirty=!0}remove(e){sb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tH),this.isDirty=!1,this.children.forEach(e)}}function iH(n,e){const t=On.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(Zr(i),n(a-e))};return ut.setup(i,!0),()=>Zr(i)}const DD=["TopLeft","TopRight","BottomLeft","BottomRight"],sH=DD.length,QA=n=>typeof n=="string"?parseFloat(n):n,WA=n=>typeof n=="number"||Se.test(n);function rH(n,e,t,i,r,a){r?(n.opacity=pt(0,t.opacity??1,oH(i)),n.opacityExit=pt(e.opacity??1,0,aH(i))):a&&(n.opacity=pt(e.opacity??1,t.opacity??1,i));for(let u=0;u<sH;u++){const h=`border${DD[u]}Radius`;let f=ZA(e,h),d=ZA(t,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||WA(f)===WA(d)?(n[h]=Math.max(pt(QA(f),QA(d),i),0),(cs.test(d)||cs.test(f))&&(n[h]+="%")):n[h]=d}(e.rotate||t.rotate)&&(n.rotate=pt(e.rotate||0,t.rotate||0,i))}function ZA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const oH=PD(0,.5,vI),aH=PD(.5,.95,di);function PD(n,e,t){return i=>i<n?0:i>e?1:t(Qc(n,e,i))}function JA(n,e){n.min=e.min,n.max=e.max}function ui(n,e){JA(n.x,e.x),JA(n.y,e.y)}function ex(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function tx(n,e,t,i,r){return n-=e,n=ep(n,1/t,i),r!==void 0&&(n=ep(n,1/r,i)),n}function lH(n,e=0,t=1,i=.5,r,a=n,u=n){if(cs.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=pt(a.min,a.max,i);n===a&&(h-=e),n.min=tx(n.min,e,t,h,r),n.max=tx(n.max,e,t,h,r)}function nx(n,e,[t,i,r],a,u){lH(n,e[t],e[i],e[r],e.scale,a,u)}const uH=["x","scaleX","originX"],cH=["y","scaleY","originY"];function ix(n,e,t,i){nx(n.x,e,uH,t?t.x:void 0,i?i.x:void 0),nx(n.y,e,cH,t?t.y:void 0,i?i.y:void 0)}function sx(n){return n.translate===0&&n.scale===1}function MD(n){return sx(n.x)&&sx(n.y)}function rx(n,e){return n.min===e.min&&n.max===e.max}function hH(n,e){return rx(n.x,e.x)&&rx(n.y,e.y)}function ox(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function kD(n,e){return ox(n.x,e.x)&&ox(n.y,e.y)}function ax(n){return xn(n.x)/xn(n.y)}function lx(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class fH{constructor(){this.members=[]}add(e){ib(this.members,e),e.scheduleRender()}remove(e){if(sb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dH(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((r||a||u)&&(i=`translate3d(${r}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:g,rotateX:v,rotateY:b,skewX:E,skewY:C}=t;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),E&&(i+=`skewX(${E}deg) `),C&&(i+=`skewY(${C}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Dy=["","X","Y","Z"],pH=1e3;let mH=0;function Py(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function OD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=_D(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ut,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&OD(i)}function ND({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(u={},h=e?.()){this.id=mH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vH),this.nodes.forEach(TH),this.nodes.forEach(EH),this.nodes.forEach(_H)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new nH)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ab),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=QI(u)&&!cq(u),this.instance=u;const{layoutId:h,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{v=window.innerWidth}),n(u,()=>{const E=window.innerWidth;E!==v&&(v=E,this.root.updateBlockedByResize=!0,g&&g(),g=iH(b,250),Sd.hasAnimatedSinceResize&&(Sd.hasAnimatedSinceResize=!1,this.nodes.forEach(hx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&d&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||d.getDefaultTransition()||CH,{onLayoutAnimationStart:A,onLayoutAnimationComplete:I}=d.getProps(),D=!this.targetLayout||!kD(this.targetLayout,E),j=!v&&b;if(this.options.layoutRoot||this.resumeFrom||j||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...bb(C,"layout"),onPlay:A,onComplete:I};(d.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,j)}else v||hx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SH),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ux);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wH),this.nodes.forEach(gH),this.nodes.forEach(yH)):this.nodes.forEach(cx),this.clearAllSnapshots();const h=On.now();rn.delta=Qs(0,1e3/60,h-rn.timestamp),rn.timestamp=h,rn.isProcessing=!0,_y.update.process(rn),_y.preRender.process(rn),_y.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bH),this.sharedNodes.forEach(AH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xn(this.snapshot.measuredBox.x)&&!xn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!MD(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&this.instance&&(h||$o(this.latestValues)||g)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),IH(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return At();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(DH))){const{scroll:d}=this.root;d&&(Tl(h.x,d.offset.x),Tl(h.y,d.offset.y))}return h}removeElementScroll(u){const h=At();if(ui(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:g,options:v}=d;d!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&ui(h,u),Tl(h.x,g.offset.x),Tl(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=At();ui(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&El(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),$o(g.latestValues)&&El(f,g.latestValues)}return $o(this.latestValues)&&El(f,this.latestValues),f}removeTransform(u){const h=At();ui(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!$o(d.latestValues))continue;Pv(d.latestValues)&&d.updateSnapshot();const g=At(),v=d.measurePageBox();ui(g,v),ix(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return $o(this.latestValues)&&ix(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Oc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ui(this.target,this.layout.layoutBox),dD(this.target,this.targetDelta)):ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Oc(this.relativeTargetOrigin,this.target,b.target),ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Pv(this.parent.latestValues)||fD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(f=!1),f)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;ui(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;Yq(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=At());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ex(this.prevProjectionDelta.x,this.projectionDelta.x),ex(this.prevProjectionDelta.y,this.projectionDelta.y)),kc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!lx(this.projectionDelta.x,this.prevProjectionDelta.x)||!lx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sl(),this.projectionDelta=Sl(),this.projectionDeltaWithTransform=Sl()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},v=Sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=At(),E=f?f.source:void 0,C=this.layout?this.layout.source:void 0,A=E!==C,I=this.getStack(),D=!I||I.members.length<=1,j=!!(A&&!D&&this.options.crossfade===!0&&!this.path.some(RH));this.animationProgress=0;let F;this.mixTargetDelta=K=>{const Z=K/1e3;fx(v.x,u.x,Z),fx(v.y,u.y,Z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xH(this.relativeTarget,this.relativeTargetOrigin,b,Z),F&&hH(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=At()),ui(F,this.relativeTarget)),A&&(this.animationValues=g,rH(g,d,this.latestValues,Z,j,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Sd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jl(0)),this.currentAnimation=eH(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&VD(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||At();const v=xn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const b=xn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+b}ui(h,f),El(h,g),kc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new fH),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&Py("z",u,d,this.animationValues);for(let g=0;g<Dy.length;g++)Py(`rotate${Dy[g]}`,u,d,this.animationValues),Py(`skew${Dy[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ed(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ed(h?.pointerEvents)||""),this.hasProjected&&!$o(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=dH(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:b,y:E}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${E.origin*100}% 0`,d.animationValues?u.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in eh){if(g[C]===void 0)continue;const{correct:A,applyTo:I,isCSSVariable:D}=eh[C],j=v==="none"?g[C]:A(g[C],d);if(I){const F=I.length;for(let K=0;K<F;K++)u[I[K]]=j}else D?this.options.visualElement.renderState.vars[C]=j:u[C]=j}this.options.layoutId&&(u.pointerEvents=d===this?Ed(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(ux),this.root.sharedNodes.clear()}}}function gH(n){n.updateLayout()}function yH(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?ci(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],b=xn(v);v.min=t[g].min,v.max=v.min+b}):VD(r,e.layoutBox,t)&&ci(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],b=xn(t[g]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const u=Sl();kc(u,t,e.layoutBox);const h=Sl();a?kc(h,n.applyTransform(i,!0),e.measuredBox):kc(h,t,e.layoutBox);const f=!MD(u);let d=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const E=At();Oc(E,e.layoutBox,v.layoutBox);const C=At();Oc(C,t,b.layoutBox),kD(E,C)||(d=!0),g.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function vH(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function _H(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function bH(n){n.clearSnapshot()}function ux(n){n.clearMeasurements()}function cx(n){n.isLayoutDirty=!1}function wH(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function hx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function TH(n){n.resolveTargetDelta()}function EH(n){n.calcProjection()}function SH(n){n.resetSkewAndRotation()}function AH(n){n.removeLeadSnapshot()}function fx(n,e,t){n.translate=pt(e.translate,0,t),n.scale=pt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function dx(n,e,t,i){n.min=pt(e.min,t.min,i),n.max=pt(e.max,t.max,i)}function xH(n,e,t,i){dx(n.x,e.x,t.x,i),dx(n.y,e.y,t.y,i)}function RH(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const CH={duration:.45,ease:[.4,0,.1,1]},px=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),mx=px("applewebkit/")&&!px("chrome/")?Math.round:di;function gx(n){n.min=mx(n.min),n.max=mx(n.max)}function IH(n){gx(n.x),gx(n.y)}function VD(n,e,t){return n==="position"||n==="preserve-aspect"&&!N8(ax(e),ax(t),.2)}function DH(n){return n!==n.root&&n.scroll?.wasRoot}const PH=ND({attachResizeListener:(n,e)=>th(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),My={current:void 0},LD=ND({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!My.current){const n=new PH({});n.mount(window),n.setOptions({layoutScroll:!0}),My.current=n}return My.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),MH={pan:{Feature:Q8},drag:{Feature:X8,ProjectionNode:LD,MeasureLayout:ID}};function yx(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&ut.postRender(()=>a(e,wh(e)))}class kH extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=rq(e,(t,i)=>(yx(this.node,i,"Start"),r=>yx(this.node,r,"End"))))}unmount(){}}class OH extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vh(th(this.node.current,"focus",()=>this.onFocus()),th(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vx(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&ut.postRender(()=>a(e,wh(e)))}class NH extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=uq(e,(t,i)=>(vx(this.node,i,"Start"),(r,{success:a})=>vx(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Uv=new WeakMap,ky=new WeakMap,VH=n=>{const e=Uv.get(n.target);e&&e(n)},LH=n=>{n.forEach(VH)};function UH({root:n,...e}){const t=n||document;ky.has(t)||ky.set(t,{});const i=ky.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(LH,{root:n,...e})),i[r]}function zH(n,e,t){const i=UH(e);return Uv.set(n,t),i.observe(n),()=>{Uv.delete(n),i.unobserve(n)}}const BH={some:0,all:1};class jH extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:BH[r]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=d?g:v;b&&b(f)};return zH(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(FH(e,t))&&this.startObserver()}unmount(){}}function FH({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const qH={inView:{Feature:jH},tap:{Feature:NH},focus:{Feature:OH},hover:{Feature:kH}},HH={layout:{ProjectionNode:LD,MeasureLayout:ID}},GH={...I8,...qH,...MH,...HH},$H=Gq(GH,s8);function KH(){const n=z.useRef(null),[e,t]=z.useState({sending:!1,ok:null,msg:""}),i="service_yh2nn3r",r="template_zh0pz1m",a="X9CRu7KD1qXDNtEnz";async function u(h){if(h.preventDefault(),e.sending)return;const f=n.current,d=f.from_name.value.trim(),g=f.from_email.value.trim(),v=f.message.value.trim();if(!d||!g||!v){t({sending:!1,ok:!1,msg:"Please fill out all fields."});return}try{t({sending:!0,ok:null,msg:""}),await d5.send(i,r,{from_name:d,from_email:g,message:v,reply_to:g},{publicKey:a}),t({sending:!1,ok:!0,msg:"Thanks! Your message was sent."}),f.reset()}catch{t({sending:!1,ok:!1,msg:"Could not send. Try again later."})}}return M.jsx("section",{className:"min-h-screen grid place-items-center bg-transparent px-4 pt-28",children:M.jsxs($H.form,{ref:n,onSubmit:u,initial:{y:12},animate:{y:0,transition:{duration:.28,ease:"easeOut"}},className:`w-full max-w-xl bg-black/40 backdrop-blur-md border border-white/10\r
                   rounded-2xl p-6 text-white space-y-4 transform-gpu`,children:[M.jsx("h2",{className:"text-2xl font-semibold",children:"Contact"}),M.jsx("input",{type:"text",name:"company",className:"hidden",tabIndex:-1,autoComplete:"off"}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"text-sm text-white/80",children:"Your name"}),M.jsx("input",{name:"from_name",className:"mt-1 w-full rounded-lg bg-white/10 p-2 outline-none",placeholder:"Jane Doe"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-sm text-white/80",children:"Email"}),M.jsx("input",{name:"from_email",type:"email",className:"mt-1 w-full rounded-lg bg-white/10 p-2 outline-none",placeholder:"you@email.com"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-sm text-white/80",children:"Message"}),M.jsx("textarea",{name:"message",rows:"5",className:"mt-1 w-full rounded-lg bg-white/10 p-2 outline-none",placeholder:"How can I help?"})]}),M.jsx("button",{type:"submit",disabled:e.sending,className:"w-full rounded-xl bg-white/90 text-black font-semibold py-2 hover:bg-white disabled:opacity-60",children:e.sending?"Sending...":"Send"}),e.ok===!0&&M.jsx("p",{className:"text-green-300",children:e.msg}),e.ok===!1&&M.jsx("p",{className:"text-red-300",children:e.msg})]})})}function YH(){const[n,e]=z.useState({email:"",pass:""}),[t,i]=z.useState(""),[r,a]=z.useState(!1),u=ih(),h=async f=>{f.preventDefault(),a(!0),i("");try{await jU(fa,n.email,n.pass),u("/admin")}catch(d){console.error(d),i("Invalid credentials")}finally{a(!1)}};return M.jsx("main",{className:"min-h-screen grid place-items-center p-6",children:M.jsxs("form",{onSubmit:h,className:"w-full max-w-sm rounded-2xl border border-white/10 bg-white/5 p-6 space-y-4",children:[M.jsx("h1",{className:"text-xl font-bold text-center",children:"Admin Login"}),t&&M.jsx("div",{className:"text-red-400 text-center",children:t}),M.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 rounded bg-white/10",value:n.email,onChange:f=>e({...n,email:f.target.value})}),M.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-2 rounded bg-white/10",value:n.pass,onChange:f=>e({...n,pass:f.target.value})}),M.jsx("button",{type:"submit",disabled:r,className:"w-full px-4 py-2 rounded-xl bg-white text-black",children:r?"Logging in…":"Log In"})]})})}const _x="".split(",").map(n=>n.trim()).filter(Boolean),XH=["7u3Uund1CKRrtf4Pw0ehaLCI7WR2"];function QH(){const n=z.useMemo(()=>_x.length?_x:XH,[]),[e,t]=z.useState({loading:!0,ok:!1,user:null});return z.useEffect(()=>cp(fa,r=>{const a=!!r&&n.includes(r.uid);t({loading:!1,ok:a,user:r||null})}),[n]),e}function WH(n){return n.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function ZH(n){return n.split(",").map(e=>e.trim()).filter(Boolean)}function Oy(n=""){const e=(n||"").trim();return e?/^https?:\/\//i.test(e)?e:`https://${e}`:""}function bx(){const n=QH(),[e,t]=z.useState(!1),[i,r]=z.useState(!1),[a,u]=z.useState([]),[h,f]=z.useState({title:"",href:"",summary:"",description:"",tags:"",order:1,published:!0,file:null,preview:""}),d=ih();if(z.useEffect(()=>{const A=cp(fa,I=>t(!!I));return()=>A()},[]),z.useEffect(()=>{const A=pv(Yd(Ko,"projects"),mv("order","asc")),I=gv(A,D=>{u(D.docs.map(j=>({id:j.id,...j.data()})))});return()=>I()},[]),n===null)return M.jsx("div",{className:"min-h-screen grid place-items-center p-6 text-white",children:"Checking access…"});if(n===!1)return M.jsx("main",{className:"min-h-screen grid place-items-center p-6 text-white",children:M.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 text-center space-y-3 text-white",children:[M.jsx("div",{children:"Not authorized"}),M.jsx(Ai,{to:"/admin/login",className:"inline-flex px-4 py-2 rounded-xl bg-white text-black",children:"Go to Login"})]})});async function g(A){if(A.preventDefault(),i)return;const{title:I,href:D,file:j}=h,F=Oy(D);if(!I||!F||!j){alert("Title, Live link, and Image are required.");return}try{r(!0);const K=WH(I)+"-"+Date.now(),Z=(j.name.split(".").pop()||"jpg").toLowerCase(),ue=`projects/${K}.${Z}`,O=rA(oA,ue);await Dj(O,j);const R=await Pj(O);await b9(Yd(Ko,"projects"),{title:h.title,href:F,summary:h.summary,description:h.description,tags:ZH(h.tags),order:Number(h.order)||1,published:!!h.published,imagePath:ue,imageUrl:R,createdAt:ed(),updatedAt:ed()}),f({title:"",href:"",summary:"",description:"",tags:"",order:1,published:!0,file:null,preview:""}),A.target.reset?.()?.()}catch(K){console.error(K),alert("Could not add project. Check console for details.")}finally{r(!1)}}async function v(A){await JS(_d(Ko,"projects",A.id),{published:!A.published,updatedAt:ed()})}async function b(A,I){await JS(_d(Ko,"projects",A.id),{order:Number(I)||1,updatedAt:ed()})}async function E(A){if(confirm(`Delete "${A.title}"?`))try{await _9(_d(Ko,"projects",A.id)),A.imagePath&&await Mj(rA(oA,A.imagePath)).catch(()=>{})}catch(I){console.error(I),alert("Delete failed.")}}async function C(){await Y1(fa),d("/")}return M.jsxs("main",{className:"min-h-screen px-4 pt-28 pb-12 text-white",children:[M.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[M.jsx("h1",{className:"text-2xl font-bold",children:"Admin — Projects"}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx(Ai,{to:"/",className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"View site"}),e&&M.jsxs(M.Fragment,{children:[M.jsx(Ai,{to:"/admin",className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"Admin"}),M.jsx("button",{onClick:C,className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"Sign out"})]})]})]}),M.jsxs("form",{onSubmit:g,className:"max-w-6xl mx-auto mt-6 grid gap-3 md:grid-cols-2 rounded-2xl border border-white/10 bg-white/5 p-6",children:[M.jsx("input",{className:"input md:col-span-1",placeholder:"Title",onChange:A=>f(I=>({...I,title:A.target.value}))}),M.jsx("input",{className:"input md:col-span-1",placeholder:"Live site URL (https://…)",value:h.href,onChange:A=>f(I=>({...I,href:A.target.value})),onBlur:A=>f(I=>({...I,href:Oy(A.target.value)}))}),M.jsx("input",{className:"input md:col-span-2",placeholder:"What is this? (short summary)",onChange:A=>f(I=>({...I,summary:A.target.value}))}),M.jsx("textarea",{className:"input md:col-span-2",rows:3,placeholder:"What does it do? (features, purpose)",onChange:A=>f(I=>({...I,description:A.target.value}))}),M.jsx("input",{className:"input md:col-span-1",placeholder:"tags (comma separated)",onChange:A=>f(I=>({...I,tags:A.target.value}))}),M.jsx("input",{className:"input md:col-span-1",type:"number",min:"1",placeholder:"Order (1 = top)",onChange:A=>f(I=>({...I,order:A.target.value}))}),M.jsxs("label",{className:"flex items-center gap-2 md:col-span-1 text-white/90",children:[M.jsx("input",{type:"checkbox",defaultChecked:!0,onChange:A=>f(I=>({...I,published:A.target.checked}))}),"Published"]}),M.jsxs("div",{className:"md:col-span-1 flex items-center gap-3",children:[M.jsx("input",{className:"input flex-1",type:"file",accept:"image/*",onChange:A=>{const I=A.target.files?.[0]||null;f(D=>({...D,file:I,preview:I?URL.createObjectURL(I):""}))}}),h.preview&&M.jsx("div",{className:"w-28 aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${h.preview}')`}})]}),M.jsx("button",{disabled:i,className:"btn md:col-span-2",children:i?"Saving…":"Add Project"})]}),M.jsxs("div",{className:"max-w-6xl mx-auto mt-8 space-y-3",children:[a.map(A=>{const I=Oy(A.href);return M.jsxs("div",{className:"grid md:grid-cols-[180px_1fr_auto] items-center gap-3 p-3 rounded-2xl border border-white/10 bg-white/5",children:[M.jsx("div",{className:"aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${A.imageUrl||""}')`}}),M.jsxs("div",{children:[M.jsx("div",{className:"font-semibold",children:A.title}),A.summary&&M.jsx("div",{className:"text-sm text-white/85",children:A.summary}),A.description&&M.jsx("div",{className:"text-xs text-white/70 mt-1",children:A.description}),M.jsx("a",{href:I,target:"_blank",rel:"noreferrer",className:"text-white/70 hover:text-white text-sm",children:I}),M.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(A.tags||[]).map(D=>M.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10",children:D},D))})]}),M.jsxs("div",{className:"flex flex-col items-end gap-2",children:[M.jsx("label",{className:"text-xs text-white/70",children:"Order"}),M.jsx("input",{defaultValue:A.order||1,onBlur:D=>b(A,D.target.value),className:"w-16 bg-white/10 rounded px-2 py-1 text-sm"}),M.jsx("button",{onClick:()=>v(A),className:"btn-subtle",children:A.published?"Unpublish":"Publish"}),M.jsx("button",{onClick:()=>E(A),className:"btn-subtle",children:"Delete"})]})]},A.id)}),a.length===0&&M.jsx("div",{className:"text-white/70",children:"No projects yet. Add your first one above."})]})]})}const JH="7u3Uund1CKRrtf4Pw0ehaLCI7WR2";function e7({children:n}){const[e,t]=z.useState(!0),[i,r]=z.useState(!1),a=gi();return z.useEffect(()=>cp(fa,h=>{r(!!h&&h.uid===JH),t(!1)}),[]),e?M.jsx("div",{className:"px-4 py-10 text-white/70",children:"Checking access…"}):i?n:M.jsx(uk,{to:"/admin/login",replace:!0,state:{from:a}})}function t7(){return M.jsx("div",{style:{padding:24,color:"#fff"},children:"Page not found."})}vM.createRoot(document.getElementById("root")).render(M.jsx(Ny.StrictMode,{children:M.jsx(Nk,{children:M.jsx(fk,{children:M.jsxs(Cr,{path:"/",element:M.jsx(Yj,{}),children:[M.jsx(Cr,{index:!0,element:M.jsx(e5,{})}),M.jsx(Cr,{path:"contact",element:M.jsx(KH,{})}),M.jsx(Cr,{path:"admin/login",element:M.jsx(YH,{})}),M.jsx(Cr,{path:"admin",element:M.jsx(e7,{children:M.jsx(bx,{})})}),M.jsx(Cr,{path:"admin",element:M.jsx(bx,{})}),M.jsx(Cr,{path:"*",element:M.jsx(t7,{})})]})})})}));
