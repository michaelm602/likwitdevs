(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function wA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vg={exports:{}},cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function ck(){if(HT)return cc;HT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var h in r)h!=="key"&&(a[h]=r[h])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:a}}return cc.Fragment=e,cc.jsx=t,cc.jsxs=t,cc}var GT;function hk(){return GT||(GT=1,Vg.exports=ck()),Vg.exports}var S=hk(),Lg={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function fk(){if($T)return Ce;$T=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,A={};function D(L,re,ce){this.props=L,this.context=re,this.refs=A,this.updater=ce||E}D.prototype.isReactComponent={},D.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function P(){}P.prototype=D.prototype;function B(L,re,ce){this.props=L,this.context=re,this.refs=A,this.updater=ce||E}var F=B.prototype=new P;F.constructor=B,I(F,D.prototype),F.isPureReactComponent=!0;var q=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function M(L,re,ce,ae,ye,ke){return ce=ke.ref,{$$typeof:n,type:L,key:re,ref:ce!==void 0?ce:null,props:ke}}function C(L,re){return M(L.type,re,void 0,void 0,void 0,L.props)}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function U(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return re[ce]})}var j=/\/+/g;function H(L,re){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):re.toString(36)}function N(){}function It(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function st(L,re,ce,ae,ye){var ke=typeof L;(ke==="undefined"||ke==="boolean")&&(L=null);var xe=!1;if(L===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(L.$$typeof){case n:case e:xe=!0;break;case g:return xe=L._init,st(xe(L._payload),re,ce,ae,ye)}}if(xe)return ye=ye(L),xe=ae===""?"."+H(L,0):ae,q(ye)?(ce="",xe!=null&&(ce=xe.replace(j,"$&/")+"/"),st(ye,re,ce,"",function(Li){return Li})):ye!=null&&(k(ye)&&(ye=C(ye,ce+(ye.key==null||L&&L.key===ye.key?"":(""+ye.key).replace(j,"$&/")+"/")+xe)),re.push(ye)),1;xe=0;var Gt=ae===""?".":ae+":";if(q(L))for(var tt=0;tt<L.length;tt++)ae=L[tt],ke=Gt+H(ae,tt),xe+=st(ae,re,ce,ke,ye);else if(tt=b(L),typeof tt=="function")for(L=tt.call(L),tt=0;!(ae=L.next()).done;)ae=ae.value,ke=Gt+H(ae,tt++),xe+=st(ae,re,ce,ke,ye);else if(ke==="object"){if(typeof L.then=="function")return st(It(L),re,ce,ae,ye);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function J(L,re,ce){if(L==null)return L;var ae=[],ye=0;return st(L,ae,"","",function(ke){return re.call(ce,ke,ye++)}),ae}function oe(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function De(){}return Ce.Children={map:J,forEach:function(L,re,ce){J(L,function(){re.apply(this,arguments)},ce)},count:function(L){var re=0;return J(L,function(){re++}),re},toArray:function(L){return J(L,function(re){return re})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=D,Ce.Fragment=t,Ce.Profiler=r,Ce.PureComponent=B,Ce.StrictMode=i,Ce.Suspense=f,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(L){return Q.H.useMemoCache(L)}},Ce.cache=function(L){return function(){return L.apply(null,arguments)}},Ce.cloneElement=function(L,re,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ae=I({},L.props),ye=L.key,ke=void 0;if(re!=null)for(xe in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(ye=""+re.key),re)!le.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(ae[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)ae.children=ce;else if(1<xe){for(var Gt=Array(xe),tt=0;tt<xe;tt++)Gt[tt]=arguments[tt+2];ae.children=Gt}return M(L.type,ye,void 0,void 0,ke,ae)},Ce.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:a,_context:L},L},Ce.createElement=function(L,re,ce){var ae,ye={},ke=null;if(re!=null)for(ae in re.key!==void 0&&(ke=""+re.key),re)le.call(re,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=re[ae]);var xe=arguments.length-2;if(xe===1)ye.children=ce;else if(1<xe){for(var Gt=Array(xe),tt=0;tt<xe;tt++)Gt[tt]=arguments[tt+2];ye.children=Gt}if(L&&L.defaultProps)for(ae in xe=L.defaultProps,xe)ye[ae]===void 0&&(ye[ae]=xe[ae]);return M(L,ke,void 0,void 0,null,ye)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:h,render:L}},Ce.isValidElement=k,Ce.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:oe}},Ce.memo=function(L,re){return{$$typeof:d,type:L,compare:re===void 0?null:re}},Ce.startTransition=function(L){var re=Q.T,ce={};Q.T=ce;try{var ae=L(),ye=Q.S;ye!==null&&ye(ce,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(De,fe)}catch(ke){fe(ke)}finally{Q.T=re}},Ce.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ce.use=function(L){return Q.H.use(L)},Ce.useActionState=function(L,re,ce){return Q.H.useActionState(L,re,ce)},Ce.useCallback=function(L,re){return Q.H.useCallback(L,re)},Ce.useContext=function(L){return Q.H.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L,re){return Q.H.useDeferredValue(L,re)},Ce.useEffect=function(L,re,ce){var ae=Q.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(L,re)},Ce.useId=function(){return Q.H.useId()},Ce.useImperativeHandle=function(L,re,ce){return Q.H.useImperativeHandle(L,re,ce)},Ce.useInsertionEffect=function(L,re){return Q.H.useInsertionEffect(L,re)},Ce.useLayoutEffect=function(L,re){return Q.H.useLayoutEffect(L,re)},Ce.useMemo=function(L,re){return Q.H.useMemo(L,re)},Ce.useOptimistic=function(L,re){return Q.H.useOptimistic(L,re)},Ce.useReducer=function(L,re,ce){return Q.H.useReducer(L,re,ce)},Ce.useRef=function(L){return Q.H.useRef(L)},Ce.useState=function(L){return Q.H.useState(L)},Ce.useSyncExternalStore=function(L,re,ce){return Q.H.useSyncExternalStore(L,re,ce)},Ce.useTransition=function(){return Q.H.useTransition()},Ce.version="19.1.1",Ce}var KT;function jv(){return KT||(KT=1,Lg.exports=fk()),Lg.exports}var V=jv();const Vy=wA(V);var Ug={exports:{}},hc={},zg={exports:{}},jg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function dk(){return YT||(YT=1,(function(n){function e(J,oe){var fe=J.length;J.push(oe);e:for(;0<fe;){var De=fe-1>>>1,L=J[De];if(0<r(L,oe))J[De]=oe,J[fe]=L,fe=De;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var oe=J[0],fe=J.pop();if(fe!==oe){J[0]=fe;e:for(var De=0,L=J.length,re=L>>>1;De<re;){var ce=2*(De+1)-1,ae=J[ce],ye=ce+1,ke=J[ye];if(0>r(ae,fe))ye<L&&0>r(ke,ae)?(J[De]=ke,J[ye]=fe,De=ye):(J[De]=ae,J[ce]=fe,De=ce);else if(ye<L&&0>r(ke,fe))J[De]=ke,J[ye]=fe,De=ye;else break e}}return oe}function r(J,oe){var fe=J.sortIndex-oe.sortIndex;return fe!==0?fe:J.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,v=null,b=3,E=!1,I=!1,A=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function q(J){for(var oe=t(d);oe!==null;){if(oe.callback===null)i(d);else if(oe.startTime<=J)i(d),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(d)}}function Q(J){if(A=!1,q(J),!I)if(t(f)!==null)I=!0,le||(le=!0,H());else{var oe=t(d);oe!==null&&st(Q,oe.startTime-J)}}var le=!1,M=-1,C=5,k=-1;function U(){return D?!0:!(n.unstable_now()-k<C)}function j(){if(D=!1,le){var J=n.unstable_now();k=J;var oe=!0;try{e:{I=!1,A&&(A=!1,B(M),M=-1),E=!0;var fe=b;try{t:{for(q(J),v=t(f);v!==null&&!(v.expirationTime>J&&U());){var De=v.callback;if(typeof De=="function"){v.callback=null,b=v.priorityLevel;var L=De(v.expirationTime<=J);if(J=n.unstable_now(),typeof L=="function"){v.callback=L,q(J),oe=!0;break t}v===t(f)&&i(f),q(J)}else i(f);v=t(f)}if(v!==null)oe=!0;else{var re=t(d);re!==null&&st(Q,re.startTime-J),oe=!1}}break e}finally{v=null,b=fe,E=!1}oe=void 0}}finally{oe?H():le=!1}}}var H;if(typeof F=="function")H=function(){F(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,It=N.port2;N.port1.onmessage=j,H=function(){It.postMessage(null)}}else H=function(){P(j,0)};function st(J,oe){M=P(function(){J(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(J){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var fe=b;b=oe;try{return J()}finally{b=fe}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=b;b=J;try{return oe()}finally{b=fe}},n.unstable_scheduleCallback=function(J,oe,fe){var De=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?De+fe:De):fe=De,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,J={id:g++,callback:oe,priorityLevel:J,startTime:fe,expirationTime:L,sortIndex:-1},fe>De?(J.sortIndex=fe,e(d,J),t(f)===null&&J===t(d)&&(A?(B(M),M=-1):A=!0,st(Q,fe-De))):(J.sortIndex=L,e(f,J),I||E||(I=!0,le||(le=!0,H()))),J},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(J){var oe=b;return function(){var fe=b;b=oe;try{return J.apply(this,arguments)}finally{b=fe}}}})(jg)),jg}var XT;function mk(){return XT||(XT=1,zg.exports=dk()),zg.exports}var Bg={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function pk(){if(WT)return mn;WT=1;var n=jv();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,g)},mn.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},mn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},mn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},mn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):g==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},mn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},mn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},mn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},mn.requestFormReset=function(f){i.d.r(f)},mn.unstable_batchedUpdates=function(f,d){return f(d)},mn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},mn.version="19.1.1",mn}var QT;function gk(){if(QT)return Bg.exports;QT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bg.exports=pk(),Bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function yk(){if(ZT)return hc;ZT=1;var n=mk(),e=jv(),t=gk();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(i(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,c=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),s;if(y===c)return h(p),o;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var T=!1,x=p.child;x;){if(x===l){T=!0,l=p,c=y;break}if(x===c){T=!0,c=p,l=y;break}x=x.sibling}if(!T){for(x=y.child;x;){if(x===l){T=!0,l=y,c=p;break}if(x===c){T=!0,c=y,l=p;break}x=x.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function d(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=d(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function It(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case D:return"Profiler";case A:return"StrictMode";case Q:return"Suspense";case le:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case F:return(s.displayName||"Context")+".Provider";case B:return(s._context.displayName||"Context")+".Consumer";case q:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return o=s.displayName||null,o!==null?o:It(s.type)||"Memo";case C:o=s._payload,s=s._init;try{return It(s(o))}catch{}}return null}var st=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},De=[],L=-1;function re(s){return{current:s}}function ce(s){0>L||(s.current=De[L],De[L]=null,L--)}function ae(s,o){L++,De[L]=s.current,s.current=o}var ye=re(null),ke=re(null),xe=re(null),Gt=re(null);function tt(s,o){switch(ae(xe,o),ae(ke,s),ae(ye,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?vT(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=vT(o),s=_T(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ce(ye),ae(ye,s)}function Li(){ce(ye),ce(ke),ce(xe)}function er(s){s.memoizedState!==null&&ae(Gt,s);var o=ye.current,l=_T(o,s.type);o!==l&&(ae(ke,s),ae(ye,l))}function ps(s){ke.current===s&&(ce(ye),ce(ke)),Gt.current===s&&(ce(Gt),rc._currentValue=fe)}var oo=Object.prototype.hasOwnProperty,ao=n.unstable_scheduleCallback,lo=n.unstable_cancelCallback,nu=n.unstable_shouldYield,wh=n.unstable_requestPaint,Zn=n.unstable_now,Vm=n.unstable_getCurrentPriorityLevel,iu=n.unstable_ImmediatePriority,_a=n.unstable_UserBlockingPriority,uo=n.unstable_NormalPriority,Lm=n.unstable_LowPriority,ba=n.unstable_IdlePriority,su=n.log,Th=n.unstable_setDisableYieldValue,yt=null,Ke=null;function Ln(s){if(typeof su=="function"&&Th(s),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(yt,s)}catch{}}var fn=Math.clz32?Math.clz32:co,Eh=Math.log,Um=Math.LN2;function co(s){return s>>>=0,s===0?32:31-(Eh(s)/Um|0)|0}var ho=256,fo=4194304;function _i(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function wa(s,o,l){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var x=c&134217727;return x!==0?(c=x&~y,c!==0?p=_i(c):(T&=x,T!==0?p=_i(T):l||(l=x&~s,l!==0&&(p=_i(l))))):(x=c&~y,x!==0?p=_i(x):T!==0?p=_i(T):l||(l=c&~s,l!==0&&(p=_i(l)))),p===0?0:o!==0&&o!==p&&(o&y)===0&&(y=p&-p,l=o&-o,y>=l||y===32&&(l&4194048)!==0)?o:p}function mo(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function ru(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var s=ho;return ho<<=1,(ho&4194048)===0&&(ho=256),s}function au(){var s=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),s}function gs(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function ys(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function lu(s,o,l,c,p,y){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var x=s.entanglements,O=s.expirationTimes,Y=s.hiddenUpdates;for(l=T&~l;0<l;){var ee=31-fn(l),ie=1<<ee;x[ee]=0,O[ee]=-1;var X=Y[ee];if(X!==null)for(Y[ee]=null,ee=0;ee<X.length;ee++){var W=X[ee];W!==null&&(W.lane&=-536870913)}l&=~ie}c!==0&&Ui(s,c,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~o))}function Ui(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var c=31-fn(o);s.entangledLanes|=o,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function uu(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var c=31-fn(l),p=1<<c;p&o|s[c]&o&&(s[c]|=o),l&=~p}}function tr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ta(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function nr(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:UT(s.type))}function Sh(s,o){var l=oe.p;try{return oe.p=s,o()}finally{oe.p=l}}var at=Math.random().toString(36).slice(2),zt="__reactFiber$"+at,Dt="__reactProps$"+at,Jn="__reactContainer$"+at,cu="__reactEvents$"+at,zm="__reactListeners$"+at,ir="__reactHandles$"+at,xh="__reactResources$"+at,po="__reactMarker$"+at;function sr(s){delete s[zt],delete s[Dt],delete s[cu],delete s[zm],delete s[ir]}function vs(s){var o=s[zt];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Jn]||l[zt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=ET(s);s!==null;){if(l=s[zt])return l;s=ET(s)}return o}s=l,l=s.parentNode}return null}function zi(s){if(s=s[zt]||s[Jn]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function ji(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Tn(s){var o=s[xh];return o||(o=s[xh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Et(s){s[po]=!0}var hu=new Set,Ea={};function bi(s,o){_s(s,o),_s(s+"Capture",o)}function _s(s,o){for(Ea[s]=o,s=0;s<o.length;s++)hu.add(o[s])}var Ah=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rh={},go={};function Ch(s){return oo.call(go,s)?!0:oo.call(Rh,s)?!1:Ah.test(s)?go[s]=!0:(Rh[s]=!0,!1)}function rr(s,o,l){if(Ch(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function Bi(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function en(s,o,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+c)}}var yo,Ih;function bs(s){if(yo===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);yo=o&&o[1]||"",Ih=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yo+s+Ih}var Sa=!1;function xa(s,o){if(!s||Sa)return"";Sa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var X=W}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(W){X=W}s.call(ie.prototype)}}else{try{throw Error()}catch(W){X=W}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],x=y[1];if(T&&x){var O=T.split(`
`),Y=x.split(`
`);for(p=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(c===O.length||p===Y.length)for(c=O.length-1,p=Y.length-1;1<=c&&0<=p&&O[c]!==Y[p];)p--;for(;1<=c&&0<=p;c--,p--)if(O[c]!==Y[p]){if(c!==1||p!==1)do if(c--,p--,0>p||O[c]!==Y[p]){var ee=`
`+O[c].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=c&&0<=p);break}}}finally{Sa=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?bs(l):""}function fu(s){switch(s.tag){case 26:case 27:case 5:return bs(s.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return xa(s.type,!1);case 11:return xa(s.type.render,!1);case 1:return xa(s.type,!0);case 31:return bs("Activity");default:return""}}function Aa(s){try{var o="";do o+=fu(s),s=s.return;while(s);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function En(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function du(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function jm(s){var o=du(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),c=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ra(s){s._valueTracker||(s._valueTracker=jm(s))}function mu(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return s&&(c=du(s)?s.checked?"true":"false":s.value),s=c,s!==l?(o.setValue(s),!0):!1}function vo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Bm=/[\n"\\]/g;function Pt(s){return s.replace(Bm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Un(s,o,l,c,p,y,T,x){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),o!=null?T==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+En(o)):s.value!==""+En(o)&&(s.value=""+En(o)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),o!=null?or(s,T,En(o)):l!=null?or(s,T,En(l)):c!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.name=""+En(x):s.removeAttribute("name")}function _o(s,o,l,c,p,y,T,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),o!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;l=l!=null?""+En(l):"",o=o!=null?""+En(o):l,x||o===s.value||(s.value=o),s.defaultValue=o}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=x?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function or(s,o,l){o==="number"&&vo(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ws(s,o,l,c){if(s=s.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=o.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&c&&(s[l].defaultSelected=!0)}else{for(l=""+En(l),o=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,c&&(s[p].defaultSelected=!0);return}o!==null||s[p].disabled||(o=s[p])}o!==null&&(o.selected=!0)}}function We(s,o,l){if(o!=null&&(o=""+En(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+En(l):""}function bo(s,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(i(92));if(st(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=En(o),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function ei(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dh(s,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":c?s.setProperty(o,l):typeof l!="number"||l===0||wo.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function pu(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var p in o)c=o[p],o.hasOwnProperty(p)&&l[p]!==c&&Dh(s,p,c)}else for(var y in o)o.hasOwnProperty(y)&&Dh(s,y,o[y])}function gu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(s){return qm.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ts=null;function ti(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Es=null,Ss=null;function yu(s){var o=zi(s);if(o&&(s=o.stateNode)){var l=s[Dt]||null;e:switch(s=o.stateNode,o.type){case"input":if(Un(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Pt(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==s&&c.form===s.form){var p=c[Dt]||null;if(!p)throw Error(i(90));Un(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===s.form&&mu(c)}break e;case"textarea":We(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&ws(s,!!l.multiple,o,!1)}}}var Fi=!1;function Ph(s,o,l){if(Fi)return s(o,l);Fi=!0;try{var c=s(o);return c}finally{if(Fi=!1,(Es!==null||Ss!==null)&&(xf(),Es&&(o=Es,s=Ss,Ss=Es=null,yu(o),s)))for(o=0;o<s.length;o++)yu(s[o])}}function To(s,o){var l=s.stateNode;if(l===null)return null;var c=l[Dt]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ni=!1;if(wi)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){ni=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{ni=!1}var qi=null,ar=null,xs=null;function vu(){if(xs)return xs;var s,o=ar,l=o.length,c,p="value"in qi?qi.value:qi.textContent,y=p.length;for(s=0;s<l&&o[s]===p[s];s++);var T=l-s;for(c=1;c<=T&&o[l-c]===p[y-c];c++);return xs=p.slice(s,1<c?1-c:void 0)}function Hi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Gi(){return!0}function _u(){return!1}function $t(s){function o(l,c,p,y,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(l=s[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Gi:_u,this.isPropagationStopped=_u,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),o}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=$t(Ge),So=g({},Ge,{view:0,detail:0}),kh=$t(So),Da,Pa,$i,xo=g({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$i&&($i&&s.type==="mousemove"?(Da=s.screenX-$i.screenX,Pa=s.screenY-$i.screenY):Pa=Da=0,$i=s),Da)},movementY:function(s){return"movementY"in s?s.movementY:Pa}}),ii=$t(xo),Mh=g({},xo,{dataTransfer:0}),Hm=$t(Mh),Ao=g({},So,{relatedTarget:0}),ka=$t(Ao),bu=g({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=$t(bu),Oh=g({},Ge,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Oa=$t(Oh),Gm=g({},Ge,{data:0}),wu=$t(Gm),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Vh[s])?!!o[s]:!1}function Co(){return Tu}var Lh=g({},So,{key:function(s){if(s.key){var o=Ro[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Hi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(s){return s.type==="keypress"?Hi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Hi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Na=$t(Lh),Uh=g({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=$t(Uh),As=g({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),zh=$t(As),jh=g({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bh=$t(jh),Fh=g({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=$t(Fh),Sn=g({},Ge,{newState:0,oldState:0}),qh=$t(Sn),Hh=[9,13,27,32],Ki=wi&&"CompositionEvent"in window,m=null;wi&&"documentMode"in document&&(m=document.documentMode);var _=wi&&"TextEvent"in window&&!m,w=wi&&(!Ki||m&&8<m&&11>=m),R=" ",$=!1;function Z(s,o){switch(s){case"keyup":return Hh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ze=!1;function jt(s,o){switch(s){case"compositionend":return ue(o);case"keypress":return o.which!==32?null:($=!0,R);case"textInput":return s=o.data,s===R&&$?null:s;default:return null}}function je(s,o){if(ze)return s==="compositionend"||!Ki&&Z(s,o)?(s=vu(),xs=ar=qi=null,ze=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return w&&o.locale!=="ko"?null:o.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Kt[s.type]:o==="textarea"}function Rs(s,o,l,c){Es?Ss?Ss.push(c):Ss=[c]:Es=c,o=Pf(o,"onChange"),0<o.length&&(l=new Ia("onChange","change",null,l,c),s.push({event:l,listeners:o}))}var tn=null,Yi=null;function Su(s){dT(s,0)}function Gh(s){var o=ji(s);if(mu(o))return s}function Ob(s,o){if(s==="change")return o}var Nb=!1;if(wi){var $m;if(wi){var Km="oninput"in document;if(!Km){var Vb=document.createElement("div");Vb.setAttribute("oninput","return;"),Km=typeof Vb.oninput=="function"}$m=Km}else $m=!1;Nb=$m&&(!document.documentMode||9<document.documentMode)}function Lb(){tn&&(tn.detachEvent("onpropertychange",Ub),Yi=tn=null)}function Ub(s){if(s.propertyName==="value"&&Gh(Yi)){var o=[];Rs(o,Yi,s,ti(s)),Ph(Su,o)}}function jD(s,o,l){s==="focusin"?(Lb(),tn=o,Yi=l,tn.attachEvent("onpropertychange",Ub)):s==="focusout"&&Lb()}function BD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Gh(Yi)}function FD(s,o){if(s==="click")return Gh(o)}function qD(s,o){if(s==="input"||s==="change")return Gh(o)}function HD(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var zn=typeof Object.is=="function"?Object.is:HD;function xu(s,o){if(zn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!oo.call(o,p)||!zn(s[p],o[p]))return!1}return!0}function zb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function jb(s,o){var l=zb(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=o&&c>=o)return{node:l,offset:o-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zb(l)}}function Bb(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Bb(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Fb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=vo(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=vo(s.document)}return o}function Ym(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var GD=wi&&"documentMode"in document&&11>=document.documentMode,La=null,Xm=null,Au=null,Wm=!1;function qb(s,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wm||La==null||La!==vo(c)||(c=La,"selectionStart"in c&&Ym(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Au&&xu(Au,c)||(Au=c,c=Pf(Xm,"onSelect"),0<c.length&&(o=new Ia("onSelect","select",null,o,l),s.push({event:o,listeners:c}),o.target=La)))}function Io(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Ua={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionrun:Io("Transition","TransitionRun"),transitionstart:Io("Transition","TransitionStart"),transitioncancel:Io("Transition","TransitionCancel"),transitionend:Io("Transition","TransitionEnd")},Qm={},Hb={};wi&&(Hb=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Do(s){if(Qm[s])return Qm[s];if(!Ua[s])return s;var o=Ua[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Hb)return Qm[s]=o[l];return s}var Gb=Do("animationend"),$b=Do("animationiteration"),Kb=Do("animationstart"),$D=Do("transitionrun"),KD=Do("transitionstart"),YD=Do("transitioncancel"),Yb=Do("transitionend"),Xb=new Map,Zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zm.push("scrollEnd");function Ti(s,o){Xb.set(s,o),bi(o,[s])}var Wb=new WeakMap;function si(s,o){if(typeof s=="object"&&s!==null){var l=Wb.get(s);return l!==void 0?l:(o={value:s,source:o,stack:Aa(o)},Wb.set(s,o),o)}return{value:s,source:o,stack:Aa(o)}}var ri=[],za=0,Jm=0;function $h(){for(var s=za,o=Jm=za=0;o<s;){var l=ri[o];ri[o++]=null;var c=ri[o];ri[o++]=null;var p=ri[o];ri[o++]=null;var y=ri[o];if(ri[o++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}y!==0&&Qb(l,p,y)}}function Kh(s,o,l,c){ri[za++]=s,ri[za++]=o,ri[za++]=l,ri[za++]=c,Jm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function ep(s,o,l,c){return Kh(s,o,l,c),Yh(s)}function ja(s,o){return Kh(s,null,null,o),Yh(s)}function Qb(s,o,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&o!==null&&(p=31-fn(l),s=y.hiddenUpdates,c=s[p],c===null?s[p]=[o]:c.push(o),o.lane=l|536870912),y):null}function Yh(s){if(50<Qu)throw Qu=0,og=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Ba={};function XD(s,o,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,o,l,c){return new XD(s,o,l,c)}function tp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Cs(s,o){var l=s.alternate;return l===null?(l=jn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Zb(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Xh(s,o,l,c,p,y){var T=0;if(c=s,typeof s=="function")tp(s)&&(T=1);else if(typeof s=="string")T=QP(s,l,ye.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=jn(31,l,o,p),s.elementType=k,s.lanes=y,s;case I:return Po(l.children,p,y,o);case A:T=8,p|=24;break;case D:return s=jn(12,l,o,p|2),s.elementType=D,s.lanes=y,s;case Q:return s=jn(13,l,o,p),s.elementType=Q,s.lanes=y,s;case le:return s=jn(19,l,o,p),s.elementType=le,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case F:T=10;break e;case B:T=9;break e;case q:T=11;break e;case M:T=14;break e;case C:T=16,c=null;break e}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return o=jn(T,l,o,p),o.elementType=s,o.type=c,o.lanes=y,o}function Po(s,o,l,c){return s=jn(7,s,c,o),s.lanes=l,s}function np(s,o,l){return s=jn(6,s,null,o),s.lanes=l,s}function ip(s,o,l){return o=jn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Fa=[],qa=0,Wh=null,Qh=0,oi=[],ai=0,ko=null,Is=1,Ds="";function Mo(s,o){Fa[qa++]=Qh,Fa[qa++]=Wh,Wh=s,Qh=o}function Jb(s,o,l){oi[ai++]=Is,oi[ai++]=Ds,oi[ai++]=ko,ko=s;var c=Is;s=Ds;var p=32-fn(c)-1;c&=~(1<<p),l+=1;var y=32-fn(o)+p;if(30<y){var T=p-p%5;y=(c&(1<<T)-1).toString(32),c>>=T,p-=T,Is=1<<32-fn(o)+p|l<<p|c,Ds=y+s}else Is=1<<y|l<<p|c,Ds=s}function sp(s){s.return!==null&&(Mo(s,1),Jb(s,1,0))}function rp(s){for(;s===Wh;)Wh=Fa[--qa],Fa[qa]=null,Qh=Fa[--qa],Fa[qa]=null;for(;s===ko;)ko=oi[--ai],oi[ai]=null,Ds=oi[--ai],oi[ai]=null,Is=oi[--ai],oi[ai]=null}var xn=null,vt=null,He=!1,Oo=null,Xi=!1,op=Error(i(519));function No(s){var o=Error(i(418,""));throw Iu(si(o,s)),op}function e0(s){var o=s.stateNode,l=s.type,c=s.memoizedProps;switch(o[zt]=s,o[Dt]=c,l){case"dialog":Ne("cancel",o),Ne("close",o);break;case"iframe":case"object":case"embed":Ne("load",o);break;case"video":case"audio":for(l=0;l<Ju.length;l++)Ne(Ju[l],o);break;case"source":Ne("error",o);break;case"img":case"image":case"link":Ne("error",o),Ne("load",o);break;case"details":Ne("toggle",o);break;case"input":Ne("invalid",o),_o(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ra(o);break;case"select":Ne("invalid",o);break;case"textarea":Ne("invalid",o),bo(o,c.value,c.defaultValue,c.children),Ra(o)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||yT(o.textContent,l)?(c.popover!=null&&(Ne("beforetoggle",o),Ne("toggle",o)),c.onScroll!=null&&Ne("scroll",o),c.onScrollEnd!=null&&Ne("scrollend",o),c.onClick!=null&&(o.onclick=kf),o=!0):o=!1,o||No(s)}function t0(s){for(xn=s.return;xn;)switch(xn.tag){case 5:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:xn=xn.return}}function Ru(s){if(s!==xn)return!1;if(!He)return t0(s),He=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Tg(s.type,s.memoizedProps)),l=!l),l&&vt&&No(s),t0(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(o===0){vt=Si(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;s=s.nextSibling}vt=null}}else o===27?(o=vt,Er(s.type)?(s=Ag,Ag=null,vt=s):vt=o):vt=xn?Si(s.stateNode.nextSibling):null;return!0}function Cu(){vt=xn=null,He=!1}function n0(){var s=Oo;return s!==null&&(kn===null?kn=s:kn.push.apply(kn,s),Oo=null),s}function Iu(s){Oo===null?Oo=[s]:Oo.push(s)}var ap=re(null),Vo=null,Ps=null;function lr(s,o,l){ae(ap,o._currentValue),o._currentValue=l}function ks(s){s._currentValue=ap.current,ce(ap)}function lp(s,o,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),s===l)break;s=s.return}}function up(s,o,l,c){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var x=y;y=p;for(var O=0;O<o.length;O++)if(x.context===o[O]){y.lanes|=l,x=y.alternate,x!==null&&(x.lanes|=l),lp(y.return,l,s),c||(T=null);break e}y=x.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),lp(T,l,s),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===s){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Du(s,o,l,c){s=null;for(var p=o,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var x=p.type;zn(p.pendingProps.value,T.value)||(s!==null?s.push(x):s=[x])}}else if(p===Gt.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(rc):s=[rc])}p=p.return}s!==null&&up(o,s,l,c),o.flags|=262144}function Zh(s){for(s=s.firstContext;s!==null;){if(!zn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Lo(s){Vo=s,Ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dn(s){return i0(Vo,s)}function Jh(s,o){return Vo===null&&Lo(s),i0(s,o)}function i0(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Ps===null){if(s===null)throw Error(i(308));Ps=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Ps=Ps.next=o;return l}var WD=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},QD=n.unstable_scheduleCallback,ZD=n.unstable_NormalPriority,Ft={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cp(){return{controller:new WD,data:new Map,refCount:0}}function Pu(s){s.refCount--,s.refCount===0&&QD(ZD,function(){s.controller.abort()})}var ku=null,hp=0,Ha=0,Ga=null;function JD(s,o){if(ku===null){var l=ku=[];hp=0,Ha=dg(),Ga={status:"pending",value:void 0,then:function(c){l.push(c)}}}return hp++,o.then(s0,s0),o}function s0(){if(--hp===0&&ku!==null){Ga!==null&&(Ga.status="fulfilled");var s=ku;ku=null,Ha=0,Ga=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function eP(s,o){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){c.status="fulfilled",c.value=o;for(var p=0;p<l.length;p++)(0,l[p])(o)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var r0=J.S;J.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&JD(s,o),r0!==null&&r0(s,o)};var Uo=re(null);function fp(){var s=Uo.current;return s!==null?s:nt.pooledCache}function ef(s,o){o===null?ae(Uo,Uo.current):ae(Uo,o.pool)}function o0(){var s=fp();return s===null?null:{parent:Ft._currentValue,pool:s}}var Mu=Error(i(460)),a0=Error(i(474)),tf=Error(i(542)),dp={then:function(){}};function l0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function nf(){}function u0(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(nf,nf),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,h0(s),s;default:if(typeof o.status=="string")o.then(nf,nf);else{if(s=nt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(c){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=c}},function(c){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,h0(s),s}throw Ou=o,Mu}}var Ou=null;function c0(){if(Ou===null)throw Error(i(459));var s=Ou;return Ou=null,s}function h0(s){if(s===Mu||s===tf)throw Error(i(483))}var ur=!1;function mp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pp(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function cr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function hr(s,o,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var p=c.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),c.pending=o,o=Yh(s),Qb(s,null,l),o}return Kh(s,c,o,l),Yh(s)}function Nu(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,uu(s,l)}}function gp(s,o){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var yp=!1;function Vu(){if(yp){var s=Ga;if(s!==null)throw s}}function Lu(s,o,l,c){yp=!1;var p=s.updateQueue;ur=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var O=x,Y=O.next;O.next=null,T===null?y=Y:T.next=Y,T=O;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,x=ee.lastBaseUpdate,x!==T&&(x===null?ee.firstBaseUpdate=Y:x.next=Y,ee.lastBaseUpdate=O))}if(y!==null){var ie=p.baseState;T=0,ee=Y=O=null,x=y;do{var X=x.lane&-536870913,W=X!==x.lane;if(W?(Be&X)===X:(c&X)===X){X!==0&&X===Ha&&(yp=!0),ee!==null&&(ee=ee.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ee=s,ve=x;X=o;var Je=l;switch(ve.tag){case 1:if(Ee=ve.payload,typeof Ee=="function"){ie=Ee.call(Je,ie,X);break e}ie=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ve.payload,X=typeof Ee=="function"?Ee.call(Je,ie,X):Ee,X==null)break e;ie=g({},ie,X);break e;case 2:ur=!0}}X=x.callback,X!==null&&(s.flags|=64,W&&(s.flags|=8192),W=p.callbacks,W===null?p.callbacks=[X]:W.push(X))}else W={lane:X,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ee===null?(Y=ee=W,O=ie):ee=ee.next=W,T|=X;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;W=x,x=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);ee===null&&(O=ie),p.baseState=O,p.firstBaseUpdate=Y,p.lastBaseUpdate=ee,y===null&&(p.shared.lanes=0),_r|=T,s.lanes=T,s.memoizedState=ie}}function f0(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function d0(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)f0(l[s],o)}var $a=re(null),sf=re(0);function m0(s,o){s=zs,ae(sf,s),ae($a,o),zs=s|o.baseLanes}function vp(){ae(sf,zs),ae($a,$a.current)}function _p(){zs=sf.current,ce($a),ce(sf)}var fr=0,Pe=null,Qe=null,kt=null,rf=!1,Ka=!1,zo=!1,of=0,Uu=0,Ya=null,tP=0;function St(){throw Error(i(321))}function bp(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!zn(s[l],o[l]))return!1;return!0}function wp(s,o,l,c,p,y){return fr=y,Pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,J.H=s===null||s.memoizedState===null?Q0:Z0,zo=!1,y=l(c,p),zo=!1,Ka&&(y=g0(o,l,c,p)),p0(s),y}function p0(s){J.H=ff;var o=Qe!==null&&Qe.next!==null;if(fr=0,kt=Qe=Pe=null,rf=!1,Uu=0,Ya=null,o)throw Error(i(300));s===null||Yt||(s=s.dependencies,s!==null&&Zh(s)&&(Yt=!0))}function g0(s,o,l,c){Pe=s;var p=0;do{if(Ka&&(Ya=null),Uu=0,Ka=!1,25<=p)throw Error(i(301));if(p+=1,kt=Qe=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=lP,y=o(l,c)}while(Ka);return y}function nP(){var s=J.H,o=s.useState()[0];return o=typeof o.then=="function"?zu(o):o,s=s.useState()[0],(Qe!==null?Qe.memoizedState:null)!==s&&(Pe.flags|=1024),o}function Tp(){var s=of!==0;return of=0,s}function Ep(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function Sp(s){if(rf){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}rf=!1}fr=0,kt=Qe=Pe=null,Ka=!1,Uu=of=0,Ya=null}function Dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Pe.memoizedState=kt=s:kt=kt.next=s,kt}function Mt(){if(Qe===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=Qe.next;var o=kt===null?Pe.memoizedState:kt.next;if(o!==null)kt=o,Qe=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));Qe=s,s={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},kt===null?Pe.memoizedState=kt=s:kt=kt.next=s}return kt}function xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(s){var o=Uu;return Uu+=1,Ya===null&&(Ya=[]),s=u0(Ya,s,o),o=Pe,(kt===null?o.memoizedState:kt.next)===null&&(o=o.alternate,J.H=o===null||o.memoizedState===null?Q0:Z0),s}function af(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return zu(s);if(s.$$typeof===F)return dn(s)}throw Error(i(438,String(s)))}function Ap(s){var o=null,l=Pe.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=xp(),Pe.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),c=0;c<s;c++)l[c]=U;return o.index++,l}function Ms(s,o){return typeof o=="function"?o(s):o}function lf(s){var o=Mt();return Rp(o,Qe,s)}function Rp(s,o,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=s.baseQueue,y=c.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}o.baseQueue=p=y,c.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{o=p.next;var x=T=null,O=null,Y=o,ee=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(Be&ie)===ie:(fr&ie)===ie){var X=Y.revertLane;if(X===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===Ha&&(ee=!0);else if((fr&X)===X){Y=Y.next,X===Ha&&(ee=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(x=O=ie,T=y):O=O.next=ie,Pe.lanes|=X,_r|=X;ie=Y.action,zo&&l(y,ie),y=Y.hasEagerState?Y.eagerState:l(y,ie)}else X={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(x=O=X,T=y):O=O.next=X,Pe.lanes|=ie,_r|=ie;Y=Y.next}while(Y!==null&&Y!==o);if(O===null?T=y:O.next=x,!zn(y,s.memoizedState)&&(Yt=!0,ee&&(l=Ga,l!==null)))throw l;s.memoizedState=y,s.baseState=T,s.baseQueue=O,c.lastRenderedState=y}return p===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Cp(s){var o=Mt(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=s(y,T.action),T=T.next;while(T!==p);zn(y,o.memoizedState)||(Yt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,c]}function y0(s,o,l){var c=Pe,p=Mt(),y=He;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=o();var T=!zn((Qe||p).memoizedState,l);T&&(p.memoizedState=l,Yt=!0),p=p.queue;var x=b0.bind(null,c,p,s);if(ju(2048,8,x,[s]),p.getSnapshot!==o||T||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,Xa(9,uf(),_0.bind(null,c,p,l,o),null),nt===null)throw Error(i(349));y||(fr&124)!==0||v0(c,o,l)}return l}function v0(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Pe.updateQueue,o===null?(o=xp(),Pe.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function _0(s,o,l,c){o.value=l,o.getSnapshot=c,w0(o)&&T0(s)}function b0(s,o,l){return l(function(){w0(o)&&T0(s)})}function w0(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!zn(s,l)}catch{return!0}}function T0(s){var o=ja(s,2);o!==null&&Gn(o,s,2)}function Ip(s){var o=Dn();if(typeof s=="function"){var l=s;if(s=l(),zo){Ln(!0);try{l()}finally{Ln(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:s},o}function E0(s,o,l,c){return s.baseState=l,Rp(s,Qe,typeof c=="function"?c:Ms)}function iP(s,o,l,c,p){if(hf(s))throw Error(i(485));if(s=o.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};J.T!==null?l(!0):y.isTransition=!1,c(y),l=o.pending,l===null?(y.next=o.pending=y,S0(o,y)):(y.next=l.next,o.pending=l.next=y)}}function S0(s,o){var l=o.action,c=o.payload,p=s.state;if(o.isTransition){var y=J.T,T={};J.T=T;try{var x=l(p,c),O=J.S;O!==null&&O(T,x),x0(s,o,x)}catch(Y){Dp(s,o,Y)}finally{J.T=y}}else try{y=l(p,c),x0(s,o,y)}catch(Y){Dp(s,o,Y)}}function x0(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){A0(s,o,c)},function(c){return Dp(s,o,c)}):A0(s,o,l)}function A0(s,o,l){o.status="fulfilled",o.value=l,R0(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,S0(s,l)))}function Dp(s,o,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,R0(o),o=o.next;while(o!==c)}s.action=null}function R0(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function C0(s,o){return o}function I0(s,o){if(He){var l=nt.formState;if(l!==null){e:{var c=Pe;if(He){if(vt){t:{for(var p=vt,y=Xi;p.nodeType!==8;){if(!y){p=null;break t}if(p=Si(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){vt=Si(p.nextSibling),c=p.data==="F!";break e}}No(c)}c=!1}c&&(o=l[0])}}return l=Dn(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:o},l.queue=c,l=Y0.bind(null,Pe,c),c.dispatch=l,c=Ip(!1),y=Np.bind(null,Pe,!1,c.queue),c=Dn(),p={state:o,dispatch:null,action:s,pending:null},c.queue=p,l=iP.bind(null,Pe,p,y,l),p.dispatch=l,c.memoizedState=s,[o,l,!1]}function D0(s){var o=Mt();return P0(o,Qe,s)}function P0(s,o,l){if(o=Rp(s,o,C0)[0],s=lf(Ms)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=zu(o)}catch(T){throw T===Mu?tf:T}else c=o;o=Mt();var p=o.queue,y=p.dispatch;return l!==o.memoizedState&&(Pe.flags|=2048,Xa(9,uf(),sP.bind(null,p,l),null)),[c,y,s]}function sP(s,o){s.action=o}function k0(s){var o=Mt(),l=Qe;if(l!==null)return P0(o,l,s);Mt(),o=o.memoizedState,l=Mt();var c=l.queue.dispatch;return l.memoizedState=s,[o,c,!1]}function Xa(s,o,l,c){return s={tag:s,create:l,deps:c,inst:o,next:null},o=Pe.updateQueue,o===null&&(o=xp(),Pe.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,o.lastEffect=s),s}function uf(){return{destroy:void 0,resource:void 0}}function M0(){return Mt().memoizedState}function cf(s,o,l,c){var p=Dn();c=c===void 0?null:c,Pe.flags|=s,p.memoizedState=Xa(1|o,uf(),l,c)}function ju(s,o,l,c){var p=Mt();c=c===void 0?null:c;var y=p.memoizedState.inst;Qe!==null&&c!==null&&bp(c,Qe.memoizedState.deps)?p.memoizedState=Xa(o,y,l,c):(Pe.flags|=s,p.memoizedState=Xa(1|o,y,l,c))}function O0(s,o){cf(8390656,8,s,o)}function N0(s,o){ju(2048,8,s,o)}function V0(s,o){return ju(4,2,s,o)}function L0(s,o){return ju(4,4,s,o)}function U0(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function z0(s,o,l){l=l!=null?l.concat([s]):null,ju(4,4,U0.bind(null,o,s),l)}function Pp(){}function j0(s,o){var l=Mt();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&bp(o,c[1])?c[0]:(l.memoizedState=[s,o],s)}function B0(s,o){var l=Mt();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&bp(o,c[1]))return c[0];if(c=s(),zo){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[c,o],c}function kp(s,o,l){return l===void 0||(fr&1073741824)!==0?s.memoizedState=o:(s.memoizedState=l,s=Hw(),Pe.lanes|=s,_r|=s,l)}function F0(s,o,l,c){return zn(l,o)?l:$a.current!==null?(s=kp(s,l,c),zn(s,o)||(Yt=!0),s):(fr&42)===0?(Yt=!0,s.memoizedState=l):(s=Hw(),Pe.lanes|=s,_r|=s,o)}function q0(s,o,l,c,p){var y=oe.p;oe.p=y!==0&&8>y?y:8;var T=J.T,x={};J.T=x,Np(s,!1,o,l);try{var O=p(),Y=J.S;if(Y!==null&&Y(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ee=eP(O,c);Bu(s,o,ee,Hn(s))}else Bu(s,o,c,Hn(s))}catch(ie){Bu(s,o,{then:function(){},status:"rejected",reason:ie},Hn())}finally{oe.p=y,J.T=T}}function rP(){}function Mp(s,o,l,c){if(s.tag!==5)throw Error(i(476));var p=H0(s).queue;q0(s,p,o,fe,l===null?rP:function(){return G0(s),l(c)})}function H0(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:fe},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function G0(s){var o=H0(s).next.queue;Bu(s,o,{},Hn())}function Op(){return dn(rc)}function $0(){return Mt().memoizedState}function K0(){return Mt().memoizedState}function oP(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=Hn();s=cr(l);var c=hr(o,s,l);c!==null&&(Gn(c,o,l),Nu(c,o,l)),o={cache:cp()},s.payload=o;return}o=o.return}}function aP(s,o,l){var c=Hn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},hf(s)?X0(o,l):(l=ep(s,o,l,c),l!==null&&(Gn(l,s,c),W0(l,o,c)))}function Y0(s,o,l){var c=Hn();Bu(s,o,l,c)}function Bu(s,o,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(hf(s))X0(o,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,x=y(T,l);if(p.hasEagerState=!0,p.eagerState=x,zn(x,T))return Kh(s,o,p,0),nt===null&&$h(),!1}catch{}finally{}if(l=ep(s,o,p,c),l!==null)return Gn(l,s,c),W0(l,o,c),!0}return!1}function Np(s,o,l,c){if(c={lane:2,revertLane:dg(),action:c,hasEagerState:!1,eagerState:null,next:null},hf(s)){if(o)throw Error(i(479))}else o=ep(s,l,c,2),o!==null&&Gn(o,s,2)}function hf(s){var o=s.alternate;return s===Pe||o!==null&&o===Pe}function X0(s,o){Ka=rf=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function W0(s,o,l){if((l&4194048)!==0){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,uu(s,l)}}var ff={readContext:dn,use:af,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},Q0={readContext:dn,use:af,useCallback:function(s,o){return Dn().memoizedState=[s,o===void 0?null:o],s},useContext:dn,useEffect:O0,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,cf(4194308,4,U0.bind(null,o,s),l)},useLayoutEffect:function(s,o){return cf(4194308,4,s,o)},useInsertionEffect:function(s,o){cf(4,2,s,o)},useMemo:function(s,o){var l=Dn();o=o===void 0?null:o;var c=s();if(zo){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[c,o],c},useReducer:function(s,o,l){var c=Dn();if(l!==void 0){var p=l(o);if(zo){Ln(!0);try{l(o)}finally{Ln(!1)}}}else p=o;return c.memoizedState=c.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},c.queue=s,s=s.dispatch=aP.bind(null,Pe,s),[c.memoizedState,s]},useRef:function(s){var o=Dn();return s={current:s},o.memoizedState=s},useState:function(s){s=Ip(s);var o=s.queue,l=Y0.bind(null,Pe,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:Pp,useDeferredValue:function(s,o){var l=Dn();return kp(l,s,o)},useTransition:function(){var s=Ip(!1);return s=q0.bind(null,Pe,s.queue,!0,!1),Dn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var c=Pe,p=Dn();if(He){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),nt===null)throw Error(i(349));(Be&124)!==0||v0(c,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,O0(b0.bind(null,c,y,s),[s]),c.flags|=2048,Xa(9,uf(),_0.bind(null,c,y,l,o),null),l},useId:function(){var s=Dn(),o=nt.identifierPrefix;if(He){var l=Ds,c=Is;l=(c&~(1<<32-fn(c)-1)).toString(32)+l,o=""+o+"R"+l,l=of++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=tP++,o=""+o+"r"+l.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:Op,useFormState:I0,useActionState:I0,useOptimistic:function(s){var o=Dn();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Np.bind(null,Pe,!0,l),l.dispatch=o,[s,o]},useMemoCache:Ap,useCacheRefresh:function(){return Dn().memoizedState=oP.bind(null,Pe)}},Z0={readContext:dn,use:af,useCallback:j0,useContext:dn,useEffect:N0,useImperativeHandle:z0,useInsertionEffect:V0,useLayoutEffect:L0,useMemo:B0,useReducer:lf,useRef:M0,useState:function(){return lf(Ms)},useDebugValue:Pp,useDeferredValue:function(s,o){var l=Mt();return F0(l,Qe.memoizedState,s,o)},useTransition:function(){var s=lf(Ms)[0],o=Mt().memoizedState;return[typeof s=="boolean"?s:zu(s),o]},useSyncExternalStore:y0,useId:$0,useHostTransitionStatus:Op,useFormState:D0,useActionState:D0,useOptimistic:function(s,o){var l=Mt();return E0(l,Qe,s,o)},useMemoCache:Ap,useCacheRefresh:K0},lP={readContext:dn,use:af,useCallback:j0,useContext:dn,useEffect:N0,useImperativeHandle:z0,useInsertionEffect:V0,useLayoutEffect:L0,useMemo:B0,useReducer:Cp,useRef:M0,useState:function(){return Cp(Ms)},useDebugValue:Pp,useDeferredValue:function(s,o){var l=Mt();return Qe===null?kp(l,s,o):F0(l,Qe.memoizedState,s,o)},useTransition:function(){var s=Cp(Ms)[0],o=Mt().memoizedState;return[typeof s=="boolean"?s:zu(s),o]},useSyncExternalStore:y0,useId:$0,useHostTransitionStatus:Op,useFormState:k0,useActionState:k0,useOptimistic:function(s,o){var l=Mt();return Qe!==null?E0(l,Qe,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Ap,useCacheRefresh:K0},Wa=null,Fu=0;function df(s){var o=Fu;return Fu+=1,Wa===null&&(Wa=[]),u0(Wa,s,o)}function qu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function mf(s,o){throw o.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function J0(s){var o=s._init;return o(s._payload)}function ew(s){function o(G,z){if(s){var K=G.deletions;K===null?(G.deletions=[z],G.flags|=16):K.push(z)}}function l(G,z){if(!s)return null;for(;z!==null;)o(G,z),z=z.sibling;return null}function c(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function p(G,z){return G=Cs(G,z),G.index=0,G.sibling=null,G}function y(G,z,K){return G.index=K,s?(K=G.alternate,K!==null?(K=K.index,K<z?(G.flags|=67108866,z):K):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function T(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function x(G,z,K,te){return z===null||z.tag!==6?(z=np(K,G.mode,te),z.return=G,z):(z=p(z,K),z.return=G,z)}function O(G,z,K,te){var me=K.type;return me===I?ee(G,z,K.props.children,te,K.key):z!==null&&(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&J0(me)===z.type)?(z=p(z,K.props),qu(z,K),z.return=G,z):(z=Xh(K.type,K.key,K.props,null,G.mode,te),qu(z,K),z.return=G,z)}function Y(G,z,K,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=ip(K,G.mode,te),z.return=G,z):(z=p(z,K.children||[]),z.return=G,z)}function ee(G,z,K,te,me){return z===null||z.tag!==7?(z=Po(K,G.mode,te,me),z.return=G,z):(z=p(z,K),z.return=G,z)}function ie(G,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=np(""+z,G.mode,K),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return K=Xh(z.type,z.key,z.props,null,G.mode,K),qu(K,z),K.return=G,K;case E:return z=ip(z,G.mode,K),z.return=G,z;case C:var te=z._init;return z=te(z._payload),ie(G,z,K)}if(st(z)||H(z))return z=Po(z,G.mode,K,null),z.return=G,z;if(typeof z.then=="function")return ie(G,df(z),K);if(z.$$typeof===F)return ie(G,Jh(G,z),K);mf(G,z)}return null}function X(G,z,K,te){var me=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return me!==null?null:x(G,z,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===me?O(G,z,K,te):null;case E:return K.key===me?Y(G,z,K,te):null;case C:return me=K._init,K=me(K._payload),X(G,z,K,te)}if(st(K)||H(K))return me!==null?null:ee(G,z,K,te,null);if(typeof K.then=="function")return X(G,z,df(K),te);if(K.$$typeof===F)return X(G,z,Jh(G,K),te);mf(G,K)}return null}function W(G,z,K,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get(K)||null,x(z,G,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return G=G.get(te.key===null?K:te.key)||null,O(z,G,te,me);case E:return G=G.get(te.key===null?K:te.key)||null,Y(z,G,te,me);case C:var Me=te._init;return te=Me(te._payload),W(G,z,K,te,me)}if(st(te)||H(te))return G=G.get(K)||null,ee(z,G,te,me,null);if(typeof te.then=="function")return W(G,z,K,df(te),me);if(te.$$typeof===F)return W(G,z,K,Jh(z,te),me);mf(z,te)}return null}function Ee(G,z,K,te){for(var me=null,Me=null,pe=z,be=z=0,Wt=null;pe!==null&&be<K.length;be++){pe.index>be?(Wt=pe,pe=null):Wt=pe.sibling;var qe=X(G,pe,K[be],te);if(qe===null){pe===null&&(pe=Wt);break}s&&pe&&qe.alternate===null&&o(G,pe),z=y(qe,z,be),Me===null?me=qe:Me.sibling=qe,Me=qe,pe=Wt}if(be===K.length)return l(G,pe),He&&Mo(G,be),me;if(pe===null){for(;be<K.length;be++)pe=ie(G,K[be],te),pe!==null&&(z=y(pe,z,be),Me===null?me=pe:Me.sibling=pe,Me=pe);return He&&Mo(G,be),me}for(pe=c(pe);be<K.length;be++)Wt=W(pe,G,be,K[be],te),Wt!==null&&(s&&Wt.alternate!==null&&pe.delete(Wt.key===null?be:Wt.key),z=y(Wt,z,be),Me===null?me=Wt:Me.sibling=Wt,Me=Wt);return s&&pe.forEach(function(Cr){return o(G,Cr)}),He&&Mo(G,be),me}function ve(G,z,K,te){if(K==null)throw Error(i(151));for(var me=null,Me=null,pe=z,be=z=0,Wt=null,qe=K.next();pe!==null&&!qe.done;be++,qe=K.next()){pe.index>be?(Wt=pe,pe=null):Wt=pe.sibling;var Cr=X(G,pe,qe.value,te);if(Cr===null){pe===null&&(pe=Wt);break}s&&pe&&Cr.alternate===null&&o(G,pe),z=y(Cr,z,be),Me===null?me=Cr:Me.sibling=Cr,Me=Cr,pe=Wt}if(qe.done)return l(G,pe),He&&Mo(G,be),me;if(pe===null){for(;!qe.done;be++,qe=K.next())qe=ie(G,qe.value,te),qe!==null&&(z=y(qe,z,be),Me===null?me=qe:Me.sibling=qe,Me=qe);return He&&Mo(G,be),me}for(pe=c(pe);!qe.done;be++,qe=K.next())qe=W(pe,G,be,qe.value,te),qe!==null&&(s&&qe.alternate!==null&&pe.delete(qe.key===null?be:qe.key),z=y(qe,z,be),Me===null?me=qe:Me.sibling=qe,Me=qe);return s&&pe.forEach(function(uk){return o(G,uk)}),He&&Mo(G,be),me}function Je(G,z,K,te){if(typeof K=="object"&&K!==null&&K.type===I&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var me=K.key;z!==null;){if(z.key===me){if(me=K.type,me===I){if(z.tag===7){l(G,z.sibling),te=p(z,K.props.children),te.return=G,G=te;break e}}else if(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&J0(me)===z.type){l(G,z.sibling),te=p(z,K.props),qu(te,K),te.return=G,G=te;break e}l(G,z);break}else o(G,z);z=z.sibling}K.type===I?(te=Po(K.props.children,G.mode,te,K.key),te.return=G,G=te):(te=Xh(K.type,K.key,K.props,null,G.mode,te),qu(te,K),te.return=G,G=te)}return T(G);case E:e:{for(me=K.key;z!==null;){if(z.key===me)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){l(G,z.sibling),te=p(z,K.children||[]),te.return=G,G=te;break e}else{l(G,z);break}else o(G,z);z=z.sibling}te=ip(K,G.mode,te),te.return=G,G=te}return T(G);case C:return me=K._init,K=me(K._payload),Je(G,z,K,te)}if(st(K))return Ee(G,z,K,te);if(H(K)){if(me=H(K),typeof me!="function")throw Error(i(150));return K=me.call(K),ve(G,z,K,te)}if(typeof K.then=="function")return Je(G,z,df(K),te);if(K.$$typeof===F)return Je(G,z,Jh(G,K),te);mf(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(l(G,z.sibling),te=p(z,K),te.return=G,G=te):(l(G,z),te=np(K,G.mode,te),te.return=G,G=te),T(G)):l(G,z)}return function(G,z,K,te){try{Fu=0;var me=Je(G,z,K,te);return Wa=null,me}catch(pe){if(pe===Mu||pe===tf)throw pe;var Me=jn(29,pe,null,G.mode);return Me.lanes=te,Me.return=G,Me}finally{}}}var Qa=ew(!0),tw=ew(!1),li=re(null),Wi=null;function dr(s){var o=s.alternate;ae(qt,qt.current&1),ae(li,s),Wi===null&&(o===null||$a.current!==null||o.memoizedState!==null)&&(Wi=s)}function nw(s){if(s.tag===22){if(ae(qt,qt.current),ae(li,s),Wi===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Wi=s)}}else mr()}function mr(){ae(qt,qt.current),ae(li,li.current)}function Os(s){ce(li),Wi===s&&(Wi=null),ce(qt)}var qt=re(0);function pf(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||xg(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Vp(s,o,l,c){o=s.memoizedState,l=l(c,o),l=l==null?o:g({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Lp={enqueueSetState:function(s,o,l){s=s._reactInternals;var c=Hn(),p=cr(c);p.payload=o,l!=null&&(p.callback=l),o=hr(s,p,c),o!==null&&(Gn(o,s,c),Nu(o,s,c))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var c=Hn(),p=cr(c);p.tag=1,p.payload=o,l!=null&&(p.callback=l),o=hr(s,p,c),o!==null&&(Gn(o,s,c),Nu(o,s,c))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Hn(),c=cr(l);c.tag=2,o!=null&&(c.callback=o),o=hr(s,c,l),o!==null&&(Gn(o,s,l),Nu(o,s,l))}};function iw(s,o,l,c,p,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,T):o.prototype&&o.prototype.isPureReactComponent?!xu(l,c)||!xu(p,y):!0}function sw(s,o,l,c){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==s&&Lp.enqueueReplaceState(o,o.state,null)}function jo(s,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(s=s.defaultProps){l===o&&(l=g({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var gf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function rw(s){gf(s)}function ow(s){console.error(s)}function aw(s){gf(s)}function yf(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function lw(s,o,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Up(s,o,l){return l=cr(l),l.tag=3,l.payload={element:null},l.callback=function(){yf(s,o)},l}function uw(s){return s=cr(s),s.tag=3,s}function cw(s,o,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;s.payload=function(){return p(y)},s.callback=function(){lw(o,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){lw(o,l,c),typeof p!="function"&&(br===null?br=new Set([this]):br.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function uP(s,o,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&Du(o,l,p,!0),l=li.current,l!==null){switch(l.tag){case 13:return Wi===null?lg():l.alternate===null&&_t===0&&(_t=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===dp?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),cg(s,c,p)),!1;case 22:return l.flags|=65536,c===dp?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),cg(s,c,p)),!1}throw Error(i(435,l.tag))}return cg(s,c,p),lg(),!1}if(He)return o=li.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,c!==op&&(s=Error(i(422),{cause:c}),Iu(si(s,l)))):(c!==op&&(o=Error(i(423),{cause:c}),Iu(si(o,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,c=si(c,l),p=Up(s.stateNode,c,p),gp(s,p),_t!==4&&(_t=2)),!1;var y=Error(i(520),{cause:c});if(y=si(y,l),Wu===null?Wu=[y]:Wu.push(y),_t!==4&&(_t=2),o===null)return!0;c=si(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=Up(l.stateNode,c,s),gp(l,s),!1;case 1:if(o=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(br===null||!br.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=uw(p),cw(p,s,l,c),gp(l,p),!1}l=l.return}while(l!==null);return!1}var hw=Error(i(461)),Yt=!1;function nn(s,o,l,c){o.child=s===null?tw(o,null,l,c):Qa(o,s.child,l,c)}function fw(s,o,l,c,p){l=l.render;var y=o.ref;if("ref"in c){var T={};for(var x in c)x!=="ref"&&(T[x]=c[x])}else T=c;return Lo(o),c=wp(s,o,l,T,y,p),x=Tp(),s!==null&&!Yt?(Ep(s,o,p),Ns(s,o,p)):(He&&x&&sp(o),o.flags|=1,nn(s,o,c,p),o.child)}function dw(s,o,l,c,p){if(s===null){var y=l.type;return typeof y=="function"&&!tp(y)&&y.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=y,mw(s,o,y,c,p)):(s=Xh(l.type,null,c,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,!$p(s,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:xu,l(T,c)&&s.ref===o.ref)return Ns(s,o,p)}return o.flags|=1,s=Cs(y,c),s.ref=o.ref,s.return=o,o.child=s}function mw(s,o,l,c,p){if(s!==null){var y=s.memoizedProps;if(xu(y,c)&&s.ref===o.ref)if(Yt=!1,o.pendingProps=c=y,$p(s,p))(s.flags&131072)!==0&&(Yt=!0);else return o.lanes=s.lanes,Ns(s,o,p)}return zp(s,o,l,c,p)}function pw(s,o,l){var c=o.pendingProps,p=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(p=o.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;o.childLanes=y&~c}else o.childLanes=0,o.child=null;return gw(s,o,c,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&ef(o,y!==null?y.cachePool:null),y!==null?m0(o,y):vp(),nw(o);else return o.lanes=o.childLanes=536870912,gw(s,o,y!==null?y.baseLanes|l:l,l)}else y!==null?(ef(o,y.cachePool),m0(o,y),mr(),o.memoizedState=null):(s!==null&&ef(o,null),vp(),mr());return nn(s,o,p,l),o.child}function gw(s,o,l,c){var p=fp();return p=p===null?null:{parent:Ft._currentValue,pool:p},o.memoizedState={baseLanes:l,cachePool:p},s!==null&&ef(o,null),vp(),nw(o),s!==null&&Du(s,o,c,!0),null}function vf(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function zp(s,o,l,c,p){return Lo(o),l=wp(s,o,l,c,void 0,p),c=Tp(),s!==null&&!Yt?(Ep(s,o,p),Ns(s,o,p)):(He&&c&&sp(o),o.flags|=1,nn(s,o,l,p),o.child)}function yw(s,o,l,c,p,y){return Lo(o),o.updateQueue=null,l=g0(o,c,l,p),p0(s),c=Tp(),s!==null&&!Yt?(Ep(s,o,y),Ns(s,o,y)):(He&&c&&sp(o),o.flags|=1,nn(s,o,l,y),o.child)}function vw(s,o,l,c,p){if(Lo(o),o.stateNode===null){var y=Ba,T=l.contextType;typeof T=="object"&&T!==null&&(y=dn(T)),y=new l(c,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Lp,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=c,y.state=o.memoizedState,y.refs={},mp(o),T=l.contextType,y.context=typeof T=="object"&&T!==null?dn(T):Ba,y.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Vp(o,l,T,c),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Lp.enqueueReplaceState(y,y.state,null),Lu(o,c,y,p),Vu(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(s===null){y=o.stateNode;var x=o.memoizedProps,O=jo(l,x);y.props=O;var Y=y.context,ee=l.contextType;T=Ba,typeof ee=="object"&&ee!==null&&(T=dn(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=o.pendingProps!==x,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||Y!==T)&&sw(o,y,c,T),ur=!1;var X=o.memoizedState;y.state=X,Lu(o,c,y,p),Vu(),Y=o.memoizedState,x||X!==Y||ur?(typeof ie=="function"&&(Vp(o,l,ie,c),Y=o.memoizedState),(O=ur||iw(o,l,O,c,X,Y,T))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=Y),y.props=c,y.state=Y,y.context=T,c=O):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{y=o.stateNode,pp(s,o),T=o.memoizedProps,ee=jo(l,T),y.props=ee,ie=o.pendingProps,X=y.context,Y=l.contextType,O=Ba,typeof Y=="object"&&Y!==null&&(O=dn(Y)),x=l.getDerivedStateFromProps,(Y=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==ie||X!==O)&&sw(o,y,c,O),ur=!1,X=o.memoizedState,y.state=X,Lu(o,c,y,p),Vu();var W=o.memoizedState;T!==ie||X!==W||ur||s!==null&&s.dependencies!==null&&Zh(s.dependencies)?(typeof x=="function"&&(Vp(o,l,x,c),W=o.memoizedState),(ee=ur||iw(o,l,ee,c,X,W,O)||s!==null&&s.dependencies!==null&&Zh(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,W,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,W,O)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=W),y.props=c,y.state=W,y.context=O,c=ee):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),c=!1)}return y=c,vf(s,o),c=(o.flags&128)!==0,y||c?(y=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,s!==null&&c?(o.child=Qa(o,s.child,null,p),o.child=Qa(o,null,l,p)):nn(s,o,l,p),o.memoizedState=y.state,s=o.child):s=Ns(s,o,p),s}function _w(s,o,l,c){return Cu(),o.flags|=256,nn(s,o,l,c),o.child}var jp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bp(s){return{baseLanes:s,cachePool:o0()}}function Fp(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=ui),s}function bw(s,o,l){var c=o.pendingProps,p=!1,y=(o.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(qt.current&2)!==0),T&&(p=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,s===null){if(He){if(p?dr(o):mr(),He){var x=vt,O;if(O=x){e:{for(O=x,x=Xi;O.nodeType!==8;){if(!x){x=null;break e}if(O=Si(O.nextSibling),O===null){x=null;break e}}x=O}x!==null?(o.memoizedState={dehydrated:x,treeContext:ko!==null?{id:Is,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},O=jn(18,null,null,0),O.stateNode=x,O.return=o,o.child=O,xn=o,vt=null,O=!0):O=!1}O||No(o)}if(x=o.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return xg(x)?o.lanes=32:o.lanes=536870912,null;Os(o)}return x=c.children,c=c.fallback,p?(mr(),p=o.mode,x=_f({mode:"hidden",children:x},p),c=Po(c,p,l,null),x.return=o,c.return=o,x.sibling=c,o.child=x,p=o.child,p.memoizedState=Bp(l),p.childLanes=Fp(s,T,l),o.memoizedState=jp,c):(dr(o),qp(o,x))}if(O=s.memoizedState,O!==null&&(x=O.dehydrated,x!==null)){if(y)o.flags&256?(dr(o),o.flags&=-257,o=Hp(s,o,l)):o.memoizedState!==null?(mr(),o.child=s.child,o.flags|=128,o=null):(mr(),p=c.fallback,x=o.mode,c=_f({mode:"visible",children:c.children},x),p=Po(p,x,l,null),p.flags|=2,c.return=o,p.return=o,c.sibling=p,o.child=c,Qa(o,s.child,null,l),c=o.child,c.memoizedState=Bp(l),c.childLanes=Fp(s,T,l),o.memoizedState=jp,o=p);else if(dr(o),xg(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,Iu({value:c,source:null,stack:null}),o=Hp(s,o,l)}else if(Yt||Du(s,o,l,!1),T=(l&s.childLanes)!==0,Yt||T){if(T=nt,T!==null&&(c=l&-l,c=(c&42)!==0?1:tr(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,ja(s,c),Gn(T,s,c),hw;x.data==="$?"||lg(),o=Hp(s,o,l)}else x.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=O.treeContext,vt=Si(x.nextSibling),xn=o,He=!0,Oo=null,Xi=!1,s!==null&&(oi[ai++]=Is,oi[ai++]=Ds,oi[ai++]=ko,Is=s.id,Ds=s.overflow,ko=o),o=qp(o,c.children),o.flags|=4096);return o}return p?(mr(),p=c.fallback,x=o.mode,O=s.child,Y=O.sibling,c=Cs(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,Y!==null?p=Cs(Y,p):(p=Po(p,x,l,null),p.flags|=2),p.return=o,c.return=o,c.sibling=p,o.child=c,c=p,p=o.child,x=s.child.memoizedState,x===null?x=Bp(l):(O=x.cachePool,O!==null?(Y=Ft._currentValue,O=O.parent!==Y?{parent:Y,pool:Y}:O):O=o0(),x={baseLanes:x.baseLanes|l,cachePool:O}),p.memoizedState=x,p.childLanes=Fp(s,T,l),o.memoizedState=jp,c):(dr(o),l=s.child,s=l.sibling,l=Cs(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,s!==null&&(T=o.deletions,T===null?(o.deletions=[s],o.flags|=16):T.push(s)),o.child=l,o.memoizedState=null,l)}function qp(s,o){return o=_f({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function _f(s,o){return s=jn(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Hp(s,o,l){return Qa(o,s.child,null,l),s=qp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function ww(s,o,l){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o),lp(s.return,o,l)}function Gp(s,o,l,c,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function Tw(s,o,l){var c=o.pendingProps,p=c.revealOrder,y=c.tail;if(nn(s,o,c.children,l),c=qt.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ww(s,l,o);else if(s.tag===19)ww(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(ae(qt,c),p){case"forwards":for(l=o.child,p=null;l!==null;)s=l.alternate,s!==null&&pf(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),Gp(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&pf(s)===null){o.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Gp(o,!0,l,null,y);break;case"together":Gp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ns(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),_r|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(Du(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=Cs(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Cs(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function $p(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Zh(s)))}function cP(s,o,l){switch(o.tag){case 3:tt(o,o.stateNode.containerInfo),lr(o,Ft,s.memoizedState.cache),Cu();break;case 27:case 5:er(o);break;case 4:tt(o,o.stateNode.containerInfo);break;case 10:lr(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(dr(o),o.flags|=128,null):(l&o.child.childLanes)!==0?bw(s,o,l):(dr(o),s=Ns(s,o,l),s!==null?s.sibling:null);dr(o);break;case 19:var p=(s.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(Du(s,o,l,!1),c=(l&o.childLanes)!==0),p){if(c)return Tw(s,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ae(qt,qt.current),c)break;return null;case 22:case 23:return o.lanes=0,pw(s,o,l);case 24:lr(o,Ft,s.memoizedState.cache)}return Ns(s,o,l)}function Ew(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)Yt=!0;else{if(!$p(s,l)&&(o.flags&128)===0)return Yt=!1,cP(s,o,l);Yt=(s.flags&131072)!==0}else Yt=!1,He&&(o.flags&1048576)!==0&&Jb(o,Qh,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var c=o.elementType,p=c._init;if(c=p(c._payload),o.type=c,typeof c=="function")tp(c)?(s=jo(c,s),o.tag=1,o=vw(null,o,c,s,l)):(o.tag=0,o=zp(null,o,c,s,l));else{if(c!=null){if(p=c.$$typeof,p===q){o.tag=11,o=fw(null,o,c,s,l);break e}else if(p===M){o.tag=14,o=dw(null,o,c,s,l);break e}}throw o=It(c)||c,Error(i(306,o,""))}}return o;case 0:return zp(s,o,o.type,o.pendingProps,l);case 1:return c=o.type,p=jo(c,o.pendingProps),vw(s,o,c,p,l);case 3:e:{if(tt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));c=o.pendingProps;var y=o.memoizedState;p=y.element,pp(s,o),Lu(o,c,null,l);var T=o.memoizedState;if(c=T.cache,lr(o,Ft,c),c!==y.cache&&up(o,[Ft],l,!0),Vu(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=_w(s,o,c,l);break e}else if(c!==p){p=si(Error(i(424)),o),Iu(p),o=_w(s,o,c,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(vt=Si(s.firstChild),xn=o,He=!0,Oo=null,Xi=!0,l=tw(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Cu(),c===p){o=Ns(s,o,l);break e}nn(s,o,c,l)}o=o.child}return o;case 26:return vf(s,o),s===null?(l=RT(o.type,null,o.pendingProps,null))?o.memoizedState=l:He||(l=o.type,s=o.pendingProps,c=Mf(xe.current).createElement(l),c[zt]=o,c[Dt]=s,rn(c,l,s),Et(c),o.stateNode=c):o.memoizedState=RT(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return er(o),s===null&&He&&(c=o.stateNode=ST(o.type,o.pendingProps,xe.current),xn=o,Xi=!0,p=vt,Er(o.type)?(Ag=p,vt=Si(c.firstChild)):vt=p),nn(s,o,o.pendingProps.children,l),vf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&He&&((p=c=vt)&&(c=UP(c,o.type,o.pendingProps,Xi),c!==null?(o.stateNode=c,xn=o,vt=Si(c.firstChild),Xi=!1,p=!0):p=!1),p||No(o)),er(o),p=o.type,y=o.pendingProps,T=s!==null?s.memoizedProps:null,c=y.children,Tg(p,y)?c=null:T!==null&&Tg(p,T)&&(o.flags|=32),o.memoizedState!==null&&(p=wp(s,o,nP,null,null,l),rc._currentValue=p),vf(s,o),nn(s,o,c,l),o.child;case 6:return s===null&&He&&((s=l=vt)&&(l=zP(l,o.pendingProps,Xi),l!==null?(o.stateNode=l,xn=o,vt=null,s=!0):s=!1),s||No(o)),null;case 13:return bw(s,o,l);case 4:return tt(o,o.stateNode.containerInfo),c=o.pendingProps,s===null?o.child=Qa(o,null,c,l):nn(s,o,c,l),o.child;case 11:return fw(s,o,o.type,o.pendingProps,l);case 7:return nn(s,o,o.pendingProps,l),o.child;case 8:return nn(s,o,o.pendingProps.children,l),o.child;case 12:return nn(s,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,lr(o,o.type,c.value),nn(s,o,c.children,l),o.child;case 9:return p=o.type._context,c=o.pendingProps.children,Lo(o),p=dn(p),c=c(p),o.flags|=1,nn(s,o,c,l),o.child;case 14:return dw(s,o,o.type,o.pendingProps,l);case 15:return mw(s,o,o.type,o.pendingProps,l);case 19:return Tw(s,o,l);case 31:return c=o.pendingProps,l=o.mode,c={mode:c.mode,children:c.children},s===null?(l=_f(c,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=Cs(s.child,c),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return pw(s,o,l);case 24:return Lo(o),c=dn(Ft),s===null?(p=fp(),p===null&&(p=nt,y=cp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),o.memoizedState={parent:c,cache:p},mp(o),lr(o,Ft,p)):((s.lanes&l)!==0&&(pp(s,o),Lu(o,null,null,l),Vu()),p=s.memoizedState,y=o.memoizedState,p.parent!==c?(p={parent:c,cache:c},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),lr(o,Ft,c)):(c=y.cache,lr(o,Ft,c),c!==p.cache&&up(o,[Ft],l,!0))),nn(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Vs(s){s.flags|=4}function Sw(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!kT(o)){if(o=li.current,o!==null&&((Be&4194048)===Be?Wi!==null:(Be&62914560)!==Be&&(Be&536870912)===0||o!==Wi))throw Ou=dp,a0;s.flags|=8192}}function bf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?au():536870912,s.lanes|=o,tl|=o)}function Hu(s,o){if(!He)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ft(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(o)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=c,s.childLanes=l,o}function hP(s,o,l){var c=o.pendingProps;switch(rp(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(o),null;case 1:return ft(o),null;case 3:return l=o.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ks(Ft),Li(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ru(o)?Vs(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,n0())),ft(o),null;case 26:return l=o.memoizedState,s===null?(Vs(o),l!==null?(ft(o),Sw(o,l)):(ft(o),o.flags&=-16777217)):l?l!==s.memoizedState?(Vs(o),ft(o),Sw(o,l)):(ft(o),o.flags&=-16777217):(s.memoizedProps!==c&&Vs(o),ft(o),o.flags&=-16777217),null;case 27:ps(o),l=xe.current;var p=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==c&&Vs(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return ft(o),null}s=ye.current,Ru(o)?e0(o):(s=ST(p,c,l),o.stateNode=s,Vs(o))}return ft(o),null;case 5:if(ps(o),l=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&Vs(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return ft(o),null}if(s=ye.current,Ru(o))e0(o);else{switch(p=Mf(xe.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}s[zt]=o,s[Dt]=c;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=s;e:switch(rn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Vs(o)}}return ft(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==c&&Vs(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(i(166));if(s=xe.current,Ru(o)){if(s=o.stateNode,l=o.memoizedProps,c=null,p=xn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}s[zt]=o,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||yT(s.nodeValue,l)),s||No(o)}else s=Mf(s).createTextNode(c),s[zt]=o,o.stateNode=s}return ft(o),null;case 13:if(c=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Ru(o),c!==null&&c.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[zt]=o}else Cu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ft(o),p=!1}else p=n0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(Os(o),o):(Os(o),null)}if(Os(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=o.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==s&&l&&(o.child.flags|=8192),bf(o,o.updateQueue),ft(o),null;case 4:return Li(),s===null&&yg(o.stateNode.containerInfo),ft(o),null;case 10:return ks(o.type),ft(o),null;case 19:if(ce(qt),p=o.memoizedState,p===null)return ft(o),null;if(c=(o.flags&128)!==0,y=p.rendering,y===null)if(c)Hu(p,!1);else{if(_t!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(y=pf(s),y!==null){for(o.flags|=128,Hu(p,!1),s=y.updateQueue,o.updateQueue=s,bf(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)Zb(l,s),l=l.sibling;return ae(qt,qt.current&1|2),o.child}s=s.sibling}p.tail!==null&&Zn()>Ef&&(o.flags|=128,c=!0,Hu(p,!1),o.lanes=4194304)}else{if(!c)if(s=pf(y),s!==null){if(o.flags|=128,c=!0,s=s.updateQueue,o.updateQueue=s,bf(o,s),Hu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!He)return ft(o),null}else 2*Zn()-p.renderingStartTime>Ef&&l!==536870912&&(o.flags|=128,c=!0,Hu(p,!1),o.lanes=4194304);p.isBackwards?(y.sibling=o.child,o.child=y):(s=p.last,s!==null?s.sibling=y:o.child=y,p.last=y)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Zn(),o.sibling=null,s=qt.current,ae(qt,c?s&1|2:s&1),o):(ft(o),null);case 22:case 23:return Os(o),_p(),c=o.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(ft(o),o.subtreeFlags&6&&(o.flags|=8192)):ft(o),l=o.updateQueue,l!==null&&bf(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),s!==null&&ce(Uo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),ks(Ft),ft(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function fP(s,o){switch(rp(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ks(Ft),Li(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return ps(o),null;case 13:if(Os(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Cu()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ce(qt),null;case 4:return Li(),null;case 10:return ks(o.type),null;case 22:case 23:return Os(o),_p(),s!==null&&ce(Uo),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ks(Ft),null;case 25:return null;default:return null}}function xw(s,o){switch(rp(o),o.tag){case 3:ks(Ft),Li();break;case 26:case 27:case 5:ps(o);break;case 4:Li();break;case 13:Os(o);break;case 19:ce(qt);break;case 10:ks(o.type);break;case 22:case 23:Os(o),_p(),s!==null&&ce(Uo);break;case 24:ks(Ft)}}function Gu(s,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&s)===s){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==p)}}catch(x){et(o,o.return,x)}}function pr(s,o,l){try{var c=o.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&s)===s){var T=c.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,p=o;var O=l,Y=x;try{Y()}catch(ee){et(p,O,ee)}}}c=c.next}while(c!==y)}}catch(ee){et(o,o.return,ee)}}function Aw(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{d0(o,l)}catch(c){et(s,s.return,c)}}}function Rw(s,o,l){l.props=jo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){et(s,o,c)}}function $u(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(p){et(s,o,p)}}function Qi(s,o){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){et(s,o,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){et(s,o,p)}else l.current=null}function Cw(s){var o=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){et(s,s.return,p)}}function Kp(s,o,l){try{var c=s.stateNode;MP(c,s.type,l,o),c[Dt]=o}catch(p){et(s,s.return,p)}}function Iw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Er(s.type)||s.tag===4}function Yp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Iw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Er(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xp(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=kf));else if(c!==4&&(c===27&&Er(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(Xp(s,o,l),s=s.sibling;s!==null;)Xp(s,o,l),s=s.sibling}function wf(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(c!==4&&(c===27&&Er(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(wf(s,o,l),s=s.sibling;s!==null;)wf(s,o,l),s=s.sibling}function Dw(s){var o=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);rn(o,c,l),o[zt]=s,o[Dt]=l}catch(y){et(s,s.return,y)}}var Ls=!1,xt=!1,Wp=!1,Pw=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function dP(s,o){if(s=s.containerInfo,bg=zf,s=Fb(s),Ym(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,x=-1,O=-1,Y=0,ee=0,ie=s,X=null;t:for(;;){for(var W;ie!==l||p!==0&&ie.nodeType!==3||(x=T+p),ie!==y||c!==0&&ie.nodeType!==3||(O=T+c),ie.nodeType===3&&(T+=ie.nodeValue.length),(W=ie.firstChild)!==null;)X=ie,ie=W;for(;;){if(ie===s)break t;if(X===l&&++Y===p&&(x=T),X===y&&++ee===c&&(O=T),(W=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=W}l=x===-1||O===-1?null:{start:x,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(wg={focusedElem:s,selectionRange:l},zf=!1,Xt=o;Xt!==null;)if(o=Xt,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Xt=s;else for(;Xt!==null;){switch(o=Xt,y=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=o,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ee=jo(l.type,p,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ee,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(ve){et(l,l.return,ve)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)Sg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Sg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Xt=s;break}Xt=o.return}}function kw(s,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:gr(s,l),c&4&&Gu(5,l);break;case 1:if(gr(s,l),c&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(T){et(l,l.return,T)}else{var p=jo(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(p,o,s.__reactInternalSnapshotBeforeUpdate)}catch(T){et(l,l.return,T)}}c&64&&Aw(l),c&512&&$u(l,l.return);break;case 3:if(gr(s,l),c&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{d0(s,o)}catch(T){et(l,l.return,T)}}break;case 27:o===null&&c&4&&Dw(l);case 26:case 5:gr(s,l),o===null&&c&4&&Cw(l),c&512&&$u(l,l.return);break;case 12:gr(s,l);break;case 13:gr(s,l),c&4&&Nw(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=TP.bind(null,l),jP(s,l))));break;case 22:if(c=l.memoizedState!==null||Ls,!c){o=o!==null&&o.memoizedState!==null||xt,p=Ls;var y=xt;Ls=c,(xt=o)&&!y?yr(s,l,(l.subtreeFlags&8772)!==0):gr(s,l),Ls=p,xt=y}break;case 30:break;default:gr(s,l)}}function Mw(s){var o=s.alternate;o!==null&&(s.alternate=null,Mw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&sr(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var lt=null,Pn=!1;function Us(s,o,l){for(l=l.child;l!==null;)Ow(s,o,l),l=l.sibling}function Ow(s,o,l){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(yt,l)}catch{}switch(l.tag){case 26:xt||Qi(l,o),Us(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xt||Qi(l,o);var c=lt,p=Pn;Er(l.type)&&(lt=l.stateNode,Pn=!1),Us(s,o,l),tc(l.stateNode),lt=c,Pn=p;break;case 5:xt||Qi(l,o);case 6:if(c=lt,p=Pn,lt=null,Us(s,o,l),lt=c,Pn=p,lt!==null)if(Pn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(y){et(l,o,y)}else try{lt.removeChild(l.stateNode)}catch(y){et(l,o,y)}break;case 18:lt!==null&&(Pn?(s=lt,TT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),uc(s)):TT(lt,l.stateNode));break;case 4:c=lt,p=Pn,lt=l.stateNode.containerInfo,Pn=!0,Us(s,o,l),lt=c,Pn=p;break;case 0:case 11:case 14:case 15:xt||pr(2,l,o),xt||pr(4,l,o),Us(s,o,l);break;case 1:xt||(Qi(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Rw(l,o,c)),Us(s,o,l);break;case 21:Us(s,o,l);break;case 22:xt=(c=xt)||l.memoizedState!==null,Us(s,o,l),xt=c;break;default:Us(s,o,l)}}function Nw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{uc(s)}catch(l){et(o,o.return,l)}}function mP(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Pw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Pw),o;default:throw Error(i(435,s.tag))}}function Qp(s,o){var l=mP(s);o.forEach(function(c){var p=EP.bind(null,s,c);l.has(c)||(l.add(c),c.then(p,p))})}function Bn(s,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=s,T=o,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(Er(x.type)){lt=x.stateNode,Pn=!1;break e}break;case 5:lt=x.stateNode,Pn=!1;break e;case 3:case 4:lt=x.stateNode.containerInfo,Pn=!0;break e}x=x.return}if(lt===null)throw Error(i(160));Ow(y,T,p),lt=null,Pn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Vw(o,s),o=o.sibling}var Ei=null;function Vw(s,o){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Bn(o,s),Fn(s),c&4&&(pr(3,s,s.return),Gu(3,s),pr(5,s,s.return));break;case 1:Bn(o,s),Fn(s),c&512&&(xt||l===null||Qi(l,l.return)),c&64&&Ls&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Ei;if(Bn(o,s),Fn(s),c&512&&(xt||l===null||Qi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[po]||y[zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),rn(y,c,l),y[zt]=s,Et(y),c=y;break e;case"link":var T=DT("link","href",p).get(c+(l.href||""));if(T){for(var x=0;x<T.length;x++)if(y=T[x],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(x,1);break t}}y=p.createElement(c),rn(y,c,l),p.head.appendChild(y);break;case"meta":if(T=DT("meta","content",p).get(c+(l.content||""))){for(x=0;x<T.length;x++)if(y=T[x],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(x,1);break t}}y=p.createElement(c),rn(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[zt]=s,Et(y),c=y}s.stateNode=c}else PT(p,s.type,s.stateNode);else s.stateNode=IT(p,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?PT(p,s.type,s.stateNode):IT(p,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Kp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Bn(o,s),Fn(s),c&512&&(xt||l===null||Qi(l,l.return)),l!==null&&c&4&&Kp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Bn(o,s),Fn(s),c&512&&(xt||l===null||Qi(l,l.return)),s.flags&32){p=s.stateNode;try{ei(p,"")}catch(W){et(s,s.return,W)}}c&4&&s.stateNode!=null&&(p=s.memoizedProps,Kp(s,p,l!==null?l.memoizedProps:p)),c&1024&&(Wp=!0);break;case 6:if(Bn(o,s),Fn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(W){et(s,s.return,W)}}break;case 3:if(Vf=null,p=Ei,Ei=Of(o.containerInfo),Bn(o,s),Ei=p,Fn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{uc(o.containerInfo)}catch(W){et(s,s.return,W)}Wp&&(Wp=!1,Lw(s));break;case 4:c=Ei,Ei=Of(s.stateNode.containerInfo),Bn(o,s),Fn(s),Ei=c;break;case 12:Bn(o,s),Fn(s);break;case 13:Bn(o,s),Fn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ig=Zn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qp(s,c)));break;case 22:p=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,Y=Ls,ee=xt;if(Ls=Y||p,xt=ee||O,Bn(o,s),xt=ee,Ls=Y,Fn(s),c&8192)e:for(o=s.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(l===null||O||Ls||xt||Bo(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){O=l=o;try{if(y=O.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=O.stateNode;var ie=O.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){et(O,O.return,W)}}}else if(o.tag===6){if(l===null){O=o;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(W){et(O,O.return,W)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Qp(s,l))));break;case 19:Bn(o,s),Fn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qp(s,c)));break;case 30:break;case 21:break;default:Bn(o,s),Fn(s)}}function Fn(s){var o=s.flags;if(o&2){try{for(var l,c=s.return;c!==null;){if(Iw(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=Yp(s);wf(s,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(ei(T,""),l.flags&=-33);var x=Yp(s);wf(s,x,T);break;case 3:case 4:var O=l.stateNode.containerInfo,Y=Yp(s);Xp(s,Y,O);break;default:throw Error(i(161))}}catch(ee){et(s,s.return,ee)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Lw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Lw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function gr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kw(s,o.alternate,o),o=o.sibling}function Bo(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:pr(4,o,o.return),Bo(o);break;case 1:Qi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Rw(o,o.return,l),Bo(o);break;case 27:tc(o.stateNode);case 26:case 5:Qi(o,o.return),Bo(o);break;case 22:o.memoizedState===null&&Bo(o);break;case 30:Bo(o);break;default:Bo(o)}s=s.sibling}}function yr(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,p=s,y=o,T=y.flags;switch(y.tag){case 0:case 11:case 15:yr(p,y,l),Gu(4,y);break;case 1:if(yr(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){et(c,c.return,Y)}if(c=y,p=c.updateQueue,p!==null){var x=c.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)f0(O[p],x)}catch(Y){et(c,c.return,Y)}}l&&T&64&&Aw(y),$u(y,y.return);break;case 27:Dw(y);case 26:case 5:yr(p,y,l),l&&c===null&&T&4&&Cw(y),$u(y,y.return);break;case 12:yr(p,y,l);break;case 13:yr(p,y,l),l&&T&4&&Nw(p,y);break;case 22:y.memoizedState===null&&yr(p,y,l),$u(y,y.return);break;case 30:break;default:yr(p,y,l)}o=o.sibling}}function Zp(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Pu(l))}function Jp(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pu(s))}function Zi(s,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Uw(s,o,l,c),o=o.sibling}function Uw(s,o,l,c){var p=o.flags;switch(o.tag){case 0:case 11:case 15:Zi(s,o,l,c),p&2048&&Gu(9,o);break;case 1:Zi(s,o,l,c);break;case 3:Zi(s,o,l,c),p&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pu(s)));break;case 12:if(p&2048){Zi(s,o,l,c),s=o.stateNode;try{var y=o.memoizedProps,T=y.id,x=y.onPostCommit;typeof x=="function"&&x(T,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){et(o,o.return,O)}}else Zi(s,o,l,c);break;case 13:Zi(s,o,l,c);break;case 23:break;case 22:y=o.stateNode,T=o.alternate,o.memoizedState!==null?y._visibility&2?Zi(s,o,l,c):Ku(s,o):y._visibility&2?Zi(s,o,l,c):(y._visibility|=2,Za(s,o,l,c,(o.subtreeFlags&10256)!==0)),p&2048&&Zp(T,o);break;case 24:Zi(s,o,l,c),p&2048&&Jp(o.alternate,o);break;default:Zi(s,o,l,c)}}function Za(s,o,l,c,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=s,T=o,x=l,O=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Za(y,T,x,O,p),Gu(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&2?Za(y,T,x,O,p):Ku(y,T):(ee._visibility|=2,Za(y,T,x,O,p)),p&&Y&2048&&Zp(T.alternate,T);break;case 24:Za(y,T,x,O,p),p&&Y&2048&&Jp(T.alternate,T);break;default:Za(y,T,x,O,p)}o=o.sibling}}function Ku(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,c=o,p=c.flags;switch(c.tag){case 22:Ku(l,c),p&2048&&Zp(c.alternate,c);break;case 24:Ku(l,c),p&2048&&Jp(c.alternate,c);break;default:Ku(l,c)}o=o.sibling}}var Yu=8192;function Ja(s){if(s.subtreeFlags&Yu)for(s=s.child;s!==null;)zw(s),s=s.sibling}function zw(s){switch(s.tag){case 26:Ja(s),s.flags&Yu&&s.memoizedState!==null&&JP(Ei,s.memoizedState,s.memoizedProps);break;case 5:Ja(s);break;case 3:case 4:var o=Ei;Ei=Of(s.stateNode.containerInfo),Ja(s),Ei=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Yu,Yu=16777216,Ja(s),Yu=o):Ja(s));break;default:Ja(s)}}function jw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Xu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];Xt=c,Fw(c,s)}jw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bw(s),s=s.sibling}function Bw(s){switch(s.tag){case 0:case 11:case 15:Xu(s),s.flags&2048&&pr(9,s,s.return);break;case 3:Xu(s);break;case 12:Xu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Tf(s)):Xu(s);break;default:Xu(s)}}function Tf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];Xt=c,Fw(c,s)}jw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:pr(8,o,o.return),Tf(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Tf(o));break;default:Tf(o)}s=s.sibling}}function Fw(s,o){for(;Xt!==null;){var l=Xt;switch(l.tag){case 0:case 11:case 15:pr(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Pu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Xt=c;else e:for(l=s;Xt!==null;){c=Xt;var p=c.sibling,y=c.return;if(Mw(c),c===l){Xt=null;break e}if(p!==null){p.return=y,Xt=p;break e}Xt=y}}}var pP={getCacheForType:function(s){var o=dn(Ft),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l}},gP=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Oe=null,Be=0,Xe=0,qn=null,vr=!1,el=!1,eg=!1,zs=0,_t=0,_r=0,Fo=0,tg=0,ui=0,tl=0,Wu=null,kn=null,ng=!1,ig=0,Ef=1/0,Sf=null,br=null,sn=0,wr=null,nl=null,il=0,sg=0,rg=null,qw=null,Qu=0,og=null;function Hn(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if(J.T!==null){var s=Ha;return s!==0?s:dg()}return nr()}function Hw(){ui===0&&(ui=(Be&536870912)===0||He?ou():536870912);var s=li.current;return s!==null&&(s.flags|=32),ui}function Gn(s,o,l){(s===nt&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)&&(sl(s,0),Tr(s,Be,ui,!1)),ys(s,l),((Ye&2)===0||s!==nt)&&(s===nt&&((Ye&2)===0&&(Fo|=l),_t===4&&Tr(s,Be,ui,!1)),Ji(s))}function Gw(s,o,l){if((Ye&6)!==0)throw Error(i(327));var c=!l&&(o&124)===0&&(o&s.expiredLanes)===0||mo(s,o),p=c?_P(s,o):ug(s,o,!0),y=c;do{if(p===0){el&&!c&&Tr(s,o,0,!1);break}else{if(l=s.current.alternate,y&&!yP(l)){p=ug(s,o,!1),y=!1;continue}if(p===2){if(y=o,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var x=s;p=Wu;var O=x.current.memoizedState.isDehydrated;if(O&&(sl(x,T).flags|=256),T=ug(x,T,!1),T!==2){if(eg&&!O){x.errorRecoveryDisabledLanes|=y,Fo|=y,p=4;break e}y=kn,kn=p,y!==null&&(kn===null?kn=y:kn.push.apply(kn,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){sl(s,0),Tr(s,o,0,!0);break}e:{switch(c=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Tr(c,o,ui,!vr);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(p=ig+300-Zn(),10<p)){if(Tr(c,o,ui,!vr),wa(c,0,!0)!==0)break e;c.timeoutHandle=bT($w.bind(null,c,l,kn,Sf,ng,o,ui,Fo,tl,vr,y,2,-0,0),p);break e}$w(c,l,kn,Sf,ng,o,ui,Fo,tl,vr,y,0,-0,0)}}break}while(!0);Ji(s)}function $w(s,o,l,c,p,y,T,x,O,Y,ee,ie,X,W){if(s.timeoutHandle=-1,ie=o.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(sc={stylesheets:null,count:0,unsuspend:ZP},zw(o),ie=ek(),ie!==null)){s.cancelPendingCommit=ie(Jw.bind(null,s,o,y,l,c,p,T,x,O,ee,1,X,W)),Tr(s,y,T,!Y);return}Jw(s,o,y,l,c,p,T,x,O)}function yP(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!zn(y(),p))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Tr(s,o,l,c){o&=~tg,o&=~Fo,s.suspendedLanes|=o,s.pingedLanes&=~o,c&&(s.warmLanes|=o),c=s.expirationTimes;for(var p=o;0<p;){var y=31-fn(p),T=1<<y;c[y]=-1,p&=~T}l!==0&&Ui(s,l,o)}function xf(){return(Ye&6)===0?(Zu(0),!1):!0}function ag(){if(Oe!==null){if(Xe===0)var s=Oe.return;else s=Oe,Ps=Vo=null,Sp(s),Wa=null,Fu=0,s=Oe;for(;s!==null;)xw(s.alternate,s),s=s.return;Oe=null}}function sl(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,NP(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ag(),nt=s,Oe=l=Cs(s.current,null),Be=o,Xe=0,qn=null,vr=!1,el=mo(s,o),eg=!1,tl=ui=tg=Fo=_r=_t=0,kn=Wu=null,ng=!1,(o&8)!==0&&(o|=o&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=o;0<c;){var p=31-fn(c),y=1<<p;o|=s[p],c&=~y}return zs=o,$h(),l}function Kw(s,o){Pe=null,J.H=ff,o===Mu||o===tf?(o=c0(),Xe=3):o===a0?(o=c0(),Xe=4):Xe=o===hw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,qn=o,Oe===null&&(_t=1,yf(s,si(o,s.current)))}function Yw(){var s=J.H;return J.H=ff,s===null?ff:s}function Xw(){var s=J.A;return J.A=pP,s}function lg(){_t=4,vr||(Be&4194048)!==Be&&li.current!==null||(el=!0),(_r&134217727)===0&&(Fo&134217727)===0||nt===null||Tr(nt,Be,ui,!1)}function ug(s,o,l){var c=Ye;Ye|=2;var p=Yw(),y=Xw();(nt!==s||Be!==o)&&(Sf=null,sl(s,o)),o=!1;var T=_t;e:do try{if(Xe!==0&&Oe!==null){var x=Oe,O=qn;switch(Xe){case 8:ag(),T=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(o=!0);var Y=Xe;if(Xe=0,qn=null,rl(s,x,O,Y),l&&el){T=0;break e}break;default:Y=Xe,Xe=0,qn=null,rl(s,x,O,Y)}}vP(),T=_t;break}catch(ee){Kw(s,ee)}while(!0);return o&&s.shellSuspendCounter++,Ps=Vo=null,Ye=c,J.H=p,J.A=y,Oe===null&&(nt=null,Be=0,$h()),T}function vP(){for(;Oe!==null;)Ww(Oe)}function _P(s,o){var l=Ye;Ye|=2;var c=Yw(),p=Xw();nt!==s||Be!==o?(Sf=null,Ef=Zn()+500,sl(s,o)):el=mo(s,o);e:do try{if(Xe!==0&&Oe!==null){o=Oe;var y=qn;t:switch(Xe){case 1:Xe=0,qn=null,rl(s,o,y,1);break;case 2:case 9:if(l0(y)){Xe=0,qn=null,Qw(o);break}o=function(){Xe!==2&&Xe!==9||nt!==s||(Xe=7),Ji(s)},y.then(o,o);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:l0(y)?(Xe=0,qn=null,Qw(o)):(Xe=0,qn=null,rl(s,o,y,7));break;case 5:var T=null;switch(Oe.tag){case 26:T=Oe.memoizedState;case 5:case 27:var x=Oe;if(!T||kT(T)){Xe=0,qn=null;var O=x.sibling;if(O!==null)Oe=O;else{var Y=x.return;Y!==null?(Oe=Y,Af(Y)):Oe=null}break t}}Xe=0,qn=null,rl(s,o,y,5);break;case 6:Xe=0,qn=null,rl(s,o,y,6);break;case 8:ag(),_t=6;break e;default:throw Error(i(462))}}bP();break}catch(ee){Kw(s,ee)}while(!0);return Ps=Vo=null,J.H=c,J.A=p,Ye=l,Oe!==null?0:(nt=null,Be=0,$h(),_t)}function bP(){for(;Oe!==null&&!nu();)Ww(Oe)}function Ww(s){var o=Ew(s.alternate,s,zs);s.memoizedProps=s.pendingProps,o===null?Af(s):Oe=o}function Qw(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=yw(l,o,o.pendingProps,o.type,void 0,Be);break;case 11:o=yw(l,o,o.pendingProps,o.type.render,o.ref,Be);break;case 5:Sp(o);default:xw(l,o),o=Oe=Zb(o,zs),o=Ew(l,o,zs)}s.memoizedProps=s.pendingProps,o===null?Af(s):Oe=o}function rl(s,o,l,c){Ps=Vo=null,Sp(o),Wa=null,Fu=0;var p=o.return;try{if(uP(s,p,o,l,Be)){_t=1,yf(s,si(l,s.current)),Oe=null;return}}catch(y){if(p!==null)throw Oe=p,y;_t=1,yf(s,si(l,s.current)),Oe=null;return}o.flags&32768?(He||c===1?s=!0:el||(Be&536870912)!==0?s=!1:(vr=s=!0,(c===2||c===9||c===3||c===6)&&(c=li.current,c!==null&&c.tag===13&&(c.flags|=16384))),Zw(o,s)):Af(o)}function Af(s){var o=s;do{if((o.flags&32768)!==0){Zw(o,vr);return}s=o.return;var l=hP(o.alternate,o,zs);if(l!==null){Oe=l;return}if(o=o.sibling,o!==null){Oe=o;return}Oe=o=s}while(o!==null);_t===0&&(_t=5)}function Zw(s,o){do{var l=fP(s.alternate,s);if(l!==null){l.flags&=32767,Oe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){Oe=s;return}Oe=s=l}while(s!==null);_t=6,Oe=null}function Jw(s,o,l,c,p,y,T,x,O){s.cancelPendingCommit=null;do Rf();while(sn!==0);if((Ye&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(y=o.lanes|o.childLanes,y|=Jm,lu(s,l,y,T,x,O),s===nt&&(Oe=nt=null,Be=0),nl=o,wr=s,il=l,sg=y,rg=p,qw=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,SP(uo,function(){return sT(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,p=oe.p,oe.p=2,T=Ye,Ye|=4;try{dP(s,o,l)}finally{Ye=T,oe.p=p,J.T=c}}sn=1,eT(),tT(),nT()}}function eT(){if(sn===1){sn=0;var s=wr,o=nl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var c=oe.p;oe.p=2;var p=Ye;Ye|=4;try{Vw(o,s);var y=wg,T=Fb(s.containerInfo),x=y.focusedElem,O=y.selectionRange;if(T!==x&&x&&x.ownerDocument&&Bb(x.ownerDocument.documentElement,x)){if(O!==null&&Ym(x)){var Y=O.start,ee=O.end;if(ee===void 0&&(ee=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(ee,x.value.length);else{var ie=x.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var W=X.getSelection(),Ee=x.textContent.length,ve=Math.min(O.start,Ee),Je=O.end===void 0?ve:Math.min(O.end,Ee);!W.extend&&ve>Je&&(T=Je,Je=ve,ve=T);var G=jb(x,ve),z=jb(x,Je);if(G&&z&&(W.rangeCount!==1||W.anchorNode!==G.node||W.anchorOffset!==G.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var K=ie.createRange();K.setStart(G.node,G.offset),W.removeAllRanges(),ve>Je?(W.addRange(K),W.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),W.addRange(K))}}}}for(ie=[],W=x;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ie.length;x++){var te=ie[x];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}zf=!!bg,wg=bg=null}finally{Ye=p,oe.p=c,J.T=l}}s.current=o,sn=2}}function tT(){if(sn===2){sn=0;var s=wr,o=nl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var c=oe.p;oe.p=2;var p=Ye;Ye|=4;try{kw(s,o.alternate,o)}finally{Ye=p,oe.p=c,J.T=l}}sn=3}}function nT(){if(sn===4||sn===3){sn=0,wh();var s=wr,o=nl,l=il,c=qw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?sn=5:(sn=0,nl=wr=null,iT(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(br=null),Ta(l),o=o.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(yt,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=J.T,p=oe.p,oe.p=2,J.T=null;try{for(var y=s.onRecoverableError,T=0;T<c.length;T++){var x=c[T];y(x.value,{componentStack:x.stack})}}finally{J.T=o,oe.p=p}}(il&3)!==0&&Rf(),Ji(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===og?Qu++:(Qu=0,og=s):Qu=0,Zu(0)}}function iT(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Pu(o)))}function Rf(s){return eT(),tT(),nT(),sT()}function sT(){if(sn!==5)return!1;var s=wr,o=sg;sg=0;var l=Ta(il),c=J.T,p=oe.p;try{oe.p=32>l?32:l,J.T=null,l=rg,rg=null;var y=wr,T=il;if(sn=0,nl=wr=null,il=0,(Ye&6)!==0)throw Error(i(331));var x=Ye;if(Ye|=4,Bw(y.current),Uw(y,y.current,T,l),Ye=x,Zu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(yt,y)}catch{}return!0}finally{oe.p=p,J.T=c,iT(s,o)}}function rT(s,o,l){o=si(l,o),o=Up(s.stateNode,o,2),s=hr(s,o,2),s!==null&&(ys(s,2),Ji(s))}function et(s,o,l){if(s.tag===3)rT(s,s,l);else for(;o!==null;){if(o.tag===3){rT(o,s,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(br===null||!br.has(c))){s=si(l,s),l=uw(2),c=hr(o,l,2),c!==null&&(cw(l,c,o,s),ys(c,2),Ji(c));break}}o=o.return}}function cg(s,o,l){var c=s.pingCache;if(c===null){c=s.pingCache=new gP;var p=new Set;c.set(o,p)}else p=c.get(o),p===void 0&&(p=new Set,c.set(o,p));p.has(l)||(eg=!0,p.add(l),s=wP.bind(null,s,o,l),o.then(s,s))}function wP(s,o,l){var c=s.pingCache;c!==null&&c.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,nt===s&&(Be&l)===l&&(_t===4||_t===3&&(Be&62914560)===Be&&300>Zn()-ig?(Ye&2)===0&&sl(s,0):tg|=l,tl===Be&&(tl=0)),Ji(s)}function oT(s,o){o===0&&(o=au()),s=ja(s,o),s!==null&&(ys(s,o),Ji(s))}function TP(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),oT(s,l)}function EP(s,o){var l=0;switch(s.tag){case 13:var c=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(o),oT(s,l)}function SP(s,o){return ao(s,o)}var Cf=null,ol=null,hg=!1,If=!1,fg=!1,qo=0;function Ji(s){s!==ol&&s.next===null&&(ol===null?Cf=ol=s:ol=ol.next=s),If=!0,hg||(hg=!0,AP())}function Zu(s,o){if(!fg&&If){fg=!0;do for(var l=!1,c=Cf;c!==null;){if(s!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var T=c.suspendedLanes,x=c.pingedLanes;y=(1<<31-fn(42|s)+1)-1,y&=p&~(T&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,cT(c,y))}else y=Be,y=wa(c,c===nt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||mo(c,y)||(l=!0,cT(c,y));c=c.next}while(l);fg=!1}}function xP(){aT()}function aT(){If=hg=!1;var s=0;qo!==0&&(OP()&&(s=qo),qo=0);for(var o=Zn(),l=null,c=Cf;c!==null;){var p=c.next,y=lT(c,o);y===0?(c.next=null,l===null?Cf=p:l.next=p,p===null&&(ol=l)):(l=c,(s!==0||(y&3)!==0)&&(If=!0)),c=p}Zu(s)}function lT(s,o){for(var l=s.suspendedLanes,c=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-fn(y),x=1<<T,O=p[T];O===-1?((x&l)===0||(x&c)!==0)&&(p[T]=ru(x,o)):O<=o&&(s.expiredLanes|=x),y&=~x}if(o=nt,l=Be,l=wa(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===o&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&lo(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||mo(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(c!==null&&lo(c),Ta(l)){case 2:case 8:l=_a;break;case 32:l=uo;break;case 268435456:l=ba;break;default:l=uo}return c=uT.bind(null,s),l=ao(l,c),s.callbackPriority=o,s.callbackNode=l,o}return c!==null&&c!==null&&lo(c),s.callbackPriority=2,s.callbackNode=null,2}function uT(s,o){if(sn!==0&&sn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Rf()&&s.callbackNode!==l)return null;var c=Be;return c=wa(s,s===nt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Gw(s,c,o),lT(s,Zn()),s.callbackNode!=null&&s.callbackNode===l?uT.bind(null,s):null)}function cT(s,o){if(Rf())return null;Gw(s,o,!0)}function AP(){VP(function(){(Ye&6)!==0?ao(iu,xP):aT()})}function dg(){return qo===0&&(qo=ou()),qo}function hT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ca(""+s)}function fT(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function RP(s,o,l,c,p){if(o==="submit"&&l&&l.stateNode===p){var y=hT((p[Dt]||null).action),T=c.submitter;T&&(o=(o=T[Dt]||null)?hT(o.formAction):T.getAttribute("formAction"),o!==null&&(y=o,T=null));var x=new Ia("action","action",null,c,p);s.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qo!==0){var O=T?fT(p,T):new FormData(p);Mp(l,{pending:!0,data:O,method:p.method,action:y},null,O)}}else typeof y=="function"&&(x.preventDefault(),O=T?fT(p,T):new FormData(p),Mp(l,{pending:!0,data:O,method:p.method,action:y},y,O))},currentTarget:p}]})}}for(var mg=0;mg<Zm.length;mg++){var pg=Zm[mg],CP=pg.toLowerCase(),IP=pg[0].toUpperCase()+pg.slice(1);Ti(CP,"on"+IP)}Ti(Gb,"onAnimationEnd"),Ti($b,"onAnimationIteration"),Ti(Kb,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti($D,"onTransitionRun"),Ti(KD,"onTransitionStart"),Ti(YD,"onTransitionCancel"),Ti(Yb,"onTransitionEnd"),_s("onMouseEnter",["mouseout","mouseover"]),_s("onMouseLeave",["mouseout","mouseover"]),_s("onPointerEnter",["pointerout","pointerover"]),_s("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function dT(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],p=c.event;c=c.listeners;e:{var y=void 0;if(o)for(var T=c.length-1;0<=T;T--){var x=c[T],O=x.instance,Y=x.currentTarget;if(x=x.listener,O!==y&&p.isPropagationStopped())break e;y=x,p.currentTarget=Y;try{y(p)}catch(ee){gf(ee)}p.currentTarget=null,y=O}else for(T=0;T<c.length;T++){if(x=c[T],O=x.instance,Y=x.currentTarget,x=x.listener,O!==y&&p.isPropagationStopped())break e;y=x,p.currentTarget=Y;try{y(p)}catch(ee){gf(ee)}p.currentTarget=null,y=O}}}}function Ne(s,o){var l=o[cu];l===void 0&&(l=o[cu]=new Set);var c=s+"__bubble";l.has(c)||(mT(o,s,2,!1),l.add(c))}function gg(s,o,l){var c=0;o&&(c|=4),mT(l,s,c,o)}var Df="_reactListening"+Math.random().toString(36).slice(2);function yg(s){if(!s[Df]){s[Df]=!0,hu.forEach(function(l){l!=="selectionchange"&&(DP.has(l)||gg(l,!1,s),gg(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Df]||(o[Df]=!0,gg("selectionchange",!1,o))}}function mT(s,o,l,c){switch(UT(o)){case 2:var p=ik;break;case 8:p=sk;break;default:p=Pg}l=p.bind(null,o,l,s),p=void 0,!ni||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),c?p!==void 0?s.addEventListener(o,l,{capture:!0,passive:p}):s.addEventListener(o,l,!0):p!==void 0?s.addEventListener(o,l,{passive:p}):s.addEventListener(o,l,!1)}function vg(s,o,l,c,p){var y=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var x=c.stateNode.containerInfo;if(x===p)break;if(T===4)for(T=c.return;T!==null;){var O=T.tag;if((O===3||O===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;x!==null;){if(T=vs(x),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){c=y=T;continue e}x=x.parentNode}}c=c.return}Ph(function(){var Y=y,ee=ti(l),ie=[];e:{var X=Xb.get(s);if(X!==void 0){var W=Ia,Ee=s;switch(s){case"keypress":if(Hi(l)===0)break e;case"keydown":case"keyup":W=Na;break;case"focusin":Ee="focus",W=ka;break;case"focusout":Ee="blur",W=ka;break;case"beforeblur":case"afterblur":W=ka;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=zh;break;case Gb:case $b:case Kb:W=Ma;break;case Yb:W=Bh;break;case"scroll":case"scrollend":W=kh;break;case"wheel":W=Va;break;case"copy":case"cut":case"paste":W=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Eu;break;case"toggle":case"beforetoggle":W=qh}var ve=(o&4)!==0,Je=!ve&&(s==="scroll"||s==="scrollend"),G=ve?X!==null?X+"Capture":null:X;ve=[];for(var z=Y,K;z!==null;){var te=z;if(K=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||K===null||G===null||(te=To(z,G),te!=null&&ve.push(ec(z,te,K))),Je)break;z=z.return}0<ve.length&&(X=new W(X,Ee,null,l,ee),ie.push({event:X,listeners:ve}))}}if((o&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",X&&l!==Ts&&(Ee=l.relatedTarget||l.fromElement)&&(vs(Ee)||Ee[Jn]))break e;if((W||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,W?(Ee=l.relatedTarget||l.toElement,W=Y,Ee=Ee?vs(Ee):null,Ee!==null&&(Je=a(Ee),ve=Ee.tag,Ee!==Je||ve!==5&&ve!==27&&ve!==6)&&(Ee=null)):(W=null,Ee=Y),W!==Ee)){if(ve=ii,te="onMouseLeave",G="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(ve=Eu,te="onPointerLeave",G="onPointerEnter",z="pointer"),Je=W==null?X:ji(W),K=Ee==null?X:ji(Ee),X=new ve(te,z+"leave",W,l,ee),X.target=Je,X.relatedTarget=K,te=null,vs(ee)===Y&&(ve=new ve(G,z+"enter",Ee,l,ee),ve.target=K,ve.relatedTarget=Je,te=ve),Je=te,W&&Ee)t:{for(ve=W,G=Ee,z=0,K=ve;K;K=al(K))z++;for(K=0,te=G;te;te=al(te))K++;for(;0<z-K;)ve=al(ve),z--;for(;0<K-z;)G=al(G),K--;for(;z--;){if(ve===G||G!==null&&ve===G.alternate)break t;ve=al(ve),G=al(G)}ve=null}else ve=null;W!==null&&pT(ie,X,W,ve,!1),Ee!==null&&Je!==null&&pT(ie,Je,Ee,ve,!0)}}e:{if(X=Y?ji(Y):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var me=Ob;else if(Bt(X))if(Nb)me=qD;else{me=BD;var Me=jD}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&gu(Y.elementType)&&(me=Ob):me=FD;if(me&&(me=me(s,Y))){Rs(ie,me,l,ee);break e}Me&&Me(s,X,Y),s==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&or(X,"number",X.value)}switch(Me=Y?ji(Y):window,s){case"focusin":(Bt(Me)||Me.contentEditable==="true")&&(La=Me,Xm=Y,Au=null);break;case"focusout":Au=Xm=La=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,qb(ie,l,ee);break;case"selectionchange":if(GD)break;case"keydown":case"keyup":qb(ie,l,ee)}var pe;if(Ki)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ze?Z(s,l)&&(be="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(w&&l.locale!=="ko"&&(ze||be!=="onCompositionStart"?be==="onCompositionEnd"&&ze&&(pe=vu()):(qi=ee,ar="value"in qi?qi.value:qi.textContent,ze=!0)),Me=Pf(Y,be),0<Me.length&&(be=new wu(be,s,null,l,ee),ie.push({event:be,listeners:Me}),pe?be.data=pe:(pe=ue(l),pe!==null&&(be.data=pe)))),(pe=_?jt(s,l):je(s,l))&&(be=Pf(Y,"onBeforeInput"),0<be.length&&(Me=new wu("onBeforeInput","beforeinput",null,l,ee),ie.push({event:Me,listeners:be}),Me.data=pe)),RP(ie,s,Y,l,ee)}dT(ie,o)})}function ec(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Pf(s,o){for(var l=o+"Capture",c=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=To(s,l),p!=null&&c.unshift(ec(s,p,y)),p=To(s,o),p!=null&&c.push(ec(s,p,y))),s.tag===3)return c;s=s.return}return[]}function al(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function pT(s,o,l,c,p){for(var y=o._reactName,T=[];l!==null&&l!==c;){var x=l,O=x.alternate,Y=x.stateNode;if(x=x.tag,O!==null&&O===c)break;x!==5&&x!==26&&x!==27||Y===null||(O=Y,p?(Y=To(l,y),Y!=null&&T.unshift(ec(l,Y,O))):p||(Y=To(l,y),Y!=null&&T.push(ec(l,Y,O)))),l=l.return}T.length!==0&&s.push({event:o,listeners:T})}var PP=/\r\n?/g,kP=/\u0000|\uFFFD/g;function gT(s){return(typeof s=="string"?s:""+s).replace(PP,`
`).replace(kP,"")}function yT(s,o){return o=gT(o),gT(s)===o}function kf(){}function Ze(s,o,l,c,p,y){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||ei(s,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&ei(s,""+c);break;case"className":Bi(s,"class",c);break;case"tabIndex":Bi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(s,l,c);break;case"style":pu(s,c,y);break;case"data":if(o!=="object"){Bi(s,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ca(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(o!=="input"&&Ze(s,o,"name",p.name,p,null),Ze(s,o,"formEncType",p.formEncType,p,null),Ze(s,o,"formMethod",p.formMethod,p,null),Ze(s,o,"formTarget",p.formTarget,p,null)):(Ze(s,o,"encType",p.encType,p,null),Ze(s,o,"method",p.method,p,null),Ze(s,o,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ca(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=kf);break;case"onScroll":c!=null&&Ne("scroll",s);break;case"onScrollEnd":c!=null&&Ne("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ca(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ne("beforetoggle",s),Ne("toggle",s),rr(s,"popover",c);break;case"xlinkActuate":en(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":en(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":en(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":en(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":en(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":en(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":en(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":en(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":en(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":rr(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fm.get(l)||l,rr(s,l,c))}}function _g(s,o,l,c,p,y){switch(l){case"style":pu(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?ei(s,c):(typeof c=="number"||typeof c=="bigint")&&ei(s,""+c);break;case"onScroll":c!=null&&Ne("scroll",s);break;case"onScrollEnd":c!=null&&Ne("scrollend",s);break;case"onClick":c!=null&&(s.onclick=kf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),o=l.slice(2,p?l.length-7:void 0),y=s[Dt]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(o,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,c,p);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):rr(s,l,c)}}}function rn(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",s),Ne("load",s);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ze(s,o,y,T,l,null)}}p&&Ze(s,o,"srcSet",l.srcSet,l,null),c&&Ze(s,o,"src",l.src,l,null);return;case"input":Ne("invalid",s);var x=y=T=p=null,O=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":p=ee;break;case"type":T=ee;break;case"checked":O=ee;break;case"defaultChecked":Y=ee;break;case"value":y=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:Ze(s,o,c,ee,l,null)}}_o(s,y,x,O,Y,T,p,!1),Ra(s);return;case"select":Ne("invalid",s),c=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(x=l[p],x!=null))switch(p){case"value":y=x;break;case"defaultValue":T=x;break;case"multiple":c=x;default:Ze(s,o,p,x,l,null)}o=y,l=T,s.multiple=!!c,o!=null?ws(s,!!c,o,!1):l!=null&&ws(s,!!c,l,!0);return;case"textarea":Ne("invalid",s),y=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(x=l[T],x!=null))switch(T){case"value":c=x;break;case"defaultValue":p=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Ze(s,o,T,x,l,null)}bo(s,c,p,y),Ra(s);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(c=l[O],c!=null))switch(O){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(s,o,O,c,l,null)}return;case"dialog":Ne("beforetoggle",s),Ne("toggle",s),Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":Ne("load",s);break;case"video":case"audio":for(c=0;c<Ju.length;c++)Ne(Ju[c],s);break;case"image":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"embed":case"source":case"link":Ne("error",s),Ne("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ze(s,o,Y,c,l,null)}return;default:if(gu(o)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&_g(s,o,ee,c,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(c=l[x],c!=null&&Ze(s,o,x,c,l,null))}function MP(s,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,x=null,O=null,Y=null,ee=null;for(W in l){var ie=l[W];if(l.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=ie;default:c.hasOwnProperty(W)||Ze(s,o,W,null,c,ie)}}for(var X in c){var W=c[X];if(ie=l[X],c.hasOwnProperty(X)&&(W!=null||ie!=null))switch(X){case"type":y=W;break;case"name":p=W;break;case"checked":Y=W;break;case"defaultChecked":ee=W;break;case"value":T=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:W!==ie&&Ze(s,o,X,W,c,ie)}}Un(s,T,x,O,Y,ee,y,p);return;case"select":W=T=x=X=null;for(y in l)if(O=l[y],l.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":W=O;default:c.hasOwnProperty(y)||Ze(s,o,y,null,c,O)}for(p in c)if(y=c[p],O=l[p],c.hasOwnProperty(p)&&(y!=null||O!=null))switch(p){case"value":X=y;break;case"defaultValue":x=y;break;case"multiple":T=y;default:y!==O&&Ze(s,o,p,y,c,O)}o=x,l=T,c=W,X!=null?ws(s,!!l,X,!1):!!c!=!!l&&(o!=null?ws(s,!!l,o,!0):ws(s,!!l,l?[]:"",!1));return;case"textarea":W=X=null;for(x in l)if(p=l[x],l.hasOwnProperty(x)&&p!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ze(s,o,x,null,c,p)}for(T in c)if(p=c[T],y=l[T],c.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":X=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Ze(s,o,T,p,c,y)}We(s,X,W);return;case"option":for(var Ee in l)if(X=l[Ee],l.hasOwnProperty(Ee)&&X!=null&&!c.hasOwnProperty(Ee))switch(Ee){case"selected":s.selected=!1;break;default:Ze(s,o,Ee,null,c,X)}for(O in c)if(X=c[O],W=l[O],c.hasOwnProperty(O)&&X!==W&&(X!=null||W!=null))switch(O){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ze(s,o,O,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)X=l[ve],l.hasOwnProperty(ve)&&X!=null&&!c.hasOwnProperty(ve)&&Ze(s,o,ve,null,c,X);for(Y in c)if(X=c[Y],W=l[Y],c.hasOwnProperty(Y)&&X!==W&&(X!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,o));break;default:Ze(s,o,Y,X,c,W)}return;default:if(gu(o)){for(var Je in l)X=l[Je],l.hasOwnProperty(Je)&&X!==void 0&&!c.hasOwnProperty(Je)&&_g(s,o,Je,void 0,c,X);for(ee in c)X=c[ee],W=l[ee],!c.hasOwnProperty(ee)||X===W||X===void 0&&W===void 0||_g(s,o,ee,X,c,W);return}}for(var G in l)X=l[G],l.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&Ze(s,o,G,null,c,X);for(ie in c)X=c[ie],W=l[ie],!c.hasOwnProperty(ie)||X===W||X==null&&W==null||Ze(s,o,ie,X,c,W)}var bg=null,wg=null;function Mf(s){return s.nodeType===9?s:s.ownerDocument}function vT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _T(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Tg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Eg=null;function OP(){var s=window.event;return s&&s.type==="popstate"?s===Eg?!1:(Eg=s,!0):(Eg=null,!1)}var bT=typeof setTimeout=="function"?setTimeout:void 0,NP=typeof clearTimeout=="function"?clearTimeout:void 0,wT=typeof Promise=="function"?Promise:void 0,VP=typeof queueMicrotask=="function"?queueMicrotask:typeof wT<"u"?function(s){return wT.resolve(null).then(s).catch(LP)}:bT;function LP(s){setTimeout(function(){throw s})}function Er(s){return s==="head"}function TT(s,o){var l=o,c=0,p=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=s.ownerDocument;if(l&1&&tc(T.documentElement),l&2&&tc(T.body),l&4)for(l=T.head,tc(l),T=l.firstChild;T;){var x=T.nextSibling,O=T.nodeName;T[po]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=x}}if(p===0){s.removeChild(y),uc(o);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);uc(o)}function Sg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Sg(l),sr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function UP(s,o,l,c){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[po])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Si(s.nextSibling),s===null)break}return null}function zP(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Si(s.nextSibling),s===null))return null;return s}function xg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function jP(s,o){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Si(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Ag=null;function ET(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}function ST(s,o,l){switch(o=Mf(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function tc(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);sr(s)}var ci=new Map,xT=new Set;function Of(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var js=oe.d;oe.d={f:BP,r:FP,D:qP,C:HP,L:GP,m:$P,X:YP,S:KP,M:XP};function BP(){var s=js.f(),o=xf();return s||o}function FP(s){var o=zi(s);o!==null&&o.tag===5&&o.type==="form"?G0(o):js.r(s)}var ll=typeof document>"u"?null:document;function AT(s,o,l){var c=ll;if(c&&typeof o=="string"&&o){var p=Pt(o);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),xT.has(p)||(xT.add(p),s={rel:s,crossOrigin:l,href:o},c.querySelector(p)===null&&(o=c.createElement("link"),rn(o,"link",s),Et(o),c.head.appendChild(o)))}}function qP(s){js.D(s),AT("dns-prefetch",s,null)}function HP(s,o){js.C(s,o),AT("preconnect",s,o)}function GP(s,o,l){js.L(s,o,l);var c=ll;if(c&&s&&o){var p='link[rel="preload"][as="'+Pt(o)+'"]';o==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Pt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Pt(l.imageSizes)+'"]')):p+='[href="'+Pt(s)+'"]';var y=p;switch(o){case"style":y=ul(s);break;case"script":y=cl(s)}ci.has(y)||(s=g({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),ci.set(y,s),c.querySelector(p)!==null||o==="style"&&c.querySelector(nc(y))||o==="script"&&c.querySelector(ic(y))||(o=c.createElement("link"),rn(o,"link",s),Et(o),c.head.appendChild(o)))}}function $P(s,o){js.m(s,o);var l=ll;if(l&&s){var c=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Pt(c)+'"][href="'+Pt(s)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=cl(s)}if(!ci.has(y)&&(s=g({rel:"modulepreload",href:s},o),ci.set(y,s),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ic(y)))return}c=l.createElement("link"),rn(c,"link",s),Et(c),l.head.appendChild(c)}}}function KP(s,o,l){js.S(s,o,l);var c=ll;if(c&&s){var p=Tn(c).hoistableStyles,y=ul(s);o=o||"default";var T=p.get(y);if(!T){var x={loading:0,preload:null};if(T=c.querySelector(nc(y)))x.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},l),(l=ci.get(y))&&Rg(s,l);var O=T=c.createElement("link");Et(O),rn(O,"link",s),O._p=new Promise(function(Y,ee){O.onload=Y,O.onerror=ee}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Nf(T,o,c)}T={type:"stylesheet",instance:T,count:1,state:x},p.set(y,T)}}}function YP(s,o){js.X(s,o);var l=ll;if(l&&s){var c=Tn(l).hoistableScripts,p=cl(s),y=c.get(p);y||(y=l.querySelector(ic(p)),y||(s=g({src:s,async:!0},o),(o=ci.get(p))&&Cg(s,o),y=l.createElement("script"),Et(y),rn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function XP(s,o){js.M(s,o);var l=ll;if(l&&s){var c=Tn(l).hoistableScripts,p=cl(s),y=c.get(p);y||(y=l.querySelector(ic(p)),y||(s=g({src:s,async:!0,type:"module"},o),(o=ci.get(p))&&Cg(s,o),y=l.createElement("script"),Et(y),rn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function RT(s,o,l,c){var p=(p=xe.current)?Of(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=ul(l.href),l=Tn(p).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=ul(l.href);var y=Tn(p).hoistableStyles,T=y.get(s);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=p.querySelector(nc(s)))&&!y._p&&(T.instance=y,T.state.loading=5),ci.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ci.set(s,l),y||WP(p,s,l,T.state))),o&&c===null)throw Error(i(528,""));return T}if(o&&c!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cl(l),l=Tn(p).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ul(s){return'href="'+Pt(s)+'"'}function nc(s){return'link[rel="stylesheet"]['+s+"]"}function CT(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function WP(s,o,l,c){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=s.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),rn(o,"link",l),Et(o),s.head.appendChild(o))}function cl(s){return'[src="'+Pt(s)+'"]'}function ic(s){return"script[async]"+s}function IT(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=s.querySelector('style[data-href~="'+Pt(l.href)+'"]');if(c)return o.instance=c,Et(c),c;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Et(c),rn(c,"style",p),Nf(c,l.precedence,s),o.instance=c;case"stylesheet":p=ul(l.href);var y=s.querySelector(nc(p));if(y)return o.state.loading|=4,o.instance=y,Et(y),y;c=CT(l),(p=ci.get(p))&&Rg(c,p),y=(s.ownerDocument||s).createElement("link"),Et(y);var T=y;return T._p=new Promise(function(x,O){T.onload=x,T.onerror=O}),rn(y,"link",c),o.state.loading|=4,Nf(y,l.precedence,s),o.instance=y;case"script":return y=cl(l.src),(p=s.querySelector(ic(y)))?(o.instance=p,Et(p),p):(c=l,(p=ci.get(y))&&(c=g({},l),Cg(c,p)),s=s.ownerDocument||s,p=s.createElement("script"),Et(p),rn(p,"link",c),s.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,Nf(c,l.precedence,s));return o.instance}function Nf(s,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,T=0;T<c.length;T++){var x=c[T];if(x.dataset.precedence===o)y=x;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function Rg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Cg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Vf=null;function DT(s,o,l){if(Vf===null){var c=new Map,p=Vf=new Map;p.set(l,c)}else p=Vf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[po]||y[zt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(o)||"";T=s+T;var x=c.get(T);x?x.push(y):c.set(T,[y])}}return c}function PT(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function QP(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var sc=null;function ZP(){}function JP(s,o,l){if(sc===null)throw Error(i(475));var c=sc;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=ul(l.href),y=s.querySelector(nc(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Lf.bind(c),s.then(c,c)),o.state.loading|=4,o.instance=y,Et(y);return}y=s.ownerDocument||s,l=CT(l),(p=ci.get(p))&&Rg(l,p),y=y.createElement("link"),Et(y);var T=y;T._p=new Promise(function(x,O){T.onload=x,T.onerror=O}),rn(y,"link",l),o.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=Lf.bind(c),s.addEventListener("load",o),s.addEventListener("error",o))}}function ek(){if(sc===null)throw Error(i(475));var s=sc;return s.stylesheets&&s.count===0&&Ig(s,s.stylesheets),0<s.count?function(o){var l=setTimeout(function(){if(s.stylesheets&&Ig(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Lf(){if(this.count--,this.count===0){if(this.stylesheets)Ig(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Uf=null;function Ig(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Uf=new Map,o.forEach(tk,s),Uf=null,Lf.call(s))}function tk(s,o){if(!(o.state.loading&4)){var l=Uf.get(s);if(l)var c=l.get(null);else{l=new Map,Uf.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=o.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,p),l.set(T,p),this.count++,c=Lf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),o.state.loading|=4}}var rc={$$typeof:F,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function nk(s,o,l,c,p,y,T,x){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.hiddenUpdates=gs(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function MT(s,o,l,c,p,y,T,x,O,Y,ee,ie){return s=new nk(s,o,l,T,x,O,Y,ie),o=1,y===!0&&(o|=24),y=jn(3,null,null,o),s.current=y,y.stateNode=s,o=cp(),o.refCount++,s.pooledCache=o,o.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:o},mp(y),s}function OT(s){return s?(s=Ba,s):Ba}function NT(s,o,l,c,p,y){p=OT(p),c.context===null?c.context=p:c.pendingContext=p,c=cr(o),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=hr(s,c,o),l!==null&&(Gn(l,s,o),Nu(l,s,o))}function VT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Dg(s,o){VT(s,o),(s=s.alternate)&&VT(s,o)}function LT(s){if(s.tag===13){var o=ja(s,67108864);o!==null&&Gn(o,s,67108864),Dg(s,67108864)}}var zf=!0;function ik(s,o,l,c){var p=J.T;J.T=null;var y=oe.p;try{oe.p=2,Pg(s,o,l,c)}finally{oe.p=y,J.T=p}}function sk(s,o,l,c){var p=J.T;J.T=null;var y=oe.p;try{oe.p=8,Pg(s,o,l,c)}finally{oe.p=y,J.T=p}}function Pg(s,o,l,c){if(zf){var p=kg(c);if(p===null)vg(s,o,c,jf,l),zT(s,c);else if(ok(p,s,o,l,c))c.stopPropagation();else if(zT(s,c),o&4&&-1<rk.indexOf(s)){for(;p!==null;){var y=zi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=_i(y.pendingLanes);if(T!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var O=1<<31-fn(T);x.entanglements[1]|=O,T&=~O}Ji(y),(Ye&6)===0&&(Ef=Zn()+500,Zu(0))}}break;case 13:x=ja(y,2),x!==null&&Gn(x,y,2),xf(),Dg(y,2)}if(y=kg(c),y===null&&vg(s,o,c,jf,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else vg(s,o,c,null,l)}}function kg(s){return s=ti(s),Mg(s)}var jf=null;function Mg(s){if(jf=null,s=vs(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=u(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return jf=s,null}function UT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vm()){case iu:return 2;case _a:return 8;case uo:case Lm:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Og=!1,Sr=null,xr=null,Ar=null,oc=new Map,ac=new Map,Rr=[],rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zT(s,o){switch(s){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(o.pointerId)}}function lc(s,o,l,c,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},o!==null&&(o=zi(o),o!==null&&LT(o)),s):(s.eventSystemFlags|=c,o=s.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),s)}function ok(s,o,l,c,p){switch(o){case"focusin":return Sr=lc(Sr,s,o,l,c,p),!0;case"dragenter":return xr=lc(xr,s,o,l,c,p),!0;case"mouseover":return Ar=lc(Ar,s,o,l,c,p),!0;case"pointerover":var y=p.pointerId;return oc.set(y,lc(oc.get(y)||null,s,o,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,ac.set(y,lc(ac.get(y)||null,s,o,l,c,p)),!0}return!1}function jT(s){var o=vs(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){s.blockedOn=o,Sh(s.priority,function(){if(l.tag===13){var c=Hn();c=tr(c);var p=ja(l,c);p!==null&&Gn(p,l,c),Dg(l,c)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Bf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=kg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Ts=c,l.target.dispatchEvent(c),Ts=null}else return o=zi(l),o!==null&&LT(o),s.blockedOn=l,!1;o.shift()}return!0}function BT(s,o,l){Bf(s)&&l.delete(o)}function ak(){Og=!1,Sr!==null&&Bf(Sr)&&(Sr=null),xr!==null&&Bf(xr)&&(xr=null),Ar!==null&&Bf(Ar)&&(Ar=null),oc.forEach(BT),ac.forEach(BT)}function Ff(s,o){s.blockedOn===o&&(s.blockedOn=null,Og||(Og=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ak)))}var qf=null;function FT(s){qf!==s&&(qf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qf===s&&(qf=null);for(var o=0;o<s.length;o+=3){var l=s[o],c=s[o+1],p=s[o+2];if(typeof c!="function"){if(Mg(c||l)===null)continue;break}var y=zi(l);y!==null&&(s.splice(o,3),o-=3,Mp(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function uc(s){function o(O){return Ff(O,s)}Sr!==null&&Ff(Sr,s),xr!==null&&Ff(xr,s),Ar!==null&&Ff(Ar,s),oc.forEach(o),ac.forEach(o);for(var l=0;l<Rr.length;l++){var c=Rr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Rr.length&&(l=Rr[0],l.blockedOn===null);)jT(l),l.blockedOn===null&&Rr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],T=p[Dt]||null;if(typeof y=="function")T||FT(l);else if(T){var x=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Dt]||null)x=T.formAction;else if(Mg(p)!==null)continue}else x=T.action;typeof x=="function"?l[c+1]=x:(l.splice(c,3),c-=3),FT(l)}}}function Ng(s){this._internalRoot=s}Hf.prototype.render=Ng.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,c=Hn();NT(l,c,s,o,null,null)},Hf.prototype.unmount=Ng.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;NT(s.current,2,null,s,null,null),xf(),o[Jn]=null}};function Hf(s){this._internalRoot=s}Hf.prototype.unstable_scheduleHydration=function(s){if(s){var o=nr();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Rr.length&&o!==0&&o<Rr[l].priority;l++);Rr.splice(l,0,s),l===0&&jT(s)}};var qT=e.version;if(qT!=="19.1.1")throw Error(i(527,qT,"19.1.1"));oe.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(o),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var lk={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{yt=Gf.inject(lk),Ke=Gf}catch{}}return hc.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,c="",p=rw,y=ow,T=aw,x=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks)),o=MT(s,1,!1,null,null,l,c,p,y,T,x,null),s[Jn]=o.current,yg(s),new Ng(o)},hc.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var c=!1,p="",y=rw,T=ow,x=aw,O=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),o=MT(s,1,!0,o,l??null,c,p,y,T,x,O,Y),o.context=OT(null),l=o.current,c=Hn(),c=tr(c),p=cr(c),p.callback=null,hr(l,p,c),l=c,o.current.lanes=l,ys(o,l),Ji(o),s[Jn]=o.current,yg(s),new Hf(o)},hc.version="19.1.1",hc}var JT;function vk(){if(JT)return Ug.exports;JT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ug.exports=yk(),Ug.exports}var _k=vk();const bk=wA(_k);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eE="popstate";function wk(n={}){function e(i,r){let{pathname:a,search:u,hash:h}=i.location;return xd("",{pathname:a,search:u,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Pl(r)}return TA(e,t,null,n)}function Tk(n={}){function e(r,a){let{pathname:u="/",search:h="",hash:f=""}=da(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),xd("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let u=r.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=r.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof a=="string"?a:Pl(a))}function i(r,a){Qn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return TA(e,t,i,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ek(){return Math.random().toString(36).substring(2,10)}function tE(n,e){return{usr:n.state,key:n.key,idx:e}}function xd(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?da(e):e,state:t,key:e&&e.key||i||Ek()}}function Pl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function da(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function TA(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,u=r.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let D=g(),P=D==null?null:D-d;d=D,f&&f({action:h,location:A.location,delta:P})}function b(D,P){h="PUSH";let B=xd(A.location,D,P);t&&t(B,D),d=g()+1;let F=tE(B,d),q=A.createHref(B);try{u.pushState(F,"",q)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;r.location.assign(q)}a&&f&&f({action:h,location:A.location,delta:1})}function E(D,P){h="REPLACE";let B=xd(A.location,D,P);t&&t(B,D),d=g();let F=tE(B,d),q=A.createHref(B);u.replaceState(F,"",q),a&&f&&f({action:h,location:A.location,delta:0})}function I(D){return Sk(D)}let A={get action(){return h},get location(){return n(r,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(eE,v),f=D,()=>{r.removeEventListener(eE,v),f=null}},createHref(D){return e(r,D)},createURL:I,encodeLocation(D){let P=I(D);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:E,go(D){return u.go(D)}};return A}function Sk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Pl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function EA(n,e,t="/"){return xk(n,e,t,!1)}function xk(n,e,t,i){let r=typeof e=="string"?da(e):e,a=$s(r.pathname||"/",t);if(a==null)return null;let u=SA(n);Ak(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=Lk(a);h=Nk(u[f],d,i)}return h}function SA(n,e=[],t=[],i="",r=!1){let a=(u,h,f=r,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;ct(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=qs([i,g.relativePath]),b=t.concat(g);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),SA(u.children,e,b,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:Mk(v,u.index),routesMeta:b})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of xA(u.path))a(u,h,!0,f)}),e}function xA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let u=xA(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),r&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function Ak(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Ok(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Rk=/^:[\w-]+$/,Ck=3,Ik=2,Dk=1,Pk=10,kk=-2,nE=n=>n==="*";function Mk(n,e){let t=n.split("/"),i=t.length;return t.some(nE)&&(i+=kk),e&&(i+=Ik),t.filter(r=>!nE(r)).reduce((r,a)=>r+(Rk.test(a)?Ck:a===""?Dk:Pk),i)}function Ok(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Nk(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),b=f.route;if(!v&&d&&t&&!i[i.length-1].route.index&&(v=Ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:qs([a,v.pathname]),pathnameBase:Bk(qs([a,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(a=qs([a,v.pathnameBase]))}return u}function Ad(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Vk(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],u=a.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:v},b)=>{if(g==="*"){let I=h[b]||"";u=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const E=h[b];return v&&!E?d[g]=void 0:d[g]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:u,pattern:n}}function Vk(n,e=!1,t=!0){Qn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Lk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $s(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Uk(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?da(n):n;return{pathname:t?t.startsWith("/")?t:zk(t,e):e,search:Fk(i),hash:qk(r)}}function zk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Fg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bv(n){let e=jk(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Fv(n,e,t,i=!1){let r;typeof n=="string"?r=da(n):(r={...n},ct(!r.pathname||!r.pathname.includes("?"),Fg("?","pathname","search",r)),ct(!r.pathname||!r.pathname.includes("#"),Fg("#","pathname","hash",r)),ct(!r.search||!r.search.includes("#"),Fg("#","search","hash",r)));let a=n===""||r.pathname==="",u=a?"/":r.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}h=v>=0?e[v]:"/"}let f=Uk(r,h),d=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var qs=n=>n.join("/").replace(/\/\/+/g,"/"),Bk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Fk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Hk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var AA=["POST","PUT","PATCH","DELETE"];new Set(AA);var Gk=["GET",...AA];new Set(Gk);var Hl=V.createContext(null);Hl.displayName="DataRouter";var nm=V.createContext(null);nm.displayName="DataRouterState";V.createContext(!1);var RA=V.createContext({isTransitioning:!1});RA.displayName="ViewTransition";var $k=V.createContext(new Map);$k.displayName="Fetchers";var Kk=V.createContext(null);Kk.displayName="Await";var Ni=V.createContext(null);Ni.displayName="Navigation";var nh=V.createContext(null);nh.displayName="Location";var Vi=V.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var qv=V.createContext(null);qv.displayName="RouteError";function Yk(n,{relative:e}={}){ct(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=V.useContext(Ni),{hash:r,pathname:a,search:u}=ih(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:qs([t,a])),i.createHref({pathname:h,search:u,hash:r})}function Gl(){return V.useContext(nh)!=null}function In(){return ct(Gl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(nh).location}var CA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IA(n){V.useContext(Ni).static||V.useLayoutEffect(n)}function Js(){let{isDataRoute:n}=V.useContext(Vi);return n?u2():Xk()}function Xk(){ct(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(Hl),{basename:e,navigator:t}=V.useContext(Ni),{matches:i}=V.useContext(Vi),{pathname:r}=In(),a=JSON.stringify(Bv(i)),u=V.useRef(!1);return IA(()=>{u.current=!0}),V.useCallback((f,d={})=>{if(Qn(u.current,CA),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=Fv(f,JSON.parse(a),r,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:qs([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,a,r,n])}var Wk=V.createContext(null);function Qk(n){let e=V.useContext(Vi).outlet;return e&&V.createElement(Wk.Provider,{value:n},e)}function ih(n,{relative:e}={}){let{matches:t}=V.useContext(Vi),{pathname:i}=In(),r=JSON.stringify(Bv(t));return V.useMemo(()=>Fv(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Zk(n,e){return DA(n,e)}function DA(n,e,t,i){ct(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=V.useContext(Ni),{matches:a}=V.useContext(Vi),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",d=u?u.pathnameBase:"/",g=u&&u.route;{let P=g&&g.path||"";PA(f,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=In(),b;if(e){let P=typeof e=="string"?da(e):e;ct(d==="/"||P.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=v;let E=b.pathname||"/",I=E;if(d!=="/"){let P=d.replace(/^\//,"").split("/");I="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let A=EA(n,{pathname:I});Qn(g||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Qn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=i2(A&&A.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:qs([d,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:qs([d,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,t,i);return e&&D?V.createElement(nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},D):D}function Jk(){let n=l2(),e=Hk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:a},"ErrorBoundary")," or"," ",V.createElement("code",{style:a},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:r},t):null,u)}var e2=V.createElement(Jk,null),t2=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?V.createElement(Vi.Provider,{value:this.props.routeContext},V.createElement(qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n2({routeContext:n,match:e,children:t}){let i=V.useContext(Hl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Vi.Provider,{value:n},t)}function i2(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t?.errors;if(a!=null){let f=r.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<r.length;f++){let d=r[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:v}=t,b=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,d,g)=>{let v,b=!1,E=null,I=null;t&&(v=a&&d.route.id?a[d.route.id]:void 0,E=d.route.errorElement||e2,u&&(h<0&&g===0?(PA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,I=null):h===g&&(b=!0,I=d.route.hydrateFallbackElement||null)));let A=e.concat(r.slice(0,g+1)),D=()=>{let P;return v?P=E:b?P=I:d.route.Component?P=V.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=f,V.createElement(n2,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:P})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?V.createElement(t2,{location:t.location,revalidation:t.revalidation,component:E,error:v,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):D()},null)}function Hv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s2(n){let e=V.useContext(Hl);return ct(e,Hv(n)),e}function r2(n){let e=V.useContext(nm);return ct(e,Hv(n)),e}function o2(n){let e=V.useContext(Vi);return ct(e,Hv(n)),e}function Gv(n){let e=o2(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function a2(){return Gv("useRouteId")}function l2(){let n=V.useContext(qv),e=r2("useRouteError"),t=Gv("useRouteError");return n!==void 0?n:e.errors?.[t]}function u2(){let{router:n}=s2("useNavigate"),e=Gv("useNavigate"),t=V.useRef(!1);return IA(()=>{t.current=!0}),V.useCallback(async(r,a={})=>{Qn(t.current,CA),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var iE={};function PA(n,e,t){!e&&!iE[n]&&(iE[n]=!0,Qn(!1,t))}V.memo(c2);function c2({routes:n,future:e,state:t}){return DA(n,void 0,t,e)}function h2({to:n,replace:e,state:t,relative:i}){ct(Gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=V.useContext(Ni);Qn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=V.useContext(Vi),{pathname:u}=In(),h=Js(),f=Fv(n,Bv(a),u,i==="path"),d=JSON.stringify(f);return V.useEffect(()=>{h(JSON.parse(d),{replace:e,state:t,relative:i})},[h,d,i,e,t]),null}function f2(n){return Qk(n.context)}function Go(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kA({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){ct(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:r,static:a,future:{}}),[u,r,a]);typeof t=="string"&&(t=da(t));let{pathname:f="/",search:d="",hash:g="",state:v=null,key:b="default"}=t,E=V.useMemo(()=>{let I=$s(f,u);return I==null?null:{location:{pathname:I,search:d,hash:g,state:v,key:b},navigationType:i}},[u,f,d,g,v,b,i]);return Qn(E!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:V.createElement(Ni.Provider,{value:h},V.createElement(nh.Provider,{children:e,value:E}))}function d2({children:n,location:e}){return Zk(Ly(n),e)}function Ly(n,e=[]){let t=[];return V.Children.forEach(n,(i,r)=>{if(!V.isValidElement(i))return;let a=[...e,r];if(i.type===V.Fragment){t.push.apply(t,Ly(i.props.children,a));return}ct(i.type===Go,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ly(i.props.children,a)),t.push(u)}),t}var od="get",ad="application/x-www-form-urlencoded";function im(n){return n!=null&&typeof n.tagName=="string"}function m2(n){return im(n)&&n.tagName.toLowerCase()==="button"}function p2(n){return im(n)&&n.tagName.toLowerCase()==="form"}function g2(n){return im(n)&&n.tagName.toLowerCase()==="input"}function y2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function v2(n,e){return n.button===0&&(!e||e==="_self")&&!y2(n)}function Uy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function _2(n,e){let t=Uy(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(a=>{t.append(r,a)})}),t}var $f=null;function b2(){if($f===null)try{new FormData(document.createElement("form"),0),$f=!1}catch{$f=!0}return $f}var w2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qg(n){return n!=null&&!w2.has(n)?(Qn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ad}"`),null):n}function T2(n,e){let t,i,r,a,u;if(p2(n)){let h=n.getAttribute("action");i=h?$s(h,e):null,t=n.getAttribute("method")||od,r=qg(n.getAttribute("enctype"))||ad,a=new FormData(n)}else if(m2(n)||g2(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?$s(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||od,r=qg(n.getAttribute("formenctype"))||qg(h.getAttribute("enctype"))||ad,a=new FormData(h,n),!b2()){let{name:d,type:g,value:v}=n;if(g==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,v)}}else{if(im(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=od,i=null,r=ad,u=n}return a&&r==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $v(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function E2(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&$s(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function S2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function A2(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let u=await S2(a,t);return u.links?u.links():[]}return[]}));return D2(i.flat(1).filter(x2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function sE(n,e,t,i,r,a){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):a==="data"?e.filter((f,d)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function R2(n,e,{includeHydrateFallback:t}={}){return C2(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function C2(n){return[...new Set(n)]}function I2(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function D2(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(I2(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function MA(){let n=V.useContext(Hl);return $v(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function P2(){let n=V.useContext(nm);return $v(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kv=V.createContext(void 0);Kv.displayName="FrameworkContext";function OA(){let n=V.useContext(Kv);return $v(n,"You must render this element inside a <HydratedRouter> element"),n}function k2(n,e){let t=V.useContext(Kv),[i,r]=V.useState(!1),[a,u]=V.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=e,b=V.useRef(null);V.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=P=>{P.forEach(B=>{u(B.isIntersecting)})},D=new IntersectionObserver(A,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[n]),V.useEffect(()=>{if(i){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},I=()=>{r(!1),u(!1)};return t?n!=="intent"?[a,b,{}]:[a,b,{onFocus:fc(h,E),onBlur:fc(f,I),onMouseEnter:fc(d,E),onMouseLeave:fc(g,I),onTouchStart:fc(v,E)}]:[!1,b,{}]}function fc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function M2({page:n,...e}){let{router:t}=MA(),i=V.useMemo(()=>EA(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?V.createElement(N2,{page:n,matches:i,...e}):null}function O2(n){let{manifest:e,routeModules:t}=OA(),[i,r]=V.useState([]);return V.useEffect(()=>{let a=!1;return A2(n,e,t).then(u=>{a||r(u)}),()=>{a=!0}},[n,e,t]),i}function N2({page:n,matches:e,...t}){let i=In(),{manifest:r,routeModules:a}=OA(),{basename:u}=MA(),{loaderData:h,matches:f}=P2(),d=V.useMemo(()=>sE(n,e,f,r,i,"data"),[n,e,f,r,i]),g=V.useMemo(()=>sE(n,e,f,r,i,"assets"),[n,e,f,r,i]),v=V.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,A=!1;if(e.forEach(P=>{let B=r.routes[P.route.id];!B||!B.hasLoader||(!d.some(F=>F.route.id===P.route.id)&&P.route.id in h&&a[P.route.id]?.shouldRevalidate||B.hasClientLoader?A=!0:I.add(P.route.id))}),I.size===0)return[];let D=E2(n,u,"data");return A&&I.size>0&&D.searchParams.set("_routes",e.filter(P=>I.has(P.route.id)).map(P=>P.route.id).join(",")),[D.pathname+D.search]},[u,h,i,r,d,e,n,a]),b=V.useMemo(()=>R2(g,r),[g,r]),E=O2(g);return V.createElement(V.Fragment,null,v.map(I=>V.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),b.map(I=>V.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),E.map(({key:I,link:A})=>V.createElement("link",{key:I,nonce:t.nonce,...A})))}function V2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NA&&(window.__reactRouterVersion="7.8.1")}catch{}function L2({basename:n,children:e,window:t}){let i=V.useRef();i.current==null&&(i.current=wk({window:t,v5Compat:!0}));let r=i.current,[a,u]=V.useState({action:r.action,location:r.location}),h=V.useCallback(f=>{V.startTransition(()=>u(f))},[u]);return V.useLayoutEffect(()=>r.listen(h),[r,h]),V.createElement(kA,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}function U2({basename:n,children:e,window:t}){let i=V.useRef();i.current==null&&(i.current=Tk({window:t,v5Compat:!0}));let r=i.current,[a,u]=V.useState({action:r.action,location:r.location}),h=V.useCallback(f=>{V.startTransition(()=>u(f))},[u]);return V.useLayoutEffect(()=>r.listen(h),[r,h]),V.createElement(kA,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var VA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gi=V.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:v,...b},E){let{basename:I}=V.useContext(Ni),A=typeof d=="string"&&VA.test(d),D,P=!1;if(typeof d=="string"&&A&&(D=d,NA))try{let k=new URL(window.location.href),U=d.startsWith("//")?new URL(k.protocol+d):new URL(d),j=$s(U.pathname,I);U.origin===k.origin&&j!=null?d=j+U.search+U.hash:P=!0}catch{Qn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=Yk(d,{relative:r}),[F,q,Q]=k2(i,b),le=B2(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:r,viewTransition:v});function M(k){e&&e(k),k.defaultPrevented||le(k)}let C=V.createElement("a",{...b,...Q,href:D||B,onClick:P||a?e:M,ref:V2(E,q),target:f,"data-discover":!A&&t==="render"?"true":void 0});return F&&!A?V.createElement(V.Fragment,null,C,V.createElement(M2,{page:B})):C});gi.displayName="Link";var fl=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:u,viewTransition:h,children:f,...d},g){let v=ih(u,{relative:d.relative}),b=In(),E=V.useContext(nm),{navigator:I,basename:A}=V.useContext(Ni),D=E!=null&&K2(v)&&h===!0,P=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,B=b.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(B=B.toLowerCase(),F=F?F.toLowerCase():null,P=P.toLowerCase()),F&&A&&(F=$s(F,A)||F);const q=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let Q=B===P||!r&&B.startsWith(P)&&B.charAt(q)==="/",le=F!=null&&(F===P||!r&&F.startsWith(P)&&F.charAt(P.length)==="/"),M={isActive:Q,isPending:le,isTransitioning:D},C=Q?e:void 0,k;typeof i=="function"?k=i(M):k=[i,Q?"active":null,le?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(M):a;return V.createElement(gi,{...d,"aria-current":C,className:k,ref:g,style:U,to:u,viewTransition:h},typeof f=="function"?f(M):f)});fl.displayName="NavLink";var z2=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:u=od,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:v,...b},E)=>{let I=G2(),A=$2(h,{relative:d}),D=u.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&VA.test(h),B=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let q=F.nativeEvent.submitter,Q=q?.getAttribute("formmethod")||u;I(q||F.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:r,state:a,relative:d,preventScrollReset:g,viewTransition:v})};return V.createElement("form",{ref:E,method:D,action:A,onSubmit:i?f:B,...b,"data-discover":!P&&n==="render"?"true":void 0})});z2.displayName="Form";function j2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LA(n){let e=V.useContext(Hl);return ct(e,j2(n)),e}function B2(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:u}={}){let h=Js(),f=In(),d=ih(n,{relative:a});return V.useCallback(g=>{if(v2(g,e)){g.preventDefault();let v=t!==void 0?t:Pl(f)===Pl(d);h(n,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:u})}},[f,h,d,t,i,e,n,r,a,u])}function F2(n){Qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(Uy(n)),t=V.useRef(!1),i=In(),r=V.useMemo(()=>_2(i.search,t.current?null:e.current),[i.search]),a=Js(),u=V.useCallback((h,f)=>{const d=Uy(typeof h=="function"?h(new URLSearchParams(r)):h);t.current=!0,a("?"+d,f)},[a,r]);return[r,u]}var q2=0,H2=()=>`__${String(++q2)}__`;function G2(){let{router:n}=LA("useSubmit"),{basename:e}=V.useContext(Ni),t=a2();return V.useCallback(async(i,r={})=>{let{action:a,method:u,encType:h,formData:f,body:d}=T2(i,e);if(r.navigate===!1){let g=r.fetcherKey||H2();await n.fetch(g,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function $2(n,{relative:e}={}){let{basename:t}=V.useContext(Ni),i=V.useContext(Vi);ct(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...ih(n||".",{relative:e})},u=In();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:qs([t,a.pathname])),Pl(a)}function K2(n,{relative:e}={}){let t=V.useContext(RA);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=LA("useViewTransitionState"),r=ih(n,{relative:e});if(!t.isTransitioning)return!1;let a=$s(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=$s(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ad(r.pathname,u)!=null||Ad(r.pathname,a)!=null}const Tc="generated",Y2="pointerdown",X2="pointerup",zy="pointerleave",W2="pointerout",ia="pointermove",Q2="touchstart",rE="touchend",Z2="touchmove",J2="touchcancel",eM="resize",tM="visibilitychange",vi="tsParticles - Error";class $n{constructor(e,t,i){if(this._updateFromAngle=(r,a)=>{this.x=Math.cos(r)*a,this.y=Math.sin(r)*a},!Ci(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${vi} Vector3d not initialized correctly`)}static get origin(){return $n.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return $n.create(e.x,e.y,e.z)}static create(e,t,i){return new $n(e,t,i)}add(e){return $n.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return $n.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return $n.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return $n.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return $n.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return $n.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Zt extends $n{constructor(e,t){super(e,t,0)}static get origin(){return Zt.create(0,0)}static clone(e){return Zt.create(e.x,e.y)}static create(e,t){return new Zt(e,t)}}let nM=Math.random;const jy=new Map;function Hg(n,e){jy.get(n)||jy.set(n,e)}function UA(n){return jy.get(n)||(e=>e)}function ot(){return Pi(nM(),0,1-1e-16)}function Pi(n,e,t){return Math.min(Math.max(n,e),t)}function Gg(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function Nn(n){const e=Vr(n);let t=Yv(n);return e===t&&(t=0),ot()*(e-t)+t}function _e(n){return Ci(n)?n:Nn(n)}function Yv(n){return Ci(n)?n:n.min}function Vr(n){return Ci(n)?n:n.max}function Ie(n,e){if(n===e||e===void 0&&Ci(n))return n;const t=Yv(n),i=Vr(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Ie(t,i)}function sa(n){const e=n.random,{enable:t,minimumValue:i}=Ur(e)?{enable:e,minimumValue:0}:e;return _e(t?Ie(n.value,i):n.value)}function Cn(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function Xn(n,e){return Cn(n,e).distance}function iM(n,e,t){if(Ci(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return ot()*Math.PI*2}}function sM(n){const e=Zt.origin;return e.length=1,e.angle=n,e}function oE(n,e,t,i){return Zt.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function rM(n){return{x:n.position?.x??ot()*n.size.width,y:n.position?.y??ot()*n.size.height}}function zA(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const oM={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function ra(){return oM}function aE(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:a,velocity:u,factor:h}=n;return i.min<a.min||i.min>a.max||i.max<a.min||i.max>a.max||(t.max>=r.min&&t.max<=(r.max+r.min)/2&&u>0||t.min<=r.max&&t.min>(r.max+r.min)/2&&u<0)&&(e.velocity=u*-h,e.bounced=!0),e}function aM(n,e){const t=Jt(e,i=>n.matches(i));return Wn(t)?t.some(i=>i):t}function kl(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function lM(){return!kl()&&typeof matchMedia<"u"}function jA(n){if(lM())return matchMedia(n)}function uM(n){if(!(kl()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Ct(n,e){return n===e||Wn(e)&&e.indexOf(n)>-1}async function cM(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function hM(n){return Math.floor(ot()*n.length)}function sm(n,e,t=!0){return n[e!==void 0&&t?e%n.length:hM(n)]}function Xv(n,e,t,i,r){return fM(sh(n,i??0),e,t,r)}function fM(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function sh(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function _n(n,...e){for(const t of e){if(t==null)continue;if(!yl(t)){n=t;continue}const i=Array.isArray(t);i&&(yl(n)||!n||!Array.isArray(n))?n=[]:!i&&(yl(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const a=t,u=a[r],h=n;h[r]=yl(u)&&Array.isArray(u)?u.map(f=>_n(h[r],f)):_n(h[r],u)}}return n}function Wv(n,e){return!!qA(e,t=>t.enable&&Ct(n,t.mode))}function Qv(n,e,t){Jt(e,i=>{const r=i.mode;i.enable&&Ct(n,r)&&dM(i,t)})}function dM(n,e){const t=n.selectors;Jt(t,i=>{e(i,n)})}function BA(n,e){if(!(!e||!n))return qA(n,t=>aM(e,t.selectors))}function By(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:Zt.create(sa(n.options.bounce.horizontal),sa(n.options.bounce.vertical))}}function FA(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,a]=[n.position,e.position],{dx:u,dy:h}=Cn(a,r);if(t*u+i*h<0)return;const f=-Math.atan2(h,u),d=n.mass,g=e.mass,v=n.velocity.rotate(f),b=e.velocity.rotate(f),E=oE(v,b,d,g),I=oE(b,v,d,g),A=E.rotate(-f),D=I.rotate(-f);n.velocity.x=A.x*n.factor.x,n.velocity.y=A.y*n.factor.y,e.velocity.x=D.x*e.factor.x,e.velocity.y=D.y*e.factor.y}function mM(n,e){const t=n.getPosition(),i=n.getRadius(),r=sh(t,i),a=aE({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:sa(n.options.bounce.horizontal)});a.bounced&&(a.velocity!==void 0&&(n.velocity.x=a.velocity),a.position!==void 0&&(n.position.x=a.position));const u=aE({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:sa(n.options.bounce.vertical)});u.bounced&&(u.velocity!==void 0&&(n.velocity.y=u.velocity),u.position!==void 0&&(n.position.y=u.position))}function Jt(n,e){return Wn(n)?n.map((t,i)=>e(t,i)):e(n,0)}function Hs(n,e,t){return Wn(n)?sm(n,e,t):n}function qA(n,e){return Wn(n)?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}function HA(n,e){const t=n.value,i=n.animation,r={delayTime:_e(i.delay)*1e3,enable:i.enable,value:_e(n.value)*e,max:Vr(t)*e,min:Yv(t)*e,loops:0,maxLoops:_e(i.count),time:0};if(i.enable){switch(r.decay=1-_e(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=ot()>=.5?"increasing":"decreasing";break}const a=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,a&&(r.status="increasing");break;case"max":r.value=r.max,a&&(r.status="decreasing");break;case"random":default:r.value=Nn(r),a&&(r.status=ot()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function pM(n,e){if(!(n.mode==="percent")){const{mode:r,...a}=n;return a}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function GA(n,e){return pM(n,e)}function Ur(n){return typeof n=="boolean"}function Ri(n){return typeof n=="string"}function Ci(n){return typeof n=="number"}function $A(n){return typeof n=="function"}function yl(n){return typeof n=="object"&&n!==null}function Wn(n){return Array.isArray(n)}const Rd="random",ld="mid",rm=new Map;function lE(n){rm.set(n.key,n)}function $g(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function gM(n){for(const[,a]of rm)if(n.startsWith(a.stringPrefix))return a.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(a,u,h,f,d)=>u+u+h+h+f+f+(d!==void 0?d+d:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Ii(n,e,t=!0){if(!n)return;const i=Ri(n)?{value:n}:n;if(Ri(i.value))return KA(i.value,e,t);if(Wn(i.value))return Ii({value:sm(i.value,e,t)});for(const[,r]of rm){const a=r.handleRangeColor(i);if(a)return a}}function KA(n,e,t=!0){if(!n)return;const i=Ri(n)?{value:n}:n;if(Ri(i.value))return i.value===Rd?XA():yM(i.value);if(Wn(i.value))return KA({value:sm(i.value,e,t)});for(const[,r]of rm){const a=r.handleColor(i);if(a)return a}}function Vc(n,e,t=!0){const i=Ii(n,e,t);return i?YA(i):void 0}function YA(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),a=Math.min(e,t,i),u={h:0,l:(r+a)/2,s:0};return r!==a&&(u.s=u.l<.5?(r-a)/(r+a):(r-a)/(2-r-a),u.h=e===r?(t-i)/(r-a):u.h=t===r?2+(i-e)/(r-a):4+(e-t)/(r-a)),u.l*=100,u.s*=100,u.h*=60,u.h<0&&(u.h+=360),u.h>=360&&(u.h-=360),u}function yM(n){return gM(n)}function Ml(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=$g(r,i,t.h+1/3),e.g=$g(r,i,t.h),e.b=$g(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function vM(n){const e=Ml(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function XA(n){return{b:Math.floor(Nn(Ie(0,256))),g:Math.floor(Nn(Ie(0,256))),r:Math.floor(Nn(Ie(0,256)))}}function Gs(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function Lc(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function Zv(n,e,t,i){let r=n,a=e;return r.r===void 0&&(r=Ml(n)),a.r===void 0&&(a=Ml(e)),{b:Gg(r.b,a.b,t,i),g:Gg(r.g,a.g,t,i),r:Gg(r.r,a.r,t,i)}}function Fy(n,e,t){if(t===Rd)return XA();if(t===ld){const i=n.getFillColor()??n.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return Zv(i,r,n.getRadius(),e.getRadius());{const a=i??r;if(a)return Ml(a)}}else return t}function WA(n,e,t){const i=Ri(n)?n:n.value;return i===Rd?t?Ii({value:i}):e?Rd:ld:i===ld?ld:Ii({value:i})}function uE(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function QA(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(Kg(i.h,e.h,t),Kg(i.s,e.s,t),Kg(i.l,e.l,t)),i}function Kg(n,e,t){n.enable=e.enable,n.enable?(n.velocity=_e(e.speed)/100*t,n.decay=1-_e(e.decay),n.status="increasing",n.loops=0,n.maxLoops=_e(e.count),n.time=0,n.delayTime=_e(e.delay)*1e3,e.sync||(n.velocity*=ot(),n.value*=ot()),n.initialValue=n.value):n.velocity=0}function Ec(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function _M(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function bM(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function wM(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function Yg(n,e){n.clearRect(0,0,e.width,e.height)}function TM(n){const{container:e,context:t,particle:i,delta:r,colorStyles:a,backgroundMask:u,composite:h,radius:f,opacity:d,shadow:g,transform:v}=n,b=i.getPosition(),E=i.rotation+(i.pathRotation?i.velocity.angle:0),I={sin:Math.sin(E),cos:Math.cos(E)},A={a:I.cos*(v.a??1),b:I.sin*(v.b??1),c:-I.sin*(v.c??1),d:I.cos*(v.d??1)};t.setTransform(A.a,A.b,A.c,A.d,b.x,b.y),t.beginPath(),u&&(t.globalCompositeOperation=h);const D=i.shadowColor;g.enable&&D&&(t.shadowBlur=g.blur,t.shadowColor=Gs(D),t.shadowOffsetX=g.offset.x,t.shadowOffsetY=g.offset.y),a.fill&&(t.fillStyle=a.fill);const P=i.strokeWidth??0;t.lineWidth=P,a.stroke&&(t.strokeStyle=a.stroke),EM(e,t,i,f,d,r),P>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),SM(e,t,i,f,d,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function EM(n,e,t,i,r,a){if(!t.shape)return;const u=n.drawers.get(t.shape);u&&u.draw(e,t,i,r,a,n.retina.pixelRatio)}function SM(n,e,t,i,r,a){if(!t.shape)return;const u=n.drawers.get(t.shape);!u||!u.afterEffect||u.afterEffect(e,t,i,r,a,n.retina.pixelRatio)}function xM(n,e,t){e.draw&&e.draw(n,t)}function AM(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function RM(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function CM(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}class IM{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,a,u,h)=>{for(const f of this._preDrawUpdaters){if(f.getColorStyles){const{fill:d,stroke:g}=f.getColorStyles(i,t,r,a);d&&(u.fill=d),g&&(u.stroke=g)}if(f.getTransformValues){const d=f.getTransformValues(i);for(const g in d)CM(h,d,g)}f.beforeDraw&&f.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const a of this._colorPlugins)if(!i&&a.particleFillColor&&(i=Vc(a.particleFillColor(t))),!r&&a.particleStrokeColor&&(r=Vc(a.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,a=Ii(r);if(a){const u={...a,a:i.opacity};this._coverColorStyle=Gs(u,u.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=_n({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const a=i.style[r];a&&t.style.setProperty(r,a,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const a=Ii(r.color);if(!a)return;const u=t.particles.move.trail;this._trailFill={color:{...a},opacity:1/u.length}}else await new Promise((a,u)=>{if(!r.image)return;const h=document.createElement("img");h.addEventListener("load",()=>{this._trailFill={image:h,opacity:1/i.length},a()}),h.addEventListener("error",f=>{u(f.error)}),h.src=r.image})},this._paintBase=t=>{this.draw(i=>bM(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>wM(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(Gs(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{Yg(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),a=e.getStrokeColor()??r;let[u,h]=this._getPluginParticleColors(e);u||(u=r),h||(h=a),!(!u&&!h)&&this.draw(f=>{const d=this.container,g=d.actualOptions,v=e.options.zIndex,b=(1-e.zIndexFactor)**v.opacityRate,E=e.bubble.opacity??e.opacity?.value??1,I=e.strokeOpacity??E,A=E*b,D=I*b,P={},B={fill:u?Lc(u,A):void 0};B.stroke=h?Lc(h,D):B.fill,this._applyPreDrawUpdaters(f,e,i,A,B,P),TM({container:d,context:f,particle:e,delta:t,colorStyles:B,backgroundMask:g.backgroundMask.enable,composite:g.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**v.sizeRate,opacity:A,shadow:e.options.shadow,transform:P}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>AM(r,e,t,i))}drawPlugin(e,t){this.draw(i=>xM(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=uM(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){ra().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const a=Ii(t.color);r.backgroundColor=a?Gs(a,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Tc in e.dataset?e.dataset[Tc]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=_n({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Yg(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const a={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/a.width,height:i.height/a.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Yg(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function hi(n,e,t,i,r){if(i){let a={passive:!0};Ur(r)?a.capture=r:r!==void 0&&(a=r),n.addEventListener(e,t,a)}else{const a=r;n.removeEventListener(e,t,a)}}class DM{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const a=i.interactivity.mouse,u=a.position;if(!u)return;a.clickPosition={...u},a.clickTime=new Date().getTime();const h=r.interactivity.events.onClick;Jt(h.mode,f=>this.container.handleClickMode(f))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,a=r.options,u=a.defaultThemes,h=i.matches?u.dark:u.light,f=a.themes.find(d=>d.name===h);f&&f.default.auto&&r.loadTheme(h)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,a=this.container,u=a.actualOptions,h=a.interactivity.element;if(!h)return;const f=h,d=a.canvas.element;d&&(d.style.pointerEvents=f===d?"initial":"none"),(u.interactivity.events.onHover.enable||u.interactivity.events.onClick.enable)&&(hi(h,ia,r.mouseMove,i),hi(h,Q2,r.touchStart,i),hi(h,Z2,r.touchMove,i),u.interactivity.events.onClick.enable?(hi(h,rE,r.touchEndClick,i),hi(h,X2,r.mouseUp,i),hi(h,Y2,r.mouseDown,i)):hi(h,rE,r.touchEnd,i),hi(h,t,r.mouseLeave,i),hi(h,J2,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,a=r.actualOptions,u=a.interactivity.detectsOn,h=r.canvas.element;let f=zy;u==="window"?(r.interactivity.element=window,f=W2):u==="parent"&&h?r.interactivity.element=h.parentElement??h.parentNode:r.interactivity.element=h,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(f,t),document&&hi(document,tM,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=jA("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){hi(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){hi(window,eM,i.resize,t);return}const u=r.canvas.element;this._resizeObserver&&!t?(u&&this._resizeObserver.unobserve(u),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&u&&(this._resizeObserver=new ResizeObserver(async h=>{h.find(d=>d.target===u)&&await this._handleWindowResize()}),this._resizeObserver.observe(u))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:a}=i.interactivity;a.inside=!0;let u=!1;const h=a.position;if(!(!h||!r.interactivity.events.onClick.enable)){for(const[,f]of i.plugins)if(f.clickPositionValid&&(u=f.clickPositionValid(h),u))break;u||this._doMouseTouchClick(t),a.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=zy,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,a=i.interactivity,u=i.canvas.element;if(!a||!a.element)return;a.mouse.inside=!0;let h;if(t.type.startsWith("pointer")){this._canPush=!0;const d=t;if(a.element===window){if(u){const g=u.getBoundingClientRect();h={x:d.clientX-g.left,y:d.clientY-g.top}}}else if(r.interactivity.detectsOn==="parent"){const g=d.target,v=d.currentTarget;if(g&&v&&u){const b=g.getBoundingClientRect(),E=v.getBoundingClientRect(),I=u.getBoundingClientRect();h={x:d.offsetX+2*b.left-(E.left+I.left),y:d.offsetY+2*b.top-(E.top+I.top)}}else h={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY}}else d.target===u&&(h={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY})}else if(this._canPush=t.type!=="touchmove",u){const d=t,g=d.touches[d.touches.length-1],v=u.getBoundingClientRect();h={x:g.clientX-(v.left??0),y:g.clientY-(v.top??0)}}const f=i.retina.pixelRatio;h&&(h.x*=f,h.y*=f),a.mouse.position=h,a.status=ia},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.set(a.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class cn{constructor(){this.value=""}static create(e,t){const i=new cn;return i.load(e),t!==void 0&&(Ri(t)||Wn(t)?i.load({value:t}):i.load(t)),i}load(e){e?.value!==void 0&&(this.value=e.value)}}class PM{constructor(){this.color=new cn,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=cn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class kM{constructor(){this.color=new cn,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=cn.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class MM{constructor(){this.composite="destination-out",this.cover=new kM,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Ri(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class OM{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class NM{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class cE{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Jt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Jt(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class VM{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class LM{constructor(){this.enable=!1,this.mode=[],this.parallax=new VM}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class UM{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class zM{constructor(){this.onClick=new NM,this.onDiv=new cE,this.onHover=new LM,this.resize=new UM}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=Jt(t,i=>{const r=new cE;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),Ur(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class jM{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class ZA{constructor(e,t){this.detectsOn="window",this.events=new zM,this.modes=new jM(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class BM{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=_n({},e.options)))}}class FM{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=_n({},e.options)))}}class qM{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class HM{constructor(){this.name="",this.default=new qM}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=_n({},e.options)))}}class Xg{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Ie(e.offset)),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.delay!==void 0&&(this.delay=Ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class GM{constructor(){this.h=new Xg,this.s=new Xg,this.l=new Xg}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Uc extends cn{constructor(){super(),this.animation=new GM}static create(e,t){const i=new Uc;return i.load(e),t!==void 0&&(Ri(t)||Wn(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class $M{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class KM{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class YM{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.delay!==void 0&&(this.delay=Ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class JA extends YM{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class XM{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class eo{constructor(){this.random=new XM,this.value=0}load(e){e&&(Ur(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Ie(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class hE extends eo{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class e1{constructor(){this.horizontal=new hE,this.vertical=new hE}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class WM{constructor(){this.absorb=new $M,this.bounce=new e1,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new KM}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Ie(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class QM{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Ie(e.offset)),e.value!==void 0&&(this.value=Ie(e.value)))}}class ZM{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){if(!e)return;e.distance!==void 0&&(this.distance=Ie(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=e.rotate?.x??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=e.rotate?.y??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class JM{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class eO{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Ie(e.maxSpeed)))}}class tO{constructor(){this.clamp=!0,this.delay=new eo,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=_n(this.options,e.options)))}}class nO{load(e){e&&(e.color!==void 0&&(this.color=cn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class iO{constructor(){this.enable=!1,this.length=10,this.fill=new nO}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class sO{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class rO{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=_n({},e.position)))}}class oO{constructor(){this.angle=new QM,this.attract=new ZM,this.center=new JM,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new eO,this.path=new tO,this.outModes=new sO,this.random=!1,this.size=!1,this.speed=2,this.spin=new rO,this.straight=!1,this.trail=new iO,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Ci(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Ci(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Ie(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(yl(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Ie(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class aO extends JA{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){e?.opacity_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class lO extends eo{constructor(){super(),this.animation=new aO,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class uO{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class cO{constructor(){this.density=new uO,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class hO{constructor(){this.blur=0,this.color=new cn,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=cn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Wg="character",Qg="char",Zg="image",Jg="images",ey="polygon",ty="star";class fO{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const a=Wn(e),u=a?[]:{},h=a!==Wn(this.options[t]),f=a!==Wn(this.options[i]);h&&(this.options[t]=u),f&&r&&(this.options[i]=u),this.options[t]=_n(this.options[t]??u,e),(!this.options[i]||r)&&(this.options[i]=_n(this.options[i]??u,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Wg]??this.options[Qg]}set character(e){this.options[Qg]=this.options[Wg]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Zg]??this.options[Jg]}set image(e){this.options[Jg]=this.options[Zg]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[ey]??this.options[ty]}set polygon(e){this.options[ty]=this.options[ey]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=_n(this.options[i]??{},r))}this.loadShape(e.character,Wg,Qg,!0),this.loadShape(e.polygon,ey,ty,!1),this.loadShape(e.image??e.images,Zg,Jg,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class dO extends JA{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){e?.size_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class mO extends eo{constructor(){super(),this.animation=new dO,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class fE{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Uc.create(this.color,e.color)),e.width!==void 0&&(this.width=Ie(e.width)),e.opacity!==void 0&&(this.opacity=Ie(e.opacity)))}}class pO extends eo{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class gO{constructor(e,t){this._engine=e,this._container=t,this.bounce=new e1,this.collisions=new WM,this.color=new Uc,this.color.value="#fff",this.groups={},this.move=new oO,this.number=new cO,this.opacity=new lO,this.reduceDuplicates=!1,this.shadow=new hO,this.shape=new fO,this.size=new mO,this.stroke=new fE,this.zIndex=new pO}load(e){if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Uc.create(this.color,e.color)),e.groups!==void 0)for(const r in e.groups){const a=e.groups[r];a!==void 0&&(this.groups[r]=_n(this.groups[r]??{},a))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=e.move?.collisions??e.move?.bounce;t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=_n({},e.interactivity));const i=e.stroke??e.shape?.stroke;if(i&&(this.stroke=Jt(i,r=>{const a=new fE;return a.load(r),a})),this._container){const r=this._engine.plugins.updaters.get(this._container);if(r)for(const u of r)u.loadOptions&&u.loadOptions(this,e);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const u of a)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}}function t1(n,...e){for(const t of e)n.load(t)}function n1(n,e,...t){const i=new gO(n,e);return t1(i,...t),i}class yO{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new PM,this.backgroundMask=new MM,this.defaultThemes={},this.delay=0,this.fullScreen=new OM,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new ZA(e,t),this.manualParticles=[],this.particles=n1(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){if(!e)return;e.preset!==void 0&&Jt(e.preset,u=>this._importPreset(u)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Ie(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Ie(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;Ur(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(u=>{const h=new BM;return h.load(u),h})),this.particles.load(e.particles),this.style=_n(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const u of a)u.loadOptions&&u.loadOptions(this,e);if(e.responsive!==void 0)for(const u of e.responsive){const h=new FM;h.load(u),this.responsive.push(h)}if(this.responsive.sort((u,h)=>u.maxWidth-h.maxWidth),e.themes!==void 0)for(const u of e.themes){const h=this.themes.find(f=>f.name===u.name);if(h)h.load(u);else{const f=new HM;f.load(u),this.themes.push(f)}}this.defaultThemes.dark=this._findDefaultTheme("dark")?.name,this.defaultThemes.light=this._findDefaultTheme("light")?.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(a=>a.mode==="screen"&&screen?a.maxWidth>screen.availWidth:a.maxWidth*t>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=jA("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class vO{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const dE=n=>{if(!Ct(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class _O{constructor(e,t,i,r,a,u){this.container=i,this._calcPosition=(h,f,d,g=0)=>{for(const[,B]of h.plugins){const F=B.particlePosition!==void 0?B.particlePosition(f,this):void 0;if(F)return $n.create(F.x,F.y,d)}const v=h.canvas.size,b=rM({size:v,position:f}),E=$n.create(b.x,b.y,d),I=this.getRadius(),A=this.options.move.outModes,D=B=>{dE({outMode:B,checkModes:["bounce","bounce-horizontal"],coord:E.x,maxCoord:h.canvas.size.width,setCb:F=>E.x+=F,radius:I})},P=B=>{dE({outMode:B,checkModes:["bounce","bounce-vertical"],coord:E.y,maxCoord:h.canvas.size.height,setCb:F=>E.y+=F,radius:I})};return D(A.left??A.default),D(A.right??A.default),P(A.top??A.default),P(A.bottom??A.default),this._checkOverlap(E,g)?this._calcPosition(h,void 0,d,g+1):E},this._calculateVelocity=()=>{const h=sM(this.direction),f=h.copy(),d=this.options.move;if(d.direction==="inside"||d.direction==="outside")return f;const g=Math.PI/180*_e(d.angle.value),v=Math.PI/180*_e(d.angle.offset),b={left:v-g/2,right:v+g/2};return d.straight||(f.angle+=Nn(Ie(b.left,b.right))),d.random&&typeof d.speed=="number"&&(f.length*=ot()),f},this._checkOverlap=(h,f=0)=>{const d=this.options.collisions,g=this.getRadius();if(!d.enable)return!1;const v=d.overlap;if(v.enable)return!1;const b=v.retries;if(b>=0&&f>b)throw new Error(`${vi} particle is overlapping and can't be placed`);return!!this.container.particles.find(E=>Xn(h,E.position)<g+E.getRadius())},this._getRollColor=h=>{if(!h||!this.roll||!this.backColor&&!this.roll.alter)return h;const f=this.roll.horizontal&&this.roll.vertical?2:1,d=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+d)/(Math.PI/f))%2?this.backColor?this.backColor:this.roll.alter?RM(h,this.roll.alter.type,this.roll.alter.value):h:h},this._initPosition=h=>{const f=this.container,d=_e(this.options.zIndex.value);this.position=this._calcPosition(f,h,Pi(d,0,f.zLayers)),this.initialPosition=this.position.copy();const g=f.canvas.size;switch(this.moveCenter={...GA(this.options.move.center,g),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=iM(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Zt.origin},this._loadShapeData=(h,f)=>{const d=h.options[this.shape];if(d)return _n({close:h.close,fill:h.fill},Hs(d,this.id,f))},this._engine=e,this.init(t,r,a,u)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??uE(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??uE(this.strokeColor))}init(e,t,i,r){const a=this.container,u=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const h=a.retina.pixelRatio,f=a.actualOptions,d=n1(this._engine,a,f.particles),g=d.shape.type,{reduceDuplicates:v}=d;this.shape=Hs(g,this.id,v);const b=d.shape;if(i&&i.shape&&i.shape.type){const F=i.shape.type,q=Hs(F,this.id,v);q&&(this.shape=q,b.load(i.shape))}this.shapeData=this._loadShapeData(b,v),d.load(i);const E=this.shapeData;E&&d.load(E.particles);const I=new ZA(u,a);I.load(a.actualOptions.interactivity),I.load(d.interactivity),this.interactivity=I,this.fill=E?.fill??d.shape.fill,this.close=E?.close??d.shape.close,this.options=d;const A=this.options.move.path;this.pathDelay=sa(A.delay)*1e3,A.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(A.generator),this.pathGenerator&&a.addPath(A.generator,this.pathGenerator)&&this.pathGenerator.init(a)),a.retina.initParticle(this),this.size=HA(this.options.size,h),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-_e(this.options.move.decay);const D=a.particles;D.needsSort=D.needsSort||D.lastZIndex<this.position.z,D.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/a.zLayers,this.sides=24;let P=a.drawers.get(this.shape);P||(P=this._engine.plugins.getShapeDrawer(this.shape),P&&a.drawers.set(this.shape,P)),P&&P.loadShape&&P.loadShape(this);const B=P?.getSidesCount;B&&(this.sides=B(this)),this.spawning=!1,this.shadowColor=Ii(this.options.shadow.color);for(const F of a.particles.updaters)F.init(this);for(const F of a.particles.movers)F.init&&F.init(this);P&&P.particleInit&&P.particleInit(a,this);for(const[,F]of a.plugins)F.particleCreated&&F.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class bO{constructor(e,t){this.position=e,this.particle=t}}class i1{constructor(e,t){this.position={x:e,y:t}}}class ki extends i1{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof bn&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,a=e.position,u=e instanceof ki?e.size:{width:0,height:0},h=u.width,f=u.height;return a.x<r.x+t&&a.x+h>r.x&&a.y<r.y+i&&a.y+f>r.y}}class bn extends i1{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return Xn(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},a=this.radius;if(e instanceof bn){const u=a+e.radius,h=Math.sqrt(r.x**2+r.y**2);return u>h}else if(e instanceof ki){const{width:u,height:h}=e.size;return Math.pow(r.x-u,2)+Math.pow(r.y-h,2)<=a**2||r.x<=a+u&&r.y<=a+h||r.x<=u||r.y<=h}return!1}}class Cd{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:a,height:u}=this.rectangle.size,{capacity:h}=this;for(let f=0;f<4;f++)this._subs.push(new Cd(new ki(i+a/2*(f%2),r+u/2*(Math.round(f/2)-f%2),a/2,u/2),h));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const a of this._points)!e.contains(a.position)&&Xn(e.position,a.position)>a.particle.getRadius()&&(!t||t(a.particle))||r.push(a.particle);if(this._divided)for(const a of this._subs)a.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new bn(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new ki(e.x,e.y,t.width,t.height),i)}}const mE=4,pE=n=>new ki(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let wO=class{constructor(e,t){this._applyDensity=(r,a,u)=>{if(!r.number.density?.enable)return;const h=r.number,f=this._initDensityFactor(h.density),d=h.value,g=h.limit>0?h.limit:d,v=Math.min(d,g)*f+a,b=Math.min(this.count,this.filter(E=>E.group===u).length);this.limit=h.limit*f,b<v?this.push(Math.abs(v-b),void 0,r,u):b>v&&this.removeQuantity(b-v,u)},this._initDensityFactor=r=>{const a=this._container;if(!a.canvas.element||!r.enable)return 1;const u=a.canvas.element,h=a.retina.pixelRatio;return u.width*u.height/(r.factor*h**2*r.area)},this._pushParticle=(r,a,u,h)=>{try{let f=this.pool.pop();f?f.init(this._nextId,r,a,u):f=new _O(this._engine,this._nextId,this._container,r,a,u);let d=!0;return h&&(d=h(f)),d?(this._array.push(f),this._zArray.push(f),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:f}}),f):void 0}catch(f){ra().warning(`${vi} adding particle: ${f}`);return}},this._removeParticle=(r,a,u)=>{const h=this._array[r];if(!h||h.group!==a)return!1;h.destroy(u);const f=this._zArray.indexOf(h);return this._array.splice(r,1),this._zArray.splice(f,1),this.pool.push(h),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:h}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new vO(e,t);const i=t.canvas.size;this.quadTree=new Cd(pE(i),mE),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?GA(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const a=this._container,u=a.actualOptions,h=u.particles.number.limit;if(h>0){const f=this.count+1-h;f>0&&this.removeQuantity(f)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,r]of e.plugins)if(r.particlesInitialization!==void 0&&(i=r.particlesInitialization()),i)break;this._interactionManager.init();for(const[,r]of e.pathGenerators)r.init(e);if(this.addManualParticles(),!i){for(const r in t.particles.groups){const a=t.particles.groups[r];for(let u=this.count,h=0;h<a.number?.value&&u<t.particles.number.value;u++,h++)this.addParticle(void 0,a,r)}for(let r=this.count;r<t.particles.number.value;r++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let a=0;a<e;a++)this.addParticle(t?.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let a=0;for(let u=e;a<t&&u<this.count;u++)this._removeParticle(u--,i,r)&&a++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new Cd(pE(t.canvas.size),mE);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const a=t.canvas.resizeFactor;a&&!r.ignoresResizeRatio&&(r.position.x*=a.width,r.position.y*=a.height,r.initialPosition.x*=a.width,r.initialPosition.y*=a.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,u]of this._container.plugins){if(r.destroyed)break;u.particleUpdate&&u.particleUpdate(r,e)}for(const u of this.movers)u.isEnabled(r)&&u.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new bO(r.getPosition(),r))}if(i.size){const r=a=>!i.has(a);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const a of this.updaters)a.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((a,u)=>u.position.z-a.position.z||a.id-u.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class TO{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||kl()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const u=e.canvas.element;e.canvas.size.width=u.offsetWidth*i,e.canvas.size.height=u.offsetHeight*i}const r=t.particles,a=r.move;this.attractDistance=_e(a.attract.distance)*i,this.maxSpeed=_e(a.gravity.maxSpeed)*i,this.sizeAnimationSpeed=_e(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,a=r.distance,u=e.retina;u.attractDistance=_e(r.attract.distance)*i,u.moveDrift=_e(r.drift)*i,u.moveSpeed=_e(r.speed)*i,u.sizeAnimationSpeed=_e(t.size.animation.speed)*i;const h=u.maxDistance;h.horizontal=a.horizontal!==void 0?a.horizontal*i:void 0,h.vertical=a.vertical!==void 0?a.vertical*i:void 0,u.maxSpeed=_e(r.gravity.maxSpeed)*i}}function dt(n){return n&&!n.destroyed}function EO(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function hl(n,e,...t){const i=new yO(n,e);return t1(i,...t),i}const SO="default",gE={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class xO{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!dt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const a of r)a.target===this.interactivity.element&&(a.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??=r;const a=EO(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(a.value),this.lastFrameTime=r,a.value>1e3){this.draw(!1);return}if(await this.particles.draw(a),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(a){ra().error(`${vi} in animation loop`,a)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new TO(this),this.canvas=new IM(this),this.particles=new wO(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=hl(this._engine,this),this.actualOptions=hl(this._engine,this),this._eventListeners=new DM(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!dt(this))return;const t=this.interactivity.element;if(!t)return;const i=(v,b,E)=>{if(!dt(this))return;const I=this.retina.pixelRatio,A={x:b.x*I,y:b.y*I},D=this.particles.quadTree.queryCircle(A,E*I);e(v,D)},r=v=>{if(!dt(this))return;const b=v,E={x:b.offsetX||b.clientX,y:b.offsetY||b.clientY};i(v,E,1)},a=()=>{dt(this)&&(d=!0,g=!1)},u=()=>{dt(this)&&(g=!0)},h=v=>{if(dt(this)){if(d&&!g){const b=v;let E=b.touches[b.touches.length-1];if(!E&&(E=b.changedTouches[b.changedTouches.length-1],!E))return;const I=this.canvas.element,A=I?I.getBoundingClientRect():void 0,D={x:E.clientX-(A?A.left:0),y:E.clientY-(A?A.top:0)};i(v,D,Math.max(E.radiusX,E.radiusY))}d=!1,g=!1}},f=()=>{dt(this)&&(d=!1,g=!1)};let d=!1,g=!1;t.addEventListener("click",r),t.addEventListener("touchstart",a),t.addEventListener("touchmove",u),t.addEventListener("touchend",h),t.addEventListener("touchcancel",f)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!dt(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??gE),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!dt(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!dt(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}ra().error(`${vi} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&dt(this)}handleClickMode(e){if(dt(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!dt(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=hl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=hl(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=_e(this.actualOptions.duration)*1e3,this._delay=_e(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){dt(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(dt(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!dt(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(dt(this))return this.stop(),this.start()}async reset(){if(dt(this))return this._initialSourceOptions=void 0,this._options=hl(this._engine,this),this.actualOptions=hl(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){dt(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!dt(this))return;const r={...gE};if($A(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const a=r;r.generate=e.generate||a.generate,r.init=e.init||a.init,r.update=e.update||a.update}this.addPath(SO,r,!0)}async start(){!dt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!dt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class AO{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,a=i.indexOf(t);a<0||(r===1?this._listeners.delete(e):i.splice(a,1))}}function ny(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(a=>a(n)),e.set(n,r)),r}class RO{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){Jt(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return ny(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return ny(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return ny(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const a of r)a.loadOptions&&a.loadOptions(t,...i)}}async function CO(n){const e=Hs(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(ra().error(`${vi} ${t.status} while retrieving config file`),n.fallback)}function IO(n){return!n.id&&!n.element&&!n.url&&!n.options}function DO(n){return!IO(n)}class PO{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new AO,this._initialized=!1,this.plugins=new RO(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){Ri(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,a,u=!0){let h,f=u,d,g,v;Ur(i)?(f=i,d=void 0):d=i,Ur(r)?(f=r,g=void 0):g=r,Ur(a)?(f=a,v=void 0):v=a,$A(t)?h={afterEffect:g,destroy:v,draw:t,init:d}:h=t,this.plugins.addShapeDrawer(e,h),await this.refresh(f)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return DO(e)?r=e:(r={},Ri(e)?r.id=e:r.options=e,Ci(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,a;return Ci(t)||t===void 0?r=e:(a=e,r=t),this._loadParams({id:a,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const a={index:r};return Ri(e)?a.id=e:a.element=e,t instanceof HTMLElement?a.element=t:a.options=t,Ci(i)?a.index=i:a.options=i??a.options,this._loadParams(a)}async setJSON(e,t,i,r){const a={};return e instanceof HTMLElement?(a.element=e,a.url=t,a.index=i):(a.id=e,a.element=t,a.url=i,a.index=r),this._loadParams(a)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${vi} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(ot()*1e4)}`,{index:i,url:r}=e,a=r?await CO({fallback:e.options,url:r,index:i}):e.options;let u=e.element??document.getElementById(t);u||(u=document.createElement("div"),u.id=t,document.body.append(u));const h=Hs(a,i),f=this.dom(),d=f.findIndex(b=>b.id===t);if(d>=0){const b=this.domItem(d);b&&!b.destroyed&&(b.destroy(),f.splice(d,1))}let g;if(u.tagName.toLowerCase()==="canvas")g=u,g.dataset[Tc]="false";else{const b=u.getElementsByTagName("canvas");b.length?(g=b[0],g.dataset[Tc]="false"):(g=document.createElement("canvas"),g.dataset[Tc]="true",u.appendChild(g))}g.style.width||(g.style.width="100%"),g.style.height||(g.style.height="100%");const v=new xO(this,t,h);return d>=0?f.splice(d,0,v):f.push(v),v.canvas.loadCanvas(g),await v.start(),v}}class kO{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Ml(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Ml({h:_e(i.h),l:_e(i.l),s:_e(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?vM({a:i.length>4?zA(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class MO{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:_e(i.r),g:_e(i.g),b:_e(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?zA(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function OO(){const n=new MO,e=new kO;lE(n),lE(e);const t=new PO;return t.init(),t}class ds{constructor(e){this.container=e,this.type="external"}}class Jv{constructor(e){this.container=e,this.type="particles"}}const Id=OO();kl()||(window.tsParticles=Id);const vl=n=>typeof n=="object"&&n!==null;function Dd(n,e,t=()=>!1){if(!vl(n)||!vl(e))return n===e;const i=Object.keys(n).filter(a=>!t(a)),r=Object.keys(e).filter(a=>!t(a));if(i.length!==r.length)return!1;for(const a of i){const u=n[a],h=e[a];if(vl(u)&&vl(h)){if(u===e&&h===n)continue;if(!Dd(u,h,t))return!1}else if(Array.isArray(u)&&Array.isArray(h)){if(!s1(u,h,t))return!1}else if(u!==h)return!1}return!0}function s1(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],a=e[i];if(Array.isArray(r)&&Array.isArray(a)){if(!s1(r,a,t))return!1}else if(vl(r)&&vl(a)){if(!Dd(r,a,t))return!1}else if(r!==a)return!1}return!0}const r1="tsparticles";let o1=class a1 extends V.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!Dd(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!Dd(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Id),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:a}=this.props;return Vy.createElement("div",{className:i,id:a},Vy.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??a1.defaultProps.id??r1,t=await Id.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}};o1.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:r1};class Pd{static init(e){const t=new Pd,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return Id.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:e.responsive?.map(a=>({maxWidth:a.breakpoint,options:{particles:{color:{value:a.options?.color},links:{distance:a.options?.minDistance,enable:a.options?.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:a.options?.speed},size:{value:a.options?.sizeVariations}}}}))}).then(a=>{t._container=a}),t}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const NO=n=>{const e=(i,r)=>n.load(i,r);e.load=(i,r,a)=>{n.loadJSON(i,r).then(u=>{u&&a(u)}).catch(()=>{a(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},VO=n=>{const{particlesJS:e,pJSDom:t}=NO(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=Pd,{particlesJS:e,pJSDom:t,Particles:Pd}};function LO(n){const e=n.initialPosition,{dx:t,dy:i}=Cn(e,n.position),r=Math.abs(t),a=Math.abs(i),{maxDistance:u}=n.retina,h=u.horizontal,f=u.vertical;if(!(!h&&!f)){if((h&&r>=h||f&&a>=f)&&!n.misplaced)n.misplaced=!!h&&r>h||!!f&&a>f,h&&(n.velocity.x=n.velocity.y/2-n.velocity.x),f&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!h||r<h)&&(!f||a<f)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const d=n.position,g=n.velocity;h&&(d.x<e.x&&g.x<0||d.x>e.x&&g.x>0)&&(g.x*=-ot()),f&&(d.y<e.y&&g.y<0||d.y>e.y&&g.y>0)&&(g.y*=-ot())}}}function UO(n,e,t,i,r,a){jO(n,a);const u=n.gravity,h=u?.enable&&u.inverse?-1:1;r&&t&&(n.velocity.x+=r*a.factor/(60*t)),u?.enable&&t&&(n.velocity.y+=h*(u.acceleration*a.factor)/(60*t));const f=n.moveDecay;n.velocity.multTo(f);const d=n.velocity.mult(t);u?.enable&&i>0&&(!u.inverse&&d.y>=0&&d.y>=i||u.inverse&&d.y<=0&&d.y<=-i)&&(d.y=h*i,t&&(n.velocity.y=d.y/t));const g=n.options.zIndex,v=(1-n.zIndexFactor)**g.velocityRate;d.multTo(v);const{position:b}=n;b.addTo(d),e.vibrate&&(b.x+=Math.sin(b.x*Math.cos(b.y)),b.y+=Math.cos(b.y*Math.sin(b.x)))}function zO(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}function jO(n,e){const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const a=n.pathGenerator?.generate(n,e);a&&n.velocity.addTo(a),i.clamp&&(n.velocity.x=Pi(n.velocity.x,-1,1),n.velocity.y=Pi(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function BO(n){return n.slow.inRange?n.slow.factor:1}const FO=2;class qO{constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const a=r.position??{x:50,y:50},u={x:a.x/100*t.canvas.size.width,y:a.y/100*t.canvas.size.height},h=e.getPosition(),f=Xn(h,u),d=_e(r.acceleration);e.retina.spinAcceleration=d*t.retina.pixelRatio,e.spin={center:u,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:f,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:_e(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const i=e.options,r=i.move;if(!r.enable)return;const a=e.container,u=a.retina.pixelRatio,h=BO(e),f=(e.retina.moveSpeed??=_e(r.speed)*u)*a.retina.reduceFactor,d=e.retina.moveDrift??=_e(e.options.move.drift)*u,g=Vr(i.size.value)*u,v=r.size?e.getRadius()/g:1,b=f*v*h*(t.factor||1)/FO,E=e.retina.maxSpeed??a.retina.maxSpeed;r.spin.enable?zO(e,b):UO(e,r,b,E,d,t),LO(e)}}async function HO(n,e=!0){await n.addMover("base",()=>new qO,e)}class GO{draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:Math.PI*2});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=i?.angle??{max:360,min:0};t.circleRange=yl(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function $O(n,e=!0){await n.addShape("circle",new GO,e)}function iy(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const a=Nn(t.offset),u=(e.velocity??0)*n.factor+a*3.6,h=e.decay??1;!r||e.status==="increasing"?(e.value+=u,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=u,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&h!==1&&(e.velocity*=h),e.value>i&&(e.value%=i)}function KO(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:a}=n;if(!a)return;const{h:u,s:h,l:f}=a;u&&iy(e,u,t,360,!1),h&&iy(e,h,i,100,!0),f&&iy(e,f,r,100,!0)}class YO{constructor(e){this.container=e}init(e){const t=Vc(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=QA(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:a}=e;return!e.destroyed&&!e.spawning&&(a?.h.value!==void 0&&t.enable||a?.s.value!==void 0&&i.enable||a?.l.value!==void 0&&r.enable)}update(e,t){KO(e,t)}}async function XO(n,e=!0){await n.addParticleUpdater("color",t=>new YO(t),e)}function WO(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function QO(n,e){const t=n.opacity;if(n.destroyed||!t?.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,a=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=a),WO(n,t.value,i,r),n.destroyed||(t.value=Pi(t.value,i,r))}}class ZO{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=HA(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=_e(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=ot()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&QO(e,t)}}async function JO(n,e=!0){await n.addParticleUpdater("opacity",t=>new ZO(t),e)}function eN(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=sa(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function tN(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=sa(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class nN{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;let u=!1;for(const[,b]of a.plugins)if(b.particleBounce!==void 0&&(u=b.particleBounce(e,i,t)),u)break;if(u)return;const h=e.getPosition(),f=e.offset,d=e.getRadius(),g=sh(h,d),v=a.canvas.size;eN({particle:e,outMode:r,direction:t,bounds:g,canvasSize:v,offset:f,size:d}),tN({particle:e,outMode:r,direction:t,bounds:g,canvasSize:v,offset:f,size:d})}}class iN{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case"normal":case"outside":if(Xv(e.position,a.canvas.size,Zt.origin,e.getRadius(),t))return;break;case"inside":{const{dx:u,dy:h}=Cn(e.position,e.moveCenter),{x:f,y:d}=e.velocity;if(f<0&&u>e.moveCenter.radius||d<0&&h>e.moveCenter.radius||f>=0&&u<-e.moveCenter.radius||d>=0&&h<-e.moveCenter.radius)return;break}}a.particles.remove(e,void 0,!0)}}class sN{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const a=e.options.move.gravity,u=this.container,h=u.canvas.size,f=e.getRadius();if(a.enable){const d=e.position;(!a.inverse&&d.y>h.height+f&&t==="bottom"||a.inverse&&d.y<-f&&t==="top")&&u.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=h.height+f||e.velocity.y<0&&e.position.y>=-f||e.velocity.x>0&&e.position.x<=h.width+f||e.velocity.x<0&&e.position.x>=-f)return;Xv(e.position,u.canvas.size,Zt.origin,f,t)||u.particles.remove(e)}}}class rN{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case"inside":{const{x:u,y:h}=e.velocity,f=Zt.origin;f.length=e.moveCenter.radius,f.angle=e.velocity.angle+Math.PI,f.addTo(Zt.create(e.moveCenter));const{dx:d,dy:g}=Cn(e.position,f);if(u<=0&&d>=0||h<=0&&g>=0||u>=0&&d<=0||h>=0&&g<=0)return;e.position.x=Math.floor(Nn({min:0,max:a.canvas.size.width})),e.position.y=Math.floor(Nn({min:0,max:a.canvas.size.height}));const{dx:v,dy:b}=Cn(e.position,e.moveCenter);e.direction=Math.atan2(-b,-v),e.velocity.angle=e.direction;break}default:{if(Xv(e.position,a.canvas.size,Zt.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Nn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Nn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:u,dy:h}=Cn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(h,u),e.velocity.angle=e.direction);break}case"normal":{const u=e.options.move.warp,h=a.canvas.size,f={bottom:h.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:h.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},d=e.getRadius(),g=sh(e.position,d);t==="right"&&g.left>h.width+e.offset.x?(e.position.x=f.left,e.initialPosition.x=e.position.x,u||(e.position.y=ot()*h.height,e.initialPosition.y=e.position.y)):t==="left"&&g.right<-e.offset.x&&(e.position.x=f.right,e.initialPosition.x=e.position.x,u||(e.position.y=ot()*h.height,e.initialPosition.y=e.position.y)),t==="bottom"&&g.top>h.height+e.offset.y?(u||(e.position.x=ot()*h.width,e.initialPosition.x=e.position.x),e.position.y=f.top,e.initialPosition.y=e.position.y):t==="top"&&g.bottom<-e.offset.y&&(u||(e.position.x=ot()*h.width,e.initialPosition.x=e.position.x),e.position.y=f.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class oN{constructor(e){this.container=e,this._updateOutMode=(t,i,r,a)=>{for(const u of this.updaters)u.update(t,a,i,r)},this.updaters=[new nN(e),new iN(e),new rN(e),new sN(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function aN(n,e=!0){await n.addParticleUpdater("outModes",t=>new oN(t),e)}function lN(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function uN(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,a=t.max,u=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=a?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&u!==1&&(t.velocity*=u),lN(n,t.value,r,a),n.destroyed||(t.value=Pi(t.value,r,a))}}class cN{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=ot()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&uN(e,t)}}async function hN(n,e=!0){await n.addParticleUpdater("size",()=>new cN,e)}async function fN(n,e=!0){await HO(n,!1),await $O(n,!1),await XO(n,!1),await JO(n,!1),await aN(n,!1),await hN(n,!1),await n.refresh(e)}async function dN(){Hg("ease-in-quad",n=>n**2),Hg("ease-out-quad",n=>1-(1-n)**2),Hg("ease-in-out-quad",n=>n<.5?2*n**2:1-(-2*n+2)**2/2)}class mN{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let pN=class extends ds{constructor(e,t){super(t),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const a=i.interactivity.mouse.clickPosition,u=i.retina.attractModeDistance;if(!u||u<0||!a)return;this._processAttract(a,u,new bn(a.x,a.y,u))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.attractModeDistance;!a||a<0||!r||this._processAttract(r,a,new bn(r.x,r.y,a))},this._processAttract=(i,r,a)=>{const u=this.container,h=u.actualOptions.interactivity.modes.attract;if(!h)return;const f=u.particles.quadTree.query(a,d=>this.isEnabled(d));for(const d of f){const{dx:g,dy:v,distance:b}=Cn(d.position,i),E=h.speed*h.factor,I=Pi(UA(h.easing)(1-b/r)*E,0,h.maxSpeed),A=Zt.create(b===0?E:g/b*I,b===0?E:v/b*I);d.position.subFrom(A)}},this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.attract;if(!(!a||i!=="attract")){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const u of t.attract.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},a.duration*1e3)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===ia,r=t.interactivity.events,a=r.onHover.enable,u=r.onHover.mode,h=r.onClick.enable,f=r.onClick.mode;i&&a&&Ct("attract",u)?this._hoverAttract():h&&Ct("attract",f)&&this._clickAttract()}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events;if((!r.position||!a.onHover.enable)&&(!r.clickPosition||!a.onClick.enable))return!1;const u=a.onHover.mode,h=a.onClick.mode;return Ct("attract",u)||Ct("attract",h)}loadModeOptions(e,...t){e.attract||(e.attract=new mN);for(const i of t)e.attract.load(i?.attract)}reset(){}};async function gN(n,e=!0){await n.addInteractor("externalAttract",t=>new pN(n,t),e)}class yN{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class vN extends ds{constructor(e){super(e),this._processBounce=(t,i,r)=>{const a=this.container.particles.quadTree.query(r,u=>this.isEnabled(u));for(const u of a)r instanceof bn?FA(By(u),{position:t,mass:i**2*Math.PI/2,velocity:Zt.origin,factor:Zt.origin}):r instanceof ki&&mM(u,sh(t,i))},this._processMouseBounce=()=>{const t=this.container,i=t.retina.pixelRatio,r=10*i,a=t.interactivity.mouse.position,u=t.retina.bounceModeDistance;!u||u<0||!a||this._processBounce(a,u,new bn(a.x,a.y,u+r))},this._singleSelectorBounce=(t,i)=>{const r=this.container,a=document.querySelectorAll(t);a.length&&a.forEach(u=>{const h=u,f=r.retina.pixelRatio,d={x:(h.offsetLeft+h.offsetWidth/2)*f,y:(h.offsetTop+h.offsetHeight/2)*f},g=h.offsetWidth/2*f,v=10*f,b=i.type==="circle"?new bn(d.x,d.y,g+v):new ki(h.offsetLeft*f-v,h.offsetTop*f-v,h.offsetWidth*f+v*2,h.offsetHeight*f+v*2);this._processBounce(d,g,b)})}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===ia,a=i.onHover.enable,u=i.onHover.mode,h=i.onDiv;r&&a&&Ct("bounce",u)?this._processMouseBounce():Qv("bounce",h,(f,d)=>this._singleSelectorBounce(f,d))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,u=a.onDiv;return r.position&&a.onHover.enable&&Ct("bounce",a.onHover.mode)||Wv("bounce",u)}loadModeOptions(e,...t){e.bounce||(e.bounce=new yN);for(const i of t)e.bounce.load(i?.bounce)}reset(){}}async function _N(n,e=!0){await n.addInteractor("externalBounce",t=>new vN(t),e)}class l1{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=Wn(this.color)?void 0:this.color;this.color=Jt(e.color,i=>cn.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class bN extends l1{constructor(){super(),this.selectors=[]}get ids(){return Jt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Jt(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class wN extends l1{load(e){super.load(e),e&&(this.divs=Jt(e.divs,t=>{const i=new bN;return i.load(t),i}))}}function yE(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Pi(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Pi(r,e,n)}}class TN extends ds{constructor(e){super(e),this._clickBubble=()=>{const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.clickPosition,a=i.interactivity.modes.bubble;if(!a||!r)return;t.bubble||(t.bubble={});const u=t.retina.bubbleModeDistance;if(!u||u<0)return;const h=t.particles.quadTree.queryCircle(r,u,d=>this.isEnabled(d)),{bubble:f}=t;for(const d of h){if(!f.clicking)continue;d.bubble.inRange=!f.durationEnd;const g=d.getPosition(),v=Xn(g,r),b=(new Date().getTime()-(t.interactivity.mouse.clickTime||0))/1e3;b>a.duration&&(f.durationEnd=!0),b>a.duration*2&&(f.clicking=!1,f.durationEnd=!1);const E={bubbleObj:{optValue:t.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Vr(d.options.size.value)*t.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,v,b,E);const I={bubbleObj:{optValue:a.opacity,value:d.bubble.opacity},particlesObj:{optValue:Vr(d.options.opacity.value),value:d.opacity?.value??1},type:"opacity"};this._process(d,v,b,I),!f.durationEnd&&v<=u?this._hoverBubbleColor(d,v):delete d.bubble.color}},this._hoverBubble=()=>{const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const a=t.particles.quadTree.queryCircle(i,r,u=>this.isEnabled(u));for(const u of a){u.bubble.inRange=!0;const h=u.getPosition(),f=Xn(h,i),d=1-f/r;f<=r?d>=0&&t.interactivity.status===ia&&(this._hoverBubbleSize(u,d),this._hoverBubbleOpacity(u,d),this._hoverBubbleColor(u,d)):this.reset(u),t.interactivity.status===zy&&this.reset(u)}},this._hoverBubbleColor=(t,i,r)=>{const a=this.container.actualOptions,u=r??a.interactivity.modes.bubble;if(u){if(!t.bubble.finalColor){const h=u.color;if(!h)return;const f=Hs(h);t.bubble.finalColor=Vc(f)}if(t.bubble.finalColor)if(u.mix){t.bubble.color=void 0;const h=t.getFillColor();t.bubble.color=h?YA(Zv(h,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,i,r)=>{const a=this.container,u=a.actualOptions,h=r?.opacity??u.interactivity.modes.bubble?.opacity;if(!h)return;const f=t.options.opacity.value,d=t.opacity?.value??1,g=yE(d,h,Vr(f),i);g!==void 0&&(t.bubble.opacity=g)},this._hoverBubbleSize=(t,i,r)=>{const a=this.container,u=r?.size?r.size*a.retina.pixelRatio:a.retina.bubbleModeSize;if(u===void 0)return;const h=Vr(t.options.size.value)*a.retina.pixelRatio,f=t.size.value,d=yE(f,u,h,i);d!==void 0&&(t.bubble.radius=d)},this._process=(t,i,r,a)=>{const u=this.container,h=a.bubbleObj.optValue,f=u.actualOptions,d=f.interactivity.modes.bubble;if(!d||h===void 0)return;const g=d.duration,v=u.retina.bubbleModeDistance,b=a.particlesObj.optValue,E=a.bubbleObj.value,I=a.particlesObj.value||0,A=a.type;if(!(!v||v<0||h===b))if(u.bubble||(u.bubble={}),u.bubble.durationEnd)E&&(A==="size"&&delete t.bubble.radius,A==="opacity"&&delete t.bubble.opacity);else if(i<=v){if((E??I)!==h){const P=I-r*(I-h)/g;A==="size"&&(t.bubble.radius=P),A==="opacity"&&(t.bubble.opacity=P)}}else A==="size"&&delete t.bubble.radius,A==="opacity"&&delete t.bubble.opacity},this._singleSelectorHover=(t,i,r)=>{const a=this.container,u=document.querySelectorAll(i),h=a.actualOptions.interactivity.modes.bubble;!h||!u.length||u.forEach(f=>{const d=f,g=a.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth/2)*g,y:(d.offsetTop+d.offsetHeight/2)*g},b=d.offsetWidth/2*g,E=r.type==="circle"?new bn(v.x,v.y,b):new ki(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),I=a.particles.quadTree.query(E,A=>this.isEnabled(A));for(const A of I){if(!E.contains(A.getPosition()))continue;A.bubble.inRange=!0;const D=h.divs,P=BA(D,d);(!A.bubble.div||A.bubble.div!==d)&&(this.clear(A,t,!0),A.bubble.div=d),this._hoverBubbleSize(A,1,P),this._hoverBubbleOpacity(A,1,P),this._hoverBubbleColor(A,1,P)}})},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,a=i.onClick,u=r.enable,h=r.mode,f=a.enable,d=a.mode,g=i.onDiv;u&&Ct("bubble",h)?this._hoverBubble():f&&Ct("bubble",d)?this._clickBubble():Qv("bubble",g,(v,b)=>this._singleSelectorHover(e,v,b))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,{onClick:u,onDiv:h,onHover:f}=a,d=Wv("bubble",h);return d||f.enable&&r.position||u.enable&&r.clickPosition?Ct("bubble",f.mode)||Ct("bubble",u.mode)||d:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new wN);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function EN(n,e=!0){await n.addInteractor("externalBubble",t=>new TN(t),e)}class SN{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class xN{constructor(){this.distance=80,this.links=new SN,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function AN(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),a=e.getFillColor(),u=t.getFillColor();if(!a||!u)return;const h=e.getPosition(),f=t.getPosition(),d=Zv(a,u,e.getRadius(),t.getRadius()),g=n.createLinearGradient(h.x,h.y,f.x,f.y);return g.addColorStop(0,Lc(a,i)),g.addColorStop(r>1?1:r,Gs(d,i)),g.addColorStop(1,Lc(u,i)),g}function RN(n,e,t,i,r){Ec(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function CN(n,e,t,i){const r=n.actualOptions,a=r.interactivity.modes.connect;if(a)return AN(e,t,i,a.links.opacity)}function IN(n,e,t){n.canvas.draw(i=>{const r=CN(n,i,e,t);if(!r)return;const a=e.getPosition(),u=t.getPosition();RN(i,e.retina.linksWidth??0,r,a,u)})}class DN extends ds{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),a=e.particles.quadTree.queryCircle(i,r,h=>this.isEnabled(h));let u=0;for(const h of a){const f=h.getPosition();for(const d of a.slice(u+1)){const g=d.getPosition(),v=Math.abs(e.retina.connectModeDistance),b=Math.abs(f.x-g.x),E=Math.abs(f.y-g.y);b<v&&E<v&&IN(e,h,d)}++u}}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Ct("connect",r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new xN);for(const i of t)e.connect.load(i?.connect)}reset(){}}async function PN(n,e=!0){await n.addInteractor("externalConnect",t=>new DN(t),e)}class kN{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=cn.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class MN{constructor(){this.distance=100,this.links=new kN}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function ON(n,e,t,i,r,a){Ec(n,t,i),n.strokeStyle=Gs(r,a),n.lineWidth=e,n.stroke()}function NN(n,e,t,i,r){n.canvas.draw(a=>{const u=e.getPosition();ON(a,e.retina.linksWidth??0,u,r,t,i)})}class VN extends ds{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==ia)return;const r=e.interactivity.mouse.position;if(!r)return;const a=e.retina.grabModeDistance;if(!a||a<0)return;const u=e.particles.quadTree.queryCircle(r,a,h=>this.isEnabled(h));for(const h of u){const f=h.getPosition(),d=Xn(f,r);if(d>a)continue;const g=i.modes.grab.links,v=g.opacity,b=v-d*v/a;if(b<=0)continue;const E=g.color??h.options.links?.color;if(!e.particles.grabLineColor&&E){const A=i.modes.grab.links;e.particles.grabLineColor=WA(E,A.blink,A.consent)}const I=Fy(h,void 0,e.particles.grabLineColor);I&&NN(e,h,I,b,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Ct("grab",r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new MN);for(const i of t)e.grab.load(i?.grab)}reset(){}}async function LN(n,e=!0){await n.addInteractor("externalGrab",t=>new VN(t),e)}class UN extends ds{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function zN(n,e=!0){await n.addInteractor("externalPause",t=>new UN(t),e)}class jN{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Ie(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Ie(t))}}class BN extends ds{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="push")return;const i=this.container,r=i.actualOptions,a=r.interactivity.modes.push;if(!a)return;const u=_e(a.quantity);if(u<=0)return;const h=sm([void 0,...a.groups]),f=h!==void 0?i.actualOptions.particles.groups[h]:void 0;i.particles.push(u,i.interactivity.mouse,f,h)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new jN);for(const i of t)e.push.load(i?.push)}reset(){}}async function FN(n,e=!0){await n.addInteractor("externalPush",t=>new BN(t),e)}class qN{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Ie(e)}load(e){if(!e)return;const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Ie(t))}}class HN extends ds{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!=="remove")return;const a=_e(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new qN);for(const i of t)e.remove.load(i?.remove)}reset(){}}async function GN(n,e=!0){await n.addInteractor("externalRemove",t=>new HN(t),e)}class u1{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class $N extends u1{constructor(){super(),this.selectors=[]}get ids(){return Jt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Jt(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class KN extends u1{load(e){super.load(e),e&&(this.divs=Jt(e.divs,t=>{const i=new $N;return i.load(t),i}))}}class YN extends ds{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const a=i.repulse||{particles:[]};if(a.finish||(a.count||(a.count=0),a.count++,a.count===i.particles.count&&(a.finish=!0)),a.clicking){const u=i.retina.repulseModeDistance;if(!u||u<0)return;const h=Math.pow(u/6,3),f=i.interactivity.mouse.clickPosition;if(f===void 0)return;const d=new bn(f.x,f.y,h),g=i.particles.quadTree.query(d,v=>this.isEnabled(v));for(const v of g){const{dx:b,dy:E,distance:I}=Cn(f,v.position),A=I**2,D=r.speed,P=-h*D/A;if(A<=h){a.particles.push(v);const B=Zt.create(b,E);B.length=P,v.velocity.setTo(B)}}}else if(a.clicking===!1){for(const u of a.particles)u.velocity.setTo(u.initialVelocity);a.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.repulseModeDistance;!a||a<0||!r||this._processRepulse(r,a,new bn(r.x,r.y,a))},this._processRepulse=(i,r,a,u)=>{const h=this.container,f=h.particles.quadTree.query(a,g=>this.isEnabled(g)),d=h.actualOptions.interactivity.modes.repulse;if(d)for(const g of f){const{dx:v,dy:b,distance:E}=Cn(g.position,i),I=(u?.speed??d.speed)*d.factor,A=Pi(UA(d.easing)(1-E/r)*I,0,d.maxSpeed),D=Zt.create(E===0?I:v/E*A,E===0?I:b/E*A);g.position.addTo(D)}},this._singleSelectorRepulse=(i,r)=>{const a=this.container,u=a.actualOptions.interactivity.modes.repulse;if(!u)return;const h=document.querySelectorAll(i);h.length&&h.forEach(f=>{const d=f,g=a.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth/2)*g,y:(d.offsetTop+d.offsetHeight/2)*g},b=d.offsetWidth/2*g,E=r.type==="circle"?new bn(v.x,v.y,b):new ki(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),I=u.divs,A=BA(I,d);this._processRepulse(v,b,E,A)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.repulse;if(!a||i!=="repulse")return;t.repulse||(t.repulse={particles:[]});const u=t.repulse;u.clicking=!0,u.count=0;for(const h of t.repulse.particles)this.isEnabled(h)&&h.velocity.setTo(h.initialVelocity);u.particles=[],u.finish=!1,setTimeout(()=>{t.destroyed||(u.clicking=!1)},a.duration*1e3)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===ia,r=t.interactivity.events,a=r.onHover,u=a.enable,h=a.mode,f=r.onClick,d=f.enable,g=f.mode,v=r.onDiv;i&&u&&Ct("repulse",h)?this._hoverRepulse():d&&Ct("repulse",g)?this._clickRepulse():Qv("repulse",v,(b,E)=>this._singleSelectorRepulse(b,E))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,u=a.onDiv,h=a.onHover,f=a.onClick,d=Wv("repulse",u);if(!(d||h.enable&&r.position||f.enable&&r.clickPosition))return!1;const g=h.mode,v=f.mode;return Ct("repulse",g)||Ct("repulse",v)||d}loadModeOptions(e,...t){e.repulse||(e.repulse=new KN);for(const i of t)e.repulse.load(i?.repulse)}reset(){}}async function XN(n,e=!0){await n.addInteractor("externalRepulse",t=>new YN(n,t),e)}class WN{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class QN extends ds{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Ct("slow",r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new WN);for(const i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,a=t.retina.slowModeRadius,u=i.interactivity.modes.slow;if(!u||!a||a<0||!r)return;const h=e.getPosition(),f=Xn(r,h),d=f/a,g=u.factor,{slow:v}=e;f>a||(v.inRange=!0,v.factor=d/g)}}async function ZN(n,e=!0){await n.addInteractor("externalSlow",t=>new QN(t),e)}const sy=[0,4,2,1],vE=[8,8,4,2];class JN{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let i=t;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==0);return e}readSubBlocksBin(){let e=0,t=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)t+=e;const i=new Uint8Array(t);for(let r=0;(e=this.data[this.pos++])!==0;)for(let a=e;--a>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function c1(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}async function eV(n,e,t,i){switch(n.nextByte()){case 249:{const r=e.frames[t(!1)];n.pos++;const a=n.nextByte();r.GCreserved=(a&224)>>>5,r.disposalMethod=(a&28)>>>2,r.userInputDelayFlag=(a&2)===2;const u=(a&1)===1;r.delayTime=n.nextTwoBytes()*10;const h=n.nextByte();u&&i(h),n.pos++;break}case 255:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([t(!1),n.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function tV(n,e,t,i,r,a){const u=e.frames[i(!0)];u.left=n.nextTwoBytes(),u.top=n.nextTwoBytes(),u.width=n.nextTwoBytes(),u.height=n.nextTwoBytes();const h=n.nextByte(),f=(h&128)===128,d=(h&64)===64;u.sortFlag=(h&32)===32,u.reserved=(h&24)>>>3;const g=1<<(h&7)+1;f&&(u.localColorTable=c1(n,g));const v=P=>{const{r:B,g:F,b:q}=(f?u.localColorTable:e.globalColorTable)[P];return{r:B,g:F,b:q,a:P===r(null)?t?~~((B+F+q)/3):0:255}},b=(()=>{try{return new ImageData(u.width,u.height,{colorSpace:"srgb"})}catch(P){if(P instanceof DOMException&&P.name==="IndexSizeError")return null;throw P}})();if(b==null)throw new EvalError("GIF frame size is to large");const E=n.nextByte(),I=n.readSubBlocksBin(),A=1<<E,D=(P,B)=>{const F=P>>>3,q=P&7;return(I[F]+(I[F+1]<<8)+(I[F+2]<<16)&(1<<B)-1<<q)>>>q};if(d){for(let P=0,B=E+1,F=0,q=[[0]],Q=0;Q<4;Q++)if(sy[Q]<u.height)for(let le=0,M=0;;){const C=P;if(P=D(F,B),F+=B+1,P===A){B=E+1,q.length=A+2;for(let k=0;k<q.length;k++)q[k]=k<A?[k]:[]}else{P>=q.length?q.push(q[C].concat(q[C][0])):C!==A&&q.push(q[C].concat(q[P][0]));for(let k=0;k<q[P].length;k++){const{r:U,g:j,b:H,a:N}=v(q[P][k]);b.data.set([U,j,H,N],sy[Q]*u.width+vE[Q]*M+le%(u.width*4)),le+=4}q.length===1<<B&&B<12&&B++}if(le===u.width*4*(M+1)&&(M++,sy[Q]+vE[Q]*M>=u.height))break}u.image=b,u.bitmap=await createImageBitmap(b)}else{for(let P=0,B=E+1,F=0,q=[[0]],Q=-4;;){const le=P;if(P=D(F,B),F+=B,P===A){B=E+1,q.length=A+2;for(let M=0;M<q.length;M++)q[M]=M<A?[M]:[]}else{if(P===A+1)break;P>=q.length?q.push(q[le].concat(q[le][0])):le!==A&&q.push(q[le].concat(q[P][0]));for(let M=0;M<q[P].length;M++){const{r:C,g:k,b:U,a:j}=v(q[P][M]);b.data.set([C,k,U,j],Q+=4)}q.length>=1<<B&&B<12&&B++}}u.image=b,u.bitmap=await createImageBitmap(b)}}async function nV(n,e,t,i,r,a){switch(n.nextByte()){case 59:return!0;case 44:await tV(n,e,t,i,r);break;case 33:await eV(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function iV(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function sV(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),a={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},u=new JN(new Uint8ClampedArray(r));if(u.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");a.width=u.nextTwoBytes(),a.height=u.nextTwoBytes();const h=u.nextByte(),f=(h&128)===128;a.colorRes=(h&112)>>>4,a.sortFlag=(h&8)===8;const d=1<<(h&7)+1,g=u.nextByte();a.pixelAspectRatio=u.nextByte(),a.pixelAspectRatio!==0&&(a.pixelAspectRatio=(a.pixelAspectRatio+15)/64),f&&(a.globalColorTable=c1(u,d));const v=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(q){if(q instanceof DOMException&&q.name==="IndexSizeError")return null;throw q}})();if(v==null)throw new Error("GIF frame size is to large");const{r:b,g:E,b:I}=a.globalColorTable[g];v.data.set(f?[b,E,I,255]:[0,0,0,0]);for(let q=4;q<v.data.length;q*=2)v.data.copyWithin(q,0,q);a.backgroundImage=v;let A=-1,D=!0,P=-1;const B=q=>(q&&(D=!0),A),F=q=>(q!=null&&(P=q),P);try{do D&&(a.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),A++,P=-1,D=!1);while(!await nV(u,a,t,B,F,e));a.frames.length--;for(const q of a.frames){if(q.userInputDelayFlag&&q.delayTime===0){a.totalTime=1/0;break}a.totalTime+=q.delayTime}return a}catch(q){throw q instanceof EvalError?new Error(`error while parsing frame ${A} "${q.message}"`):q}}const rV=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function oV(n,e,t){const{svgData:i}=n;if(!i)return"";const r=Lc(e,t);if(i.includes("fill"))return i.replace(rV,()=>r);const a=i.indexOf(">");return`${i.substring(0,a)} fill="${r}"${i.substring(a)}`}async function om(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,ra().error(`${vi} loading image: ${n.source}`),e()}),t.src=n.source})}async function aV(n){if(n.type!=="gif"){await om(n);return}n.loading=!0;try{n.gifData=await sV(n.source),n.gifLoopCount=iV(n.gifData)??0,n.gifLoopCount===0&&(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}async function lV(n){if(n.type!=="svg"){await om(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(ra().error(`${vi} Image not found`),n.error=!0),n.loading=!1}function uV(n,e,t,i){const r=oV(n,t,i.opacity?.value??1),a={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(u=>{const h=new Blob([r],{type:"image/svg+xml"}),f=URL||window.URL||window.webkitURL||window,d=f.createObjectURL(h),g=new Image;g.addEventListener("load",()=>{a.loaded=!0,a.element=g,u(a),f.revokeObjectURL(d)}),g.addEventListener("error",async()=>{f.revokeObjectURL(d);const v={...n,error:!1,loading:!0};await om(v),a.loaded=!0,a.element=v.element,u(a)}),g.src=d})}class cV{constructor(e){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${vi} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??t.replace_color??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,t,i,r,a){const u=t.image,h=u?.element;if(u){if(e.globalAlpha=r,u.gif&&u.gifData){const f=new OffscreenCanvas(u.gifData.width,u.gifData.height),d=f.getContext("2d");if(!d)throw new Error("could not create offscreen canvas context");d.imageSmoothingQuality="low",d.imageSmoothingEnabled=!1,d.clearRect(0,0,f.width,f.height),t.gifLoopCount===void 0&&(t.gifLoopCount=u.gifLoopCount??0);let g=t.gifFrame??0;const v={x:-u.gifData.width*.5,y:-u.gifData.height*.5},b=u.gifData.frames[g];if(t.gifTime===void 0&&(t.gifTime=0),!b.bitmap)return;switch(e.scale(i/u.gifData.width,i/u.gifData.height),b.disposalMethod){case 4:case 5:case 6:case 7:case 0:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height);break;case 1:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y);break;case 2:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height),u.gifData.globalColorTable.length===0?d.putImageData(u.gifData.frames[0].image,v.x+b.left,v.y+b.top):d.putImageData(u.gifData.backgroundImage,v.x,v.y);break;case 3:{const E=d.getImageData(0,0,f.width,f.height);d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height),d.putImageData(E,0,0)}break}if(t.gifTime+=a.value,t.gifTime>b.delayTime){if(t.gifTime-=b.delayTime,++g>=u.gifData.frames.length){if(--t.gifLoopCount<=0)return;g=0,d.clearRect(0,0,f.width,f.height)}t.gifFrame=g}e.scale(u.gifData.width/i,u.gifData.height/i)}else if(h){const f=u.ratio,d={x:-i,y:-i};e.drawImage(h,d.x,d.y,i*2,i*2/f)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData,a=t.getFillColor(),u=i.find(f=>f.name===r.name||f.source===r.src);if(!u)return;const h=r.replaceColor??r.replace_color??u.replaceColor;if(u.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let f;u.svgData&&a?f=await uV(u,r,a,t):f={color:a,data:u,element:u.element,gif:u.gif,gifData:u.gifData,gifLoopCount:u.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:u.ratio??1,replaceColor:h,source:r.src},f.ratio||(f.ratio=1);const d=r.fill??t.fill,g=r.close??t.close,v={image:f,fill:d,close:g};t.image=v.image,t.fill=v.fill,t.close=v.close})()}}class hV{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class fV{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,t){if(!t||!t.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const a=i.find(u=>u.name===r.name||u.src===r.src);if(a)a.load(r);else{const u=new hV;u.load(r),i.push(u)}}}needsPlugin(){return!0}}function dV(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${vi} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t),await(e.gif?aV:e.replaceColor?lV:om)(t)}catch{throw new Error(`${vi} ${e.name??e.src} not found`)}})}async function mV(n,e=!0){dV(n);const t=new fV(n);await n.addPlugin(t,e),await n.addShape(["image","images"],new cV(n),e)}class pV extends eo{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class gV extends eo{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class yV{constructor(){this.count=0,this.delay=new pV,this.duration=new gV}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class vV{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?_e(r.delay.value)*(r.delay.sync?1:ot())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?_e(r.duration.value)*(r.duration.sync?1:ot())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new yV);for(const i of t)e.life.load(i?.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=t.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const a=this.container.canvas.size,u=Ie(0,a.width),h=Ie(0,a.width);e.position.x=Nn(u),e.position.y=Nn(h),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const f=e.options.life;f&&(i.delay=_e(f.delay.value)*1e3,i.duration=_e(f.duration.value)*1e3)}}async function _V(n,e=!0){await n.addParticleUpdater("life",t=>new vV(t),e)}class bV{draw(e,t,i){const r=t.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=r?.cap??"butt"}getSidesCount(){return 1}}async function wV(n,e=!0){await n.addShape("line",new bV,e)}class TV{init(){}isEnabled(e){return!kl()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(kl()||!r.enable)return;const a=r.force,u=t.interactivity.mouse.position;if(!u)return;const h=t.canvas.size,f={x:h.width/2,y:h.height/2},d=r.smooth,g=e.getRadius()/a,v={x:(u.x-f.x)*g,y:(u.y-f.y)*g},{offset:b}=e;b.x+=(v.x-b.x)/d,b.y+=(v.y-b.y)/d}}async function EV(n,e=!0){await n.addMover("parallax",()=>new TV,e)}class SV extends Jv{constructor(e){super(e)}clear(){}init(){}async interact(e){const t=this.container,i=e.retina.attractDistance??t.retina.attractDistance,r=e.getPosition(),a=t.particles.quadTree.queryCircle(r,i);for(const u of a){if(e===u||!u.options.move.attract.enable||u.destroyed||u.spawning)continue;const h=u.getPosition(),{dx:f,dy:d}=Cn(r,h),g=e.options.move.attract.rotate,v=f/(g.x*1e3),b=d/(g.y*1e3),E=u.size.value/e.size.value,I=1/E;e.velocity.x-=v*E,e.velocity.y-=b*E,u.velocity.x+=v*I,u.velocity.y+=b*I}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function xV(n,e=!0){await n.addInteractor("particlesAttract",t=>new SV(t),e)}function _E(n,e,t,i,r,a){const u=Pi(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=u/2,t.size.value-=u,i<=a&&(t.size.value=0,t.destroy())}function AV(n,e,t,i){const r=n.getRadius(),a=e.getRadius();r===void 0&&a!==void 0?n.destroy():r!==void 0&&a===void 0?e.destroy():r!==void 0&&a!==void 0&&(r>=a?_E(n,r,e,a,t,i):_E(e,a,n,r,t,i))}const bE=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=_e(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function h1(n,e){FA(By(n),By(e)),bE(n),bE(e)}function RV(n,e){!n.unbreakable&&!e.unbreakable&&h1(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function CV(n,e,t,i){switch(n.options.collisions.mode){case"absorb":{AV(n,e,t,i);break}case"bounce":{h1(n,e);break}case"destroy":{RV(n,e);break}}}class IV extends Jv{constructor(e){super(e)}clear(){}init(){}async interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),a=e.getRadius(),u=i.particles.quadTree.queryCircle(r,a*2);for(const h of u){if(e===h||!h.options.collisions.enable||e.options.collisions.mode!==h.options.collisions.mode||h.destroyed||h.spawning)continue;const f=h.getPosition(),d=h.getRadius();if(Math.abs(Math.round(r.z)-Math.round(f.z))>a+d)continue;const g=Xn(r,f),v=a+d;g>v||CV(e,h,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function DV(n,e=!0){await n.addInteractor("particlesCollisions",t=>new IV(t),e)}class PV extends bn{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:a}=e;return super.contains(e)||super.contains({x:r-t,y:a})||super.contains({x:r-t,y:a-i})||super.contains({x:r,y:a-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const a=new bn(r.x,r.y,i.radius*2);return super.intersects(a)}else if(t.size!==void 0){const a=new ki(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(a)}return!1}}class kV{constructor(){this.blur=5,this.color=new cn,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=cn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class MV{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=cn.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class OV{constructor(){this.blink=!1,this.color=new cn,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new kV,this.triangles=new MV,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=cn.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function NV(n,e,t,i,r){const{dx:a,dy:u,distance:h}=Cn(n,e);if(!r||h<=t)return h;const f={x:Math.abs(a),y:Math.abs(u)},d={x:Math.min(f.x,i.width-f.x),y:Math.min(f.y,i.height-f.y)};return Math.sqrt(d.x**2+d.y**2)}class VV extends Jv{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let a=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(a)return;const u=r.color;a=WA(u,r.blink,r.consent),r.id===void 0?i.particles.linksColor=a:i.particles.linksColors.set(r.id,a)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const a=e.options.links,u=a.opacity,h=e.retina.linksDistance??0,f=a.warp,d=f?new PV(t.x,t.y,h,r):new bn(t.x,t.y,h),g=i.particles.quadTree.query(d);for(const v of g){const b=v.options.links;if(e===v||!b?.enable||a.id!==b.id||v.spawning||v.destroyed||!v.links||e.links.some(D=>D.destination===v)||v.links.some(D=>D.destination===e))continue;const E=v.getPosition();if(E.x<0||E.y<0||E.x>r.width||E.y>r.height)continue;const I=NV(t,E,h,r,f&&b.warp);if(I>h)continue;const A=(1-I/h)*u;this._setColor(e),e.links.push({destination:v,opacity:A})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new OV);for(const i of t)e.links.load(i?.links??i?.lineLinked??i?.line_linked)}reset(){}}async function LV(n,e=!0){await n.addInteractor("particlesLinks",t=>new VV(t),e)}function UV(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:a,canvasSize:u,width:h,backgroundMask:f,colorLine:d,opacity:g,links:v}=n;if(Xn(t,i)<=r)Ec(a,t,i),e=!0;else if(v.warp){let E,I;const A={x:i.x-u.width,y:i.y},D=Cn(t,A);if(D.distance<=r){const P=t.y-D.dy/D.dx*t.x;E={x:0,y:P},I={x:u.width,y:P}}else{const P={x:i.x,y:i.y-u.height},B=Cn(t,P);if(B.distance<=r){const q=-(t.y-B.dy/B.dx*t.x)/(B.dy/B.dx);E={x:q,y:0},I={x:q,y:u.height}}else{const F={x:i.x-u.width,y:i.y-u.height},q=Cn(t,F);if(q.distance<=r){const Q=t.y-q.dy/q.dx*t.x;E={x:-Q/(q.dy/q.dx),y:Q},I={x:E.x+u.width,y:E.y+u.height}}}}E&&I&&(Ec(a,t,E),Ec(a,i,I),e=!0)}if(!e)return;a.lineWidth=h,f.enable&&(a.globalCompositeOperation=f.composite),a.strokeStyle=Gs(d,g);const{shadow:b}=v;if(b.enable){const E=Ii(b.color);E&&(a.shadowBlur=b.blur,a.shadowColor=Gs(E))}a.stroke()}function zV(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:a,colorTriangle:u,opacityTriangle:h}=n;_M(e,t,i,r),a.enable&&(e.globalCompositeOperation=a.composite),e.fillStyle=Gs(u,h),e.fill()}function jV(n){return n.sort((e,t)=>e-t),n.join("_")}function wE(n,e){const t=jV(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=ot(),e.set(t,i)),i}class BV{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=t.options.links;if(!r?.enable)return;const a=this.container,u=a.actualOptions,h=i.destination,f=t.getPosition(),d=h.getPosition();let g=i.opacity;a.canvas.draw(v=>{let b;const E=t.options.twinkle?.lines;if(E?.enable){const P=E.frequency,B=Ii(E.color);ot()<P&&B&&(b=B,g=_e(E.opacity))}if(!b){const P=r.id!==void 0?a.particles.linksColors.get(r.id):a.particles.linksColor;b=Fy(t,h,P)}if(!b)return;const I=t.retina.linksWidth??0,A=t.retina.linksDistance??0,{backgroundMask:D}=u;UV({context:v,width:I,begin:f,end:d,maxDistance:A,canvasSize:a.canvas.size,links:r,backgroundMask:D,colorLine:b,opacity:g})})},this._drawLinkTriangle=(t,i,r)=>{const a=t.options.links;if(!a?.enable)return;const u=a.triangles;if(!u.enable)return;const h=this.container,f=h.actualOptions,d=i.destination,g=r.destination,v=u.opacity??(i.opacity+r.opacity)/2;v<=0||h.canvas.draw(b=>{const E=t.getPosition(),I=d.getPosition(),A=g.getPosition(),D=t.retina.linksDistance??0;if(Xn(E,I)>D||Xn(A,I)>D||Xn(A,E)>D)return;let P=Ii(u.color);if(!P){const B=a.id!==void 0?h.particles.linksColors.get(a.id):h.particles.linksColor;P=Fy(t,d,B)}P&&zV({context:b,pos1:E,pos2:I,pos3:A,backgroundMask:f.backgroundMask,colorTriangle:P,opacityTriangle:v})})},this._drawTriangles=(t,i,r,a)=>{const u=r.destination;if(!(t.links?.triangles.enable&&u.options.links?.triangles.enable))return;const h=u.links?.filter(f=>{const d=this._getLinkFrequency(u,f.destination);return u.options.links&&d<=u.options.links.frequency&&a.findIndex(g=>g.destination===f.destination)>=0});if(h?.length)for(const f of h){const d=f.destination;this._getTriangleFrequency(i,u,d)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(t,i)=>wE([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>wE([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const a=i.filter(u=>r.links&&this._getLinkFrequency(t,u.destination)<=r.links.frequency);for(const u of a)this._drawTriangles(r,t,u,a),u.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,u)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:a}=e.options.links;i.linksDistance=r*t,i.linksWidth=a*t}particleDestroyed(e){e.links=[]}}class FV{constructor(){this.id="links"}getPlugin(e){return new BV(e)}loadOptions(){}needsPlugin(){return!0}}async function qV(n,e=!0){const t=new FV;await n.addPlugin(t,e)}async function HV(n,e=!0){await LV(n,e),await qV(n,e)}class f1{draw(e,t,i){const r=this.getCenter(t,i),a=this.getSidesData(t,i),u=a.count.numerator*a.count.denominator,h=a.count.numerator/a.count.denominator,f=180*(h-2)/h,d=Math.PI-Math.PI*f/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let g=0;g<u;g++)e.lineTo(a.length,0),e.translate(a.length,0),e.rotate(d)}}getSidesCount(e){const t=e.shapeData;return Math.round(_e(t?.sides??t?.nb_sides??5))}}class GV extends f1{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/(2.66/3.5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*2.66/(i/3)}}}class $V extends f1{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:t*2}}}async function KV(n,e=!0){await n.addShape("polygon",new GV,e)}async function YV(n,e=!0){await n.addShape("triangle",new $V,e)}async function XV(n,e=!0){await KV(n,e),await YV(n,e)}class WV{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class QV extends eo{constructor(){super(),this.animation=new WV,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function ZV(n,e){const t=n.rotate,i=n.options.rotate;if(!t||!i)return;const r=i.animation,a=(t.velocity??0)*e.factor,u=2*Math.PI,h=t.decay??1;if(r.enable){switch(t.status){case"increasing":t.value+=a,t.value>u&&(t.value-=u);break;case"decreasing":default:t.value-=a,t.value<0&&(t.value+=u);break}t.velocity&&h!==1&&(t.velocity*=h)}}class JV{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:_e(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch(i==="random"&&(i=Math.floor(ot()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=t.animation;r.enable&&(e.rotate.decay=1-_e(r.decay),e.rotate.velocity=_e(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=ot())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path:!1}loadOptions(e,...t){e.rotate||(e.rotate=new QV);for(const i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(ZV(e,t),e.rotation=e.rotate?.value??0)}}async function eL(n,e=!0){await n.addParticleUpdater("rotate",t=>new JV(t),e)}const tL=Math.sqrt(2);class nL{draw(e,t,i){const r=i/tL,a=r*2;e.rect(-r,-r,a,a)}getSidesCount(){return 4}}async function iL(n,e=!0){await n.addShape(["edge","square"],new nL,e)}class sL{draw(e,t,i){const r=t.sides,a=t.starInset??2;e.moveTo(0,0-i);for(let u=0;u<r;u++)e.rotate(Math.PI/r),e.lineTo(0,0-i*a),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const t=e.shapeData;return Math.round(_e(t?.sides??t?.nb_sides??5))}particleInit(e,t){const i=t.shapeData,r=_e(i?.inset??2);t.starInset=r}}async function rL(n,e=!0){await n.addShape("star",new sL,e)}function ry(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const a=Nn(t.offset),u=(e.velocity??0)*n.factor+a*3.6,h=e.decay??1;!r||e.status==="increasing"?(e.value+=u,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=u,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&h!==1&&(e.velocity*=h),e.value>i&&(e.value%=i)}function oL(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const{h:t,s:i,l:r}=n.strokeColor,{h:a,s:u,l:h}=n.strokeAnimation;t&&ry(e,t,a,360,!1),i&&ry(e,i,u,100,!0),r&&ry(e,r,h,100,!0)}class aL{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=Hs(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=_e(r.width)*t.retina.pixelRatio,e.strokeOpacity=_e(r.opacity??1),e.strokeAnimation=r.color?.animation;const a=Vc(r.color)??e.getFillColor();a&&(e.strokeColor=QA(a,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&oL(e,t)}}async function lL(n,e=!0){await n.addParticleUpdater("strokeColor",t=>new aL(t),e)}const ud=["text","character","char"];class uL{draw(e,t,i,r){const a=t.shapeData;if(a===void 0)return;const u=a.value;if(u===void 0)return;t.text===void 0&&(t.text=Hs(u,t.randomIndexData));const h=t.text,f=a.style??"",d=a.weight??"400",g=Math.round(i)*2,v=a.font??"Verdana",b=t.fill,E=h.length*i/2;e.font=`${f} ${d} ${g}px "${v}"`;const I={x:-E,y:i/2};e.globalAlpha=r,b?e.fillText(h,I.x,I.y):e.strokeText(h,I.x,I.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(ud.find(i=>Ct(i,t.particles.shape.type))){const i=ud.map(a=>t.particles.shape.options[a]).find(a=>!!a),r=[];Jt(i,a=>{r.push(cM(a.font,a.weight))}),await Promise.all(r)}}particleInit(e,t){if(!t.shape||!ud.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=Hs(r,t.randomIndexData))}}async function cL(n,e=!0){await n.addShape(ud,new uL,e)}async function hL(n,e=!0){VO(n),await EV(n,!1),await gN(n,!1),await _N(n,!1),await EN(n,!1),await PN(n,!1),await LN(n,!1),await zN(n,!1),await FN(n,!1),await GN(n,!1),await XN(n,!1),await ZN(n,!1),await xV(n,!1),await DV(n,!1),await HV(n,!1),await dN(),await mV(n,!1),await wV(n,!1),await XV(n,!1),await iL(n,!1),await rL(n,!1),await cL(n,!1),await _V(n,!1),await eL(n,!1),await lL(n,!1),await fN(n,e)}function d1({className:n=""}){const e=V.useCallback(async t=>{await hL(t)},[]);return S.jsx(o1,{id:"tsparticles",init:e,className:n,style:{position:"absolute",inset:0},options:{fpsLimit:60,detectRetina:!0,background:{color:"transparent"},fullScreen:{enable:!1},pauseOnBlur:!0,smooth:!0,reduceDuplicates:!0,particles:{number:{value:60,density:{enable:!0,area:900}},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5},size:{value:{min:1,max:3}},links:{enable:!0,distance:130,color:"#ffffff",opacity:.2,width:1},move:{enable:!0,speed:.6,direction:"none",outModes:{default:"out"},random:!1,straight:!1}},interactivity:{detectsOn:"window",events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!1,mode:"push"},resize:!0},modes:{repulse:{distance:80,duration:.3},push:{quantity:2}}}}})}function fL(){const{pathname:n}=In(),[e,t]=V.useState(!1),i="/likwitdevs/images/computerbg.jpg";return V.useEffect(()=>{const r=requestAnimationFrame(()=>t(!0));return()=>cancelAnimationFrame(r)},[]),S.jsxs(S.Fragment,{children:[S.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-30 pointer-events-none select-none",children:S.jsx("img",{src:i,alt:"",className:"absolute inset-0 w-full object-cover [transform:translateZ(0)] will-change-transform",draggable:!1})}),S.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-20 bg-black/30 pointer-events-none h-svh md:h-dvh",style:{transform:"translateZ(0)",willChange:"opacity"}}),e&&S.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-10 pointer-events-none h-svh md:h-dvh",style:{transform:"translateZ(0)"},children:S.jsx(d1,{},n)})]})}const dL=()=>{};var TE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},mL=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],u=n[t++],h=n[t++],f=((r&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|u&63)}}return e.join("")},p1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],u=r+1<n.length,h=u?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,g=a>>2,v=(a&3)<<4|h>>4;let b=(h&15)<<2|d>>6,E=d&63;f||(E=64,u||(b=64)),i.push(t[g],t[v],t[b],t[E])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(m1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||h==null||d==null||v==null)throw new pL;const b=a<<2|h>>4;if(i.push(b),d!==64){const E=h<<4&240|d>>2;if(i.push(E),v!==64){const I=d<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gL=function(n){const e=m1(n);return p1.encodeByteArray(e,!0)},kd=function(n){return gL(n).replace(/\./g,"")},g1=function(n){try{return p1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=()=>yL().__FIREBASE_DEFAULTS__,_L=()=>{if(typeof process>"u"||typeof TE>"u")return;const n=TE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&g1(n[1]);return e&&JSON.parse(e)},am=()=>{try{return dL()||vL()||_L()||bL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},y1=n=>am()?.emulatorHosts?.[n],v1=n=>{const e=y1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_1=()=>am()?.config,b1=n=>am()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[kd(JSON.stringify(t)),kd(JSON.stringify(u)),""].join(".")}const Sc={};function TL(){const n={prod:[],emulator:[]};for(const e of Object.keys(Sc))Sc[e]?n.emulator.push(e):n.prod.push(e);return n}function EL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let EE=!1;function t_(n,e){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||Sc[n]===e||Sc[n]||EE)return;Sc[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",a=TL().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{EE=!0,u()},b}function g(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=EL(i),E=t("text"),I=document.getElementById(E)||document.createElement("span"),A=t("learnmore"),D=document.getElementById(A)||document.createElement("a"),P=t("preprendIcon"),B=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;h(F),g(D,A);const q=d();f(B,P),F.append(B,I,D,q),document.body.appendChild(F)}a?(I.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function xL(){const n=am()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RL(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IL(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function DL(){return!xL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PL(){try{return typeof indexedDB=="object"}catch{return!1}}function kL(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="FirebaseError";class ms extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ML,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rh.prototype.create)}}class rh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],u=a?OL(a,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new ms(r,h,i)}}function OL(n,e){return n.replace(NL,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const NL=/\{\$([^}]+)}/g;function VL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function oa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],u=e[r];if(SE(a)&&SE(u)){if(!oa(a,u))return!1}else if(a!==u)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function SE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function gc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function LL(n,e){const t=new UL(n,e);return t.subscribe.bind(t)}class UL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");zL(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=oy),r.error===void 0&&(r.error=oy),r.complete===void 0&&(r.complete=oy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function oy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n){return n&&n._delegate?n._delegate:n}class Gr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new wL;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FL(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BL(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BL(n){return n===$o?void 0:n}function FL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const HL={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},GL=Ve.INFO,$L={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},KL=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=$L[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n_{constructor(e){this.name=e,this._logLevel=GL,this._logHandler=KL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const YL=(n,e)=>e.some(t=>n instanceof t);let xE,AE;function XL(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WL(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T1=new WeakMap,qy=new WeakMap,E1=new WeakMap,ay=new WeakMap,i_=new WeakMap;function QL(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(zr(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&T1.set(t,n)}).catch(()=>{}),i_.set(e,n),e}function ZL(n){if(qy.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});qy.set(n,e)}let Hy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||E1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JL(n){Hy=n(Hy)}function e4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ly(this),e,...t);return E1.set(i,e.sort?e.sort():[e]),zr(i)}:WL().includes(n)?function(...e){return n.apply(ly(this),e),zr(T1.get(this))}:function(...e){return zr(n.apply(ly(this),e))}}function t4(n){return typeof n=="function"?e4(n):(n instanceof IDBTransaction&&ZL(n),YL(n,XL())?new Proxy(n,Hy):n)}function zr(n){if(n instanceof IDBRequest)return QL(n);if(ay.has(n))return ay.get(n);const e=t4(n);return e!==n&&(ay.set(n,e),i_.set(e,n)),e}const ly=n=>i_.get(n);function n4(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(n,e),h=zr(u);return i&&u.addEventListener("upgradeneeded",f=>{i(zr(u.result),f.oldVersion,f.newVersion,zr(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const i4=["get","getKey","getAll","getAllKeys","count"],s4=["put","add","delete","clear"],uy=new Map;function RE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uy.get(e))return uy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=s4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||i4.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),r&&f.done]))[0]};return uy.set(e,a),a}JL(n=>({...n,get:(e,t,i)=>RE(e,t)||n.get(e,t,i),has:(e,t)=>!!RE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(o4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function o4(n){return n.getComponent()?.type==="VERSION"}const Gy="@firebase/app",CE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new n_("@firebase/app"),a4="@firebase/app-compat",l4="@firebase/analytics-compat",u4="@firebase/analytics",c4="@firebase/app-check-compat",h4="@firebase/app-check",f4="@firebase/auth",d4="@firebase/auth-compat",m4="@firebase/database",p4="@firebase/data-connect",g4="@firebase/database-compat",y4="@firebase/functions",v4="@firebase/functions-compat",_4="@firebase/installations",b4="@firebase/installations-compat",w4="@firebase/messaging",T4="@firebase/messaging-compat",E4="@firebase/performance",S4="@firebase/performance-compat",x4="@firebase/remote-config",A4="@firebase/remote-config-compat",R4="@firebase/storage",C4="@firebase/storage-compat",I4="@firebase/firestore",D4="@firebase/ai",P4="@firebase/firestore-compat",k4="firebase",M4="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="[DEFAULT]",O4={[Gy]:"fire-core",[a4]:"fire-core-compat",[u4]:"fire-analytics",[l4]:"fire-analytics-compat",[h4]:"fire-app-check",[c4]:"fire-app-check-compat",[f4]:"fire-auth",[d4]:"fire-auth-compat",[m4]:"fire-rtdb",[p4]:"fire-data-connect",[g4]:"fire-rtdb-compat",[y4]:"fire-fn",[v4]:"fire-fn-compat",[_4]:"fire-iid",[b4]:"fire-iid-compat",[w4]:"fire-fcm",[T4]:"fire-fcm-compat",[E4]:"fire-perf",[S4]:"fire-perf-compat",[x4]:"fire-rc",[A4]:"fire-rc-compat",[R4]:"fire-gcs",[C4]:"fire-gcs-compat",[I4]:"fire-fst",[P4]:"fire-fst-compat",[D4]:"fire-vertex","fire-js":"fire-js",[k4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,N4=new Map,Ky=new Map;function IE(n,e){try{n.container.addComponent(e)}catch(t){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function aa(n){const e=n.name;if(Ky.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;Ky.set(e,n);for(const t of Md.values())IE(t,n);for(const t of N4.values())IE(t,n);return!0}function lm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new rh("app","Firebase",V4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=M4;function S1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:$y,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw jr.create("bad-app-name",{appName:String(r)});if(t||(t=_1()),!t)throw jr.create("no-options");const a=Md.get(r);if(a){if(oa(t,a.options)&&oa(i,a.config))return a;throw jr.create("duplicate-app",{appName:r})}const u=new qL(r);for(const f of Ky.values())u.addComponent(f);const h=new L4(t,i,u);return Md.set(r,h),h}function s_(n=$y){const e=Md.get(n);if(!e&&n===$y&&_1())return S1();if(!e)throw jr.create("no-app",{appName:n});return e}function ns(n,e,t){let i=O4[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const u=[`Unable to register library "${i}" with version "${e}":`];r&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(u.join(" "));return}aa(new Gr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="firebase-heartbeat-database",z4=1,zc="firebase-heartbeat-store";let cy=null;function x1(){return cy||(cy=n4(U4,z4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zc)}catch(t){console.warn(t)}}}}).catch(n=>{throw jr.create("idb-open",{originalErrorMessage:n.message})})),cy}async function j4(n){try{const t=(await x1()).transaction(zc),i=await t.objectStore(zc).get(A1(n));return await t.done,i}catch(e){if(e instanceof ms)Ks.warn(e.message);else{const t=jr.create("idb-get",{originalErrorMessage:e?.message});Ks.warn(t.message)}}}async function DE(n,e){try{const i=(await x1()).transaction(zc,"readwrite");await i.objectStore(zc).put(e,A1(n)),await i.done}catch(t){if(t instanceof ms)Ks.warn(t.message);else{const i=jr.create("idb-set",{originalErrorMessage:t?.message});Ks.warn(i.message)}}}function A1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1024,F4=30;class q4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new G4(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>F4){const r=$4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=PE(),{heartbeatsToSend:t,unsentEntries:i}=H4(this._heartbeatsCache.heartbeats),r=kd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Ks.warn(e),""}}}function PE(){return new Date().toISOString().substring(0,10)}function H4(n,e=B4){const t=[];let i=n.slice();for(const r of n){const a=t.find(u=>u.agent===r.agent);if(a){if(a.dates.push(r.date),kE(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),kE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class G4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PL()?kL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await j4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kE(n){return kd(JSON.stringify({version:2,heartbeats:n})).length}function $4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n){aa(new Gr("platform-logger",e=>new r4(e),"PRIVATE")),aa(new Gr("heartbeat",e=>new q4(e),"PRIVATE")),ns(Gy,CE,n),ns(Gy,CE,"esm2020"),ns("fire-js","")}K4("");function R1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y4=R1,C1=new rh("auth","Firebase",R1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new n_("@firebase/auth");function X4(n,...e){Od.logLevel<=Ve.WARN&&Od.warn(`Auth (${ma}): ${n}`,...e)}function cd(n,...e){Od.logLevel<=Ve.ERROR&&Od.error(`Auth (${ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,...e){throw r_(n,...e)}function is(n,...e){return r_(n,...e)}function I1(n,e,t){const i={...Y4(),[e]:t};return new rh("auth","Firebase",i).create(e,{appName:n.name})}function Br(n){return I1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return C1.create(n,...e)}function we(n,e,...t){if(!n)throw r_(e,...t)}function Bs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cd(e),new Error(e)}function Ys(n,e){n||Bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(){return typeof self<"u"&&self.location?.href||""}function W4(){return ME()==="http:"||ME()==="https:"}function ME(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W4()||RL()||"connection"in navigator)?navigator.onLine:!0}function Z4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ys(t>e,"Short delay should be less than long delay!"),this.isMobile=SL()||CL()}get(){return Q4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n,e){Ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tU=new ah(3e4,6e4);function pa(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function no(n,e,t,i,r={}){return P1(n,r,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=oh({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...a};return AL()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&to(n.emulatorConfig.host)&&(d.credentials="include"),D1.fetch()(await k1(n,n.config.apiHost,t,h),d)})}async function P1(n,e,t){n._canInitEmulator=!1;const i={...J4,...e};try{const r=new iU(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Kf(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Kf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Kf(n,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw I1(n,g,d);Mi(n,g)}}catch(r){if(r instanceof ms)throw r;Mi(n,"network-request-failed",{message:String(r)})}}async function um(n,e,t,i,r={}){const a=await no(n,e,t,i,r);return"mfaPendingCredential"in a&&Mi(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function k1(n,e,t,i){const r=`${e}${t}?${i}`,a=n,u=a.config.emulator?o_(n.config,r):`${n.config.apiScheme}://${r}`;return eU.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function nU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(is(this.auth,"network-request-failed")),tU.get())})}}function Kf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=is(n,e,i);return r.customData._tokenResponse=t,r}function OE(n){return n!==void 0&&n.enterprise!==void 0}class sU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rU(n,e){return no(n,"GET","/v2/recaptchaConfig",pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(n,e){return no(n,"POST","/v1/accounts:delete",e)}async function Nd(n,e){return no(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aU(n,e=!1){const t=ht(n),i=await t.getIdToken(e),r=a_(i);we(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,u=a?.sign_in_provider;return{claims:r,token:i,authTime:xc(hy(r.auth_time)),issuedAtTime:xc(hy(r.iat)),expirationTime:xc(hy(r.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function hy(n){return Number(n)*1e3}function a_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return cd("JWT malformed, contained fewer than 3 sections"),null;try{const r=g1(t);return r?JSON.parse(r):(cd("Failed to decode base64 JWT payload"),null)}catch(r){return cd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function NE(n){const e=a_(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ms&&lU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function lU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(n){const e=n.auth,t=await n.getIdToken(),i=await jc(n,Nd(e,{idToken:t}));we(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=r.providerUserInfo?.length?M1(r.providerUserInfo):[],u=hU(n.providerData,a),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!u?.length,d=h?f:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:u,metadata:new Xy(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function cU(n){const e=ht(n);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hU(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function M1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(n,e){const t=await P1(n,{},async()=>{const i=oh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,u=await k1(n,r,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&to(n.emulatorConfig.host)&&(f.credentials="include"),D1.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dU(n,e){return no(n,"POST","/v2/accounts:revokeToken",pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=NE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await fU(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,u=new xl;return i&&(we(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),r&&(we(typeof r=="string","internal-error",{appName:e}),u.accessToken=r),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return Bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new uU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Xy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await jc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aU(this,e)}reload(){return cU(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Vd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await jc(this,oU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:E,providerData:I,stsTokenManager:A}=t;we(v&&A,e,"internal-error");const D=xl.fromJSON(this.name,A);we(typeof v=="string",e,"internal-error"),Ir(i,e.name),Ir(r,e.name),we(typeof b=="boolean",e,"internal-error"),we(typeof E=="boolean",e,"internal-error"),Ir(a,e.name),Ir(u,e.name),Ir(h,e.name),Ir(f,e.name),Ir(d,e.name),Ir(g,e.name);const P=new Ai({uid:v,auth:e,email:r,emailVerified:b,displayName:i,isAnonymous:E,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:D,createdAt:d,lastLoginAt:g});return I&&Array.isArray(I)&&(P.providerData=I.map(B=>({...B}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,t,i=!1){const r=new xl;r.updateFromServerResponse(t);const a=new Ai({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Vd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];we(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?M1(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!a?.length,h=new xl;h.updateFromIdToken(i);const f=new Ai({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Xy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function Fs(n){Ys(n instanceof Function,"Expected a class definition");let e=VE.get(n);return e?(Ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}O1.type="NONE";const LE=O1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(n,e,t){return`firebase:${n}:${e}:${t}`}class Al{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=hd(this.userKey,r.apiKey,a),this.fullPersistenceKey=hd("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nd(this.auth,{idToken:e}).catch(()=>{});return t?Ai._fromGetAccountInfoResponse(this.auth,t,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Al(Fs(LE),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||Fs(LE);const u=hd(i,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let v;if(typeof g=="string"){const b=await Nd(e,{idToken:g}).catch(()=>{});if(!b)break;v=await Ai._fromGetAccountInfoResponse(e,b,g)}else v=Ai._fromJSON(e,g);d!==a&&(h=v),a=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Al(a,e,i):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==a)try{await d._remove(u)}catch{}})),new Al(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j1(e))return"Blackberry";if(B1(e))return"Webos";if(V1(e))return"Safari";if((e.includes("chrome/")||L1(e))&&!e.includes("edge/"))return"Chrome";if(z1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function N1(n=wn()){return/firefox\//i.test(n)}function V1(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L1(n=wn()){return/crios\//i.test(n)}function U1(n=wn()){return/iemobile/i.test(n)}function z1(n=wn()){return/android/i.test(n)}function j1(n=wn()){return/blackberry/i.test(n)}function B1(n=wn()){return/webos/i.test(n)}function l_(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mU(n=wn()){return l_(n)&&!!window.navigator?.standalone}function pU(){return IL()&&document.documentMode===10}function F1(n=wn()){return l_(n)||z1(n)||B1(n)||j1(n)||/windows phone/i.test(n)||U1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n,e=[]){let t;switch(n){case"Browser":t=UE(wn());break;case"Worker":t=`${UE(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(n,e={}){return no(n,"GET","/v2/passwordPolicy",pa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=6;class _U{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??vU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zE(this),this.idTokenSubscription=new zE(this),this.beforeStateQueue=new gU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Al.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nd(this,{idToken:e}),i=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(Br(this));const t=e?ht(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yU(this),t=new _U(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await dU(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fs(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[Fs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,r);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&X4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $l(n){return ht(n)}class zE{constructor(e){this.auth=e,this.observer=null,this.addObserver=LL(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wU(n){cm=n}function H1(n){return cm.loadJS(n)}function TU(){return cm.recaptchaEnterpriseScript}function EU(){return cm.gapiScript}function SU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class xU{constructor(){this.enterprise=new AU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class AU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const RU="recaptcha-enterprise",G1="NO_RECAPTCHA";class CU{constructor(e){this.type=RU,this.auth=$l(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{rU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new sU(f);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function r(a,u,h){const f=window.grecaptcha;OE(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(G1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xU().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&OE(window.grecaptcha))r(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=TU();f.length!==0&&(f+=h),H1(f).then(()=>{r(h,a,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function jE(n,e,t,i=!1,r=!1){const a=new CU(n);let u;if(r)u=G1;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function BE(n,e,t,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await jE(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await jE(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(n,e){const t=lm(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(oa(a,e??{}))return r;Mi(r,"already-initialized")}return t.initialize({options:e})}function DU(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Fs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function PU(n,e,t){const i=$l(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=$1(e),{host:u,port:h}=kU(e),f=h===null?"":`:${h}`,d={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(oa(d,i.config.emulator)&&oa(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,to(u)?(e_(`${a}//${u}${f}`),t_("Auth",!0)):MU()}function $1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kU(n){const e=$1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:FE(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:FE(u)}}}function FE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bs("not implemented")}_getIdTokenResponse(e){return Bs("not implemented")}_linkToIdToken(e,t){return Bs("not implemented")}_getReauthenticationResolver(e){return Bs("not implemented")}}async function OU(n,e){return no(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(n,e){return um(n,"POST","/v1/accounts:signInWithPassword",pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VU(n,e){return um(n,"POST","/v1/accounts:signInWithEmailLink",pa(n,e))}async function LU(n,e){return um(n,"POST","/v1/accounts:signInWithEmailLink",pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends u_{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Bc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Bc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BE(e,t,"signInWithPassword",NU);case"emailLink":return VU(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BE(e,i,"signUpPassword",OU);case"emailLink":return LU(e,{idToken:t,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n,e){return um(n,"POST","/v1/accounts:signInWithIdp",pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="http://localhost";class la extends u_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=t;if(!i||!r)return null;const u=new la(i,r);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Rl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Rl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rl(e,t)}buildRequest(){const e={requestUri:UU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jU(n){const e=pc(gc(n)).link,t=e?pc(gc(e)).deep_link_id:null,i=pc(gc(n)).deep_link_id;return(i?pc(gc(i)).link:null)||i||t||e||n}class c_{constructor(e){const t=pc(gc(e)),i=t.apiKey??null,r=t.oobCode??null,a=zU(t.mode??null);we(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=jU(e);try{return new c_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,t){return Bc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=c_.parseLink(t);return we(i,"argument-error"),Bc._fromEmailAndCode(e,i.code,i.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends K1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends lh{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return la._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return kr.credential(t,i)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends lh{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends lh{constructor(){super("twitter.com")}static credential(e,t){return la._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Or.credential(t,i)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Ai._fromIdTokenResponse(e,i,r),u=qE(i);return new Ol({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=qE(i);return new Ol({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function qE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends ms{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ld.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Ld(e,t,i,r)}}function Y1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ld._fromErrorAndOperation(n,a,e,i):a})}async function BU(n,e,t=!1){const i=await jc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ol._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FU(n,e,t=!1){const{auth:i}=n;if(mi(i.app))return Promise.reject(Br(i));const r="reauthenticate";try{const a=await jc(n,Y1(i,r,e,n),t);we(a.idToken,i,"internal-error");const u=a_(a.idToken);we(u,i,"internal-error");const{sub:h}=u;return we(n.uid===h,i,"user-mismatch"),Ol._forOperation(n,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&Mi(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(n,e,t=!1){if(mi(n.app))return Promise.reject(Br(n));const i="signIn",r=await Y1(n,i,e),a=await Ol._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function qU(n,e){return X1($l(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(n){const e=$l(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function GU(n,e,t){return mi(n.app)?Promise.reject(Br(n)):qU(ht(n),Kl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&HU(n),i})}function $U(n,e,t,i){return ht(n).onIdTokenChanged(e,t,i)}function KU(n,e,t){return ht(n).beforeAuthStateChanged(e,t)}function hm(n,e,t,i){return ht(n).onAuthStateChanged(e,t,i)}function W1(n){return ht(n).signOut()}const Ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ud,"1"),this.storage.removeItem(Ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=1e3,XU=10;class Z1 extends Q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);pU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,XU):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},YU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z1.type="LOCAL";const WU=Z1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends Q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}J1.type="SESSION";const eR=J1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new fm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,u=this.handlersMap[r];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async d=>d(t.origin,a)),f=await QU(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const d=h_("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(b.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function JU(n){ss().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function e3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t3(){return navigator?.serviceWorker?.controller||null}function n3(){return tR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firebaseLocalStorageDb",i3=1,zd="firebaseLocalStorage",iR="fbase_key";class uh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dm(n,e){return n.transaction([zd],e?"readwrite":"readonly").objectStore(zd)}function s3(){const n=indexedDB.deleteDatabase(nR);return new uh(n).toPromise()}function Wy(){const n=indexedDB.open(nR,i3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(zd,{keyPath:iR})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(zd)?e(i):(i.close(),await s3(),e(await Wy()))})})}async function HE(n,e,t){const i=dm(n,!0).put({[iR]:e,value:t});return new uh(i).toPromise()}async function r3(n,e){const t=dm(n,!1).get(e),i=await new uh(t).toPromise();return i===void 0?null:i.value}function GE(n,e){const t=dm(n,!0).delete(e);return new uh(t).toPromise()}const o3=800,a3=3;class sR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>a3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance(n3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e3(),!this.activeServiceWorker)return;this.sender=new ZU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wy();return await HE(e,Ud,"1"),await GE(e,Ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>HE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>r3(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>GE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=dm(r,!1).getAll();return new uh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sR.type="LOCAL";const l3=sR;new ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(n,e){return e?Fs(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends u_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function c3(n){return X1(n.auth,new f_(n),n.bypassAuthState)}function h3(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),FU(t,new f_(n),n.bypassAuthState)}async function f3(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),BU(t,new f_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c3;case"linkViaPopup":case"linkViaRedirect":return f3;case"reauthViaPopup":case"reauthViaRedirect":return h3;default:Mi(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new ah(2e3,1e4);class _l extends rR{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,_l.currentPopupAction&&_l.currentPopupAction.cancel(),_l.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=h_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_l.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d3.get())};e()}}_l.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="pendingRedirect",fd=new Map;class p3 extends rR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const i=await g3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g3(n,e){const t=_3(e),i=v3(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function y3(n,e){fd.set(n._key(),e)}function v3(n){return Fs(n._redirectPersistence)}function _3(n){return hd(m3,n.config.apiKey,n.name)}async function b3(n,e,t=!1){if(mi(n.app))return Promise.reject(Br(n));const i=$l(n),r=u3(i,e),u=await new p3(i,r,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=600*1e3;class T3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!oR(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(is(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w3&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(e))}saveEventToCache(e){this.cachedEventUids.add($E(e)),this.lastProcessedEventTime=Date.now()}}function $E(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function E3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(n,e={}){return no(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A3=/^https?/;async function R3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await S3(n);for(const t of e)try{if(C3(t))return}catch{}Mi(n,"unauthorized-domain")}function C3(n){const e=Yy(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!A3.test(t))return!1;if(x3.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new ah(3e4,6e4);function KE(){const n=ss().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function D3(n){return new Promise((e,t)=>{function i(){KE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KE(),t(is(n,"network-request-failed"))},timeout:I3.get()})}if(ss().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ss().gapi?.load)i();else{const r=SU("iframefcb");return ss()[r]=()=>{gapi.load?i():t(is(n,"network-request-failed"))},H1(`${EU()}?onload=${r}`).catch(a=>t(a))}}).catch(e=>{throw dd=null,e})}let dd=null;function P3(n){return dd=dd||D3(n),dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new ah(5e3,15e3),M3="__/auth/iframe",O3="emulator/auth/iframe",N3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L3(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?o_(e,O3):`https://${n.config.authDomain}/${M3}`,i={apiKey:e.apiKey,appName:n.name,v:ma},r=V3.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${oh(i).slice(1)}`}async function U3(n){const e=await P3(n),t=ss().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:L3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N3,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const u=is(n,"network-request-failed"),h=ss().setTimeout(()=>{a(u)},k3.get());function f(){ss().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j3=500,B3=600,F3="_blank",q3="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H3(n,e,t,i=j3,r=B3){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...z3,width:i.toString(),height:r.toString(),top:a,left:u},d=wn().toLowerCase();t&&(h=L1(d)?F3:t),N1(d)&&(e=e||q3,f.scrollbars="yes");const g=Object.entries(f).reduce((b,[E,I])=>`${b}${E}=${I},`,"");if(mU(d)&&h!=="_self")return G3(e||"",h),new YE(null);const v=window.open(e||"",h,g);we(v,n,"popup-blocked");try{v.focus()}catch{}return new YE(v)}function G3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="__/auth/handler",K3="emulator/auth/handler",Y3=encodeURIComponent("fac");async function XE(n,e,t,i,r,a){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ma,eventId:r};if(e instanceof K1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",VL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof lh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${Y3}=${encodeURIComponent(f)}`:"";return`${X3(n)}?${oh(h).slice(1)}${d}`}function X3({config:n}){return n.emulator?o_(n,K3):`https://${n.authDomain}/${$3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="webStorageSupport";class W3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eR,this._completeRedirectFn=b3,this._overrideRedirectResult=y3}async _openPopup(e,t,i,r){Ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await XE(e,t,i,Yy(),r);return H3(e,a,h_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await XE(e,t,i,Yy(),r);return JU(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Ys(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await U3(e),i=new T3(e);return t.register("authEvent",r=>(we(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fy,{type:fy},r=>{const a=r?.[0]?.[fy];a!==void 0&&t(!!a),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=R3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return F1()||V1()||l_()}}const Q3=W3;var WE="@firebase/auth",QE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e6(n){aa(new Gr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q1(n)},d=new bU(i,r,a,f);return DU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),aa(new Gr("auth-internal",e=>{const t=$l(e.getProvider("auth").getImmediate());return(i=>new Z3(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(WE,QE,J3(n)),ns(WE,QE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=300,n6=b1("authIdTokenMaxAge")||t6;let ZE=null;const i6=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>n6)return;const r=t?.token;ZE!==r&&(ZE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function s6(n=s_()){const e=lm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IU(n,{popupRedirectResolver:Q3,persistence:[l3,WU,eR]}),i=b1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=i6(a.toString());KU(t,u,()=>u(t.currentUser)),$U(t,h=>u(h))}}const r=y1("auth");return r&&PU(t,`http://${r}`),t}function r6(){return document.getElementsByTagName("head")?.[0]??document}wU({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=is("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",r6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e6("Browser");var o6="firebase",a6="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(o6,a6,"app");var JE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,aR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function k(){}k.prototype=C.prototype,M.D=C.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(U,j,H){for(var N=Array(arguments.length-2),It=2;It<arguments.length;It++)N[It-2]=arguments[It];return C.prototype[j].apply(U,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,C,k){k||(k=0);var U=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)U[j]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(j=0;16>j;++j)U[j]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=M.g[0],k=M.g[1],j=M.g[2];var H=M.g[3],N=C+(H^k&(j^H))+U[0]+3614090360&4294967295;C=k+(N<<7&4294967295|N>>>25),N=H+(j^C&(k^j))+U[1]+3905402710&4294967295,H=C+(N<<12&4294967295|N>>>20),N=j+(k^H&(C^k))+U[2]+606105819&4294967295,j=H+(N<<17&4294967295|N>>>15),N=k+(C^j&(H^C))+U[3]+3250441966&4294967295,k=j+(N<<22&4294967295|N>>>10),N=C+(H^k&(j^H))+U[4]+4118548399&4294967295,C=k+(N<<7&4294967295|N>>>25),N=H+(j^C&(k^j))+U[5]+1200080426&4294967295,H=C+(N<<12&4294967295|N>>>20),N=j+(k^H&(C^k))+U[6]+2821735955&4294967295,j=H+(N<<17&4294967295|N>>>15),N=k+(C^j&(H^C))+U[7]+4249261313&4294967295,k=j+(N<<22&4294967295|N>>>10),N=C+(H^k&(j^H))+U[8]+1770035416&4294967295,C=k+(N<<7&4294967295|N>>>25),N=H+(j^C&(k^j))+U[9]+2336552879&4294967295,H=C+(N<<12&4294967295|N>>>20),N=j+(k^H&(C^k))+U[10]+4294925233&4294967295,j=H+(N<<17&4294967295|N>>>15),N=k+(C^j&(H^C))+U[11]+2304563134&4294967295,k=j+(N<<22&4294967295|N>>>10),N=C+(H^k&(j^H))+U[12]+1804603682&4294967295,C=k+(N<<7&4294967295|N>>>25),N=H+(j^C&(k^j))+U[13]+4254626195&4294967295,H=C+(N<<12&4294967295|N>>>20),N=j+(k^H&(C^k))+U[14]+2792965006&4294967295,j=H+(N<<17&4294967295|N>>>15),N=k+(C^j&(H^C))+U[15]+1236535329&4294967295,k=j+(N<<22&4294967295|N>>>10),N=C+(j^H&(k^j))+U[1]+4129170786&4294967295,C=k+(N<<5&4294967295|N>>>27),N=H+(k^j&(C^k))+U[6]+3225465664&4294967295,H=C+(N<<9&4294967295|N>>>23),N=j+(C^k&(H^C))+U[11]+643717713&4294967295,j=H+(N<<14&4294967295|N>>>18),N=k+(H^C&(j^H))+U[0]+3921069994&4294967295,k=j+(N<<20&4294967295|N>>>12),N=C+(j^H&(k^j))+U[5]+3593408605&4294967295,C=k+(N<<5&4294967295|N>>>27),N=H+(k^j&(C^k))+U[10]+38016083&4294967295,H=C+(N<<9&4294967295|N>>>23),N=j+(C^k&(H^C))+U[15]+3634488961&4294967295,j=H+(N<<14&4294967295|N>>>18),N=k+(H^C&(j^H))+U[4]+3889429448&4294967295,k=j+(N<<20&4294967295|N>>>12),N=C+(j^H&(k^j))+U[9]+568446438&4294967295,C=k+(N<<5&4294967295|N>>>27),N=H+(k^j&(C^k))+U[14]+3275163606&4294967295,H=C+(N<<9&4294967295|N>>>23),N=j+(C^k&(H^C))+U[3]+4107603335&4294967295,j=H+(N<<14&4294967295|N>>>18),N=k+(H^C&(j^H))+U[8]+1163531501&4294967295,k=j+(N<<20&4294967295|N>>>12),N=C+(j^H&(k^j))+U[13]+2850285829&4294967295,C=k+(N<<5&4294967295|N>>>27),N=H+(k^j&(C^k))+U[2]+4243563512&4294967295,H=C+(N<<9&4294967295|N>>>23),N=j+(C^k&(H^C))+U[7]+1735328473&4294967295,j=H+(N<<14&4294967295|N>>>18),N=k+(H^C&(j^H))+U[12]+2368359562&4294967295,k=j+(N<<20&4294967295|N>>>12),N=C+(k^j^H)+U[5]+4294588738&4294967295,C=k+(N<<4&4294967295|N>>>28),N=H+(C^k^j)+U[8]+2272392833&4294967295,H=C+(N<<11&4294967295|N>>>21),N=j+(H^C^k)+U[11]+1839030562&4294967295,j=H+(N<<16&4294967295|N>>>16),N=k+(j^H^C)+U[14]+4259657740&4294967295,k=j+(N<<23&4294967295|N>>>9),N=C+(k^j^H)+U[1]+2763975236&4294967295,C=k+(N<<4&4294967295|N>>>28),N=H+(C^k^j)+U[4]+1272893353&4294967295,H=C+(N<<11&4294967295|N>>>21),N=j+(H^C^k)+U[7]+4139469664&4294967295,j=H+(N<<16&4294967295|N>>>16),N=k+(j^H^C)+U[10]+3200236656&4294967295,k=j+(N<<23&4294967295|N>>>9),N=C+(k^j^H)+U[13]+681279174&4294967295,C=k+(N<<4&4294967295|N>>>28),N=H+(C^k^j)+U[0]+3936430074&4294967295,H=C+(N<<11&4294967295|N>>>21),N=j+(H^C^k)+U[3]+3572445317&4294967295,j=H+(N<<16&4294967295|N>>>16),N=k+(j^H^C)+U[6]+76029189&4294967295,k=j+(N<<23&4294967295|N>>>9),N=C+(k^j^H)+U[9]+3654602809&4294967295,C=k+(N<<4&4294967295|N>>>28),N=H+(C^k^j)+U[12]+3873151461&4294967295,H=C+(N<<11&4294967295|N>>>21),N=j+(H^C^k)+U[15]+530742520&4294967295,j=H+(N<<16&4294967295|N>>>16),N=k+(j^H^C)+U[2]+3299628645&4294967295,k=j+(N<<23&4294967295|N>>>9),N=C+(j^(k|~H))+U[0]+4096336452&4294967295,C=k+(N<<6&4294967295|N>>>26),N=H+(k^(C|~j))+U[7]+1126891415&4294967295,H=C+(N<<10&4294967295|N>>>22),N=j+(C^(H|~k))+U[14]+2878612391&4294967295,j=H+(N<<15&4294967295|N>>>17),N=k+(H^(j|~C))+U[5]+4237533241&4294967295,k=j+(N<<21&4294967295|N>>>11),N=C+(j^(k|~H))+U[12]+1700485571&4294967295,C=k+(N<<6&4294967295|N>>>26),N=H+(k^(C|~j))+U[3]+2399980690&4294967295,H=C+(N<<10&4294967295|N>>>22),N=j+(C^(H|~k))+U[10]+4293915773&4294967295,j=H+(N<<15&4294967295|N>>>17),N=k+(H^(j|~C))+U[1]+2240044497&4294967295,k=j+(N<<21&4294967295|N>>>11),N=C+(j^(k|~H))+U[8]+1873313359&4294967295,C=k+(N<<6&4294967295|N>>>26),N=H+(k^(C|~j))+U[15]+4264355552&4294967295,H=C+(N<<10&4294967295|N>>>22),N=j+(C^(H|~k))+U[6]+2734768916&4294967295,j=H+(N<<15&4294967295|N>>>17),N=k+(H^(j|~C))+U[13]+1309151649&4294967295,k=j+(N<<21&4294967295|N>>>11),N=C+(j^(k|~H))+U[4]+4149444226&4294967295,C=k+(N<<6&4294967295|N>>>26),N=H+(k^(C|~j))+U[11]+3174756917&4294967295,H=C+(N<<10&4294967295|N>>>22),N=j+(C^(H|~k))+U[2]+718787259&4294967295,j=H+(N<<15&4294967295|N>>>17),N=k+(H^(j|~C))+U[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+j&4294967295,M.g[3]=M.g[3]+H&4294967295}i.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var k=C-this.blockSize,U=this.B,j=this.h,H=0;H<C;){if(j==0)for(;H<=k;)r(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<C;)if(U[j++]=M.charCodeAt(H++),j==this.blockSize){r(this,U),j=0;break}}else for(;H<C;)if(U[j++]=M[H++],j==this.blockSize){r(this,U),j=0;break}}this.h=j,this.o+=C},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var k=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=k&255,k/=256;for(this.u(M),M=Array(16),C=k=0;4>C;++C)for(var U=0;32>U;U+=8)M[k++]=this.g[C]>>>U&255;return M};function a(M,C){var k=h;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=C(M)}function u(M,C){this.h=C;for(var k=[],U=!0,j=M.length-1;0<=j;j--){var H=M[j]|0;U&&H==C||(k[j]=H,U=!1)}this.g=k}var h={};function f(M){return-128<=M&&128>M?a(M,function(C){return new u([C|0],0>C?-1:0)}):new u([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return D(d(-M));for(var C=[],k=1,U=0;M>=k;U++)C[U]=M/k|0,k*=4294967296;return new u(C,0)}function g(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return D(g(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(C,8)),U=v,j=0;j<M.length;j+=8){var H=Math.min(8,M.length-j),N=parseInt(M.substring(j,j+H),C);8>H?(H=d(Math.pow(C,H)),U=U.j(H).add(d(N))):(U=U.j(k),U=U.add(d(N)))}return U}var v=f(0),b=f(1),E=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-D(this).m();for(var M=0,C=1,k=0;k<this.g.length;k++){var U=this.i(k);M+=(0<=U?U:4294967296+U)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(I(this))return"0";if(A(this))return"-"+D(this).toString(M);for(var C=d(Math.pow(M,6)),k=this,U="";;){var j=q(k,C).g;k=P(k,j.j(C));var H=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=j,I(k))return H+U;for(;6>H.length;)H="0"+H;U=H+U}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function I(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=P(this,M),A(M)?-1:I(M)?0:1};function D(M){for(var C=M.g.length,k=[],U=0;U<C;U++)k[U]=~M.g[U];return new u(k,~M.h).add(b)}n.abs=function(){return A(this)?D(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),k=[],U=0,j=0;j<=C;j++){var H=U+(this.i(j)&65535)+(M.i(j)&65535),N=(H>>>16)+(this.i(j)>>>16)+(M.i(j)>>>16);U=N>>>16,H&=65535,N&=65535,k[j]=N<<16|H}return new u(k,k[k.length-1]&-2147483648?-1:0)};function P(M,C){return M.add(D(C))}n.j=function(M){if(I(this)||I(M))return v;if(A(this))return A(M)?D(this).j(D(M)):D(D(this).j(M));if(A(M))return D(this.j(D(M)));if(0>this.l(E)&&0>M.l(E))return d(this.m()*M.m());for(var C=this.g.length+M.g.length,k=[],U=0;U<2*C;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var j=0;j<M.g.length;j++){var H=this.i(U)>>>16,N=this.i(U)&65535,It=M.i(j)>>>16,st=M.i(j)&65535;k[2*U+2*j]+=N*st,B(k,2*U+2*j),k[2*U+2*j+1]+=H*st,B(k,2*U+2*j+1),k[2*U+2*j+1]+=N*It,B(k,2*U+2*j+1),k[2*U+2*j+2]+=H*It,B(k,2*U+2*j+2)}for(U=0;U<C;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=C;U<2*C;U++)k[U]=0;return new u(k,0)};function B(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function F(M,C){this.g=M,this.h=C}function q(M,C){if(I(C))throw Error("division by zero");if(I(M))return new F(v,v);if(A(M))return C=q(D(M),C),new F(D(C.g),D(C.h));if(A(C))return C=q(M,D(C)),new F(D(C.g),C.h);if(30<M.g.length){if(A(M)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var k=b,U=C;0>=U.l(M);)k=Q(k),U=Q(U);var j=le(k,1),H=le(U,1);for(U=le(U,2),k=le(k,2);!I(U);){var N=H.add(U);0>=N.l(M)&&(j=j.add(k),H=N),U=le(U,1),k=le(k,1)}return C=P(M,j.j(C)),new F(j,C)}for(j=v;0<=M.l(C);){for(k=Math.max(1,Math.floor(M.m()/C.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),H=d(k),N=H.j(C);A(N)||0<N.l(M);)k-=U,H=d(k),N=H.j(C);I(H)&&(H=b),j=j.add(H),M=P(M,N)}return new F(j,M)}n.A=function(M){return q(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),k=[],U=0;U<C;U++)k[U]=this.i(U)&M.i(U);return new u(k,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),k=[],U=0;U<C;U++)k[U]=this.i(U)|M.i(U);return new u(k,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),k=[],U=0;U<C;U++)k[U]=this.i(U)^M.i(U);return new u(k,this.h^M.h)};function Q(M){for(var C=M.g.length+1,k=[],U=0;U<C;U++)k[U]=M.i(U)<<1|M.i(U-1)>>>31;return new u(k,M.h)}function le(M,C){var k=C>>5;C%=32;for(var U=M.g.length-k,j=[],H=0;H<U;H++)j[H]=0<C?M.i(H+k)>>>C|M.i(H+k+1)<<32-C:M.i(H+k);return new u(j,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,aR=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Fr=u}).apply(typeof JE<"u"?JE:typeof self<"u"?self:typeof window<"u"?window:{});var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lR,yc,uR,md,Qy,cR,hR,fR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,w){return m==Array.prototype||m==Object.prototype||(m[_]=w.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yf=="object"&&Yf];for(var _=0;_<m.length;++_){var w=m[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(m,_){if(_)e:{var w=i;m=m.split(".");for(var R=0;R<m.length-1;R++){var $=m[R];if(!($ in w))break e;w=w[$]}m=m[m.length-1],R=w[m],_=_(R),_!=R&&_!=null&&e(w,m,{configurable:!0,writable:!0,value:_})}}function a(m,_){m instanceof String&&(m+="");var w=0,R=!1,$={next:function(){if(!R&&w<m.length){var Z=w++;return{value:_(Z,m[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}r("Array.prototype.values",function(m){return m||function(){return a(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function d(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function g(m,_,w){return m.call.apply(m.bind,arguments)}function v(m,_,w){if(!m)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),m.apply(_,$)}}return function(){return m.apply(_,arguments)}}function b(m,_,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function E(m,_){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),m.apply(this,R)}}function I(m,_){function w(){}w.prototype=_.prototype,m.aa=_.prototype,m.prototype=new w,m.prototype.constructor=m,m.Qb=function(R,$,Z){for(var ue=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ue[ze-2]=arguments[ze];return _.prototype[$].apply(R,ue)}}function A(m){const _=m.length;if(0<_){const w=Array(_);for(let R=0;R<_;R++)w[R]=m[R];return w}return[]}function D(m,_){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(f(R)){const $=m.length||0,Z=R.length||0;m.length=$+Z;for(let ue=0;ue<Z;ue++)m[$+ue]=R[ue]}else m.push(R)}}class P{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(m){return/^[\s\xa0]*$/.test(m)}function F(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function q(m){return q[" "](m),m}q[" "]=function(){};var Q=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function le(m,_,w){for(const R in m)_.call(w,m[R],R,m)}function M(m,_){for(const w in m)_.call(void 0,m[w],w,m)}function C(m){const _={};for(const w in m)_[w]=m[w];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(m,_){let w,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(w in R)m[w]=R[w];for(let Z=0;Z<k.length;Z++)w=k[Z],Object.prototype.hasOwnProperty.call(R,w)&&(m[w]=R[w])}}function j(m){var _=1;m=m.split(":");const w=[];for(;0<_&&m.length;)w.push(m.shift()),_--;return m.length&&w.push(m.join(":")),w}function H(m){h.setTimeout(()=>{throw m},0)}function N(){var m=De;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class It{constructor(){this.h=this.g=null}add(_,w){const R=st.get();R.set(_,w),this.h?this.h.next=R:this.g=R,this.h=R}}var st=new P(()=>new J,m=>m.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,fe=!1,De=new It,L=()=>{const m=h.Promise.resolve(void 0);oe=()=>{m.then(re)}};var re=()=>{for(var m;m=N();){try{m.h.call(m.g)}catch(w){H(w)}var _=st;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}fe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const w=()=>{};h.addEventListener("test",w,_),h.removeEventListener("test",w,_)}catch{}return m})();function ke(m,_){if(ae.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var w=this.type=m.type,R=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(Q){e:{try{q(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else w=="mouseover"?_=m.fromElement:w=="mouseout"&&(_=m.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:xe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ke.aa.h.call(this)}}I(ke,ae);var xe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Li(m,_,w,R,$){this.listener=m,this.proxy=null,this.src=_,this.type=w,this.capture=!!R,this.ha=$,this.key=++tt,this.da=this.fa=!1}function er(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ps(m){this.src=m,this.g={},this.h=0}ps.prototype.add=function(m,_,w,R,$){var Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);var ue=ao(m,_,R,$);return-1<ue?(_=m[ue],w||(_.fa=!1)):(_=new Li(_,this.src,Z,!!R,$),_.fa=w,m.push(_)),_};function oo(m,_){var w=_.type;if(w in m.g){var R=m.g[w],$=Array.prototype.indexOf.call(R,_,void 0),Z;(Z=0<=$)&&Array.prototype.splice.call(R,$,1),Z&&(er(_),m.g[w].length==0&&(delete m.g[w],m.h--))}}function ao(m,_,w,R){for(var $=0;$<m.length;++$){var Z=m[$];if(!Z.da&&Z.listener==_&&Z.capture==!!w&&Z.ha==R)return $}return-1}var lo="closure_lm_"+(1e6*Math.random()|0),nu={};function wh(m,_,w,R,$){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)wh(m,_[Z],w,R,$);return null}return w=Th(w),m&&m[Gt]?m.K(_,w,d(R)?!!R.capture:!1,$):Zn(m,_,w,!1,R,$)}function Zn(m,_,w,R,$,Z){if(!_)throw Error("Invalid event type");var ue=d($)?!!$.capture:!!$,ze=ba(m);if(ze||(m[lo]=ze=new ps(m)),w=ze.add(_,w,R,ue,Z),w.proxy)return w;if(R=Vm(),w.proxy=R,R.src=m,R.listener=w,m.addEventListener)ye||($=ue),$===void 0&&($=!1),m.addEventListener(_.toString(),R,$);else if(m.attachEvent)m.attachEvent(uo(_.toString()),R);else if(m.addListener&&m.removeListener)m.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Vm(){function m(w){return _.call(m.src,m.listener,w)}const _=Lm;return m}function iu(m,_,w,R,$){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)iu(m,_[Z],w,R,$);else R=d(R)?!!R.capture:!!R,w=Th(w),m&&m[Gt]?(m=m.i,_=String(_).toString(),_ in m.g&&(Z=m.g[_],w=ao(Z,w,R,$),-1<w&&(er(Z[w]),Array.prototype.splice.call(Z,w,1),Z.length==0&&(delete m.g[_],m.h--)))):m&&(m=ba(m))&&(_=m.g[_.toString()],m=-1,_&&(m=ao(_,w,R,$)),(w=-1<m?_[m]:null)&&_a(w))}function _a(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Gt])oo(_.i,m);else{var w=m.type,R=m.proxy;_.removeEventListener?_.removeEventListener(w,R,m.capture):_.detachEvent?_.detachEvent(uo(w),R):_.addListener&&_.removeListener&&_.removeListener(R),(w=ba(_))?(oo(w,m),w.h==0&&(w.src=null,_[lo]=null)):er(m)}}}function uo(m){return m in nu?nu[m]:nu[m]="on"+m}function Lm(m,_){if(m.da)m=!0;else{_=new ke(_,this);var w=m.listener,R=m.ha||m.src;m.fa&&_a(m),m=w.call(R,_)}return m}function ba(m){return m=m[lo],m instanceof ps?m:null}var su="__closure_events_fn_"+(1e9*Math.random()>>>0);function Th(m){return typeof m=="function"?m:(m[su]||(m[su]=function(_){return m.handleEvent(_)}),m[su])}function yt(){ce.call(this),this.i=new ps(this),this.M=this,this.F=null}I(yt,ce),yt.prototype[Gt]=!0,yt.prototype.removeEventListener=function(m,_,w,R){iu(this,m,_,w,R)};function Ke(m,_){var w,R=m.F;if(R)for(w=[];R;R=R.F)w.push(R);if(m=m.M,R=_.type||_,typeof _=="string")_=new ae(_,m);else if(_ instanceof ae)_.target=_.target||m;else{var $=_;_=new ae(R,m),U(_,$)}if($=!0,w)for(var Z=w.length-1;0<=Z;Z--){var ue=_.g=w[Z];$=Ln(ue,R,!0,_)&&$}if(ue=_.g=m,$=Ln(ue,R,!0,_)&&$,$=Ln(ue,R,!1,_)&&$,w)for(Z=0;Z<w.length;Z++)ue=_.g=w[Z],$=Ln(ue,R,!1,_)&&$}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var w=m.g[_],R=0;R<w.length;R++)er(w[R]);delete m.g[_],m.h--}}this.F=null},yt.prototype.K=function(m,_,w,R){return this.i.add(String(m),_,!1,w,R)},yt.prototype.L=function(m,_,w,R){return this.i.add(String(m),_,!0,w,R)};function Ln(m,_,w,R){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,Z=0;Z<_.length;++Z){var ue=_[Z];if(ue&&!ue.da&&ue.capture==w){var ze=ue.listener,jt=ue.ha||ue.src;ue.fa&&oo(m.i,ue),$=ze.call(jt,R)!==!1&&$}}return $&&!R.defaultPrevented}function fn(m,_,w){if(typeof m=="function")w&&(m=b(m,w));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(m,_||0)}function Eh(m){m.g=fn(()=>{m.g=null,m.i&&(m.i=!1,Eh(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class Um extends ce{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Eh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(m){ce.call(this),this.h=m,this.g={}}I(co,ce);var ho=[];function fo(m){le(m.g,function(_,w){this.g.hasOwnProperty(w)&&_a(_)},m),m.g={}}co.prototype.N=function(){co.aa.N.call(this),fo(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _i=h.JSON.stringify,wa=h.JSON.parse,mo=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function ru(){}ru.prototype.h=null;function ou(m){return m.h||(m.h=m.i())}function au(){}var gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ys(){ae.call(this,"d")}I(ys,ae);function lu(){ae.call(this,"c")}I(lu,ae);var Ui={},uu=null;function tr(){return uu=uu||new yt}Ui.La="serverreachability";function Ta(m){ae.call(this,Ui.La,m)}I(Ta,ae);function nr(m){const _=tr();Ke(_,new Ta(_))}Ui.STAT_EVENT="statevent";function Sh(m,_){ae.call(this,Ui.STAT_EVENT,m),this.stat=_}I(Sh,ae);function at(m){const _=tr();Ke(_,new Sh(_,m))}Ui.Ma="timingevent";function zt(m,_){ae.call(this,Ui.Ma,m),this.size=_}I(zt,ae);function Dt(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},_)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function cu(m,_,w,R,$,Z){m.info(function(){if(m.g)if(Z)for(var ue="",ze=Z.split("&"),jt=0;jt<ze.length;jt++){var je=ze[jt].split("=");if(1<je.length){var Kt=je[0];je=je[1];var Bt=Kt.split("_");ue=2<=Bt.length&&Bt[1]=="type"?ue+(Kt+"="+je+"&"):ue+(Kt+"=redacted&")}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+w+`
`+ue})}function zm(m,_,w,R,$,Z,ue){m.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+w+`
`+Z+" "+ue})}function ir(m,_,w,R){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+po(m,w)+(R?" "+R:"")})}function xh(m,_){m.info(function(){return"TIMEOUT: "+_})}Jn.prototype.info=function(){};function po(m,_){if(!m.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(m=0;m<w.length;m++)if(Array.isArray(w[m])){var R=w[m];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var Z=$[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ue=1;ue<$.length;ue++)$[ue]=""}}}}return _i(w)}catch{return _}}var sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zi;function ji(){}I(ji,ru),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},zi=new ji;function Tn(m,_,w,R){this.j=m,this.i=_,this.l=w,this.R=R||1,this.U=new co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var hu={},Ea={};function bi(m,_,w){m.L=1,m.v=bo(Un(_)),m.m=w,m.P=!0,_s(m,null)}function _s(m,_){m.F=Date.now(),go(m),m.A=Un(m.v);var w=m.A,R=m.R;Array.isArray(R)||(R=[String(R)]),yu(w.i,"t",R),m.C=0,w=m.j.J,m.h=new Et,m.g=Bh(m.j,w?_:null,!m.m),0<m.O&&(m.M=new Um(b(m.Y,m,m.g),m.O)),_=m.U,w=m.g,R=m.ca;var $="readystatechange";Array.isArray($)||($&&(ho[0]=$.toString()),$=ho);for(var Z=0;Z<$.length;Z++){var ue=wh(w,$[Z],R||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),nr(),cu(m.i,m.u,m.A,m.l,m.R,m.m)}Tn.prototype.ca=function(m){m=m.target;const _=this.M;_&&ii(m)==3?_.j():this.Y(m)},Tn.prototype.Y=function(m){try{if(m==this.g)e:{const Bt=ii(this.g);var _=this.g.Ba();const Rs=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Mh(this.g)))){this.J||Bt!=4||_==7||(_==8||0>=Rs?nr(3):nr(2)),rr(this);var w=this.g.Z();this.X=w;t:if(Ah(this)){var R=Mh(this.g);m="";var $=R.length,Z=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Bi(this);var ue="";break t}this.h.i=new h.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,m+=this.h.i.decode(R[_],{stream:!(Z&&_==$-1)});R.length=0,this.h.g+=m,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=w==200,zm(this.i,this.u,this.A,this.l,this.R,Bt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,jt=this.g;if((ze=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(ze)){var je=ze;break t}}je=null}if(w=je)ir(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yo(this,w);else{this.o=!1,this.s=3,at(12),en(this),Bi(this);break e}}if(this.P){w=!0;let tn;for(;!this.J&&this.C<ue.length;)if(tn=Rh(this,ue),tn==Ea){Bt==4&&(this.s=4,at(14),w=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==hu){this.s=4,at(15),ir(this.i,this.l,ue,"[Invalid Chunk]"),w=!1;break}else ir(this.i,this.l,tn,null),yo(this,tn);if(Ah(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ue.length!=0||this.h.h||(this.s=1,at(16),w=!1),this.o=this.o&&w,!w)ir(this.i,this.l,ue,"[Invalid Chunked Response]"),en(this),Bi(this);else if(0<ue.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Co(Kt),Kt.M=!0,at(11))}}else ir(this.i,this.l,ue,null),yo(this,ue);Bt==4&&en(this),this.o&&!this.J&&(Bt==4?Uh(this.j,this):(this.o=!1,go(this)))}else Hm(this.g),w==400&&0<ue.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),en(this),Bi(this)}}}catch{}finally{}};function Ah(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Rh(m,_){var w=m.C,R=_.indexOf(`
`,w);return R==-1?Ea:(w=Number(_.substring(w,R)),isNaN(w)?hu:(R+=1,R+w>_.length?Ea:(_=_.slice(R,R+w),m.C=R+w,_)))}Tn.prototype.cancel=function(){this.J=!0,en(this)};function go(m){m.S=Date.now()+m.I,Ch(m,m.I)}function Ch(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Dt(b(m.ba,m),_)}function rr(m){m.B&&(h.clearTimeout(m.B),m.B=null)}Tn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(xh(this.i,this.A),this.L!=2&&(nr(),at(17)),en(this),this.s=2,Bi(this)):Ch(this,this.S-m)};function Bi(m){m.j.G==0||m.J||Uh(m.j,m)}function en(m){rr(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,fo(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function yo(m,_){try{var w=m.j;if(w.G!=0&&(w.g==m||fu(w.h,m))){if(!m.K&&fu(w.h,m)&&w.G==3){try{var R=w.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<m.F)Na(w),Ma(w);else break e;Tu(w),at(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=Dt(b(w.Za,w),6e3));if(1>=xa(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else As(w,11)}else if((m.K||w.g==m)&&Na(w),!B(_))for($=w.Da.g.parse(_),_=0;_<$.length;_++){let je=$[_];if(w.T=je[0],je=je[1],w.G==2)if(je[0]=="c"){w.K=je[1],w.ia=je[2];const Kt=je[3];Kt!=null&&(w.la=Kt,w.j.info("VER="+w.la));const Bt=je[4];Bt!=null&&(w.Aa=Bt,w.j.info("SVER="+w.Aa));const Rs=je[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(R=1.5*Rs,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const tn=m.g;if(tn){const Yi=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var Z=R.h;Z.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Aa(Z,Z.h),Z.h=null))}if(R.D){const Su=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Su&&(R.ya=Su,We(R.I,R.D,Su))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-m.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var ue=m;if(R.qa=jh(R,R.J?R.ia:null,R.W),ue.K){En(R.h,ue);var ze=ue,jt=R.L;jt&&(ze.I=jt),ze.B&&(rr(ze),go(ze)),R.g=ue}else Vh(R);0<w.i.length&&Oa(w)}else je[0]!="stop"&&je[0]!="close"||As(w,7);else w.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?As(w,7):bu(w):je[0]!="noop"&&w.l&&w.l.ta(je),w.v=0)}}nr(4)}catch{}}var Ih=class{constructor(m,_){this.g=m,this.map=_}};function bs(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function xa(m){return m.h?1:m.g?m.g.size:0}function fu(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Aa(m,_){m.g?m.g.add(_):m.h=_}function En(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}bs.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function du(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const w of m.g.values())_=_.concat(w.D);return _}return A(m.i)}function jm(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var _=[],w=m.length,R=0;R<w;R++)_.push(m[R]);return _}_=[],w=0;for(R in m)_[w++]=m[R];return _}function Ra(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var _=[];m=m.length;for(var w=0;w<m;w++)_.push(w);return _}_=[],w=0;for(const R in m)_[w++]=R;return _}}}function mu(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var w=Ra(m),R=jm(m),$=R.length,Z=0;Z<$;Z++)_.call(void 0,R[Z],w&&w[Z],m)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bm(m,_){if(m){m=m.split("&");for(var w=0;w<m.length;w++){var R=m[w].indexOf("="),$=null;if(0<=R){var Z=m[w].substring(0,R);$=m[w].substring(R+1)}else Z=m[w];_(Z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Pt(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Pt){this.h=m.h,_o(this,m.j),this.o=m.o,this.g=m.g,or(this,m.s),this.l=m.l;var _=m.i,w=new Ts;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),ws(this,w),this.m=m.m}else m&&(_=String(m).match(vo))?(this.h=!1,_o(this,_[1]||"",!0),this.o=ei(_[2]||""),this.g=ei(_[3]||"",!0),or(this,_[4]),this.l=ei(_[5]||"",!0),ws(this,_[6]||"",!0),this.m=ei(_[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}Pt.prototype.toString=function(){var m=[],_=this.j;_&&m.push(wo(_,pu,!0),":");var w=this.g;return(w||_=="file")&&(m.push("//"),(_=this.o)&&m.push(wo(_,pu,!0),"@"),m.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&m.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&m.push("/"),m.push(wo(w,w.charAt(0)=="/"?Fm:gu,!0))),(w=this.i.toString())&&m.push("?",w),(w=this.m)&&m.push("#",wo(w,Ca)),m.join("")};function Un(m){return new Pt(m)}function _o(m,_,w){m.j=w?ei(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function or(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function ws(m,_,w){_ instanceof Ts?(m.i=_,Ph(m.i,m.h)):(w||(_=wo(_,qm)),m.i=new Ts(_,m.h))}function We(m,_,w){m.i.set(_,w)}function bo(m){return We(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ei(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function wo(m,_,w){return typeof m=="string"?(m=encodeURI(m).replace(_,Dh),w&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Dh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var pu=/[#\/\?@]/g,gu=/[#\?:]/g,Fm=/[#\?]/g,qm=/[#\?@]/g,Ca=/#/g;function Ts(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function ti(m){m.g||(m.g=new Map,m.h=0,m.i&&Bm(m.i,function(_,w){m.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=Ts.prototype,n.add=function(m,_){ti(this),this.i=null,m=Fi(this,m);var w=this.g.get(m);return w||this.g.set(m,w=[]),w.push(_),this.h+=1,this};function Es(m,_){ti(m),_=Fi(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function Ss(m,_){return ti(m),_=Fi(m,_),m.g.has(_)}n.forEach=function(m,_){ti(this),this.g.forEach(function(w,R){w.forEach(function($){m.call(_,$,R,this)},this)},this)},n.na=function(){ti(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let R=0;R<_.length;R++){const $=m[R];for(let Z=0;Z<$.length;Z++)w.push(_[R])}return w},n.V=function(m){ti(this);let _=[];if(typeof m=="string")Ss(this,m)&&(_=_.concat(this.g.get(Fi(this,m))));else{m=Array.from(this.g.values());for(let w=0;w<m.length;w++)_=_.concat(m[w])}return _},n.set=function(m,_){return ti(this),this.i=null,m=Fi(this,m),Ss(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function yu(m,_,w){Es(m,_),0<w.length&&(m.i=null,m.g.set(Fi(m,_),A(w)),m.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var R=_[w];const Z=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var $=Z;ue[R]!==""&&($+="="+encodeURIComponent(String(ue[R]))),m.push($)}}return this.i=m.join("&")};function Fi(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Ph(m,_){_&&!m.j&&(ti(m),m.i=null,m.g.forEach(function(w,R){var $=R.toLowerCase();R!=$&&(Es(this,R),yu(this,$,w))},m)),m.j=_}function To(m,_){const w=new Jn;if(h.Image){const R=new Image;R.onload=E(ni,w,"TestLoadImage: loaded",!0,_,R),R.onerror=E(ni,w,"TestLoadImage: error",!1,_,R),R.onabort=E(ni,w,"TestLoadImage: abort",!1,_,R),R.ontimeout=E(ni,w,"TestLoadImage: timeout",!1,_,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=m}else _(!1)}function wi(m,_){const w=new Jn,R=new AbortController,$=setTimeout(()=>{R.abort(),ni(w,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:R.signal}).then(Z=>{clearTimeout($),Z.ok?ni(w,"TestPingServer: ok",!0,_):ni(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),ni(w,"TestPingServer: error",!1,_)})}function ni(m,_,w,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(w)}catch{}}function Eo(){this.g=new mo}function qi(m,_,w){const R=w||"";try{mu(m,function($,Z){let ue=$;d($)&&(ue=_i($)),_.push(R+Z+"="+encodeURIComponent(ue))})}catch($){throw _.push(R+"type="+encodeURIComponent("_badmap")),$}}function ar(m){this.l=m.Ub||null,this.j=m.eb||!1}I(ar,ru),ar.prototype.g=function(){return new xs(this.l,this.j)},ar.prototype.i=(function(m){return function(){return m}})({});function xs(m,_){yt.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(xs,yt),n=xs.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Gi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Hi(this):Gi(this),this.readyState==3&&vu(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Hi(this))},n.Qa=function(m){this.g&&(this.response=m,Hi(this))},n.ga=function(){this.g&&Hi(this)};function Hi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Gi(m)}n.setRequestHeader=function(m,_){this.u.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,m.push(w[0]+": "+w[1]),w=_.next();return m.join(`\r
`)};function Gi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function _u(m){let _="";return le(m,function(w,R){_+=R,_+=":",_+=w,_+=`\r
`}),_}function $t(m,_,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=_u(w),typeof m=="string"?w!=null&&encodeURIComponent(String(w)):We(m,_,w))}function Ge(m){yt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ge,yt);var Ia=/^https?$/i,So=["POST","PUT"];n=Ge.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,_,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zi.g(),this.v=this.o?ou(this.o):ou(zi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(Z){kh(this,Z);return}if(m=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)w.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())w.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(So,_,void 0))||R||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of w)this.g.setRequestHeader(Z,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xo(this),this.u=!0,this.g.send(m),this.u=!1}catch(Z){kh(this,Z)}};function kh(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,Da(m),$i(m)}function Da(m){m.A||(m.A=!0,Ke(m,"complete"),Ke(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ke(this,"complete"),Ke(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},n.bb=function(){Pa(this)};function Pa(m){if(m.h&&typeof u<"u"&&(!m.v[1]||ii(m)!=4||m.Z()!=2)){if(m.u&&ii(m)==4)fn(m.Ea,0,m);else if(Ke(m,"readystatechange"),ii(m)==4){m.h=!1;try{const ue=m.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var R;if(R=ue===0){var $=String(m.D).match(vo)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),R=!Ia.test($?$.toLowerCase():"")}w=R}if(w)Ke(m,"complete"),Ke(m,"success");else{m.m=6;try{var Z=2<ii(m)?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.Z()+"]",Da(m)}}finally{$i(m)}}}}function $i(m,_){if(m.g){xo(m);const w=m.g,R=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||Ke(m,"ready");try{w.onreadystatechange=R}catch{}}}function xo(m){m.I&&(h.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function ii(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),wa(_)}};function Mh(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Hm(m){const _={};m=(m.g&&2<=ii(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<m.length;R++){if(B(m[R]))continue;var w=j(m[R]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Z=_[$]||[];_[$]=Z,Z.push(w)}M(_,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(m,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[m]||_}function ka(m){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,m),this.cb=Ao("retryDelaySeedMs",1e4,m),this.Wa=Ao("forwardChannelMaxRetries",2,m),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(m&&m.concurrentRequestLimit),this.Da=new Eo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ka.prototype,n.la=8,n.G=1,n.connect=function(m,_,w,R){at(0),this.W=m,this.H=_||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=jh(this,null,this.W),Oa(this)};function bu(m){if(Oh(m),m.G==3){var _=m.U++,w=Un(m.I);if(We(w,"SID",m.K),We(w,"RID",_),We(w,"TYPE","terminate"),Ro(m,w),_=new Tn(m,m.j,_),_.L=2,_.v=bo(Un(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=_.v,w=!0),w||(_.g=Bh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),go(_)}zh(m)}function Ma(m){m.g&&(Co(m),m.g.cancel(),m.g=null)}function Oh(m){Ma(m),m.u&&(h.clearTimeout(m.u),m.u=null),Na(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function Oa(m){if(!Sa(m.h)&&!m.s){m.s=!0;var _=m.Ga;oe||L(),fe||(oe(),fe=!0),De.add(_,m),m.B=0}}function Gm(m,_){return xa(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Dt(b(m.Ga,m,_),Eu(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const $=new Tn(this,this.j,m);let Z=this.o;if(this.S&&(Z?(Z=C(Z),U(Z,this.S)):Z=this.S),this.m!==null||this.O||($.H=Z,Z=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=Nh(this,$,_),w=Un(this.I),We(w,"RID",m),We(w,"CVER",22),this.D&&We(w,"X-HTTP-Session-Id",this.D),Ro(this,w),Z&&(this.O?_="headers="+encodeURIComponent(String(_u(Z)))+"&"+_:this.m&&$t(w,this.m,Z)),Aa(this.h,$),this.Ua&&We(w,"TYPE","init"),this.P?(We(w,"$req",_),We(w,"SID","null"),$.T=!0,bi($,w,null)):bi($,w,_),this.G=2}}else this.G==3&&(m?wu(this,m):this.i.length==0||Sa(this.h)||wu(this))};function wu(m,_){var w;_?w=_.l:w=m.U++;const R=Un(m.I);We(R,"SID",m.K),We(R,"RID",w),We(R,"AID",m.T),Ro(m,R),m.m&&m.o&&$t(R,m.m,m.o),w=new Tn(m,m.j,w,m.B+1),m.m===null&&(w.H=m.o),_&&(m.i=_.D.concat(m.i)),_=Nh(m,w,1e3),w.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Aa(m.h,w),bi(w,R,_)}function Ro(m,_){m.H&&le(m.H,function(w,R){We(_,R,w)}),m.l&&mu({},function(w,R){We(_,R,w)})}function Nh(m,_,w){w=Math.min(m.i.length,w);var R=m.l?b(m.l.Na,m.l,m):null;e:{var $=m.i;let Z=-1;for(;;){const ue=["count="+w];Z==-1?0<w?(Z=$[0].g,ue.push("ofs="+Z)):Z=0:ue.push("ofs="+Z);let ze=!0;for(let jt=0;jt<w;jt++){let je=$[jt].g;const Kt=$[jt].map;if(je-=Z,0>je)Z=Math.max(0,$[jt].g-100),ze=!1;else try{qi(Kt,ue,"req"+je+"_")}catch{R&&R(Kt)}}if(ze){R=ue.join("&");break e}}}return m=m.i.splice(0,w),_.D=m,R}function Vh(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;oe||L(),fe||(oe(),fe=!0),De.add(_,m),m.v=0}}function Tu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Dt(b(m.Fa,m),Eu(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Lh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Dt(b(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Ma(this),Lh(this))};function Co(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Lh(m){m.g=new Tn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=Un(m.qa);We(_,"RID","rpc"),We(_,"SID",m.K),We(_,"AID",m.T),We(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&We(_,"TO",m.ja),We(_,"TYPE","xmlhttp"),Ro(m,_),m.m&&m.o&&$t(_,m.m,m.o),m.L&&(m.g.I=m.L);var w=m.g;m=m.ia,w.L=1,w.v=bo(Un(_)),w.m=null,w.P=!0,_s(w,m)}n.Za=function(){this.C!=null&&(this.C=null,Ma(this),Tu(this),at(19))};function Na(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function Uh(m,_){var w=null;if(m.g==_){Na(m),Co(m),m.g=null;var R=2}else if(fu(m.h,_))w=_.D,En(m.h,_),R=1;else return;if(m.G!=0){if(_.o)if(R==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var $=m.B;R=tr(),Ke(R,new zt(R,w)),Oa(m)}else Vh(m);else if($=_.s,$==3||$==0&&0<_.X||!(R==1&&Gm(m,_)||R==2&&Tu(m)))switch(w&&0<w.length&&(_=m.h,_.i=_.i.concat(w)),$){case 1:As(m,5);break;case 4:As(m,10);break;case 3:As(m,6);break;default:As(m,2)}}}function Eu(m,_){let w=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(w*=2),w*_}function As(m,_){if(m.j.info("Error code "+_),_==2){var w=b(m.fb,m),R=m.Xa;const $=!R;R=new Pt(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||_o(R,"https"),bo(R),$?To(R.toString(),w):wi(R.toString(),w)}else at(2);m.G=0,m.l&&m.l.sa(_),zh(m),Oh(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function zh(m){if(m.G=0,m.ka=[],m.l){const _=du(m.h);(_.length!=0||m.i.length!=0)&&(D(m.ka,_),D(m.ka,m.i),m.h.i.length=0,A(m.i),m.i.length=0),m.l.ra()}}function jh(m,_,w){var R=w instanceof Pt?Un(w):new Pt(w);if(R.g!="")_&&(R.g=_+"."+R.g),or(R,R.s);else{var $=h.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var Z=new Pt(null);R&&_o(Z,R),_&&(Z.g=_),$&&or(Z,$),w&&(Z.l=w),R=Z}return w=m.D,_=m.ya,w&&_&&We(R,w,_),We(R,"VER",m.la),Ro(m,R),R}function Bh(m,_,w){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new Ge(new ar({eb:w})):new Ge(m.pa),_.Ha(m.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fh(){}n=Fh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Va(){}Va.prototype.g=function(m,_){return new Sn(m,_)};function Sn(m,_){yt.call(this),this.g=new ka(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!B(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Ki(this)}I(Sn,yt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){bu(this.g)},Sn.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var w={};w.__data__=m,m=w}else this.u&&(w={},w.__data__=_i(m),m=w);_.i.push(new Ih(_.Ya++,m)),_.G==3&&Oa(_)},Sn.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,Sn.aa.N.call(this)};function qh(m){ys.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const w in _){m=w;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}I(qh,ys);function Hh(){lu.call(this),this.status=1}I(Hh,lu);function Ki(m){this.g=m}I(Ki,Fh),Ki.prototype.ua=function(){Ke(this.g,"a")},Ki.prototype.ta=function(m){Ke(this.g,new qh(m))},Ki.prototype.sa=function(m){Ke(this.g,new Hh)},Ki.prototype.ra=function(){Ke(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,fR=function(){return new Va},hR=function(){return tr()},cR=Ui,Qy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,md=sr,vs.COMPLETE="complete",uR=vs,au.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",yt.prototype.listen=yt.prototype.K,yc=au,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,lR=Ge}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});const eS="@firebase/firestore",tS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new n_("@firebase/firestore");function dl(){return ua.logLevel}function de(n,...e){if(ua.logLevel<=Ve.DEBUG){const t=e.map(d_);ua.debug(`Firestore (${Yl}): ${n}`,...t)}}function Xs(n,...e){if(ua.logLevel<=Ve.ERROR){const t=e.map(d_);ua.error(`Firestore (${Yl}): ${n}`,...t)}}function Nl(n,...e){if(ua.logLevel<=Ve.WARN){const t=e.map(d_);ua.warn(`Firestore (${Yl}): ${n}`,...t)}}function d_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,dR(n,i,t)}function dR(n,e,t){let i=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Xs(i),new Error(i)}function $e(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||dR(e,r,i)}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ms{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gn.UNAUTHENTICATED)))}shutdown(){}}class u6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class c6{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zo,e.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zo)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new mR(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class h6{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f6{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new h6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new nS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=m6(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function Zy(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),a=e.charAt(i);if(r!==a)return dy(r)===dy(a)?Le(r,a):dy(r)?1:-1}return Le(n.length,e.length)}const p6=55296,g6=57343;function dy(n){const e=n.charCodeAt(0);return e>=p6&&e<=g6}function Vl(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="__name__";class es{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Te(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=es.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Le(e.length,t.length)}static compareSegments(e,t){const i=es.isNumericId(e),r=es.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?es.extractNumericId(e).compare(es.extractNumericId(t)):Zy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class it extends es{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const y6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends es{construct(e,t,i){return new un(e,t,i)}static isValidIdentifier(e){return y6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iS}static keyField(){return new un([iS])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(a(),r++)}if(a(),u)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function v6(n,e,t,i){if(e===!0&&i===!0)throw new he(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sS(n){if(!ge.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rS(n){if(ge.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mm(n);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n,e){const t={typeString:n};return e&&(t.value=e),t}function ch(n,e){if(!gR(n))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(r&&typeof u!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new he(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=-62135596800,aS=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*aS);return new rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<oS)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aS}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ch(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Lt("string",rt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new rt(0,0))}static max(){return new Ae(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function _6(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ae.fromTimestamp(i===1e9?new rt(t+1,0):new rt(t,i));return new $r(r,ge.empty(),e)}function b6(n){return new $r(n.readTime,n.key,Fc)}class $r{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $r(Ae.min(),ge.empty(),Fc)}static max(){return new $r(Ae.max(),ge.empty(),Fc)}}function w6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==T6)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,i)=>{t(e)}))}static reject(e){return new se(((t,i)=>{i(e)}))}static waitFor(e){return new se(((t,i)=>{let r=0,a=0,u=!1;e.forEach((h=>{++r,h.next((()=>{++a,u&&a===r&&t()}),(f=>i(f)))})),u=!0,a===r&&t()}))}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next((r=>r?se.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,a)=>{i.push(t.call(this,r,a))})),this.waitFor(i)}static mapArray(e,t){return new se(((i,r)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++h,h===a&&i(u)}),(g=>r(g)))}}))}static doWhile(e,t){return new se(((i,r)=>{const a=()=>{e()===!0?t().next((()=>{a()}),r):i()};a()}))}}function S6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=-1;function gm(n){return n==null}function jd(n){return n===0&&1/n==-1/0}function x6(n){return typeof n=="number"&&Number.isInteger(n)&&!jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="";function A6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lS(e)),e=R6(n.get(t),e);return lS(e)}function R6(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case yR:t+="";break;default:t+=a}}return t}function lS(n){return n+yR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function io(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xf(this.root,e,this.comparator,!0)}}class Xf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??an.RED,this.left=r??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new an(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return an.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cS(this.data.getIterator())}getIteratorFrom(e){return new cS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class cS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Ht(un.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _R("Invalid base64 string: "+a):a}})(e);return new hn(t)}static fromUint8Array(e){const t=(function(r){let a="";for(let u=0;u<r.length;++u)a+=String.fromCharCode(r[u]);return a})(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const C6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if($e(!!n,39018),typeof n=="string"){let e=0;const t=C6.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yr(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="server_timestamp",wR="__type__",TR="__previous_value__",ER="__local_write_time__";function g_(n){return(n?.mapValue?.fields||{})[wR]?.stringValue===bR}function ym(n){const e=n.mapValue.fields[TR];return g_(e)?ym(e):e}function qc(n){const e=Kr(n.mapValue.fields[ER].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,t,i,r,a,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const Bd="(default)";class Hc{constructor(e,t){this.projectId=e,this.database=t||Bd}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="__type__",D6="__max__",Wf={mapValue:{}},xR="__vector__",Fd="value";function Xr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?g_(n)?4:k6(n)?9007199254740991:P6(n)?10:11:Te(28295,{value:n})}function fs(n,e){if(n===e)return!0;const t=Xr(n);if(t!==Xr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const u=Kr(r.timestampValue),h=Kr(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,a){return Yr(r.bytesValue).isEqual(Yr(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,a){return Rt(r.geoPointValue.latitude)===Rt(a.geoPointValue.latitude)&&Rt(r.geoPointValue.longitude)===Rt(a.geoPointValue.longitude)})(n,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return Rt(r.integerValue)===Rt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const u=Rt(r.doubleValue),h=Rt(a.doubleValue);return u===h?jd(u)===jd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Vl(n.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return(function(r,a){const u=r.mapValue.fields||{},h=a.mapValue.fields||{};if(uS(u)!==uS(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!fs(u[f],h[f])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function Gc(n,e){return(n.values||[]).find((t=>fs(t,e)))!==void 0}function Ll(n,e){if(n===e)return 0;const t=Xr(n),i=Xr(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Rt(a.integerValue||a.doubleValue),f=Rt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return hS(n.timestampValue,e.timestampValue);case 4:return hS(qc(n),qc(e));case 5:return Zy(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Yr(a),f=Yr(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=Le(h[d],f[d]);if(g!==0)return g}return Le(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Le(Rt(a.latitude),Rt(u.latitude));return h!==0?h:Le(Rt(a.longitude),Rt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return fS(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},d=h[Fd]?.arrayValue,g=f[Fd]?.arrayValue,v=Le(d?.values?.length||0,g?.values?.length||0);return v!==0?v:fS(d,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Wf.mapValue&&u===Wf.mapValue)return 0;if(a===Wf.mapValue)return 1;if(u===Wf.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const b=Zy(f[v],g[v]);if(b!==0)return b;const E=Ll(h[f[v]],d[g[v]]);if(E!==0)return E}return Le(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function hS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Kr(n),i=Kr(e),r=Le(t.seconds,i.seconds);return r!==0?r:Le(t.nanos,i.nanos)}function fS(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Ll(t[r],i[r]);if(a)return a}return Le(t.length,i.length)}function Ul(n){return Jy(n)}function Jy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Kr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Yr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ge.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Jy(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const u of i)a?a=!1:r+=",",r+=`${u}:${Jy(t.fields[u])}`;return r+"}"})(n.mapValue):Te(61005,{value:n})}function pd(n){switch(Xr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ym(n);return e?16+pd(e):16;case 5:return 2*n.stringValue.length;case 6:return Yr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+pd(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return io(i.fields,((a,u)=>{r+=a.length+pd(u)})),r})(n.mapValue);default:throw Te(13486,{value:n})}}function dS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ev(n){return!!n&&"integerValue"in n}function y_(n){return!!n&&"arrayValue"in n}function mS(n){return!!n&&"nullValue"in n}function pS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gd(n){return!!n&&"mapValue"in n}function P6(n){return(n?.mapValue?.fields||{})[SR]?.stringValue===xR}function Ac(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return io(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Ac(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ac(n.arrayValue.values[t]);return e}return{...n}}function k6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===D6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(t)}setAll(e){let t=un.emptyPath(),i={},r=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=Ac(u):r.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());gd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];gd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){io(t,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new On(Ac(this.value))}}function AR(n){const e=[];return io(n.fields,((t,i)=>{const r=new un([t]);if(gd(i)){const a=AR(i.mapValue).fields;if(a.length===0)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)})),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,i,r,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new yn(e,0,Ae.min(),Ae.min(),Ae.min(),On.empty(),0)}static newFoundDocument(e,t,i,r){return new yn(e,1,t,Ae.min(),i,r,0)}static newNoDocument(e,t){return new yn(e,2,t,Ae.min(),Ae.min(),On.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Ae.min(),Ae.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.position=e,this.inclusive=t}}function gS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(a.field.isKeyField()?i=ge.comparator(ge.fromName(u.referenceValue),t.key):i=Ll(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function yS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t="asc"){this.field=e,this.dir=t}}function M6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{}class Vt extends RR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new N6(e,t,i):t==="array-contains"?new U6(e,i):t==="in"?new z6(e,i):t==="not-in"?new j6(e,i):t==="array-contains-any"?new B6(e,i):new Vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new V6(e,i):new L6(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ll(t,this.value)):t!==null&&Xr(this.value)===Xr(t)&&this.matchesComparison(Ll(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends RR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Oi(e,t)}matches(e){return CR(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CR(n){return n.op==="and"}function IR(n){return O6(n)&&CR(n)}function O6(n){for(const e of n.filters)if(e instanceof Oi)return!1;return!0}function tv(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+Ul(n.value);if(IR(n))return n.filters.map((e=>tv(e))).join(",");{const e=n.filters.map((t=>tv(t))).join(",");return`${n.op}(${e})`}}function DR(n,e){return n instanceof Vt?(function(i,r){return r instanceof Vt&&i.op===r.op&&i.field.isEqual(r.field)&&fs(i.value,r.value)})(n,e):n instanceof Oi?(function(i,r){return r instanceof Oi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,u,h)=>a&&DR(u,r.filters[h])),!0):!1})(n,e):void Te(19439)}function PR(n){return n instanceof Vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ul(t.value)}`})(n):n instanceof Oi?(function(t){return t.op.toString()+" {"+t.getFilters().map(PR).join(" ,")+"}"})(n):"Filter"}class N6 extends Vt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class V6 extends Vt{constructor(e,t){super(e,"in",t),this.keys=kR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class L6 extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=kR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kR(n,e){return(e.arrayValue?.values||[]).map((t=>ge.fromName(t.referenceValue)))}class U6 extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return y_(t)&&Gc(t.arrayValue,this.value)}}class z6 extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gc(this.value.arrayValue,t)}}class j6 extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gc(this.value.arrayValue,t)}}class B6 extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!y_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Gc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,t=null,i=[],r=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function vS(n,e=null,t=[],i=[],r=null,a=null,u=null){return new F6(n,e,t,i,r,a,u)}function v_(n){const e=Re(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>tv(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),gm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ul(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ul(i))).join(",")),e.Te=t}return e.Te}function __(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!M6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yS(n.startAt,e.startAt)&&yS(n.endAt,e.endAt)}function nv(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t=null,i=[],r=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function q6(n,e,t,i,r,a,u,h){return new Ql(n,e,t,i,r,a,u,h)}function b_(n){return new Ql(n)}function _S(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function MR(n){return n.collectionGroup!==null}function Rc(n){const e=Re(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ht(un.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new $c(a,i))})),t.has(un.keyField().canonicalString())||e.Ie.push(new $c(un.keyField(),i))}return e.Ie}function rs(n){const e=Re(n);return e.Ee||(e.Ee=H6(e,Rc(n))),e.Ee}function H6(n,e){if(n.limitType==="F")return vS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new $c(r.field,a)}));const t=n.endAt?new qd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new qd(n.startAt.position,n.startAt.inclusive):null;return vS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function iv(n,e){const t=n.filters.concat([e]);return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sv(n,e,t){return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vm(n,e){return __(rs(n),rs(e))&&n.limitType===e.limitType}function OR(n){return`${v_(rs(n))}|lt:${n.limitType}`}function ml(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>PR(r))).join(", ")}]`),gm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ul(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ul(r))).join(",")),`Target(${i})`})(rs(n))}; limitType=${n.limitType})`}function _m(n,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ge.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,r){for(const a of Rc(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(u,h,f){const d=gS(u,h,f);return u.inclusive?d<=0:d<0})(i.startAt,Rc(i),r)||i.endAt&&!(function(u,h,f){const d=gS(u,h,f);return u.inclusive?d>=0:d>0})(i.endAt,Rc(i),r))})(n,e)}function G6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NR(n){return(e,t)=>{let i=!1;for(const r of Rc(n)){const a=$6(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function $6(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):(function(a,u,h){const f=u.data.field(a),d=h.data.field(a);return f!==null&&d!==null?Ll(f,d):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,((t,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return vR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new gt(ge.comparator);function Ws(){return K6}const VR=new gt(ge.comparator);function vc(...n){let e=VR;for(const t of n)e=e.insert(t.key,t);return e}function LR(n){let e=VR;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Xo(){return Cc()}function UR(){return Cc()}function Cc(){return new ga((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Y6=new gt(ge.comparator),X6=new Ht(ge.comparator);function Ue(...n){let e=X6;for(const t of n)e=e.add(t);return e}const W6=new Ht(Le);function Q6(){return W6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(e)?"-0":e}}function zR(n){return{integerValue:""+n}}function Z6(n,e){return x6(e)?zR(e):w_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this._=void 0}}function J6(n,e,t){return n instanceof Kc?(function(r,a){const u={fields:{[wR]:{stringValue:bR},[ER]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&g_(a)&&(a=ym(a)),a&&(u.fields[TR]=a),{mapValue:u}})(t,e):n instanceof Yc?BR(n,e):n instanceof Xc?FR(n,e):(function(r,a){const u=jR(r,a),h=bS(u)+bS(r.Ae);return ev(u)&&ev(r.Ae)?zR(h):w_(r.serializer,h)})(n,e)}function ez(n,e,t){return n instanceof Yc?BR(n,e):n instanceof Xc?FR(n,e):t}function jR(n,e){return n instanceof Hd?(function(i){return ev(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Kc extends bm{}class Yc extends bm{constructor(e){super(),this.elements=e}}function BR(n,e){const t=qR(e);for(const i of n.elements)t.some((r=>fs(r,i)))||t.push(i);return{arrayValue:{values:t}}}class Xc extends bm{constructor(e){super(),this.elements=e}}function FR(n,e){let t=qR(e);for(const i of n.elements)t=t.filter((r=>!fs(r,i)));return{arrayValue:{values:t}}}class Hd extends bm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function bS(n){return Rt(n.integerValue||n.doubleValue)}function qR(n){return y_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,t){this.field=e,this.transform=t}}function nz(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof Yc&&r instanceof Yc||i instanceof Xc&&r instanceof Xc?Vl(i.elements,r.elements,fs):i instanceof Hd&&r instanceof Hd?fs(i.Ae,r.Ae):i instanceof Kc&&r instanceof Kc})(n.transform,e.transform)}class iz{constructor(e,t){this.version=e,this.transformResults=t}}class Di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class wm{}function HR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new T_(n.key,Di.none()):new hh(n.key,n.data,Di.none());{const t=n.data,i=On.empty();let r=new Ht(un.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),r=r.add(a)}return new so(n.key,i,new Kn(r.toArray()),Di.none())}}function sz(n,e,t){n instanceof hh?(function(r,a,u){const h=r.value.clone(),f=TS(r.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof so?(function(r,a,u){if(!yd(r.precondition,a))return void a.convertToUnknownDocument(u.version);const h=TS(r.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(GR(r)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(r,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ic(n,e,t,i){return n instanceof hh?(function(a,u,h,f){if(!yd(a.precondition,u))return h;const d=a.value.clone(),g=ES(a.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof so?(function(a,u,h,f){if(!yd(a.precondition,u))return h;const d=ES(a.fieldTransforms,f,u),g=u.data;return g.setAll(GR(a)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(a,u,h){return yd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function rz(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=jR(i.transform,r||null);a!=null&&(t===null&&(t=On.empty()),t.set(i.field,a))}return t||null}function wS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Vl(i,r,((a,u)=>nz(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hh extends wm{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class so extends wm{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function GR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function TS(n,e,t){const i=new Map;$e(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,h=e.data.field(a.field);i.set(a.field,ez(u,h,t[r]))}return i}function ES(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,J6(a,u,e))}return i}class T_ extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oz extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&sz(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ic(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ic(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=UR();return this.mutations.forEach((r=>{const a=e.get(r.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(r.key)?null:h;const f=HR(u,h);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(Ae.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,((t,i)=>wS(t,i)))&&Vl(this.baseMutations,e.baseMutations,((t,i)=>wS(t,i)))}}class E_{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){$e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return Y6})();const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new E_(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Fe;function cz(n){switch(n){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function $R(n){if(n===void 0)return Xs("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Ot.OK:return ne.OK;case Ot.CANCELLED:return ne.CANCELLED;case Ot.UNKNOWN:return ne.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ne.INTERNAL;case Ot.UNAVAILABLE:return ne.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ne.NOT_FOUND;case Ot.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ot.ABORTED:return ne.ABORTED;case Ot.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ot.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:n})}}(Fe=Ot||(Ot={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=new Fr([4294967295,4294967295],0);function SS(n){const e=hz().encode(n),t=new aR;return t.update(e),new Uint8Array(t.digest())}function xS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fr([t,i],0),new Fr([r,a],0)]}class S_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _c(`Invalid padding: ${t}`);if(i<0)throw new _c(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _c(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Fr.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(Fr.fromNumber(i)));return r.compare(fz)===1&&(r=new Fr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=SS(e),[i,r]=xS(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);if(!this.we(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new S_(a,r,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=SS(e),[i,r]=xS(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,fh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Tm(Ae.min(),r,new gt(Le),Ws(),Ue())}}class fh{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new fh(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t,i,r){this.be=e,this.removedTargetIds=t,this.key=i,this.De=r}}class KR{constructor(e,t){this.targetId=e,this.Ce=t}}class YR{constructor(e,t,i=hn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class AS{constructor(){this.ve=0,this.Fe=RS(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),i=Ue();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Te(38017,{changeType:a})}})),new fh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=RS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dz{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ws(),this.Je=Qf(),this.He=Qf(),this.Ye=new gt(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(nv(a))if(i===0){const u=new ge(a.path);this.et(t,u,yn.newNoDocument(u,Ae.min()))}else $e(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let u,h;try{u=Yr(i).toUint8Array()}catch(f){if(f instanceof _R)return Nl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new S_(u,r,a)}catch(f){return Nl(f instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&nv(h.target)){const f=new ge(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,yn.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let i=Ue();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const r=new Tm(e,t,this.Ye,this.je,i);return this.je=Ws(),this.Je=Qf(),this.He=Qf(),this.Ye=new gt(Le),r}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new AS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ht(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ht(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new AS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Qf(){return new gt(ge.comparator)}function RS(){return new gt(ge.comparator)}const mz={asc:"ASCENDING",desc:"DESCENDING"},pz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gz={and:"AND",or:"OR"};class yz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rv(n,e){return n.useProto3Json||gm(e)?e:{value:e}}function Gd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vz(n,e){return Gd(n,e.toTimestamp())}function os(n){return $e(!!n,49232),Ae.fromTimestamp((function(t){const i=Kr(t);return new rt(i.seconds,i.nanos)})(n))}function x_(n,e){return ov(n,e).canonicalString()}function ov(n,e){const t=(function(r){return new it(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function WR(n){const e=it.fromString(n);return $e(tC(e),10190,{key:e.toString()}),e}function av(n,e){return x_(n.databaseId,e.path)}function my(n,e){const t=WR(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(ZR(t))}function QR(n,e){return x_(n.databaseId,e)}function _z(n){const e=WR(n);return e.length===4?it.emptyPath():ZR(e)}function lv(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZR(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function CS(n,e,t){return{name:av(n,e),fields:t.value.mapValue.fields}}function bz(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Te(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(d,g){return d.useProto3Json?($e(g===void 0||typeof g=="string",58123),hn.fromBase64String(g||"")):($e(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),hn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(d){const g=d.code===void 0?ne.UNKNOWN:$R(d.code);return new he(g,d.message||"")})(u);t=new YR(i,r,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=my(n,i.document.name),a=os(i.document.updateTime),u=i.document.createTime?os(i.document.createTime):Ae.min(),h=new On({mapValue:{fields:i.document.fields}}),f=yn.newFoundDocument(r,a,u,h),d=i.targetIds||[],g=i.removedTargetIds||[];t=new vd(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=my(n,i.document),a=i.readTime?os(i.readTime):Ae.min(),u=yn.newNoDocument(r,a),h=i.removedTargetIds||[];t=new vd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=my(n,i.document),a=i.removedTargetIds||[];t=new vd([],a,r,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,u=new uz(r,a),h=i.targetId;t=new KR(h,u)}}return t}function wz(n,e){let t;if(e instanceof hh)t={update:CS(n,e.key,e.value)};else if(e instanceof T_)t={delete:av(n,e.key)};else if(e instanceof so)t={update:CS(n,e.key,e.data),updateMask:Dz(e.fieldMask)};else{if(!(e instanceof oz))return Te(16599,{Vt:e.type});t={verify:av(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const h=u.transform;if(h instanceof Kc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Yc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Hd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:vz(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)})(n,e.precondition)),t}function Tz(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map((t=>(function(r,a){let u=r.updateTime?os(r.updateTime):os(a);return u.isEqual(Ae.min())&&(u=os(a)),new iz(u,r.transformResults||[])})(t,e)))):[]}function Ez(n,e){return{documents:[QR(n,e.path)]}}function Sz(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=QR(n,r);const a=(function(d){if(d.length!==0)return eC(Oi.create(d,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(d){if(d.length!==0)return d.map((g=>(function(b){return{field:pl(b.field),direction:Rz(b.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=rv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:r}}function xz(n){let e=_z(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){$e(i===1,65062);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(v){const b=JR(v);return b instanceof Oi&&IR(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((b=>(function(I){return new $c(gl(I.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(b)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let b;return b=typeof v=="object"?v.value:v,gm(b)?null:b})(t.limit));let f=null;t.startAt&&(f=(function(v){const b=!!v.before,E=v.values||[];return new qd(E,b)})(t.startAt));let d=null;return t.endAt&&(d=(function(v){const b=!v.before,E=v.values||[];return new qd(E,b)})(t.endAt)),q6(e,r,u,a,h,"F",f,d)}function Az(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=gl(t.unaryFilter.field);return Vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=gl(t.unaryFilter.field);return Vt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gl(t.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=gl(t.unaryFilter.field);return Vt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Vt.create(gl(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Oi.create(t.compositeFilter.filters.map((i=>JR(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function Rz(n){return mz[n]}function Cz(n){return pz[n]}function Iz(n){return gz[n]}function pl(n){return{fieldPath:n.canonicalString()}}function gl(n){return un.fromServerFormat(n.fieldPath)}function eC(n){return n instanceof Vt?(function(t){if(t.op==="=="){if(pS(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NAN"}};if(mS(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pS(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NAN"}};if(mS(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(t.field),op:Cz(t.op),value:t.value}}})(n):n instanceof Oi?(function(t){const i=t.getFilters().map((r=>eC(r)));return i.length===1?i[0]:{compositeFilter:{op:Iz(t.op),filters:i}}})(n):Te(54877,{filter:n})}function Dz(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,t,i,r,a=Ae.min(),u=Ae.min(),h=hn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.yt=e}}function kz(n){const e=xz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.Cn=new Oz}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve($r.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve($r.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Oz{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ht(it.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ht(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nC=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(nC,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zl(0)}static cr(){return new zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="LruGarbageCollector",Nz=1048576;function PS([n,e],[t,i]){const r=Le(n,t);return r===0?Le(e,i):r}class Vz{constructor(e){this.Ir=e,this.buffer=new Ht(PS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();PS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lz{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(DS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wl(t)?de(DS,"Ignoring IndexedDB error during garbage collection: ",t):await Xl(t)}await this.Vr(3e5)}))}}class Uz{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(pm.ce);const i=new Vz(t);return this.mr.forEachTarget(e,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(IS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,r,a,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(e,r)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,t)))).next((v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(d=Date.now(),dl()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v}))))}}function zz(n,e){return new Uz(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(){this.changes=new ga((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&Ic(i.mutation,r,Kn.empty(),rt.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ue()){const r=Xo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((a=>{let u=vc();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=Xo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ue())))}populateOverlays(e,t,i){const r=[];return i.forEach((a=>{t.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,r){let a=Ws();const u=Cc(),h=(function(){return Cc()})();return t.forEach(((f,d)=>{const g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof so)?a=a.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Ic(g.mutation,d,g.mutation.getFieldMask(),rt.now())):u.set(d.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>h.set(d,new Bz(g,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Cc();let r=new gt(((u,h)=>u-h)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=i.get(f)||Kn.empty();g=h.applyToLocalView(d,g),i.set(f,g);const v=(r.get(h.batchId)||Ue()).add(f);r=r.insert(h.batchId,v)}))})).next((()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,v=UR();g.forEach((b=>{if(!a.has(b)){const E=HR(t.get(b),i.get(b));E!==null&&v.set(b,E),a=a.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return se.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):MR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Xo());let h=Fc,f=a;return u.next((d=>se.forEach(d,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),a.get(g)?se.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{f=f.insert(g,b)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,f,d,Ue()))).next((g=>({batchId:h,changes:LR(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((i=>{let r=vc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let u=vc();return this.indexManager.getCollectionParents(e,a).next((h=>se.forEach(h,(f=>{const d=(function(v,b){return new Ql(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next((g=>{g.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r)))).next((u=>{a.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,yn.newInvalidDocument(g)))}));let h=vc();return u.forEach(((f,d)=>{const g=a.get(f);g!==void 0&&Ic(g.mutation,d,Kn.empty(),rt.now()),_m(t,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:os(r.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:kz(r.bundledQuery),readTime:os(r.readTime)}})(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(){this.overlays=new gt(ge.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Xo();return se.forEach(t,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,a)=>{this.St(e,t,a)})),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Xo(),a=t.length+1,u=new ge(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>i&&r.set(f.getKey(),f)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new gt(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=a.get(d.largestBatchId);g===null&&(g=Xo(),a=a.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=Xo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>h.set(d,g))),!(h.size()>=r)););return se.resolve(h)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new lz(t,i));let a=this.qr.get(t);a===void 0&&(a=Ue(),this.qr.set(t,a)),this.qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.Qr=new Ht(Qt.$r),this.Ur=new Ht(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Qt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ge(new it([])),i=new Qt(t,e),r=new Qt(t,e+1),a=[];return this.Ur.forEachInRange([i,r],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new it([])),i=new Qt(t,e),r=new Qt(t,e+1);let a=Ue();return this.Ur.forEachInRange([i,r],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Qt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Qt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new az(a,t,i,r);this.mutationQueue.push(u);for(const h of r)this.Zr=this.Zr.add(new Qt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ei(i),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?p_:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qt(t,0),r=new Qt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],(u=>{const h=this.Xr(u.Yr);a.push(h)})),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ht(Le);return t.forEach((r=>{const a=new Qt(r,0),u=new Qt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{i=i.add(h.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;ge.isDocumentKey(a)||(a=a.child(""));const u=new Qt(new ge(a),0);let h=new Ht(Le);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(h=h.add(f.Yr)),!0)}),u),se.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const r=this.Xr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){$e(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(t.mutations,(r=>{const a=new Qt(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Qt(t,0),r=this.Zr.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e){this.ri=e,this.docs=(function(){return new gt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=Ws();return t.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():yn.newInvalidDocument(r))})),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Ws();const u=t.path,h=new ge(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||w6(b6(g),i)<=0||(r.has(g.key)||_m(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Te(9500)}ii(e,t){return se.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Yz(this)}getSize(e){return se.resolve(this.size)}}class Yz extends jz{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e){this.persistence=e,this.si=new ga((t=>v_(t)),__),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new A_,this.targetCount=0,this.ai=zl.ur()}forEachTarget(e,t){return this.si.forEach(((i,r)=>t(r))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new zl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),se.waitFor(a).next((()=>r))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((u=>{a.push(r.markPotentiallyOrphaned(e,u))})),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t){this.ui={},this.overlays={},this.ci=new pm(0),this.li=!1,this.li=!0,this.hi=new Gz,this.referenceDelegate=e(this),this.Pi=new Xz(this),this.indexManager=new Mz,this.remoteDocumentCache=(function(r){return new Kz(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Pz(t),this.Ii=new qz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new $z(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const r=new Wz(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((a=>this.referenceDelegate.di(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ai(e,t){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class Wz extends E6{constructor(e){super(),this.currentSequenceNumber=e}}class R_{constructor(e){this.persistence=e,this.Ri=new A_,this.Vi=null}static mi(e){return new R_(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const r=ge.fromPath(i);return this.gi(e,r).next((a=>{a||t.removeEntry(r,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class $d{constructor(e,t){this.persistence=e,this.pi=new ga((i=>A6(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=zz(this,t)}static mi(e,t){return new $d(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((i,r)=>this.br(e,i,r).next((a=>a?se.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,a.removeEntry(u,Ae.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pd(e.data.value)),t}br(e,t,i){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return se.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=r}static As(e,t){let i=Ue(),r=Ue();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new C_(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DL()?8:S6(wn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,r,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new Qz;return this.Ss(e,t,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>a.result))}bs(e,t,i,r){return i.documentReadCount<this.fs?(dl()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(dl()<=Ve.DEBUG&&de("QueryEngine","Query:",ml(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(dl()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(t))):se.resolve())}ys(e,t){if(_S(t))return se.resolve(null);let i=rs(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=sv(t,null,"F"),i=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Ue(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const d=this.Ds(t,h);return this.Cs(t,d,u,f.readTime)?this.ys(e,sv(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,i,r){return _S(t)||r.isEqual(Ae.min())?se.resolve(null):this.ps.getDocuments(e,i).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,i,r)?se.resolve(null):(dl()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ml(t)),this.vs(e,u,t,_6(r,Fc)).next((h=>h)))}))}Ds(e,t){let i=new Ht(NR(e));return t.forEach(((r,a)=>{_m(e,a)&&(i=i.add(a))})),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,i){return dl()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ml(t)),this.ps.getDocumentsMatchingQuery(e,t,$r.min(),i)}vs(e,t,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LocalStore",Jz=3e8;class ej{constructor(e,t,i,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new gt(Le),this.xs=new ga((a=>v_(a)),__),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function tj(n,e,t,i){return new ej(n,e,t,i)}async function sC(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],h=[];let f=Ue();for(const d of r){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of a){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function nj(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,g){const v=d.batch,b=v.keys();let E=se.resolve();return b.forEach((I=>{E=E.next((()=>g.getEntry(f,I))).next((A=>{const D=d.docVersions.get(I);$e(D!==null,48541),A.version.compareTo(D)<0&&(v.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ue();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function rC(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function ij(n,e){const t=Re(n),i=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const h=[];e.targetChanges.forEach(((g,v)=>{const b=r.get(v);if(!b)return;h.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,v))));let E=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(hn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,i)),r=r.insert(v,E),(function(A,D,P){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Jz?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(b,E,g)&&h.push(t.Pi.updateTargetData(a,E))}));let f=Ws(),d=Ue();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),h.push(sj(a,u,e.documentUpdates).next((g=>{f=g.ks,d=g.qs}))),!i.isEqual(Ae.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((v=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(g)}return se.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,d))).next((()=>f))})).then((a=>(t.Ms=r,a)))}function sj(n,e,t){let i=Ue(),r=Ue();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let u=Ws();return t.forEach(((h,f)=>{const d=a.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):de(I_,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:r}}))}function rj(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=p_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function oj(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.Pi.getTargetData(i,e).next((a=>a?(r=a,se.resolve(r)):t.Pi.allocateTargetId(i).next((u=>(r=new Lr(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function uv(n,e,t){const i=Re(n),r=i.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Wl(u))throw u;de(I_,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function kS(n,e,t){const i=Re(n);let r=Ae.min(),a=Ue();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const v=Re(f),b=v.xs.get(g);return b!==void 0?se.resolve(v.Ms.get(b)):v.Pi.getTargetData(d,g)})(i,u,rs(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?r:Ae.min(),t?a:Ue()))).next((h=>(aj(i,G6(e),h),{documents:h,Qs:a})))))}function aj(n,e,t){let i=n.Os.get(e)||Ae.min();t.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Os.set(e,i)}class MS{constructor(){this.activeTargetIds=Q6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lj{constructor(){this.Mo=new MS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new MS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="ConnectivityMonitor";class NS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(OS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(OS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=null;function cv(){return Zf===null?Zf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zf++,"0x"+Zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="RestConnection",cj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Bd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,t,i,r,a){const u=cv(),h=this.zo(e,t.toUriEncodedString());de(py,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,a);const{host:d}=new URL(h),g=to(d);return this.Jo(e,h,f,i,g).then((v=>(de(py,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Nl(py,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,t,i,r,a,u){return this.Go(e,t,i,r,a)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,a)=>e[a]=r)),i&&i.headers.forEach(((r,a)=>e[a]=r))}zo(e,t){const i=cj[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class dj extends hj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,a){const u=cv();return new Promise(((h,f)=>{const d=new lR;d.setWithCredentials(!0),d.listenOnce(uR.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case md.NO_ERROR:const v=d.getResponseJson();de(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case md.TIMEOUT:de(pn,`RPC '${e}' ${u} timed out`),f(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case md.HTTP_ERROR:const b=d.getStatus();if(de(pn,`RPC '${e}' ${u} failed with status:`,b,"response text:",d.getResponseText()),b>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E?.error;if(I&&I.status&&I.message){const A=(function(P){const B=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(B)>=0?B:ne.UNKNOWN})(I.status);f(new he(A,I.message))}else f(new he(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{de(pn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(r);de(pn,`RPC '${e}' ${u} sending request:`,r),d.send(t,"POST",g,i,15)}))}T_(e,t,i){const r=cv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fR(),h=hR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=a.join("");de(pn,`Creating RPC '${e}' stream ${r}: ${g}`,f);const v=u.createWebChannel(g,f);this.I_(v);let b=!1,E=!1;const I=new fj({Yo:D=>{E?de(pn,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(b||(de(pn,`Opening RPC '${e}' stream ${r} transport.`),v.open(),b=!0),de(pn,`RPC '${e}' stream ${r} sending:`,D),v.send(D))},Zo:()=>v.close()}),A=(D,P,B)=>{D.listen(P,(F=>{try{B(F)}catch(q){setTimeout((()=>{throw q}),0)}}))};return A(v,yc.EventType.OPEN,(()=>{E||(de(pn,`RPC '${e}' stream ${r} transport opened.`),I.o_())})),A(v,yc.EventType.CLOSE,(()=>{E||(E=!0,de(pn,`RPC '${e}' stream ${r} transport closed`),I.a_(),this.E_(v))})),A(v,yc.EventType.ERROR,(D=>{E||(E=!0,Nl(pn,`RPC '${e}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),I.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),A(v,yc.EventType.MESSAGE,(D=>{if(!E){const P=D.data[0];$e(!!P,16349);const B=P,F=B?.error||B[0]?.error;if(F){de(pn,`RPC '${e}' stream ${r} received error:`,F);const q=F.status;let Q=(function(C){const k=Ot[C];if(k!==void 0)return $R(k)})(q),le=F.message;Q===void 0&&(Q=ne.INTERNAL,le="Unknown error status: "+q+" with message "+F.message),E=!0,I.a_(new he(Q,le)),v.close()}else de(pn,`RPC '${e}' stream ${r} received:`,P),I.u_(P)}})),A(h,cR.STAT_EVENT,(D=>{D.stat===Qy.PROXY?de(pn,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===Qy.NOPROXY&&de(pn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function gy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n){return new yz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&de("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="PersistentStream";class aC{constructor(e,t,i,r,a,u,h,f){this.Mi=e,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Xs(t.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new he(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(VS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(VS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mj extends aC{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=bz(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?os(u.readTime):Ae.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=lv(this.serializer),t.addTarget=(function(a,u){let h;const f=u.target;if(h=nv(f)?{documents:Ez(a,f)}:{query:Sz(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=XR(a,u.resumeToken);const d=rv(a,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=Gd(a,u.snapshotVersion.toTimestamp());const d=rv(a,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const i=Az(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=lv(this.serializer),t.removeTarget=e,this.q_(t)}}class pj extends aC{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Tz(e.writeResults,e.commitTime),i=os(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=lv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>wz(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{}class yj extends gj{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,ov(t,i),r,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(ne.UNKNOWN,a.toString())}))}Ho(e,t,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,ov(t,i),r,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xs(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class _j{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{ya(this)&&(de(ca,"Restarting streams for network reachability change."),await(async function(f){const d=Re(f);d.Ea.add(4),await dh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Sm(d)})(this))}))})),this.Ra=new vj(i,r)}}async function Sm(n){if(ya(n))for(const e of n.da)await e(!0)}async function dh(n){for(const e of n.da)await e(!1)}function lC(n,e){const t=Re(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),M_(t)?k_(t):Zl(t).O_()&&P_(t,e))}function D_(n,e){const t=Re(n),i=Zl(t);t.Ia.delete(e),i.O_()&&uC(t,e),t.Ia.size===0&&(i.O_()?i.L_():ya(t)&&t.Ra.set("Unknown"))}function P_(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zl(n).Y_(e)}function uC(n,e){n.Va.Ue(e),Zl(n).Z_(e)}function k_(n){n.Va=new dz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Zl(n).start(),n.Ra.ua()}function M_(n){return ya(n)&&!Zl(n).x_()&&n.Ia.size>0}function ya(n){return Re(n).Ea.size===0}function cC(n){n.Va=void 0}async function bj(n){n.Ra.set("Online")}async function wj(n){n.Ia.forEach(((e,t)=>{P_(n,e)}))}async function Tj(n,e){cC(n),M_(n)?(n.Ra.ha(e),k_(n)):n.Ra.set("Unknown")}async function Ej(n,e,t){if(n.Ra.set("Online"),e instanceof YR&&e.state===2&&e.cause)try{await(async function(r,a){const u=a.cause;for(const h of a.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.Ia.delete(h),r.Va.removeTarget(h))})(n,e)}catch(i){de(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Kd(n,i)}else if(e instanceof vd?n.Va.Ze(e):e instanceof KR?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ae.min()))try{const i=await rC(n.localStore);t.compareTo(i)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(d);g&&a.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(hn.EMPTY_BYTE_STRING,g.snapshotVersion)),uC(a,f);const v=new Lr(g.target,f,d,g.sequenceNumber);P_(a,v)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){de(ca,"Failed to raise snapshot:",i),await Kd(n,i)}}async function Kd(n,e,t){if(!Wl(e))throw e;n.Ea.add(1),await dh(n),n.Ra.set("Offline"),t||(t=()=>rC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(ca,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Sm(n)}))}function hC(n,e){return e().catch((t=>Kd(n,t,e)))}async function xm(n){const e=Re(n),t=Wr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:p_;for(;Sj(e);)try{const r=await rj(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,xj(e,r)}catch(r){await Kd(e,r)}fC(e)&&dC(e)}function Sj(n){return ya(n)&&n.Ta.length<10}function xj(n,e){n.Ta.push(e);const t=Wr(n);t.O_()&&t.X_&&t.ea(e.mutations)}function fC(n){return ya(n)&&!Wr(n).x_()&&n.Ta.length>0}function dC(n){Wr(n).start()}async function Aj(n){Wr(n).ra()}async function Rj(n){const e=Wr(n);for(const t of n.Ta)e.ea(t.mutations)}async function Cj(n,e,t){const i=n.Ta.shift(),r=E_.from(i,e,t);await hC(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await xm(n)}async function Ij(n,e){e&&Wr(n).X_&&await(async function(i,r){if((function(u){return cz(u)&&u!==ne.ABORTED})(r.code)){const a=i.Ta.shift();Wr(i).B_(),await hC(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await xm(i)}})(n,e),fC(n)&&dC(n)}async function LS(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),de(ca,"RemoteStore received new credentials");const i=ya(t);t.Ea.add(3),await dh(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Sm(t)}async function Dj(n,e){const t=Re(n);e?(t.Ea.delete(2),await Sm(t)):e||(t.Ea.add(2),await dh(t),t.Ra.set("Unknown"))}function Zl(n){return n.ma||(n.ma=(function(t,i,r){const a=Re(t);return a.sa(),new mj(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:bj.bind(null,n),t_:wj.bind(null,n),r_:Tj.bind(null,n),H_:Ej.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),M_(n)?k_(n):n.Ra.set("Unknown")):(await n.ma.stop(),cC(n))}))),n.ma}function Wr(n){return n.fa||(n.fa=(function(t,i,r){const a=Re(t);return a.sa(),new pj(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Aj.bind(null,n),r_:Ij.bind(null,n),ta:Rj.bind(null,n),na:Cj.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await xm(n)):(await n.fa.stop(),n.Ta.length>0&&(de(ca,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,h=new O_(e,t,u,r,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N_(n,e){if(Xs("AsyncQueue",`${e}: ${n}`),Wl(n))return new he(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=vc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Cl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.ga=new gt(ge.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class jl{constructor(e,t,i,r,a,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new jl(e,t,Cl.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kj{constructor(){this.queries=zS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Re(t),a=r.queries;r.queries=zS(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function zS(){return new ga((n=>OR(n)),vm)}async function Mj(n,e){const t=Re(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.ba()&&e.Da()&&(i=2):(a=new Pj,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(u){const h=N_(u,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&V_(t)}async function Oj(n,e){const t=Re(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Nj(n,e){const t=Re(n);let i=!1;for(const r of e){const a=r.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Fa(r)&&(i=!0);u.wa=r}}i&&V_(t)}function Vj(n,e,t){const i=Re(n),r=i.queries.get(e);if(r)for(const a of r.Sa)a.onError(t);i.queries.delete(e)}function V_(n){n.Ca.forEach((e=>{e.next()}))}var hv,jS;(jS=hv||(hv={})).Ma="default",jS.Cache="cache";class Lj{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new jl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.key=e}}class pC{constructor(e){this.key=e}}class Uj{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=NR(e),this.tu=new Cl(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new US,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((g,v)=>{const b=r.get(g),E=_m(this.query,v)?v:null,I=!!b&&this.mutatedKeys.has(b.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;b&&E?b.data.isEqual(E.data)?I!==A&&(i.track({type:3,doc:E}),D=!0):this.su(b,E)||(i.track({type:2,doc:E}),D=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(h=!0)):!b&&E?(i.track({type:0,doc:E}),D=!0):b&&!E&&(i.track({type:1,doc:b}),D=!0,(f||d)&&(h=!0)),D&&(E?(u=u.add(E),a=A?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,v)=>(function(E,I){const A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:D})}};return A(E)-A(I)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),r=r??!1;const h=t&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new jl(this.query,e.tu,a,u,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new US,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new pC(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new mC(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const L_="SyncEngine";class zj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class jj{constructor(e){this.key=e,this.hu=!1}}class Bj{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ga((h=>OR(h)),vm),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ge.comparator),this.Au=new Map,this.Ru=new A_,this.Vu={},this.mu=new Map,this.fu=zl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Fj(n,e,t=!0){const i=wC(n);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await gC(i,e,t,!0),r}async function qj(n,e){const t=wC(n);await gC(t,e,!0,!1)}async function gC(n,e,t,i){const r=await oj(n.localStore,rs(e)),a=r.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await Hj(n,e,a,u==="current",r.resumeToken)),n.isPrimaryClient&&t&&lC(n.remoteStore,r),h}async function Hj(n,e,t,i,r){n.pu=(v,b,E)=>(async function(A,D,P,B){let F=D.view.ru(P);F.Cs&&(F=await kS(A.localStore,D.query,!1).then((({documents:M})=>D.view.ru(M,F))));const q=B&&B.targetChanges.get(D.targetId),Q=B&&B.targetMismatches.get(D.targetId)!=null,le=D.view.applyChanges(F,A.isPrimaryClient,q,Q);return FS(A,D.targetId,le.au),le.snapshot})(n,v,b,E);const a=await kS(n.localStore,e,!0),u=new Uj(e,a.Qs),h=u.ru(a.documents),f=fh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=u.applyChanges(h,n.isPrimaryClient,f);FS(n,t,d.au);const g=new zj(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function Gj(n,e,t){const i=Re(n),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter((u=>!vm(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await uv(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&D_(i.remoteStore,r.targetId),fv(i,r.targetId)})).catch(Xl)):(fv(i,r.targetId),await uv(i.localStore,r.targetId,!0))}async function $j(n,e){const t=Re(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),D_(t.remoteStore,i.targetId))}async function Kj(n,e,t){const i=eB(n);try{const r=await(function(u,h){const f=Re(u),d=rt.now(),g=h.reduce(((E,I)=>E.add(I.key)),Ue());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let I=Ws(),A=Ue();return f.Ns.getEntries(E,g).next((D=>{I=D,I.forEach(((P,B)=>{B.isValidDocument()||(A=A.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,I))).next((D=>{v=D;const P=[];for(const B of h){const F=rz(B,v.get(B.key).overlayedDocument);F!=null&&P.push(new so(B.key,F,AR(F.value.mapValue),Di.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,P,h)})).next((D=>{b=D;const P=D.applyToLocalDocumentSet(v,A);return f.documentOverlayCache.saveOverlays(E,D.batchId,P)}))})).then((()=>({batchId:b.batchId,changes:LR(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new gt(Le)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(i,r.batchId,t),await mh(i,r.changes),await xm(i.remoteStore)}catch(r){const a=N_(r,"Failed to persist write");t.reject(a)}}async function yC(n,e){const t=Re(n);try{const i=await ij(t.localStore,e);e.targetChanges.forEach(((r,a)=>{const u=t.Au.get(a);u&&($e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.hu=!0:r.modifiedDocuments.size>0?$e(u.hu,14607):r.removedDocuments.size>0&&($e(u.hu,42227),u.hu=!1))})),await mh(t,i,e)}catch(i){await Xl(i)}}function BS(n,e,t){const i=Re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(u,h){const f=Re(u);f.onlineState=h;let d=!1;f.queries.forEach(((g,v)=>{for(const b of v.Sa)b.va(h)&&(d=!0)})),d&&V_(f)})(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Yj(n,e,t){const i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),a=r&&r.key;if(a){let u=new gt(ge.comparator);u=u.insert(a,yn.newNoDocument(a,Ae.min()));const h=Ue().add(a),f=new Tm(Ae.min(),new Map,new gt(Le),u,h);await yC(i,f),i.du=i.du.remove(a),i.Au.delete(e),U_(i)}else await uv(i.localStore,e,!1).then((()=>fv(i,e,t))).catch(Xl)}async function Xj(n,e){const t=Re(n),i=e.batch.batchId;try{const r=await nj(t.localStore,e);_C(t,i,null),vC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await mh(t,r)}catch(r){await Xl(r)}}async function Wj(n,e,t){const i=Re(n);try{const r=await(function(u,h){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next((v=>($e(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,e);_C(i,e,t),vC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await mh(i,r)}catch(r){await Xl(r)}}function vC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function _C(n,e,t){const i=Re(n);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function fv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||bC(n,i)}))}function bC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(D_(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),U_(n))}function FS(n,e,t){for(const i of t)i instanceof mC?(n.Ru.addReference(i.key,e),Qj(n,i)):i instanceof pC?(de(L_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||bC(n,i.key)):Te(19791,{wu:i})}function Qj(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(de(L_,"New document in limbo: "+t),n.Eu.add(i),U_(n))}function U_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ge(it.fromString(e)),i=n.fu.next();n.Au.set(i,new jj(t)),n.du=n.du.insert(t,i),lC(n.remoteStore,new Lr(rs(b_(t.path)),i,"TargetPurposeLimboResolution",pm.ce))}}async function mh(n,e,t){const i=Re(n),r=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{u.push(i.pu(f,e,t).then((d=>{if((d||t)&&i.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){r.push(d);const g=C_.As(f.targetId,d);a.push(g)}})))})),await Promise.all(u),i.Pu.H_(r),await(async function(f,d){const g=Re(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>se.forEach(d,(b=>se.forEach(b.Es,(E=>g.persistence.referenceDelegate.addReference(v,b.targetId,E))).next((()=>se.forEach(b.ds,(E=>g.persistence.referenceDelegate.removeReference(v,b.targetId,E)))))))))}catch(v){if(!Wl(v))throw v;de(I_,"Failed to update sequence numbers: "+v)}for(const v of d){const b=v.targetId;if(!v.fromCache){const E=g.Ms.get(b),I=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(I);g.Ms=g.Ms.insert(b,A)}}})(i.localStore,a))}async function Zj(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){de(L_,"User change. New user:",e.toKey());const i=await sC(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new he(ne.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await mh(t,i.Ls)}}function Jj(n,e){const t=Re(n),i=t.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let r=Ue();const a=t.Iu.get(e);if(!a)return r;for(const u of a){const h=t.Tu.get(u);r=r.unionWith(h.view.nu)}return r}}function wC(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yj.bind(null,e),e.Pu.H_=Nj.bind(null,e.eventManager),e.Pu.yu=Vj.bind(null,e.eventManager),e}function eB(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wj.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Em(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return tj(this.persistence,new Zz,e.initialUser,this.serializer)}Cu(e){return new iC(R_.mi,this.serializer)}Du(e){return new lj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class tB extends Yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){$e(this.persistence.referenceDelegate instanceof $d,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Lz(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new iC((i=>$d.mi(i,t)),this.serializer)}}class dv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>BS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zj.bind(null,this.syncEngine),await Dj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kj})()}createDatastore(e){const t=Em(e.databaseInfo.databaseId),i=(function(a){return new dj(a)})(e.databaseInfo);return(function(a,u,h,f){return new yj(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,a,u,h){return new _j(i,r,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>BS(this.syncEngine,t,0)),(function(){return NS.v()?new NS:new uj})())}createSyncEngine(e,t){return(function(r,a,u,h,f,d,g){const v=new Bj(r,a,u,h,f,d);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Re(t);de(ca,"RemoteStore shutting down."),i.Ea.add(5),await dh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dv.provider={build:()=>new dv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="FirestoreClient";class iB{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=gn.UNAUTHENTICATED,this.clientId=m_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{de(Qr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(de(Qr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=N_(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function yy(n,e){n.asyncQueue.verifyOperationInProgress(),de(Qr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await sC(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function qS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await sB(n);de(Qr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>LS(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>LS(e.remoteStore,r))),n._onlineComponents=e}async function sB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Qr,"Using user provided OfflineComponentProvider");try{await yy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===ne.FAILED_PRECONDITION||r.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Nl("Error using user provided cache. Falling back to memory cache: "+t),await yy(n,new Yd)}}else de(Qr,"Using default OfflineComponentProvider"),await yy(n,new tB(void 0));return n._offlineComponents}async function TC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Qr,"Using user provided OnlineComponentProvider"),await qS(n,n._uninitializedComponentsProvider._online)):(de(Qr,"Using default OnlineComponentProvider"),await qS(n,new dv))),n._onlineComponents}function rB(n){return TC(n).then((e=>e.syncEngine))}async function HS(n){const e=await TC(n),t=e.eventManager;return t.onListen=Fj.bind(null,e.syncEngine),t.onUnlisten=Gj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$j.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firestore.googleapis.com",$S=!0;class KS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SC,this.ssl=$S}else this.host=e.host,this.ssl=e.ssl??$S;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Nz)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Am{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new l6;switch(i.type){case"firstParty":return new f6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=GS.get(t);i&&(de("ComponentProvider","Removing Datastore"),GS.delete(t),i.terminate())})(this),Promise.resolve()}}function oB(n,e,t,i={}){n=qr(n,Am);const r=to(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;r&&(e_(`https://${h}`),t_("Firestore",!0)),a.host!==SC&&a.host!==h&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:r,emulatorOptions:i};if(!oa(f,u)&&(n._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=gn.MOCK_USER;else{d=w1(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new gn(v)}n._authCredentials=new u6(new mR(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Ut{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ch(t,Ut._jsonSchema))return new Ut(e,i||null,new ge(it.fromString(t.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Lt("string",Ut._jsonSchemaVersion),referencePath:Lt("string")};class Hr extends va{constructor(e,t,i){super(e,t,b_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ge(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function Xd(n,e,...t){if(n=ht(n),pR("collection","path",e),n instanceof Am){const i=it.fromString(e,...t);return rS(i),new Hr(n,null,i)}{if(!(n instanceof Ut||n instanceof Hr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return rS(i),new Hr(n.firestore,null,i)}}function _d(n,e,...t){if(n=ht(n),arguments.length===1&&(e=m_.newId()),pR("doc","path",e),n instanceof Am){const i=it.fromString(e,...t);return sS(i),new Ut(n,null,new ge(i))}{if(!(n instanceof Ut||n instanceof Hr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return sS(i),new Ut(n.firestore,n instanceof Hr?n.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="AsyncQueue";class XS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oC(this,"async_queue_retry"),this._c=()=>{const i=gy();i&&de(YS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=gy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=gy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Zo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wl(e))throw e;de(YS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Xs("INTERNAL UNHANDLED ERROR: ",WS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=O_.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Te(47125,{Pc:WS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function WS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const a of i)if(a in r&&typeof r[a]=="function")return!0;return!1})(n,["next","error","complete"])}class Bl extends Am{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new XS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XS(e),this._firestoreClient=void 0,await e}}}function aB(n,e){const t=typeof n=="object"?n:s_(),i=typeof n=="string"?n:Bd,r=lm(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=v1("firestore");a&&oB(r,...a)}return r}function xC(n){if(n._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lB(n),n._firestoreClient}function lB(n){const e=n._freezeSettings(),t=(function(r,a,u,h){return new I6(r,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,EC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new iB(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(r){const a=r?._online.build();return{_offline:r?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pi(hn.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pi(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ch(e,pi._jsonSchema))return pi.fromBase64String(e.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:Lt("string",pi._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(ch(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:Lt("string",as._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ch(e,ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ls(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:Lt("string",ls._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=/^__.*__$/;class cB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,t,this.fieldTransforms):new hh(e,this.data,t,this.fieldTransforms)}}class AC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new so(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class z_{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new z_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RC(this.Ac)&&uB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hB{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Em(e)}Cc(e,t,i,r=!1){return new z_({Ac:e,methodName:t,Dc:i,path:un.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j_(n){const e=n._freezeSettings(),t=Em(n._databaseId);return new hB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fB(n,e,t,i,r,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,r);F_("Data must be an object, but it was:",u,i);const h=CC(i,u);let f,d;if(a.merge)f=new Kn(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const b=mv(e,v,t);if(!u.contains(b))throw new he(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);DC(g,b)||g.push(b)}f=new Kn(g),d=u.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,d=u.fieldTransforms;return new cB(new On(h),f,d)}class Im extends Cm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Im}}class B_ extends Cm{_toFieldTransform(e){return new tz(e.path,new Kc)}isEqual(e){return e instanceof B_}}function dB(n,e,t,i){const r=n.Cc(1,e,t);F_("Data must be an object, but it was:",r,i);const a=[],u=On.empty();io(i,((f,d)=>{const g=q_(e,f,t);d=ht(d);const v=r.yc(g);if(d instanceof Im)a.push(g);else{const b=ph(d,v);b!=null&&(a.push(g),u.set(g,b))}}));const h=new Kn(a);return new AC(u,h,r.fieldTransforms)}function mB(n,e,t,i,r,a){const u=n.Cc(1,e,t),h=[mv(e,i,t)],f=[r];if(a.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)h.push(mv(e,a[b])),f.push(a[b+1]);const d=[],g=On.empty();for(let b=h.length-1;b>=0;--b)if(!DC(d,h[b])){const E=h[b];let I=f[b];I=ht(I);const A=u.yc(E);if(I instanceof Im)d.push(E);else{const D=ph(I,A);D!=null&&(d.push(E),g.set(E,D))}}const v=new Kn(d);return new AC(g,v,u.fieldTransforms)}function pB(n,e,t,i=!1){return ph(t,n.Cc(i?4:3,e))}function ph(n,e){if(IC(n=ht(n)))return F_("Unsupported field value:",e,n),CC(n,e);if(n instanceof Cm)return(function(i,r){if(!RC(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,r){const a=[];let u=0;for(const h of i){let f=ph(h,r.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(i,r){if((i=ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Z6(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=rt.fromDate(i);return{timestampValue:Gd(r.serializer,a)}}if(i instanceof rt){const a=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gd(r.serializer,a)}}if(i instanceof as)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pi)return{bytesValue:XR(r.serializer,i._byteString)};if(i instanceof Ut){const a=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw r.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:x_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ls)return(function(u,h){return{mapValue:{fields:{[SR]:{stringValue:xR},[Fd]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return w_(h.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${mm(i)}`)})(n,e)}function CC(n,e){const t={};return vR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(n,((i,r)=>{const a=ph(r,e.mc(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function IC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof as||n instanceof pi||n instanceof Ut||n instanceof Cm||n instanceof ls)}function F_(n,e,t){if(!IC(t)||!gR(t)){const i=mm(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function mv(n,e,t){if((e=ht(e))instanceof Rm)return e._internalPath;if(typeof e=="string")return q_(n,e);throw Wd("Field path arguments must be of type string or ",n,!1,void 0,t)}const gB=new RegExp("[~\\*/\\[\\]]");function q_(n,e,t){if(e.search(gB)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rm(...e.split("."))._internalPath}catch{throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wd(n,e,t,i,r){const a=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new he(ne.INVALID_ARGUMENT,h+n+f)}function DC(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yB extends PC{data(){return super.data()}}function Dm(n,e){return typeof e=="string"?q_(n,e):e instanceof Rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H_{}class kC extends H_{}function pv(n,e,...t){let i=[];e instanceof H_&&i.push(e),i=i.concat(t),(function(a){const u=a.filter((f=>f instanceof G_)).length,h=a.filter((f=>f instanceof Pm)).length;if(u>1||u>0&&h>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class Pm extends kC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Pm(e,t,i)}_apply(e){const t=this._parse(e);return MC(e._query,t),new va(e.firestore,e.converter,iv(e._query,t))}_parse(e){const t=j_(e.firestore);return(function(a,u,h,f,d,g,v){let b;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){JS(v,g);const I=[];for(const A of v)I.push(ZS(f,a,A));b={arrayValue:{values:I}}}else b=ZS(f,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||JS(v,g),b=pB(h,u,v,g==="in"||g==="not-in");return Vt.create(d,g,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _B(n,e,t){const i=e,r=Dm("where",n);return Pm._create(r,i,t)}class G_ extends H_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new G_(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Oi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,a){let u=r;const h=a.getFlattenedFilters();for(const f of h)MC(u,f),u=iv(u,f)})(e._query,t),new va(e.firestore,e.converter,iv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $_ extends kC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $_(e,t)}_apply(e){const t=(function(r,a,u){if(r.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $c(a,u)})(e._query,this._field,this._direction);return new va(e.firestore,e.converter,(function(r,a){const u=r.explicitOrderBy.concat([a]);return new Ql(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function gv(n,e="asc"){const t=e,i=Dm("orderBy",n);return $_._create(i,t)}function ZS(n,e,t){if(typeof(t=ht(t))=="string"){if(t==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MR(e)&&t.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!ge.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dS(n,new ge(i))}if(t instanceof Ut)return dS(n,t._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(t)}.`)}function JS(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MC(n,e){const t=(function(r,a){for(const u of r)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class bB{convertValue(e,t="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return io(e,((r,a)=>{i[r]=this.convertValue(a,t)})),i}convertVectorValue(e){const t=e.fields?.[Fd].arrayValue?.values?.map((i=>Rt(i.doubleValue)));return new ls(t)}convertGeoPoint(e){return new as(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ym(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=Kr(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);$e(tC(i),9688,{name:e});const r=new Hc(i.get(1),i.get(3)),a=new ge(i.popFirst(5));return r.isEqual(t)||Xs(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class bc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jo extends PC{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Dm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Jo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jo._jsonSchema={type:Lt("string",Jo._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class bd extends Jo{data(e={}){return super.data(e)}}class Il{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new bd(this._firestore,this._userDataWriter,i.key,i,new bc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((h=>{const f=new bd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new bc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new bd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new bc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:TB(h.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=m_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}Il._jsonSchemaVersion="firestore/querySnapshot/1.0",Il._jsonSchema={type:Lt("string",Il._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class OC extends bB{constructor(e){super(),this.firestore=e}convertBytes(e){return new pi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}function ex(n,e,t,...i){n=qr(n,Ut);const r=qr(n.firestore,Bl),a=j_(r);let u;return u=typeof(e=ht(e))=="string"||e instanceof Rm?mB(a,"updateDoc",n._key,e,t,i):dB(a,"updateDoc",n._key,e),K_(r,[u.toMutation(n._key,Di.exists(!0))])}function EB(n){return K_(qr(n.firestore,Bl),[new T_(n._key,Di.none())])}function SB(n,e){const t=qr(n.firestore,Bl),i=_d(n),r=wB(n.converter,e);return K_(t,[fB(j_(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Di.exists(!1))]).then((()=>i))}function yv(n,...e){n=ht(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||QS(e[i])||(t=e[i++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(QS(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let a,u,h;if(n instanceof Ut)u=qr(n.firestore,Bl),h=b_(n._key.path),a={next:f=>{e[i]&&e[i](xB(u,n,f))},error:e[i+1],complete:e[i+2]};else{const f=qr(n,va);u=qr(f.firestore,Bl),h=f._query;const d=new OC(u);a={next:g=>{e[i]&&e[i](new Il(u,d,f,g))},error:e[i+1],complete:e[i+2]},vB(n._query)}return(function(d,g,v,b){const E=new nB(b),I=new Lj(g,E,v);return d.asyncQueue.enqueueAndForget((async()=>Mj(await HS(d),I))),()=>{E.Nu(),d.asyncQueue.enqueueAndForget((async()=>Oj(await HS(d),I)))}})(xC(u),h,r,a)}function K_(n,e){return(function(i,r){const a=new Zo;return i.asyncQueue.enqueueAndForget((async()=>Kj(await rB(i),r,a))),a.promise})(xC(n),e)}function xB(n,e,t){const i=t.docs.get(e._key),r=new OC(n);return new Jo(n,r,e._key,i,new bc(t.hasPendingWrites,t.fromCache),e.converter)}function Jf(){return new B_("serverTimestamp")}(function(e,t=!0){(function(r){Yl=r})(ma),aa(new Gr("firestore",((i,{instanceIdentifier:r,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Bl(new c6(i.getProvider("auth-internal")),new d6(u,i.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(d.options.projectId,g)})(u,r),u);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),ns(eS,tS,e),ns(eS,tS,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebasestorage.googleapis.com",VC="storageBucket",AB=120*1e3,RB=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends ms{constructor(e,t,i=0){super(vy(e),`Firebase Storage: ${t} (${vy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function vy(n){return"storage/"+n}function Y_(){const n="An unknown error occurred, please check the error payload for server response.";return new Tt(wt.UNKNOWN,n)}function CB(n){return new Tt(wt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function IB(n){return new Tt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function DB(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(wt.UNAUTHENTICATED,n)}function PB(){return new Tt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kB(n){return new Tt(wt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function MB(){return new Tt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OB(){return new Tt(wt.CANCELED,"User canceled the upload/download.")}function NB(n){return new Tt(wt.INVALID_URL,"Invalid URL '"+n+"'.")}function VB(n){return new Tt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function LB(){return new Tt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VC+"' property when initializing the app?")}function UB(){return new Tt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zB(){return new Tt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jB(n){return new Tt(wt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vv(n){return new Tt(wt.INVALID_ARGUMENT,n)}function LC(){return new Tt(wt.APP_DELETED,"The Firebase app was deleted.")}function BB(n){return new Tt(wt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dc(n,e){return new Tt(wt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function dc(n){throw new Tt(wt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Yn.makeFromUrl(e,t)}catch{return new Yn(e,"")}if(i.path==="")return i;throw VB(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function a(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+r+u,"i"),f={bucket:1,path:3};function d(q){q.path_=decodeURIComponent(q.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${g}/b/${r}/o${b}`,"i"),I={bucket:1,path:3},A=t===NC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",P=new RegExp(`^https?://${A}/${r}/${D}`,"i"),F=[{regex:h,indices:f,postModify:a},{regex:E,indices:I,postModify:d},{regex:P,indices:{bucket:1,path:2},postModify:d}];for(let q=0;q<F.length;q++){const Q=F[q],le=Q.regex.exec(e);if(le){const M=le[Q.indices.bucket];let C=le[Q.indices.path];C||(C=""),i=new Yn(M,C),Q.postModify(i);break}}if(i==null)throw NB(e);return i}}class FB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(n,e,t){let i=1,r=null,a=null,u=!1,h=0;function f(){return h===2}let d=!1;function g(...D){d||(d=!0,e.apply(null,D))}function v(D){r=setTimeout(()=>{r=null,n(E,f())},D)}function b(){a&&clearTimeout(a)}function E(D,...P){if(d){b();return}if(D){b(),g.call(null,D,...P);return}if(f()||u){b(),g.call(null,D,...P);return}i<64&&(i*=2);let F;h===1?(h=2,F=0):F=(i+Math.random())*1e3,v(F)}let I=!1;function A(D){I||(I=!0,b(),!d&&(r!==null?(D||(h=2),clearTimeout(r),v(0)):D||(h=1)))}return v(0),a=setTimeout(()=>{u=!0,A(!0)},t),A}function HB(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(n){return n!==void 0}function $B(n){return typeof n=="object"&&!Array.isArray(n)}function X_(n){return typeof n=="string"||n instanceof String}function tx(n){return W_()&&n instanceof Blob}function W_(){return typeof Blob<"u"}function nx(n,e,t,i){if(i<e)throw vv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw vv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function UC(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var ea;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ea||(ea={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||r||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,t,i,r,a,u,h,f,d,g,v,b=!0,E=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,A)=>{this.resolve_=I,this.reject_=A,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new ed(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===ea.NO_ERROR,f=a.getStatus();if(!h||KB(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ea.ABORT;i(!1,new ed(!1,null,g));return}const d=this.successCodes_.indexOf(f)!==-1;i(!0,new ed(d,a))})},t=(i,r)=>{const a=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());GB(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=Y_();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(r.canceled){const f=this.appDelete_?LC():OB();u(f)}else{const f=MB();u(f)}};this.canceled_?t(!1,new ed(!1,null,!0)):this.backoffId_=qB(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ed{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function XB(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function WB(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QB(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ZB(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function JB(n,e,t,i,r,a,u=!0,h=!1){const f=UC(n.urlParams),d=n.url+f,g=Object.assign({},n.headers);return QB(g,e),XB(g,t),WB(g,a),ZB(g,i),new YB(d,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function t9(...n){const e=e9();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(W_())return new Blob(n);throw new Tt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function n9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(n){if(typeof atob>"u")throw jB("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _y{constructor(e,t){this.data=e,this.contentType=t||null}}function s9(n,e){switch(n){case ts.RAW:return new _y(zC(e));case ts.BASE64:case ts.BASE64URL:return new _y(jC(n,e));case ts.DATA_URL:return new _y(o9(e),a9(e))}throw Y_()}function zC(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=i,u=n.charCodeAt(++t);i=65536|(a&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function r9(n){let e;try{e=decodeURIComponent(n)}catch{throw Dc(ts.DATA_URL,"Malformed data URL.")}return zC(e)}function jC(n,e){switch(n){case ts.BASE64:{const r=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(r||a)throw Dc(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ts.BASE64URL:{const r=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(r||a)throw Dc(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=i9(e)}catch(r){throw r.message.includes("polyfill")?r:Dc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class BC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Dc(ts.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=l9(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function o9(n){const e=new BC(n);return e.base64?jC(ts.BASE64,e.rest):r9(e.rest)}function a9(n){return new BC(n).contentType}function l9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,t){let i=0,r="";tx(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(tx(this.data_)){const i=this.data_,r=n9(i,e,t);return r===null?null:new Nr(r)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Nr(i,!0)}}static getBlob(...e){if(W_()){const t=e.map(i=>i instanceof Nr?i.data_:i);return new Nr(t9.apply(null,t))}else{const t=e.map(u=>X_(u)?s9(ts.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)r[a++]=u[h]}),new Nr(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n){let e;try{e=JSON.parse(n)}catch{return null}return $B(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function c9(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function qC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(n,e){return e}class An{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||h9}}let td=null;function f9(n){return!X_(n)||n.length<2?n:qC(n)}function HC(){if(td)return td;const n=[];n.push(new An("bucket")),n.push(new An("generation")),n.push(new An("metageneration")),n.push(new An("name","fullPath",!0));function e(a,u){return f9(u)}const t=new An("name");t.xform=e,n.push(t);function i(a,u){return u!==void 0?Number(u):u}const r=new An("size");return r.xform=i,n.push(r),n.push(new An("timeCreated")),n.push(new An("updated")),n.push(new An("md5Hash",null,!0)),n.push(new An("cacheControl",null,!0)),n.push(new An("contentDisposition",null,!0)),n.push(new An("contentEncoding",null,!0)),n.push(new An("contentLanguage",null,!0)),n.push(new An("contentType",null,!0)),n.push(new An("metadata","customMetadata",!0)),td=n,td}function d9(n,e){function t(){const i=n.bucket,r=n.fullPath,a=new Yn(i,r);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function m9(n,e,t){const i={};i.type="file";const r=t.length;for(let a=0;a<r;a++){const u=t[a];i[u.local]=u.xform(i,e[u.server])}return d9(i,n),i}function GC(n,e,t){const i=FC(e);return i===null?null:m9(n,i,t)}function p9(n,e,t,i){const r=FC(e);if(r===null||!X_(r.downloadTokens))return null;const a=r.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(d=>{const g=n.bucket,v=n.fullPath,b="/b/"+u(g)+"/o/"+u(v),E=km(b,t,i),I=UC({alt:"media",token:d});return E+I})[0]}function g9(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class Q_{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){if(!n)throw Y_()}function y9(n,e){function t(i,r){const a=GC(n,r,e);return $C(a!==null),a}return t}function v9(n,e){function t(i,r){const a=GC(n,r,e);return $C(a!==null),p9(a,r,n.host,n._protocol)}return t}function KC(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=PB():r=DB():t.getStatus()===402?r=IB(n.bucket):t.getStatus()===403?r=kB(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function YC(n){const e=KC(n);function t(i,r){let a=e(i,r);return i.getStatus()===404&&(a=CB(n.path)),a.serverResponse=r.serverResponse,a}return t}function _9(n,e,t){const i=e.fullServerUrl(),r=km(i,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,h=new Q_(r,a,v9(n,t),u);return h.errorHandler=YC(e),h}function b9(n,e){const t=e.fullServerUrl(),i=km(t,n.host,n._protocol),r="DELETE",a=n.maxOperationRetryTime;function u(f,d){}const h=new Q_(i,r,u,a);return h.successCodes=[200,204],h.errorHandler=YC(e),h}function w9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function T9(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=w9(null,e)),i}function E9(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let F="";for(let q=0;q<2;q++)F=F+Math.random().toString().slice(2);return F}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const d=T9(e,i,r),g=g9(d,t),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,b=`\r
--`+f+"--",E=Nr.getBlob(v,i,b);if(E===null)throw UB();const I={name:d.fullPath},A=km(a,n.host,n._protocol),D="POST",P=n.maxUploadRetryTime,B=new Q_(A,D,y9(n,t),P);return B.urlParams=I,B.headers=u,B.body=E.uploadData(),B.errorHandler=KC(e),B}class S9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ea.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ea.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ea.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r,a){if(this.sent_)throw dc("cannot .send() more than once");if(to(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class x9 extends S9{initXhr(){this.xhr_.responseType="text"}}function Z_(){return new x9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t){this._service=e,t instanceof Yn?this._location=t:this._location=Yn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ha(e,t)}get root(){const e=new Yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qC(this._location.path)}get storage(){return this._service}get parent(){const e=u9(this._location.path);if(e===null)return null;const t=new Yn(this._location.bucket,e);return new ha(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw BB(e)}}function A9(n,e,t){n._throwIfRoot("uploadBytes");const i=E9(n.storage,n._location,HC(),new Nr(e,!0),t);return n.storage.makeRequestWithTokens(i,Z_).then(r=>({metadata:r,ref:n}))}function R9(n){n._throwIfRoot("getDownloadURL");const e=_9(n.storage,n._location,HC());return n.storage.makeRequestWithTokens(e,Z_).then(t=>{if(t===null)throw zB();return t})}function C9(n){n._throwIfRoot("deleteObject");const e=b9(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Z_)}function I9(n,e){const t=c9(n._location.path,e),i=new Yn(n._location.bucket,t);return new ha(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(n){return/^[A-Za-z]+:\/\//.test(n)}function P9(n,e){return new ha(n,e)}function XC(n,e){if(n instanceof J_){const t=n;if(t._bucket==null)throw LB();const i=new ha(t,t._bucket);return e!=null?XC(i,e):i}else return e!==void 0?I9(n,e):n}function k9(n,e){if(e&&D9(e)){if(n instanceof J_)return P9(n,e);throw vv("To use ref(service, url), the first argument must be a Storage instance.")}else return XC(n,e)}function ix(n,e){const t=e?.[VC];return t==null?null:Yn.makeFromBucketSpec(t,n)}function M9(n,e,t,i={}){n.host=`${e}:${t}`;const r=to(e);r&&(e_(`https://${n.host}/b`),t_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:w1(a,n.app.options.projectId))}class J_{constructor(e,t,i,r,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=NC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AB,this._maxUploadRetryTime=RB,this._requests=new Set,r!=null?this._bucket=Yn.makeFromBucketSpec(r,this._host):this._bucket=ix(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yn.makeFromBucketSpec(this._url,e):this._bucket=ix(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ha(this,e)}_makeRequest(e,t,i,r,a=!0){if(this._deleted)return new FB(LC());{const u=JB(e,this._appId,i,r,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const sx="@firebase/storage",rx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="storage";function O9(n,e,t){return n=ht(n),A9(n,e,t)}function N9(n){return n=ht(n),R9(n)}function V9(n){return n=ht(n),C9(n)}function ox(n,e){return n=ht(n),k9(n,e)}function L9(n=s_(),e){n=ht(n);const i=lm(n,WC).getImmediate({identifier:e}),r=v1("storage");return r&&U9(i,...r),i}function U9(n,e,t,i={}){M9(n,e,t,i)}function z9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new J_(t,i,r,e,ma)}function j9(){aa(new Gr(WC,z9,"PUBLIC").setMultipleInstances(!0)),ns(sx,rx,""),ns(sx,rx,"esm2020")}j9();const B9={apiKey:"AIzaSyAM24lLkve3X0yaBhlHgfNx7LZ7UttRXFw",authDomain:"likwitdevs-417ee.firebaseapp.com",projectId:"likwitdevs-417ee",storageBucket:"likwitdevs-417ee.firebasestorage.app",messagingSenderId:"669619326357",appId:"1:669619326357:web:356366d029b91cb570fa9c"},eb=S1(B9),fa=s6(eb),Yo=aB(eb),ax=L9(eb);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q9=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),lx=n=>{const e=q9(n);return e.charAt(0).toUpperCase()+e.slice(1)},QC=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),H9=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:u,...h},f)=>V.createElement("svg",{ref:f,...G9,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:QC("lucide",r),...!a&&!H9(h)&&{"aria-hidden":"true"},...h},[...u.map(([d,g])=>V.createElement(d,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=(n,e)=>{const t=V.forwardRef(({className:i,...r},a)=>V.createElement($9,{ref:a,iconNode:e,className:QC(`lucide-${F9(lx(n))}`,`lucide-${n}`,i),...r}));return t.displayName=lx(n),t};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],JC=ZC("github",K9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],eI=ZC("mail",Y9),nd=({isActive:n})=>`px-3 py-2 rounded-lg text-sm transition ${n?"bg-white/20 text-white":"text-white/80 hover:text-white hover:bg-white/10"}`;function X9(){const[n,e]=V.useState(!1),[t,i]=V.useState(!1),r=Js(),a=In();V.useEffect(()=>{const f=hm(fa,d=>e(!!d));return()=>f()},[]);async function u(){try{await W1(fa),r("/"),i(!1)}catch(f){console.error("Sign out failed:",f)}}const h=f=>{const d=()=>document.getElementById(f)?.scrollIntoView({behavior:"smooth",block:"start"});i(!1),a.pathname!=="/"?(r("/"),setTimeout(d,120)):d()};return S.jsx("header",{className:"sticky top-0 left-0 right-0 z-50 pt-4",children:S.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[S.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-black/20 backdrop-blur-md px-4 py-3",children:[S.jsx(fl,{to:"/",className:"text-white font-semibold tracking-wide",onClick:()=>i(!1),children:"Likwit Devs"}),S.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[S.jsx("button",{onClick:()=>h("projects"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition",children:"Work"}),S.jsx("button",{onClick:()=>h("pricing"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition",children:"Pricing"}),S.jsx(fl,{to:"/contact",className:nd,children:"Contact"}),S.jsx("button",{onClick:()=>h("audit"),className:"ml-2 px-4 py-2 rounded-xl text-sm text-white bg-white/20 hover:bg-white/30 transition",children:"Free Audit"}),n&&S.jsxs(S.Fragment,{children:[S.jsx(fl,{to:"/admin",className:nd,children:"Admin"}),S.jsx("button",{onClick:u,className:"ml-2 px-3 py-1.5 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition",children:"Sign out"})]})]}),S.jsx("button",{className:"md:hidden inline-flex items-center justify-center rounded-lg border border-white/20 px-3 py-2 text-white/90",onClick:()=>i(f=>!f),"aria-expanded":t,"aria-controls":"mobile-nav",children:"Menu"})]}),S.jsx("div",{id:"mobile-nav",className:`md:hidden transition-[max-height] duration-300 overflow-hidden border-x border-b border-white/10 rounded-b-2xl ${t?"max-h-96":"max-h-0"}`,children:S.jsxs("div",{className:"px-4 py-3 bg-black/20 backdrop-blur-md",children:[S.jsxs("ul",{className:"space-y-2",children:[S.jsx("li",{children:S.jsx("button",{onClick:()=>h("audit"),className:"w-full text-left px-3 py-2 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition",children:"Free Audit"})}),S.jsx("li",{children:S.jsx("button",{onClick:()=>h("projects"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition w-full text-left",children:"Work"})}),S.jsx("li",{children:S.jsx("button",{onClick:()=>h("pricing"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition w-full text-left",children:"Pricing"})}),S.jsx("li",{children:S.jsx(fl,{to:"/contact",className:nd,onClick:()=>i(!1),children:"Contact"})}),n&&S.jsxs(S.Fragment,{children:[S.jsx("li",{children:S.jsx(fl,{to:"/admin",className:nd,onClick:()=>i(!1),children:"Admin"})}),S.jsx("li",{children:S.jsx("button",{onClick:u,className:"px-3 py-2 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition w-full text-left",children:"Sign out"})})]})]}),S.jsx("div",{className:"my-3 h-px bg-white/10"}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(gi,{to:"/contact","aria-label":"Contact",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:S.jsx(eI,{size:18})}),S.jsx("a",{href:"https://github.com/michaelm602",target:"_blank",rel:"noreferrer","aria-label":"GitHub",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:S.jsx(JC,{size:18})})]})]})})]})})}function mt({as:n="div",className:e="",children:t,y:i=24,duration:r=550,delay:a=0,ease:u="cubic-bezier(0.22,1,0.36,1)",enter:h=.25,exit:f=.12,rootMargin:d="-12% 0px -12% 0px",once:g=!1,startVisible:v=!0,...b}){const E=V.useRef(null),[I,A]=V.useState(v),D=V.useRef(I);V.useEffect(()=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){A(!0),D.current=!0;return}const Q=E.current;if(!Q)return;if(v){const C=Q.getBoundingClientRect();C.top<window.innerHeight&&C.bottom>0&&(A(!0),D.current=!0)}const le=Array.from({length:21},(C,k)=>k/20),M=new IntersectionObserver(([C])=>{const k=C.intersectionRatio??0;!D.current&&k>=h?(D.current=!0,A(!0),g&&M.disconnect()):!g&&D.current&&k<=f&&(D.current=!1,A(!1))},{threshold:le,rootMargin:d});return M.observe(Q),()=>M.disconnect()},[h,f,d,g,v]);const P={transition:`transform ${r}ms ${u} ${a}ms, opacity ${r}ms ${u} ${a}ms`,willChange:"transform, opacity",backfaceVisibility:"hidden",transform:"translateZ(0)"},B={transform:`translateY(${i}px)`,opacity:0},F={transform:"translateY(0px)",opacity:1};return S.jsx(n,{ref:E,className:e,style:{...P,...I?F:B},...b,children:t})}function W9(){const n=new Date().getFullYear(),e=Js(),t=In(),i=r=>{const a=()=>document.getElementById(r)?.scrollIntoView({behavior:"smooth",block:"start"});t.pathname!=="/"?(e("/"),setTimeout(a,80)):a()};return S.jsxs("footer",{className:"mt-10 border-t border-white/10 bg-white/5 backdrop-blur-md",children:[S.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8 grid gap-8 md:grid-cols-3 text-white/90",children:[S.jsx(mt,{children:S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-white",children:"Likwit Devs"}),S.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Modern, responsive websites with clean UX and custom visuals."})]})}),S.jsxs("nav",{className:"grid grid-cols-2 gap-2 text-sm",children:[S.jsx(mt,{children:S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-white/60 font-medium",children:"Pages"}),S.jsx(gi,{className:"block hover:text-white",to:"/",children:"Home"}),S.jsx("button",{onClick:()=>i("about"),className:"block text-left w-full hover:text-white",children:"About"}),S.jsx("button",{onClick:()=>i("pricing"),className:"block text-left w-full hover:text-white",children:"Pricing"}),S.jsx(gi,{className:"block hover:text-white",to:"/contact",children:"Contact"})]})}),S.jsx(mt,{children:S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-white/60 font-medium",children:"Services"}),S.jsx("span",{className:"block text-white/70",children:"Portfolio Sites"}),S.jsx("span",{className:"block text-white/70",children:"E-commerce"}),S.jsx("span",{className:"block text-white/70",children:"Brand Visuals"})]})})]}),S.jsx("div",{className:"space-y-3",children:S.jsxs(mt,{children:[S.jsx("h4",{className:"font-semibold text-white mb-2",children:"Get in touch"}),S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx(eI,{className:"w-5 h-5 opacity-80"}),S.jsx(gi,{to:"/contact",className:"hover:underline hover:text-white",children:"likwitdevs@gmail.com"})]}),S.jsx("div",{className:"mt-2 flex items-center gap-3",children:S.jsx("a",{href:"https://github.com/michaelm602",target:"_blank",rel:"noreferrer",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition",children:S.jsx(JC,{size:18})})})]})})]}),S.jsxs("div",{className:"border-t border-white/10 text-center text-xs text-white/60 py-4",children:[" ",n," Likwit Devs. All rights reserved."]})]})}function Q9({offset:n=0}){const e=In();return V.useEffect(()=>{if(!e.hash)return;const t=e.hash.slice(1),i=document.getElementById(t);i&&requestAnimationFrame(()=>{const r=i.getBoundingClientRect().top+window.scrollY-n;window.scrollTo({top:r,behavior:"smooth"})})},[e.pathname,e.hash,n]),null}function Z9(){const n=In();return V.useEffect(()=>{n.hash||window.scrollTo({top:0,behavior:"auto"})},[n.pathname,n.hash]),S.jsxs(S.Fragment,{children:[S.jsx(fL,{}),S.jsx(X9,{}),S.jsx(Q9,{offset:96}),S.jsx("main",{className:"min-h-screen pb-safe",children:S.jsx(f2,{})}),S.jsx(W9,{})]})}function J9({texts:n=[],speed:e=50,pause:t=1500,className:i=""}){const[r,a]=V.useState(""),[u,h]=V.useState(0),[f,d]=V.useState(0),[g,v]=V.useState(!0);return V.useEffect(()=>{let b;return g?f<n[u].length?b=setTimeout(()=>d(f+1),e):b=setTimeout(()=>v(!1),t):f>0?b=setTimeout(()=>d(f-1),e/2):(v(!0),h((u+1)%n.length)),a(n[u].slice(0,f)),()=>clearTimeout(b)},[f,g,u,n,e,t]),S.jsxs("span",{className:i,children:[r,S.jsx("span",{className:"cursor",children:"|"})]})}function e5(){const[n,e]=V.useState([]),[t,i]=V.useState(!0),[r,a]=V.useState(null);return V.useEffect(()=>{const u=pv(Xd(Yo,"projects"),_B("published","==",!0),gv("order","asc"));let h=yv(u,f=>{e(f.docs.map(d=>({id:d.id,...d.data()}))),i(!1)},f=>{if(!(f.code==="failed-precondition"||/index/i.test(f.message||""))){a(f),i(!1);return}const g=pv(Xd(Yo,"projects"),gv("order","asc"));h=yv(g,v=>{const b=v.docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.published===!0);e(b),i(!1)},v=>{a(v),i(!1)})});return()=>h&&h()},[]),{projects:n,loading:t,error:r}}function t5({project:n}){const{title:e,summary:t,description:i,href:r,imageUrl:a,tags:u=[],imageFocus:h}=n,f=/^https?:\/\//i.test(r||"")?r:`https://${r||""}`,d=h||"50% 25%";return S.jsxs("article",{className:`\r
    group\r
    rounded-2xl\r
    border border-white/15\r
    bg-black/60\r
    backdrop-blur-md\r
    shadow-[0_12px_40px_rgba(0,0,0,0.6)]\r
    transition-transform duration-200\r
    hover:-translate-y-1\r
  `,children:[S.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"block rounded-t-2xl overflow-hidden","aria-label":`Open ${e} in a new tab`,children:S.jsx(mt,{children:S.jsx("div",{className:"relative aspect-[16/9] bg-no-repeat bg-contain",style:{backgroundImage:`url('${a||""}')`,backgroundPosition:d},children:S.jsx("div",{className:"absolute inset-0"})})})}),S.jsx(mt,{children:S.jsxs("div",{className:"rounded-b-2xl p-5 pb-6 text-white",children:[S.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&S.jsx("p",{className:"mt-2 text-white/90",children:t}),i&&S.jsx("p",{className:"mt-2 text-white/80 leading-relaxed break-words",children:i}),S.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[u.length>0&&S.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(g=>S.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10 text-white/85",children:g},g))}),S.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"btn whitespace-nowrap",children:"Live site "})]})]})})]})}function n5(){const{projects:n,loading:e,error:t}=e5();return S.jsx("section",{id:"projects",className:"relative z-10 px-4 pt-12 pb-28 md:pt-16 md:pb-32 scroll-mt-32",children:S.jsxs("div",{className:"mx-auto max-w-6xl",children:[S.jsxs(mt,{children:[S.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Recent Work"}),S.jsx("p",{className:"text-white/75 mb-6 max-w-3xl",children:"Real builds with speed, mobile-first UI, and clean conversion flow. Want something like this? Hit the audit button and Ill tell you what your current site is doing wrong."})]}),e&&S.jsx("p",{className:"text-white/70",children:"Loading projects"}),t&&S.jsx("p",{className:"text-red-300",children:"Couldn't load projects."}),!e&&!t&&n.length===0&&S.jsx("p",{className:"text-white/70",children:"No projects yet."}),!e&&!t&&n.length>0&&S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((i,r)=>S.jsx(mt,{y:10,delay:r*70,children:S.jsx(t5,{project:i})},i.id))}),S.jsxs("div",{className:"mt-10 rounded-3xl border border-white/10 bg-white/5 backdrop-blur p-6 md:p-8",children:[S.jsx(mt,{y:10,children:S.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:"Want a site that actually brings customers?"})}),S.jsx(mt,{y:10,delay:60,children:S.jsx("p",{className:"mt-2 text-white/80 max-w-2xl",children:"Ill review your current site and send back a quick list of fixes: speed, mobile, SEO structure, and call-to-action flow."})}),S.jsx(mt,{y:10,delay:120,children:S.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[S.jsx("a",{href:"#audit",className:"btn-subtle text-white bg-white/15 hover:bg-white/20 backdrop-blur-md",children:"Get a Free Website Audit"}),S.jsx("a",{href:"#pricing",className:"btn-subtle text-white bg-black/10 hover:bg-black/20 backdrop-blur-md",children:"View Packages"})]})})]})]})})}function i5(){return S.jsx("section",{id:"about",className:"scroll-mt-24 px-4 py-12 md:py-20",children:S.jsx("div",{className:"mx-auto max-w-6xl rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md p-6 md:p-10",children:S.jsxs(mt,{children:[S.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"About"}),S.jsxs("p",{className:"text-white/90 max-w-3xl",children:["Im Michael  the builder behind"," ",S.jsx("span",{className:"font-semibold",children:"Likwit Devs"}),". I design and ship"," ",S.jsx("span",{className:"font-semibold",children:"fast, mobile-first websites"})," ","that look clean and make it easy for customers to call, book, or buy. My focus is performance (Core Web Vitals), simple content editing, and custom visuals so your brand actually stands out."]}),S.jsx("p",{className:"text-white/80 max-w-3xl mt-3",children:"Real talk: most small business websites fail because theyre slow, confusing, or dont tell people what to do next. I build with a conversion-first mindset  and I dont ship messy, fragile nonsense."}),S.jsxs("ul",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 text-white/80",children:[S.jsx("li",{children:" Landing pages and small business sites"}),S.jsx("li",{children:" Content editing (so you can update your own stuff)"}),S.jsx("li",{children:" Speed + SEO best practices"}),S.jsx("li",{children:" Integrations: email, forms, booking, payments"})]}),S.jsxs("div",{className:"mt-6 flex flex-wrap gap-2 text-sm text-white/80",children:[S.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"React"}),S.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Tailwind"}),S.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Firebase"}),S.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Stripe"}),S.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"EmailJS"})]}),S.jsxs("div",{className:"mt-8 grid gap-3 sm:grid-cols-3 text-white/80",children:[S.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[S.jsx("span",{className:"text-white font-semibold",children:"1."})," Brief & scope",S.jsx("div",{className:"text-white/70 text-sm mt-1",children:"You tell me the goal. I translate it into a plan."})]}),S.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[S.jsx("span",{className:"text-white font-semibold",children:"2."})," Design  build",S.jsx("div",{className:"text-white/70 text-sm mt-1",children:"Clean UI, fast performance, conversion layout."})]}),S.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[S.jsx("span",{className:"text-white font-semibold",children:"3."})," Launch & handoff",S.jsx("div",{className:"text-white/70 text-sm mt-1",children:"Go live, walkthrough, and optional maintenance plan."})]})]}),S.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[S.jsx("a",{href:"#audit",className:"btn-subtle text-white bg-white/15 hover:bg-white/20 backdrop-blur-md",children:"Get a Free Website Audit"}),S.jsx("a",{href:"#pricing",className:"btn-subtle text-white bg-black/10 hover:bg-black/20 backdrop-blur-md",children:"View Packages"})]}),S.jsx("p",{className:"mt-6 text-xs text-white/60",children:"Built with a systems mindset: performance, reliability, and clean handoff."})]})})})}function s5(){const n=[{name:"Starter Site",price:"$300",blurb:"Single-page landing built to convert on mobile.",features:["Hero + Services + Gallery + Contact","Mobile-first responsive layout","Fast load times","Basic on-page SEO (titles/meta/headings)","12 week turnaround","2 revision rounds"],cta:"Get Starter"},{name:"Business Site",price:"$600",blurb:"Multi-page site with clean navigation + SEO foundation.",features:["Home, About, Services, Gallery, Contact","Mobile-first responsive design","On-page SEO setup + sitemap/robots","Analytics installed","23 week turnaround","2 revision rounds"],cta:"Start Business Site",highlight:!0,badge:"Most Popular"},{name:"E-commerce / Booking",price:"$1,000+",blurb:"Sell products or take appointments with secure setup.",features:["Stripe/PayPal checkout OR booking calendar","Product/service management","Email notifications","On-page SEO","35 week timeline","Admin walkthrough"],cta:"Discuss Your Store"}],e=[{name:"Care Plan",price:"$49/mo",items:["Hosting + uptime monitoring","Small content edits","Basic security updates"]},{name:"Growth Plan",price:"$99/mo",items:["Everything in Care","Monthly performance/SEO tune-up","Priority support"],highlight:!0},{name:"Scale Plan",price:"$149/mo",items:["Everything in Growth","Monthly landing page/test","Analytics summary report"]}];return S.jsx("section",{id:"pricing",className:"relative z-10 px-4 pt-12 pb-16 md:pt-16 md:pb-20 pb-safe scroll-mt-32 md:scroll-mt-40",children:S.jsxs("div",{className:"mx-auto max-w-6xl",children:[S.jsxs(mt,{once:!0,enter:.1,exit:0,rootMargin:"-8% 0px -80% 0px",children:[S.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Packages & Pricing"}),S.jsx("p",{className:"text-white/80 mb-6",children:"Transparent from pricing. Exact quotes depend on scope and timeline."})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map((t,i)=>{const r=i*90;return S.jsxs("div",{className:["rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md","shadow-[0_8px_30px_rgba(0,0,0,0.3)] overflow-hidden p-6 text-white",t.highlight?"ring-1 ring-white/20":""].join(" "),children:[t.badge&&S.jsx("div",{className:"mb-3 inline-flex items-center rounded-full bg-white/10 border border-white/10 px-3 py-1 text-xs text-white/90",children:t.badge}),S.jsx(mt,{y:8,delay:r,children:S.jsx("div",{className:"text-sm uppercase tracking-wide text-white/70",children:t.name})}),S.jsx(mt,{y:8,delay:r+80,children:S.jsx("div",{className:"mt-2 text-3xl font-bold",children:t.price})}),S.jsx(mt,{y:8,delay:r+120,children:S.jsx("p",{className:"mt-2 text-white/80",children:t.blurb})}),S.jsx("ul",{className:"mt-4 space-y-2 text-white/80",children:t.features.map((a,u)=>S.jsx(mt,{y:8,delay:r+160+u*40,children:S.jsxs("li",{className:"flex gap-2",children:[S.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-white/60"}),S.jsx("span",{children:a})]})},a))}),S.jsx(mt,{y:8,delay:r+160+t.features.length*40+80,children:S.jsx(gi,{to:`/contact?plan=${encodeURIComponent(t.name)}`,className:"btn mt-6 w-full",children:t.cta})}),S.jsx(mt,{y:8,delay:r+160+t.features.length*40+140,children:S.jsx("p",{className:"mt-3 text-xs text-white/60",children:"*Pricing is from and may vary with scope. 50% deposit to start."})})]},t.name)})}),S.jsxs("div",{className:"mt-10",children:[S.jsx(mt,{y:8,children:S.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"Optional Maintenance Plans (monthly)"})}),S.jsx(mt,{y:8,delay:60,children:S.jsx("p",{className:"text-white/75 mb-6",children:"For businesses that want updates handled without chasing a developer."})}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((t,i)=>S.jsxs("div",{className:["rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md p-6 text-white",t.highlight?"ring-1 ring-white/20":""].join(" "),children:[S.jsx("div",{className:"text-sm uppercase tracking-wide text-white/70",children:t.name}),S.jsx("div",{className:"mt-2 text-3xl font-bold",children:t.price}),S.jsx("ul",{className:"mt-4 space-y-2 text-white/80",children:t.items.map(r=>S.jsxs("li",{className:"flex gap-2",children:[S.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-white/60"}),S.jsx("span",{children:r})]},r))}),S.jsxs(gi,{to:`/contact?plan=${encodeURIComponent(t.name)}`,className:"btn mt-6 w-full",children:["Choose ",t.name]})]},t.name))})]}),S.jsxs("div",{className:"mt-10 rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md p-6 text-white/80",children:[S.jsx(mt,{y:8,children:S.jsx("h3",{className:"font-semibold text-white mb-2",children:"Popular add-ons"})}),S.jsx("div",{className:"flex flex-wrap gap-2",children:["Logo refresh","Copywriting","Speed/SEO tune-up","Maintenance plan"].map((t,i)=>S.jsx(mt,{y:8,delay:i*60,children:S.jsx("span",{className:"px-3 py-1 rounded-full bg-white/10 border border-white/10 text-sm",children:t})},t))})]})]})})}function r5(){const n=Js(),[e,t]=V.useState(""),[i,r]=V.useState("");return S.jsxs(S.Fragment,{children:[S.jsxs("section",{className:"relative overflow-hidden hero-stable",children:[S.jsx(d1,{className:"pointer-events-none absolute inset-0"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/25 to-transparent"}),S.jsx("div",{className:"mx-auto max-w-6xl px-4",children:S.jsxs("div",{className:"relative py-14 md:py-24",children:[S.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight text-white",children:"Websites that turn visitors into paying clients."}),S.jsx("p",{className:"mt-3 text-base sm:text-lg md:text-xl leading-relaxed text-white/90 max-w-2xl",children:S.jsx(J9,{texts:["Fast load times that keep customers from bouncing.","Mobile-first design that looks legit on every phone.","SEO-ready structure so Google can actually find you.","Clear calls-to-action that drive calls, bookings, and leads."],speed:70,pause:1600})}),S.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[S.jsx("a",{href:"#audit",className:"btn-subtle text-white bg-white/15 hover:bg-white/20 backdrop-blur-md",children:"Get a Free Website Audit"}),S.jsx("a",{href:"#projects",className:"btn-subtle text-white bg-black/10 hover:bg-black/20 backdrop-blur-md",children:"View Work"}),S.jsx(gi,{to:"/contact",className:"btn-subtle text-white/90 bg-black/10 hover:bg-black/20 backdrop-blur-md",children:"Contact"})]}),S.jsxs("div",{className:"mt-5 flex flex-wrap gap-2 text-sm text-white/80",children:[S.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Nationwide / Remote"}),S.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Fast Loads"}),S.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"SEO Structure"}),S.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Mobile-First"}),S.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Conversion Focused"})]}),S.jsxs("div",{className:"mt-8 grid gap-3 md:grid-cols-3",children:[S.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-4 backdrop-blur",children:[S.jsx("div",{className:"text-white font-semibold",children:"Speed + Trust"}),S.jsx("p",{className:"text-white/75 text-sm mt-1",children:"Your site loads fast, looks clean, and doesnt feel sketchy. Customers stay."})]}),S.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-4 backdrop-blur",children:[S.jsx("div",{className:"text-white font-semibold",children:"SEO Foundation"}),S.jsx("p",{className:"text-white/75 text-sm mt-1",children:"Proper structure + metadata so you can rank without praying to the Google gods."})]}),S.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-4 backdrop-blur",children:[S.jsx("div",{className:"text-white font-semibold",children:"Leads Built-In"}),S.jsx("p",{className:"text-white/75 text-sm mt-1",children:"CTAs, contact flow, and layout designed to push visitors into action."})]})]})]})})]}),S.jsx("section",{id:"audit",className:"mx-auto max-w-6xl px-4 py-12 md:py-16",children:S.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 backdrop-blur p-6 md:p-10",children:S.jsxs("div",{className:"md:flex md:items-start md:justify-between gap-8",children:[S.jsxs("div",{className:"max-w-2xl",children:[S.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:"Free Website Audit (No fluff, just fixes)"}),S.jsx("p",{className:"mt-2 text-white/80",children:"Send your website link and Ill reply with a quick breakdown of whats hurting your conversions: speed, mobile layout, SEO basics, and your call-to-action flow."}),S.jsxs("ul",{className:"mt-4 space-y-2 text-white/75 text-sm",children:[S.jsx("li",{children:" Speed + mobile issues (bounce-rate killers)"}),S.jsx("li",{children:" SEO structure check (titles, descriptions, indexing basics)"}),S.jsx("li",{children:" Conversion fixes (CTA placement, layout, trust signals)"}),S.jsx("li",{children:" Clear next steps + rough estimate to fix it"})]})]}),S.jsx("div",{className:"mt-6 md:mt-0 w-full md:max-w-sm",children:S.jsxs("div",{className:"rounded-2xl bg-black/20 border border-white/10 p-4",children:[S.jsx("label",{className:"block text-sm text-white/80",children:"Website URL"}),S.jsx("input",{type:"url",value:e,onChange:a=>t(a.target.value),placeholder:"https://yourbusiness.com",className:"mt-2 w-full rounded-xl bg-black/30 border border-white/10 px-3 py-2 text-white placeholder:text-white/40 outline-none focus:border-white/30"}),S.jsx("label",{className:"block text-sm text-white/80 mt-4",children:"Business type"}),S.jsx("input",{type:"text",value:i,onChange:a=>r(a.target.value),placeholder:"Contractor, barber, cleaning, etc.",className:"mt-2 w-full rounded-xl bg-black/30 border border-white/10 px-3 py-2 text-white placeholder:text-white/40 outline-none focus:border-white/30"}),S.jsxs("div",{className:"mt-4 flex gap-3",children:[S.jsx("button",{type:"button",onClick:()=>{const a=new URLSearchParams;a.set("intent","audit"),e.trim()&&a.set("website",e.trim()),i.trim()&&a.set("business",i.trim()),n(`/contact?${a.toString()}`)},className:"w-full text-center rounded-xl px-4 py-2 bg-white/15 hover:bg-white/20 text-white",children:"Submit via Contact"}),S.jsx("a",{href:"#projects",className:"w-full text-center rounded-xl px-4 py-2 bg-black/20 hover:bg-black/30 text-white/90",children:"See Work"})]}),S.jsx("p",{className:"mt-3 text-xs text-white/50",children:"No spam. No pressure. Just a real audit."})]})})]})})}),S.jsx("div",{id:"projects",children:S.jsx(n5,{})}),S.jsx(i5,{}),S.jsx(s5,{})]})}class gh{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const o5=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},ln={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:o5()},tb=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},a5=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=tb(n);ln.publicKey=t.publicKey,ln.blockHeadless=t.blockHeadless,ln.storageProvider=t.storageProvider,ln.blockList=t.blockList,ln.limitRate=t.limitRate,ln.origin=t.origin||e},tI=async(n,e,t={})=>{const i=await fetch(ln.origin+n,{method:"POST",headers:t,body:e}),r=await i.text(),a=new gh(i.status,r);if(i.ok)return a;throw a},nI=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},l5=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},iI=n=>n.webdriver||!n.languages||n.languages.length===0,sI=()=>new gh(451,"Unavailable For Headless Browser"),u5=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},c5=n=>!n.list?.length||!n.watchVariable,h5=(n,e)=>n instanceof FormData?n.get(e):n[e],rI=(n,e)=>{if(c5(n))return!1;u5(n.list,n.watchVariable);const t=h5(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},oI=()=>new gh(403,"Forbidden"),f5=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},d5=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},aI=async(n,e,t)=>{if(!e.throttle||!t)return!1;f5(e.throttle,e.id);const i=e.id||n;return await d5(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},lI=()=>new gh(429,"Too Many Requests"),m5=async(n,e,t,i)=>{const r=tb(i),a=r.publicKey||ln.publicKey,u=r.blockHeadless||ln.blockHeadless,h=r.storageProvider||ln.storageProvider,f={...ln.blockList,...r.blockList},d={...ln.limitRate,...r.limitRate};return u&&iI(navigator)?Promise.reject(sI()):(nI(a,n,e),l5(t),t&&rI(f,t)?Promise.reject(oI()):await aI(location.pathname,d,h)?Promise.reject(lI()):tI("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},p5=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},g5=n=>typeof n=="string"?document.querySelector(n):n,y5=async(n,e,t,i)=>{const r=tb(i),a=r.publicKey||ln.publicKey,u=r.blockHeadless||ln.blockHeadless,h=ln.storageProvider||r.storageProvider,f={...ln.blockList,...r.blockList},d={...ln.limitRate,...r.limitRate};if(u&&iI(navigator))return Promise.reject(sI());const g=g5(t);nI(a,n,e),p5(g);const v=new FormData(g);return rI(f,v)?Promise.reject(oI()):await aI(location.pathname,d,h)?Promise.reject(lI()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",e),v.append("user_id",a),tI("/api/v1.0/email/send-form",v))},v5={init:a5,send:m5,sendForm:y5,EmailJSResponseStatus:gh},uI=V.createContext({});function _5(n){const e=V.useRef(null);return e.current===null&&(e.current=n()),e.current}const nb=typeof window<"u",b5=nb?V.useLayoutEffect:V.useEffect,ib=V.createContext(null);function sb(n,e){n.indexOf(e)===-1&&n.push(e)}function rb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Qs=(n,e,t)=>t>e?e:t<n?n:t;let ob=()=>{};const Zs={},cI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function hI(n){return typeof n=="object"&&n!==null}const fI=n=>/^0[^.\s]+$/u.test(n);function ab(n){let e;return()=>(e===void 0&&(e=n()),e)}const yi=n=>n,w5=(n,e)=>t=>e(n(t)),yh=(...n)=>n.reduce(w5),Wc=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class lb{constructor(){this.subscriptions=[]}add(e){return sb(this.subscriptions,e),()=>rb(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const u=this.subscriptions[a];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const us=n=>n*1e3,cs=n=>n/1e3;function dI(n,e){return e?n*(1e3/e):0}const mI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,T5=1e-7,E5=12;function S5(n,e,t,i,r){let a,u,h=0;do u=e+(t-e)/2,a=mI(u,i,r)-n,a>0?t=u:e=u;while(Math.abs(a)>T5&&++h<E5);return u}function vh(n,e,t,i){if(n===e&&t===i)return yi;const r=a=>S5(a,0,1,n,t);return a=>a===0||a===1?a:mI(r(a),e,i)}const pI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,gI=n=>e=>1-n(1-e),yI=vh(.33,1.53,.69,.99),ub=gI(yI),vI=pI(ub),_I=n=>(n*=2)<1?.5*ub(n):.5*(2-Math.pow(2,-10*(n-1))),cb=n=>1-Math.sin(Math.acos(n)),bI=gI(cb),wI=pI(cb),x5=vh(.42,0,1,1),A5=vh(0,0,.58,1),TI=vh(.42,0,.58,1),R5=n=>Array.isArray(n)&&typeof n[0]!="number",EI=n=>Array.isArray(n)&&typeof n[0]=="number",C5={linear:yi,easeIn:x5,easeInOut:TI,easeOut:A5,circIn:cb,circInOut:wI,circOut:bI,backIn:ub,backInOut:vI,backOut:yI,anticipate:_I},I5=n=>typeof n=="string",ux=n=>{if(EI(n)){ob(n.length===4);const[e,t,i,r]=n;return vh(e,t,i,r)}else if(I5(n))return C5[n];return n},id=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function D5(n,e){let t=new Set,i=new Set,r=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(d.schedule(g),n()),g(h)}const d={schedule:(g,v=!1,b=!1)=>{const I=b&&r?t:i;return v&&u.add(g),I.has(g)||I.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(f),t.clear(),r=!1,a&&(a=!1,d.process(g))}};return d}const P5=40;function SI(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=id.reduce((F,q)=>(F[q]=D5(a),F),{}),{setup:h,read:f,resolveKeyframes:d,preUpdate:g,update:v,preRender:b,render:E,postRender:I}=u,A=()=>{const F=Zs.useManualTiming?r.timestamp:performance.now();t=!1,Zs.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(F-r.timestamp,P5),1)),r.timestamp=F,r.isProcessing=!0,h.process(r),f.process(r),d.process(r),g.process(r),v.process(r),b.process(r),E.process(r),I.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(A))},D=()=>{t=!0,i=!0,r.isProcessing||n(A)};return{schedule:id.reduce((F,q)=>{const Q=u[q];return F[q]=(le,M=!1,C=!1)=>(t||D(),Q.schedule(le,M,C)),F},{}),cancel:F=>{for(let q=0;q<id.length;q++)u[id[q]].cancel(F)},state:r,steps:u}}const{schedule:ut,cancel:Zr,state:on,steps:by}=SI(typeof requestAnimationFrame<"u"?requestAnimationFrame:yi,!0);let wd;function k5(){wd=void 0}const Vn={now:()=>(wd===void 0&&Vn.set(on.isProcessing||Zs.useManualTiming?on.timestamp:performance.now()),wd),set:n=>{wd=n,queueMicrotask(k5)}},xI=n=>e=>typeof e=="string"&&e.startsWith(n),hb=xI("--"),M5=xI("var(--"),fb=n=>M5(n)?O5.test(n.split("/*")[0].trim()):!1,O5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Qc={...Jl,transform:n=>Qs(0,1,n)},sd={...Jl,default:1},Pc=n=>Math.round(n*1e5)/1e5,db=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N5(n){return n==null}const V5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mb=(n,e)=>t=>!!(typeof t=="string"&&V5.test(t)&&t.startsWith(n)||e&&!N5(t)&&Object.prototype.hasOwnProperty.call(t,e)),AI=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,u,h]=i.match(db);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},L5=n=>Qs(0,255,n),wy={...Jl,transform:n=>Math.round(L5(n))},Wo={test:mb("rgb","red"),parse:AI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+wy.transform(n)+", "+wy.transform(e)+", "+wy.transform(t)+", "+Pc(Qc.transform(i))+")"};function U5(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const _v={test:mb("#"),parse:U5,transform:Wo.transform},_h=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Dr=_h("deg"),hs=_h("%"),Se=_h("px"),z5=_h("vh"),j5=_h("vw"),cx={...hs,parse:n=>hs.parse(n)/100,transform:n=>hs.transform(n*100)},bl={test:mb("hsl","hue"),parse:AI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+hs.transform(Pc(e))+", "+hs.transform(Pc(t))+", "+Pc(Qc.transform(i))+")"},Nt={test:n=>Wo.test(n)||_v.test(n)||bl.test(n),parse:n=>Wo.test(n)?Wo.parse(n):bl.test(n)?bl.parse(n):_v.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Wo.transform(n):bl.transform(n),getAnimatableNone:n=>{const e=Nt.parse(n);return e.alpha=0,Nt.transform(e)}},B5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function F5(n){return isNaN(n)&&typeof n=="string"&&(n.match(db)?.length||0)+(n.match(B5)?.length||0)>0}const RI="number",CI="color",q5="var",H5="var(",hx="${}",G5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zc(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const h=e.replace(G5,f=>(Nt.test(f)?(i.color.push(a),r.push(CI),t.push(Nt.parse(f))):f.startsWith(H5)?(i.var.push(a),r.push(q5),t.push(f)):(i.number.push(a),r.push(RI),t.push(parseFloat(f))),++a,hx)).split(hx);return{values:t,split:h,indexes:i,types:r}}function II(n){return Zc(n).values}function DI(n){const{split:e,types:t}=Zc(n),i=e.length;return r=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],r[u]!==void 0){const h=t[u];h===RI?a+=Pc(r[u]):h===CI?a+=Nt.transform(r[u]):a+=r[u]}return a}}const $5=n=>typeof n=="number"?0:Nt.test(n)?Nt.getAnimatableNone(n):n;function K5(n){const e=II(n);return DI(n)(e.map($5))}const Jr={test:F5,parse:II,createTransformer:DI,getAnimatableNone:K5};function Ty(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Y5({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,u=0;if(!e)r=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;r=Ty(f,h,n+1/3),a=Ty(f,h,n),u=Ty(f,h,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Qd(n,e){return t=>t>0?e:n}const pt=(n,e,t)=>n+(e-n)*t,Ey=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},X5=[_v,Wo,bl],W5=n=>X5.find(e=>e.test(n));function fx(n){const e=W5(n);if(!e)return!1;let t=e.parse(n);return e===bl&&(t=Y5(t)),t}const dx=(n,e)=>{const t=fx(n),i=fx(e);if(!t||!i)return Qd(n,e);const r={...t};return a=>(r.red=Ey(t.red,i.red,a),r.green=Ey(t.green,i.green,a),r.blue=Ey(t.blue,i.blue,a),r.alpha=pt(t.alpha,i.alpha,a),Wo.transform(r))},bv=new Set(["none","hidden"]);function Q5(n,e){return bv.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Z5(n,e){return t=>pt(n,e,t)}function pb(n){return typeof n=="number"?Z5:typeof n=="string"?fb(n)?Qd:Nt.test(n)?dx:tF:Array.isArray(n)?PI:typeof n=="object"?Nt.test(n)?dx:J5:Qd}function PI(n,e){const t=[...n],i=t.length,r=n.map((a,u)=>pb(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)t[u]=r[u](a);return t}}function J5(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=pb(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function eF(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],u=n.indexes[a][i[a]],h=n.values[u]??0;t[r]=h,i[a]++}return t}const tF=(n,e)=>{const t=Jr.createTransformer(e),i=Zc(n),r=Zc(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?bv.has(n)&&!r.values.length||bv.has(e)&&!i.values.length?Q5(n,e):yh(PI(eF(i,r),r.values),t):Qd(n,e)};function kI(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?pt(n,e,t):pb(n)(n,e)}const nF=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ut.update(e,t),stop:()=>Zr(e),now:()=>on.isProcessing?on.timestamp:Vn.now()}},MI=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Zd=2e4;function gb(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Zd;)e+=t,i=n.next(e);return e>=Zd?1/0:e}function iF(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(gb(i),Zd);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:cs(r)}}const sF=5;function OI(n,e,t){const i=Math.max(e-sF,0);return dI(t-n(i),e-i)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sy=.001;function rF({duration:n=bt.duration,bounce:e=bt.bounce,velocity:t=bt.velocity,mass:i=bt.mass}){let r,a,u=1-e;u=Qs(bt.minDamping,bt.maxDamping,u),n=Qs(bt.minDuration,bt.maxDuration,cs(n)),u<1?(r=d=>{const g=d*u,v=g*n,b=g-t,E=wv(d,u),I=Math.exp(-v);return Sy-b/E*I},a=d=>{const v=d*u*n,b=v*t+t,E=Math.pow(u,2)*Math.pow(d,2)*n,I=Math.exp(-v),A=wv(Math.pow(d,2),u);return(-r(d)+Sy>0?-1:1)*((b-E)*I)/A}):(r=d=>{const g=Math.exp(-d*n),v=(d-t)*n+1;return-Sy+g*v},a=d=>{const g=Math.exp(-d*n),v=(t-d)*(n*n);return g*v});const h=5/n,f=aF(r,a,h);if(n=us(n),isNaN(f))return{stiffness:bt.stiffness,damping:bt.damping,duration:n};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:u*2*Math.sqrt(i*d),duration:n}}}const oF=12;function aF(n,e,t){let i=t;for(let r=1;r<oF;r++)i=i-n(i)/e(i);return i}function wv(n,e){return n*Math.sqrt(1-e*e)}const lF=["duration","bounce"],uF=["stiffness","damping","mass"];function mx(n,e){return e.some(t=>n[t]!==void 0)}function cF(n){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...n};if(!mx(n,uF)&&mx(n,lF))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*Qs(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:bt.mass,stiffness:r,damping:a}}else{const t=rF(n);e={...e,...t,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Jd(n=bt.visualDuration,e=bt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:d,mass:g,duration:v,velocity:b,isResolvedFromDuration:E}=cF({...t,velocity:-cs(t.velocity||0)}),I=b||0,A=d/(2*Math.sqrt(f*g)),D=u-a,P=cs(Math.sqrt(f/g)),B=Math.abs(D)<5;i||(i=B?bt.restSpeed.granular:bt.restSpeed.default),r||(r=B?bt.restDelta.granular:bt.restDelta.default);let F;if(A<1){const Q=wv(P,A);F=le=>{const M=Math.exp(-A*P*le);return u-M*((I+A*P*D)/Q*Math.sin(Q*le)+D*Math.cos(Q*le))}}else if(A===1)F=Q=>u-Math.exp(-P*Q)*(D+(I+P*D)*Q);else{const Q=P*Math.sqrt(A*A-1);F=le=>{const M=Math.exp(-A*P*le),C=Math.min(Q*le,300);return u-M*((I+A*P*D)*Math.sinh(C)+Q*D*Math.cosh(C))/Q}}const q={calculatedDuration:E&&v||null,next:Q=>{const le=F(Q);if(E)h.done=Q>=v;else{let M=Q===0?I:0;A<1&&(M=Q===0?us(I):OI(F,Q,le));const C=Math.abs(M)<=i,k=Math.abs(u-le)<=r;h.done=C&&k}return h.value=h.done?u:le,h},toString:()=>{const Q=Math.min(gb(q),Zd),le=MI(M=>q.next(Q*M).value,Q,30);return Q+"ms "+le},toTransition:()=>{}};return q}Jd.applyToOptions=n=>{const e=iF(n,100,Jd);return n.ease=e.ease,n.duration=us(e.duration),n.type="keyframes",n};function Tv({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const v=n[0],b={done:!1,value:v},E=C=>h!==void 0&&C<h||f!==void 0&&C>f,I=C=>h===void 0?f:f===void 0||Math.abs(h-C)<Math.abs(f-C)?h:f;let A=t*e;const D=v+A,P=u===void 0?D:u(D);P!==D&&(A=P-v);const B=C=>-A*Math.exp(-C/i),F=C=>P+B(C),q=C=>{const k=B(C),U=F(C);b.done=Math.abs(k)<=d,b.value=b.done?P:U};let Q,le;const M=C=>{E(b.value)&&(Q=C,le=Jd({keyframes:[b.value,I(b.value)],velocity:OI(F,C,b.value),damping:r,stiffness:a,restDelta:d,restSpeed:g}))};return M(0),{calculatedDuration:null,next:C=>{let k=!1;return!le&&Q===void 0&&(k=!0,q(C),M(C)),Q!==void 0&&C>=Q?le.next(C-Q):(!k&&q(C),b)}}}function hF(n,e,t){const i=[],r=t||Zs.mix||kI,a=n.length-1;for(let u=0;u<a;u++){let h=r(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||yi:e;h=yh(f,h)}i.push(h)}return i}function fF(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(ob(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=hF(e,i,r),f=h.length,d=g=>{if(u&&g<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const b=Wc(n[v],n[v+1],g);return h[v](b)};return t?g=>d(Qs(n[0],n[a-1],g)):d}function dF(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Wc(0,e,i);n.push(pt(t,1,r))}}function mF(n){const e=[0];return dF(e,n.length-1),e}function pF(n,e){return n.map(t=>t*e)}function gF(n,e){return n.map(()=>e||TI).splice(0,n.length-1)}function kc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=R5(i)?i.map(ux):ux(i),a={done:!1,value:e[0]},u=pF(t&&t.length===e.length?t:mF(e),n),h=fF(u,e,{ease:Array.isArray(r)?r:gF(e,r)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}const yF=n=>n!==null;function yb(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter(yF),h=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!h||i===void 0?a[h]:i}const vF={decay:Tv,inertia:Tv,tween:kc,keyframes:kc,spring:Jd};function NI(n){typeof n.type=="string"&&(n.type=vF[n.type])}class vb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const _F=n=>n/100;class _b extends vb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NI(e);const{type:t=kc,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:u=0}=e;let{keyframes:h}=e;const f=t||kc;f!==kc&&typeof h[0]!="number"&&(this.mixKeyframes=yh(_F,kI(h[0],h[1])),h=[0,100]);const d=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=gb(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:E,type:I,onUpdate:A,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const P=this.currentTime-d*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?P<0:P>r;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let F=this.currentTime,q=i;if(v){const C=Math.min(this.currentTime,r)/h;let k=Math.floor(C),U=C%1;!U&&C>=1&&(U=1),U===1&&k--,k=Math.min(k,v+1),!!(k%2)&&(b==="reverse"?(U=1-U,E&&(U-=E/h)):b==="mirror"&&(q=u)),F=Qs(0,1,U)*h}const Q=B?{done:!1,value:g[0]}:q.next(F);a&&(Q.value=a(Q.value));let{done:le}=Q;!B&&f!==null&&(le=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return M&&I!==Tv&&(Q.value=yb(g,this.options,D,this.speed)),A&&A(Q.value),M&&this.finish(),Q}then(e,t){return this.finished.then(e,t)}get duration(){return cs(this.calculatedDuration)}get time(){return cs(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=nF,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function bF(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Qo=n=>n*180/Math.PI,Ev=n=>{const e=Qo(Math.atan2(n[1],n[0]));return Sv(e)},wF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ev,rotateZ:Ev,skewX:n=>Qo(Math.atan(n[1])),skewY:n=>Qo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Sv=n=>(n=n%360,n<0&&(n+=360),n),px=Ev,gx=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),yx=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),TF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gx,scaleY:yx,scale:n=>(gx(n)+yx(n))/2,rotateX:n=>Sv(Qo(Math.atan2(n[6],n[5]))),rotateY:n=>Sv(Qo(Math.atan2(-n[2],n[0]))),rotateZ:px,rotate:px,skewX:n=>Qo(Math.atan(n[4])),skewY:n=>Qo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function xv(n){return n.includes("scale")?1:0}function Av(n,e){if(!n||n==="none")return xv(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=TF,r=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=wF,r=h}if(!r)return xv(e);const a=i[e],u=r[1].split(",").map(SF);return typeof a=="function"?a(u):u[a]}const EF=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Av(t,e)};function SF(n){return parseFloat(n.trim())}const eu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tu=new Set(eu),vx=n=>n===Jl||n===Se,xF=new Set(["x","y","z"]),AF=eu.filter(n=>!xF.has(n));function RF(n){const e=[];return AF.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const ta={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Av(e,"x"),y:(n,{transform:e})=>Av(e,"y")};ta.translateX=ta.x;ta.translateY=ta.y;const na=new Set;let Rv=!1,Cv=!1,Iv=!1;function VI(){if(Cv){const n=Array.from(na).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=RF(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,u])=>{i.getValue(a)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Cv=!1,Rv=!1,na.forEach(n=>n.complete(Iv)),na.clear()}function LI(){na.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Cv=!0)})}function CF(){Iv=!0,LI(),VI(),Iv=!1}class bb{constructor(e,t,i,r,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(na.add(this),Rv||(Rv=!0,ut.read(LI),ut.resolveKeyframes(VI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),r&&a===void 0&&r.set(e[0])}bF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),na.delete(this)}cancel(){this.state==="scheduled"&&(na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const IF=n=>n.startsWith("--");function DF(n,e,t){IF(e)?n.style.setProperty(e,t):n.style[e]=t}const PF=ab(()=>window.ScrollTimeline!==void 0),kF={};function MF(n,e){const t=ab(n);return()=>kF[e]??t()}const UI=MF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,_x={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wc([0,.65,.55,1]),circOut:wc([.55,0,1,.45]),backIn:wc([.31,.01,.66,-.59]),backOut:wc([.33,1.53,.69,.99])};function zI(n,e){if(n)return typeof n=="function"?UI()?MI(n,e):"ease-out":EI(n)?wc(n):Array.isArray(n)?n.map(t=>zI(t,e)||_x.easeOut):_x[n]}function OF(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:u="loop",ease:h="easeOut",times:f}={},d=void 0){const g={[e]:t};f&&(g.offset=f);const v=zI(h,r);Array.isArray(v)&&(g.easing=v);const b={delay:i,duration:r,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return d&&(b.pseudoElement=d),n.animate(g,b)}function jI(n){return typeof n=="function"&&"applyToOptions"in n}function NF({type:n,...e}){return jI(n)&&UI()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class VF extends vb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,ob(typeof e.type!="string");const d=NF(e);this.animation=OF(t,i,r,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=yb(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):DF(t,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return cs(Number(e))}get time(){return cs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=us(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&PF()?(this.animation.timeline=e,yi):t(this)}}const BI={anticipate:_I,backInOut:vI,circInOut:wI};function LF(n){return n in BI}function UF(n){typeof n.ease=="string"&&LF(n.ease)&&(n.ease=BI[n.ease])}const bx=10;class zF extends VF{constructor(e){UF(e),NI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new _b({...u,autoplay:!1}),f=us(this.finishedTime??this.time);t.setWithVelocity(h.sample(f-bx).value,h.sample(f).value,bx),h.stop()}}const wx=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Jr.test(n)||n==="0")&&!n.startsWith("url("));function jF(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function BF(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=wx(r,e),h=wx(a,e);return!u||!h?!1:jF(n)||(t==="spring"||jI(t))&&i}function Dv(n){n.duration=0,n.type}const FF=new Set(["opacity","clipPath","filter","transform"]),qF=ab(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HF(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return qF()&&t&&FF.has(t)&&(t!=="transform"||!d)&&!f&&!i&&r!=="mirror"&&a!==0&&u!=="inertia"}const GF=40;class $F extends vb{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:u="loop",keyframes:h,name:f,motionValue:d,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vn.now();const b={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:u,name:f,motionValue:d,element:g,...v},E=g?.KeyframeResolver||bb;this.keyframeResolver=new E(h,(I,A,D)=>this.onKeyframesResolved(I,A,b,!D),f,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:u,velocity:h,delay:f,isHandoff:d,onUpdate:g}=i;this.resolvedAt=Vn.now(),BF(e,a,u,h)||((Zs.instantAnimations||!f)&&g?.(yb(e,i,t)),e[0]=e[e.length-1],Dv(i),i.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>GF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},E=!d&&HF(b)?new zF({...b,element:b.motionValue.owner.current}):new _b(b);E.finished.then(()=>this.notifyFinished()).catch(yi),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),CF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const KF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YF(n){const e=KF.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function FI(n,e,t=1){const[i,r]=YF(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return cI(u)?parseFloat(u):u}return fb(r)?FI(r,e,t+1):r}function wb(n,e){return n?.[e]??n?.default??n}const qI=new Set(["width","height","top","left","right","bottom",...eu]),XF={test:n=>n==="auto",parse:n=>n},HI=n=>e=>e.test(n),GI=[Jl,Se,hs,Dr,j5,z5,XF],Tx=n=>GI.find(HI(n));function WF(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||fI(n):!0}const QF=new Set(["brightness","contrast","saturate","opacity"]);function ZF(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(db)||[];if(!i)return n;const r=t.replace(i,"");let a=QF.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const JF=/\b([a-z-]*)\(.*?\)/gu,Pv={...Jr,getAnimatableNone:n=>{const e=n.match(JF);return e?e.map(ZF).join(" "):n}},Ex={...Jl,transform:Math.round},e8={rotate:Dr,rotateX:Dr,rotateY:Dr,rotateZ:Dr,scale:sd,scaleX:sd,scaleY:sd,scaleZ:sd,skew:Dr,skewX:Dr,skewY:Dr,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Qc,originX:cx,originY:cx,originZ:Se},Tb={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...e8,zIndex:Ex,fillOpacity:Qc,strokeOpacity:Qc,numOctaves:Ex},t8={...Tb,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Pv,WebkitFilter:Pv},$I=n=>t8[n];function KI(n,e){let t=$I(n);return t!==Pv&&(t=Jr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const n8=new Set(["auto","none","0"]);function i8(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!n8.has(a)&&Zc(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=KI(t,r)}class s8 extends bb{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),fb(d))){const g=FI(d,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!qI.has(i)||e.length!==2)return;const[r,a]=e,u=Tx(r),h=Tx(a);if(u!==h)if(vx(u)&&vx(h))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else ta[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||WF(e[r]))&&i.push(r);i.length&&i8(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=ta[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function r8(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=t?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const YI=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function o8(n){return hI(n)&&"offsetHeight"in n}const Sx=30,a8=n=>!isNaN(parseFloat(n));class l8{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=Vn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=a8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new lb);const i=this.events[e].add(t);return e==="change"?()=>{i(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sx)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Sx);return dI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fl(n,e){return new l8(n,e)}const{schedule:Eb}=SI(queueMicrotask,!1),xi={x:!1,y:!1};function XI(){return xi.x||xi.y}function u8(n){return n==="x"||n==="y"?xi[n]?null:(xi[n]=!0,()=>{xi[n]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function WI(n,e){const t=r8(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function xx(n){return!(n.pointerType==="touch"||XI())}function c8(n,e,t={}){const[i,r,a]=WI(n,t),u=h=>{if(!xx(h))return;const{target:f}=h,d=e(f,h);if(typeof d!="function"||!f)return;const g=v=>{xx(v)&&(d(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,r)};return i.forEach(h=>{h.addEventListener("pointerenter",u,r)}),a}const QI=(n,e)=>e?n===e?!0:QI(n,e.parentElement):!1,Sb=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,h8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f8(n){return h8.has(n.tagName)||n.tabIndex!==-1}const Td=new WeakSet;function Ax(n){return e=>{e.key==="Enter"&&n(e)}}function xy(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const d8=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Ax(()=>{if(Td.has(t))return;xy(t,"down");const r=Ax(()=>{xy(t,"up")}),a=()=>xy(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Rx(n){return Sb(n)&&!XI()}function m8(n,e,t={}){const[i,r,a]=WI(n,t),u=h=>{const f=h.currentTarget;if(!Rx(h))return;Td.add(f);const d=e(f,h),g=(E,I)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Td.has(f)&&Td.delete(f),Rx(E)&&typeof d=="function"&&d(E,{success:I})},v=E=>{g(E,f===window||f===document||t.useGlobalTarget||QI(f,E.target))},b=E=>{g(E,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",b,r)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,r),o8(h)&&(h.addEventListener("focus",d=>d8(d,r)),!f8(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function ZI(n){return hI(n)&&"ownerSVGElement"in n}function p8(n){return ZI(n)&&n.tagName==="svg"}const vn=n=>!!(n&&n.getVelocity),g8=[...GI,Nt,Jr],y8=n=>g8.find(HI(n)),JI=V.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function v8(n=!0){const e=V.useContext(ib);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=V.useId();V.useEffect(()=>{if(n)return r(a)},[n]);const u=V.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,u]:[!0]}const eD=V.createContext({strict:!1}),Cx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ql={};for(const n in Cx)ql[n]={isEnabled:e=>Cx[n].some(t=>!!e[t])};function _8(n){for(const e in n)ql[e]={...ql[e],...n[e]}}const b8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function em(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||b8.has(n)}let tD=n=>!em(n);function w8(n){typeof n=="function"&&(tD=e=>e.startsWith("on")?!em(e):n(e))}try{w8(require("@emotion/is-prop-valid").default)}catch{}function T8(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(tD(r)||t===!0&&em(r)||!e&&!em(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const Mm=V.createContext({});function Om(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Jc(n){return typeof n=="string"||Array.isArray(n)}const xb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ab=["initial",...xb];function Nm(n){return Om(n.animate)||Ab.some(e=>Jc(n[e]))}function nD(n){return!!(Nm(n)||n.variants)}function E8(n,e){if(Nm(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Jc(t)?t:void 0,animate:Jc(i)?i:void 0}}return n.inherit!==!1?e:{}}function S8(n){const{initial:e,animate:t}=E8(n,V.useContext(Mm));return V.useMemo(()=>({initial:e,animate:t}),[Ix(e),Ix(t)])}function Ix(n){return Array.isArray(n)?n.join(" "):n}const eh={};function x8(n){for(const e in n)eh[e]=n[e],hb(e)&&(eh[e].isCSSVariable=!0)}function iD(n,{layout:e,layoutId:t}){return tu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!eh[n]||n==="opacity")}const A8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R8=eu.length;function C8(n,e,t){let i="",r=!0;for(let a=0;a<R8;a++){const u=eu[a],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const d=YI(h,Tb[u]);if(!f){r=!1;const g=A8[u]||u;i+=`${g}(${d}) `}t&&(e[u]=d)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function Rb(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let u=!1,h=!1;for(const f in e){const d=e[f];if(tu.has(f)){u=!0;continue}else if(hb(f)){r[f]=d;continue}else{const g=YI(d,Tb[f]);f.startsWith("origin")?(h=!0,a[f]=g):i[f]=g}}if(e.transform||(u||t?i.transform=C8(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${d} ${g}`}}const Cb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sD(n,e,t){for(const i in e)!vn(e[i])&&!iD(i,t)&&(n[i]=e[i])}function I8({transformTemplate:n},e){return V.useMemo(()=>{const t=Cb();return Rb(t,e,n),Object.assign({},t.vars,t.style)},[e])}function D8(n,e){const t=n.style||{},i={};return sD(i,t,n),Object.assign(i,I8(n,e)),i}function P8(n,e){const t={},i=D8(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const k8={offset:"stroke-dashoffset",array:"stroke-dasharray"},M8={offset:"strokeDashoffset",array:"strokeDasharray"};function O8(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?k8:M8;n[a.offset]=Se.transform(-i);const u=Se.transform(e),h=Se.transform(t);n[a.array]=`${u} ${h}`}function rD(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:u=0,...h},f,d,g){if(Rb(n,h,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),r!==void 0&&O8(v,r,a,u,!1)}const oD=()=>({...Cb(),attrs:{}}),aD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function N8(n,e,t,i){const r=V.useMemo(()=>{const a=oD();return rD(a,e,aD(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};sD(a,n.style,n),r.style={...a,...r.style}}return r}const V8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ib(n){return typeof n!="string"||n.includes("-")?!1:!!(V8.indexOf(n)>-1||/[A-Z]/u.test(n))}function L8(n,e,t,{latestValues:i},r,a=!1){const h=(Ib(n)?N8:P8)(e,i,r,n),f=T8(e,typeof n=="string",a),d=n!==V.Fragment?{...f,...h,ref:t}:{},{children:g}=e,v=V.useMemo(()=>vn(g)?g.get():g,[g]);return V.createElement(n,{...d,children:v})}function Dx(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Db(n,e,t,i){if(typeof e=="function"){const[r,a]=Dx(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=Dx(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function Ed(n){return vn(n)?n.get():n}function U8({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:z8(t,i,r,n),renderState:e()}}function z8(n,e,t,i){const r={},a=i(n,{});for(const b in a)r[b]=Ed(a[b]);let{initial:u,animate:h}=n;const f=Nm(n),d=nD(n);e&&d&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!Om(v)){const b=Array.isArray(v)?v:[v];for(let E=0;E<b.length;E++){const I=Db(n,b[E]);if(I){const{transitionEnd:A,transition:D,...P}=I;for(const B in P){let F=P[B];if(Array.isArray(F)){const q=g?F.length-1:0;F=F[q]}F!==null&&(r[B]=F)}for(const B in A)r[B]=A[B]}}}return r}const lD=n=>(e,t)=>{const i=V.useContext(Mm),r=V.useContext(ib),a=()=>U8(n,e,i,r);return t?a():_5(a)};function Pb(n,e,t){const{style:i}=n,r={};for(const a in i)(vn(i[a])||e.style&&vn(e.style[a])||iD(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(r[a]=i[a]);return r}const j8=lD({scrapeMotionValuesFromProps:Pb,createRenderState:Cb});function uD(n,e,t){const i=Pb(n,e,t);for(const r in n)if(vn(n[r])||vn(e[r])){const a=eu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const B8=lD({scrapeMotionValuesFromProps:uD,createRenderState:oD}),F8=Symbol.for("motionComponentSymbol");function wl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function q8(n,e,t){return V.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):wl(t)&&(t.current=i))},[e])}const kb=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H8="framerAppearId",cD="data-"+kb(H8),hD=V.createContext({});function G8(n,e,t,i,r){const{visualElement:a}=V.useContext(Mm),u=V.useContext(eD),h=V.useContext(ib),f=V.useContext(JI).reducedMotion,d=V.useRef(null);i=i||u.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:a,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=d.current,v=V.useContext(hD);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&$8(d.current,t,r,v);const b=V.useRef(!1);V.useInsertionEffect(()=>{g&&b.current&&g.update(t,h)});const E=t[cD],I=V.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return b5(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),I.current&&g.animationState&&g.animationState.animateChanges())}),V.useEffect(()=>{g&&(!I.current&&g.animationState&&g.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),I.current=!1),g.enteringChildren=void 0)}),g}function $8(n,e,t,i){const{layoutId:r,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:fD(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!u||h&&wl(h),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:d})}function fD(n){if(n)return n.options.allowProjection!==!1?n.projection:fD(n.parent)}function Ay(n,{forwardMotionProps:e=!1}={},t,i){t&&_8(t);const r=Ib(n)?B8:j8;function a(h,f){let d;const g={...V.useContext(JI),...h,layoutId:K8(h)},{isStatic:v}=g,b=S8(h),E=r(h,v);if(!v&&nb){Y8();const I=X8(g);d=I.MeasureLayout,b.visualElement=G8(n,E,g,i,I.ProjectionNode)}return S.jsxs(Mm.Provider,{value:b,children:[d&&b.visualElement?S.jsx(d,{visualElement:b.visualElement,...g}):null,L8(n,h,q8(E,b.visualElement,f),E,v,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=V.forwardRef(a);return u[F8]=n,u}function K8({layoutId:n}){const e=V.useContext(uI).id;return e&&n!==void 0?e+"-"+n:n}function Y8(n,e){V.useContext(eD).strict}function X8(n){const{drag:e,layout:t}=ql;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function W8(n,e){if(typeof Proxy>"u")return Ay;const t=new Map,i=(a,u)=>Ay(a,u,n,e),r=(a,u)=>i(a,u);return new Proxy(r,{get:(a,u)=>u==="create"?i:(t.has(u)||t.set(u,Ay(u,void 0,n,e)),t.get(u))})}function dD({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Q8({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Z8(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Ry(n){return n===void 0||n===1}function kv({scale:n,scaleX:e,scaleY:t}){return!Ry(n)||!Ry(e)||!Ry(t)}function Ko(n){return kv(n)||mD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function mD(n){return Px(n.x)||Px(n.y)}function Px(n){return n&&n!=="0%"}function tm(n,e,t){const i=n-t,r=e*i;return t+r}function kx(n,e,t,i,r){return r!==void 0&&(n=tm(n,r,i)),tm(n,t,i)+e}function Mv(n,e=0,t=1,i,r){n.min=kx(n.min,e,t,i,r),n.max=kx(n.max,e,t,i,r)}function pD(n,{x:e,y:t}){Mv(n.x,e.translate,e.scale,e.originPoint),Mv(n.y,t.translate,t.scale,t.originPoint)}const Mx=.999999999999,Ox=1.0000000000001;function J8(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,u;for(let h=0;h<r;h++){a=t[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&El(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,pD(n,u)),i&&Ko(a.latestValues)&&El(n,a.latestValues))}e.x<Ox&&e.x>Mx&&(e.x=1),e.y<Ox&&e.y>Mx&&(e.y=1)}function Tl(n,e){n.min=n.min+e,n.max=n.max+e}function Nx(n,e,t,i,r=.5){const a=pt(n.min,n.max,r);Mv(n,e,t,a,i)}function El(n,e){Nx(n.x,e.x,e.scaleX,e.scale,e.originX),Nx(n.y,e.y,e.scaleY,e.scale,e.originY)}function gD(n,e){return dD(Z8(n.getBoundingClientRect(),e))}function eq(n,e,t){const i=gD(n,t),{scroll:r}=e;return r&&(Tl(i.x,r.offset.x),Tl(i.y,r.offset.y)),i}const Vx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sl=()=>({x:Vx(),y:Vx()}),Lx=()=>({min:0,max:0}),At=()=>({x:Lx(),y:Lx()}),Ov={current:null},yD={current:!1};function tq(){if(yD.current=!0,!!nb)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ov.current=n.matches;n.addEventListener("change",e),e()}else Ov.current=!1}const nq=new WeakMap;function iq(n,e,t){for(const i in e){const r=e[i],a=t[i];if(vn(r))n.addValue(i,r);else if(vn(a))n.addValue(i,Fl(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(r):u.hasAnimated||u.set(r)}else{const u=n.getStaticValue(i);n.addValue(i,Fl(u!==void 0?u:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const Ux=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sq{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Vn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ut.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Nm(t),this.isVariantNode=nD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in v){const E=v[b];f[b]!==void 0&&vn(E)&&E.set(f[b])}}mount(e){this.current=e,nq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),yD.current||tq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ov.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=tu.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ql){const t=ql[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<Ux.length;i++){const r=Ux[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,u=e[a];u&&(this.propEventSubscriptions[r]=this.on(r,u))}this.prevMotionValues=iq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Fl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(cI(i)||fI(i))?i=parseFloat(i):!y8(i)&&Jr.test(t)&&(i=KI(e,t)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=Db(this.props,t,this.presenceContext?.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!vn(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new lb),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Eb.render(this.render)}}class vD extends sq{constructor(){super(...arguments),this.KeyframeResolver=s8}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function _D(n,{style:e,vars:t},i,r){const a=n.style;let u;for(u in e)a[u]=e[u];r?.applyProjectionStyles(a,i);for(u in t)a.setProperty(u,t[u])}function rq(n){return window.getComputedStyle(n)}class oq extends vD{constructor(){super(...arguments),this.type="html",this.renderInstance=_D}readValueFromInstance(e,t){if(tu.has(t))return this.projection?.isProjecting?xv(t):EF(e,t);{const i=rq(e),r=(hb(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return gD(e,t)}build(e,t,i){Rb(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Pb(e,t,i)}}const bD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aq(n,e,t,i){_D(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(bD.has(r)?r:kb(r),e.attrs[r])}class lq extends vD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(tu.has(t)){const i=$I(t);return i&&i.default||0}return t=bD.has(t)?t:kb(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return uD(e,t,i)}build(e,t,i){rD(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){aq(e,t,i,r)}mount(e){this.isSVGTag=aD(e.tagName),super.mount(e)}}const uq=(n,e)=>Ib(n)?new lq(e):new oq(e,{allowProjection:n!==V.Fragment});function Dl(n,e,t){const i=n.getProps();return Db(i,e,t!==void 0?t:i.custom,n)}const Nv=n=>Array.isArray(n);function cq(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Fl(t))}function hq(n){return Nv(n)?n[n.length-1]||0:n}function fq(n,e){const t=Dl(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const u in a){const h=hq(a[u]);cq(n,u,h)}}function dq(n){return!!(vn(n)&&n.add)}function Vv(n,e){const t=n.getValue("willChange");if(dq(t))return t.add(e);if(!t&&Zs.WillChange){const i=new Zs.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function wD(n){return n.props[cD]}const mq=n=>n!==null;function pq(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(mq),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const gq={type:"spring",stiffness:500,damping:25,restSpeed:10},yq=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),vq={type:"keyframes",duration:.8},_q={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bq=(n,{keyframes:e})=>e.length>2?vq:tu.has(n)?n.startsWith("scale")?yq(e[1]):gq:_q;function wq({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const Mb=(n,e,t,i={},r,a)=>u=>{const h=wb(i,n)||{},f=h.delay||i.delay||0;let{elapsed:d=0}=i;d=d-us(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:a?void 0:r};wq(h)||Object.assign(g,bq(n,g)),g.duration&&(g.duration=us(g.duration)),g.repeatDelay&&(g.repeatDelay=us(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Dv(g),g.delay===0&&(v=!0)),(Zs.instantAnimations||Zs.skipAnimations)&&(v=!0,Dv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!a&&e.get()!==void 0){const b=pq(g.keyframes,h);if(b!==void 0){ut.update(()=>{g.onUpdate(b),g.onComplete()});return}}return h.isSync?new _b(g):new $F(g)};function Tq({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function TD(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(a=i);const f=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const g in h){const v=n.getValue(g,n.latestValues[g]??null),b=h[g];if(b===void 0||d&&Tq(d,g))continue;const E={delay:t,...wb(a||{},g)},I=v.get();if(I!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===I&&!E.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const P=wD(n);if(P){const B=window.MotionHandoffAnimation(P,g,ut);B!==null&&(E.startTime=B,A=!0)}}Vv(n,g),v.start(Mb(g,v,b,n.shouldReduceMotion&&qI.has(g)?{type:!1}:E,n,A));const D=v.animation;D&&f.push(D)}return u&&Promise.all(f).then(()=>{ut.update(()=>{u&&fq(n,u)})}),f}function ED(n,e,t,i=0,r=1){const a=Array.from(n).sort((d,g)=>d.sortNodePosition(g)).indexOf(e),u=n.size,h=(u-1)*i;return typeof t=="function"?t(a,u):r===1?a*i:h-a*i}function Lv(n,e,t={}){const i=Dl(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(TD(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:v}=r;return Eq(n,e,f,d,g,v,t)}:()=>Promise.resolve(),{when:h}=r;if(h){const[f,d]=h==="beforeChildren"?[a,u]:[u,a];return f().then(()=>d())}else return Promise.all([a(),u(t.delay)])}function Eq(n,e,t=0,i=0,r=0,a=1,u){const h=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),h.push(Lv(f,e,{...u,delay:t+(typeof i=="function"?0:i)+ED(n.variantChildren,f,i,r,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function Sq(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>Lv(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=Lv(n,e,t);else{const r=typeof e=="function"?Dl(n,e,t.custom):e;i=Promise.all(TD(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function SD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const xq=Ab.length;function xD(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?xD(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<xq;t++){const i=Ab[t],r=n.props[i];(Jc(r)||r===!1)&&(e[i]=r)}return e}const Aq=[...xb].reverse(),Rq=xb.length;function Cq(n){return e=>Promise.all(e.map(({animation:t,options:i})=>Sq(n,t,i)))}function Iq(n){let e=Cq(n),t=zx(),i=!0;const r=f=>(d,g)=>{const v=Dl(n,g,f==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:E,...I}=v;d={...d,...I,...E}}return d};function a(f){e=f(n)}function u(f){const{props:d}=n,g=xD(n.parent)||{},v=[],b=new Set;let E={},I=1/0;for(let D=0;D<Rq;D++){const P=Aq[D],B=t[P],F=d[P]!==void 0?d[P]:g[P],q=Jc(F),Q=P===f?B.isActive:null;Q===!1&&(I=D);let le=F===g[P]&&F!==d[P]&&q;if(le&&i&&n.manuallyAnimateOnMount&&(le=!1),B.protectedKeys={...E},!B.isActive&&Q===null||!F&&!B.prevProp||Om(F)||typeof F=="boolean")continue;const M=Dq(B.prevProp,F);let C=M||P===f&&B.isActive&&!le&&q||D>I&&q,k=!1;const U=Array.isArray(F)?F:[F];let j=U.reduce(r(P),{});Q===!1&&(j={});const{prevResolvedValues:H={}}=B,N={...H,...j},It=oe=>{C=!0,b.has(oe)&&(k=!0,b.delete(oe)),B.needsAnimating[oe]=!0;const fe=n.getValue(oe);fe&&(fe.liveStyle=!1)};for(const oe in N){const fe=j[oe],De=H[oe];if(E.hasOwnProperty(oe))continue;let L=!1;Nv(fe)&&Nv(De)?L=!SD(fe,De):L=fe!==De,L?fe!=null?It(oe):b.add(oe):fe!==void 0&&b.has(oe)?It(oe):B.protectedKeys[oe]=!0}B.prevProp=F,B.prevResolvedValues=j,B.isActive&&(E={...E,...j}),i&&n.blockInitialAnimation&&(C=!1);const st=le&&M;C&&(!st||k)&&v.push(...U.map(oe=>{const fe={type:P};if(typeof oe=="string"&&i&&!st&&n.manuallyAnimateOnMount&&n.parent){const{parent:De}=n,L=Dl(De,oe);if(De.enteringChildren&&L){const{delayChildren:re}=L.transition||{};fe.delay=ED(De.enteringChildren,n,re)}}return{animation:oe,options:fe}}))}if(b.size){const D={};if(typeof d.initial!="boolean"){const P=Dl(n,Array.isArray(d.initial)?d.initial[0]:d.initial);P&&P.transition&&(D.transition=P.transition)}b.forEach(P=>{const B=n.getBaseTarget(P),F=n.getValue(P);F&&(F.liveStyle=!0),D[P]=B??null}),v.push({animation:D})}let A=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(v):Promise.resolve()}function h(f,d){if(t[f].isActive===d)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(f,d)),t[f].isActive=d;const g=u(f);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t,reset:()=>{t=zx(),i=!0}}}function Dq(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!SD(e,n):!1}function Ho(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zx(){return{animate:Ho(!0),whileInView:Ho(),whileHover:Ho(),whileTap:Ho(),whileDrag:Ho(),whileFocus:Ho(),exit:Ho()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Pq extends ro{constructor(e){super(e),e.animationState||(e.animationState=Iq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Om(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let kq=0;class Mq extends ro{constructor(){super(...arguments),this.id=kq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Oq={animation:{Feature:Pq},exit:{Feature:Mq}};function th(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function bh(n){return{point:{x:n.pageX,y:n.pageY}}}const Nq=n=>e=>Sb(e)&&n(e,bh(e));function Mc(n,e,t,i){return th(n,e,Nq(t),i)}const AD=1e-4,Vq=1-AD,Lq=1+AD,RD=.01,Uq=0-RD,zq=0+RD;function Rn(n){return n.max-n.min}function jq(n,e,t){return Math.abs(n-e)<=t}function jx(n,e,t,i=.5){n.origin=i,n.originPoint=pt(e.min,e.max,n.origin),n.scale=Rn(t)/Rn(e),n.translate=pt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Vq&&n.scale<=Lq||isNaN(n.scale))&&(n.scale=1),(n.translate>=Uq&&n.translate<=zq||isNaN(n.translate))&&(n.translate=0)}function Oc(n,e,t,i){jx(n.x,e.x,t.x,i?i.originX:void 0),jx(n.y,e.y,t.y,i?i.originY:void 0)}function Bx(n,e,t){n.min=t.min+e.min,n.max=n.min+Rn(e)}function Bq(n,e,t){Bx(n.x,e.x,t.x),Bx(n.y,e.y,t.y)}function Fx(n,e,t){n.min=e.min-t.min,n.max=n.min+Rn(e)}function Nc(n,e,t){Fx(n.x,e.x,t.x),Fx(n.y,e.y,t.y)}function di(n){return[n("x"),n("y")]}const CD=({current:n})=>n?n.ownerDocument.defaultView:null,qx=(n,e)=>Math.abs(n-e);function Fq(n,e){const t=qx(n.x,e.x),i=qx(n.y,e.y);return Math.sqrt(t**2+i**2)}class ID{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Iy(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=Fq(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!I)return;const{point:A}=b,{timestamp:D}=on;this.history.push({...A,timestamp:D});const{onStart:P,onMove:B}=this.handlers;E||(P&&P(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,b)},this.handlePointerMove=(b,E)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Cy(E,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(b,E)=>{this.end();const{onEnd:I,onSessionEnd:A,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Iy(b.type==="pointercancel"?this.lastMoveEventInfo:Cy(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(b,P),A&&A(b,P)},!Sb(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=r||window;const h=bh(e),f=Cy(h,this.transformPagePoint),{point:d}=f,{timestamp:g}=on;this.history=[{...d,timestamp:g}];const{onSessionStart:v}=t;v&&v(e,Iy(f,this.history)),this.removeListeners=yh(Mc(this.contextWindow,"pointermove",this.handlePointerMove),Mc(this.contextWindow,"pointerup",this.handlePointerUp),Mc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zr(this.updatePoint)}}function Cy(n,e){return e?{point:e(n.point)}:n}function Hx(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Iy({point:n},e){return{point:n,delta:Hx(n,DD(e)),offset:Hx(n,qq(e)),velocity:Hq(e,.1)}}function qq(n){return n[0]}function DD(n){return n[n.length-1]}function Hq(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=DD(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>us(e)));)t--;if(!i)return{x:0,y:0};const a=cs(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Gq(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?pt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?pt(t,n,i.max):Math.min(n,t)),n}function Gx(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function $q(n,{top:e,left:t,bottom:i,right:r}){return{x:Gx(n.x,t,r),y:Gx(n.y,e,i)}}function $x(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Kq(n,e){return{x:$x(n.x,e.x),y:$x(n.y,e.y)}}function Yq(n,e){let t=.5;const i=Rn(n),r=Rn(e);return r>i?t=Wc(e.min,e.max-i,n.min):i>r&&(t=Wc(n.min,n.max-r,e.min)),Qs(0,1,t)}function Xq(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Uv=.35;function Wq(n=Uv){return n===!1?n=0:n===!0&&(n=Uv),{x:Kx(n,"left","right"),y:Kx(n,"top","bottom")}}function Kx(n,e,t){return{min:Yx(n,e),max:Yx(n,t)}}function Yx(n,e){return typeof n=="number"?n:n[e]||0}const Qq=new WeakMap;class Zq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(bh(v).point)},u=(v,b)=>{const{drag:E,dragPropagation:I,onDragStart:A}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=u8(E),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),di(P=>{let B=this.getAxisMotionValue(P).get()||0;if(hs.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const q=F.layout.layoutBox[P];q&&(B=Rn(q)*(parseFloat(B)/100))}}this.originPoint[P]=B}),A&&ut.postRender(()=>A(v,b)),Vv(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:A,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:P}=b;if(I&&this.currentDirection===null){this.currentDirection=Jq(P),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,P),this.updateAxis("y",b.point,P),this.visualElement.render(),D&&D(v,b)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>di(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new ID(e,{onSessionStart:a,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:CD(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:u}=r;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ut.postRender(()=>h(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!rd(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Gq(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&wl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=$q(i.layoutBox,e):this.constraints=!1,this.elastic=Wq(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&di(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Xq(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!wl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=eq(i,r.root,this.visualElement.getTransformPagePoint());let u=Kq(r.layout.layoutBox,a);if(t){const h=t(Q8(u));this.hasMutatedConstraints=!!h,h&&(u=dD(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=di(g=>{if(!rd(g,t,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const b=r?200:1e6,E=r?40:1e7,I={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,I)});return Promise.all(d).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Vv(this.visualElement,e),i.start(Mb(e,i,0,t,this.visualElement,!1))}stopAnimation(){di(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){di(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){di(t=>{const{drag:i}=this.getProps();if(!rd(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:u,max:h}=r.layout.layoutBox[t];a.set(e[t]-pt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!wl(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};di(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();r[u]=Yq({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),di(u=>{if(!rd(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(pt(f,d,r[u]))})}addListeners(){if(!this.visualElement.current)return;Qq.set(this.visualElement,this);const e=this.visualElement.current,t=Mc(e,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();wl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ut.read(i);const u=th(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(di(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:u=Uv,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function rd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Jq(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class eH extends ro{constructor(e){super(e),this.removeGroupControls=yi,this.removeListeners=yi,this.controls=new Zq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xx=n=>(e,t)=>{n&&ut.postRender(()=>n(e,t))};class tH extends ro{constructor(){super(...arguments),this.removePointerDownListener=yi}onPointerDown(e){this.session=new ID(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Xx(e),onStart:Xx(t),onMove:i,onEnd:(a,u)=>{delete this.session,r&&ut.postRender(()=>r(a,u))}}}mount(){this.removePointerDownListener=Mc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wx(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const mc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Se.test(n))n=parseFloat(n);else return n;const t=Wx(n,e.target.x),i=Wx(n,e.target.y);return`${t}% ${i}%`}},nH={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Jr.parse(n);if(r.length>5)return i;const a=Jr.createTransformer(n),u=typeof r[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;r[0+u]/=h,r[1+u]/=f;const d=pt(h,f,.5);return typeof r[2+u]=="number"&&(r[2+u]/=d),typeof r[3+u]=="number"&&(r[3+u]/=d),a(r)}};let Dy=!1;class iH extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;x8(sH),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),Dy&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Sd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,Dy=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ut.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Eb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;Dy=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PD(n){const[e,t]=v8(),i=V.useContext(uI);return S.jsx(iH,{...n,layoutGroup:i,switchLayoutGroup:V.useContext(hD),isPresent:e,safeToRemove:t})}const sH={borderRadius:{...mc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mc,borderTopRightRadius:mc,borderBottomLeftRadius:mc,borderBottomRightRadius:mc,boxShadow:nH};function rH(n,e,t){const i=vn(n)?n:Fl(n);return i.start(Mb("",i,e,t)),i.animation}const oH=(n,e)=>n.depth-e.depth;class aH{constructor(){this.children=[],this.isDirty=!1}add(e){sb(this.children,e),this.isDirty=!0}remove(e){rb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oH),this.isDirty=!1,this.children.forEach(e)}}function lH(n,e){const t=Vn.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(Zr(i),n(a-e))};return ut.setup(i,!0),()=>Zr(i)}const kD=["TopLeft","TopRight","BottomLeft","BottomRight"],uH=kD.length,Qx=n=>typeof n=="string"?parseFloat(n):n,Zx=n=>typeof n=="number"||Se.test(n);function cH(n,e,t,i,r,a){r?(n.opacity=pt(0,t.opacity??1,hH(i)),n.opacityExit=pt(e.opacity??1,0,fH(i))):a&&(n.opacity=pt(e.opacity??1,t.opacity??1,i));for(let u=0;u<uH;u++){const h=`border${kD[u]}Radius`;let f=Jx(e,h),d=Jx(t,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||Zx(f)===Zx(d)?(n[h]=Math.max(pt(Qx(f),Qx(d),i),0),(hs.test(d)||hs.test(f))&&(n[h]+="%")):n[h]=d}(e.rotate||t.rotate)&&(n.rotate=pt(e.rotate||0,t.rotate||0,i))}function Jx(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const hH=MD(0,.5,bI),fH=MD(.5,.95,yi);function MD(n,e,t){return i=>i<n?0:i>e?1:t(Wc(n,e,i))}function eA(n,e){n.min=e.min,n.max=e.max}function fi(n,e){eA(n.x,e.x),eA(n.y,e.y)}function tA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function nA(n,e,t,i,r){return n-=e,n=tm(n,1/t,i),r!==void 0&&(n=tm(n,1/r,i)),n}function dH(n,e=0,t=1,i=.5,r,a=n,u=n){if(hs.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=pt(a.min,a.max,i);n===a&&(h-=e),n.min=nA(n.min,e,t,h,r),n.max=nA(n.max,e,t,h,r)}function iA(n,e,[t,i,r],a,u){dH(n,e[t],e[i],e[r],e.scale,a,u)}const mH=["x","scaleX","originX"],pH=["y","scaleY","originY"];function sA(n,e,t,i){iA(n.x,e,mH,t?t.x:void 0,i?i.x:void 0),iA(n.y,e,pH,t?t.y:void 0,i?i.y:void 0)}function rA(n){return n.translate===0&&n.scale===1}function OD(n){return rA(n.x)&&rA(n.y)}function oA(n,e){return n.min===e.min&&n.max===e.max}function gH(n,e){return oA(n.x,e.x)&&oA(n.y,e.y)}function aA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function ND(n,e){return aA(n.x,e.x)&&aA(n.y,e.y)}function lA(n){return Rn(n.x)/Rn(n.y)}function uA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class yH{constructor(){this.members=[]}add(e){sb(this.members,e),e.scheduleRender()}remove(e){if(rb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vH(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((r||a||u)&&(i=`translate3d(${r}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:g,rotateX:v,rotateY:b,skewX:E,skewY:I}=t;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),E&&(i+=`skewX(${E}deg) `),I&&(i+=`skewY(${I}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Py=["","X","Y","Z"],_H=1e3;let bH=0;function ky(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function VD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=wD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ut,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&VD(i)}function LD({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(u={},h=e?.()){this.id=bH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EH),this.nodes.forEach(RH),this.nodes.forEach(CH),this.nodes.forEach(SH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new aH)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new lb),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ZI(u)&&!p8(u),this.instance=u;const{layoutId:h,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{v=window.innerWidth}),n(u,()=>{const E=window.innerWidth;E!==v&&(v=E,this.root.updateBlockedByResize=!0,g&&g(),g=lH(b,250),Sd.hasAnimatedSinceResize&&(Sd.hasAnimatedSinceResize=!1,this.nodes.forEach(fA)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&d&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||d.getDefaultTransition()||MH,{onLayoutAnimationStart:A,onLayoutAnimationComplete:D}=d.getProps(),P=!this.targetLayout||!ND(this.targetLayout,E),B=!v&&b;if(this.options.layoutRoot||this.resumeFrom||B||v&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...wb(I,"layout"),onPlay:A,onComplete:D};(d.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,B)}else v||fA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IH),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AH),this.nodes.forEach(wH),this.nodes.forEach(TH)):this.nodes.forEach(hA),this.clearAllSnapshots();const h=Vn.now();on.delta=Qs(0,1e3/60,h-on.timestamp),on.timestamp=h,on.isProcessing=!0,by.update.process(on),by.preRender.process(on),by.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Eb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xH),this.sharedNodes.forEach(DH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!OD(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ko(this.latestValues)||g)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),OH(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return At();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(NH))){const{scroll:d}=this.root;d&&(Tl(h.x,d.offset.x),Tl(h.y,d.offset.y))}return h}removeElementScroll(u){const h=At();if(fi(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:g,options:v}=d;d!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&fi(h,u),Tl(h.x,g.offset.x),Tl(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=At();fi(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&El(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ko(g.latestValues)&&El(f,g.latestValues)}return Ko(this.latestValues)&&El(f,this.latestValues),f}removeTransform(u){const h=At();fi(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Ko(d.latestValues))continue;kv(d.latestValues)&&d.updateSnapshot();const g=At(),v=d.measurePageBox();fi(g,v),sA(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return Ko(this.latestValues)&&sA(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Nc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Bq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),pD(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Nc(this.relativeTargetOrigin,this.target,b.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kv(this.parent.latestValues)||mD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===on.timestamp&&(f=!1),f)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;fi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;J8(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=At());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tA(this.prevProjectionDelta.x,this.projectionDelta.x),tA(this.prevProjectionDelta.y,this.projectionDelta.y)),Oc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!uA(this.projectionDelta.x,this.prevProjectionDelta.x)||!uA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sl(),this.projectionDelta=Sl(),this.projectionDeltaWithTransform=Sl()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},v=Sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=At(),E=f?f.source:void 0,I=this.layout?this.layout.source:void 0,A=E!==I,D=this.getStack(),P=!D||D.members.length<=1,B=!!(A&&!P&&this.options.crossfade===!0&&!this.path.some(kH));this.animationProgress=0;let F;this.mixTargetDelta=q=>{const Q=q/1e3;dA(v.x,u.x,Q),dA(v.y,u.y,Q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PH(this.relativeTarget,this.relativeTargetOrigin,b,Q),F&&gH(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=At()),fi(F,this.relativeTarget)),A&&(this.animationValues=g,cH(g,d,this.latestValues,Q,B,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Sd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fl(0)),this.currentAnimation=rH(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_H),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&UD(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||At();const v=Rn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const b=Rn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+b}fi(h,f),El(h,g),Oc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new yH),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&ky("z",u,d,this.animationValues);for(let g=0;g<Py.length;g++)ky(`rotate${Py[g]}`,u,d,this.animationValues),ky(`skew${Py[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ed(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ed(h?.pointerEvents)||""),this.hasProjected&&!Ko(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=vH(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:b,y:E}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${E.origin*100}% 0`,d.animationValues?u.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in eh){if(g[I]===void 0)continue;const{correct:A,applyTo:D,isCSSVariable:P}=eh[I],B=v==="none"?g[I]:A(g[I],d);if(D){const F=D.length;for(let q=0;q<F;q++)u[D[q]]=B}else P?this.options.visualElement.renderState.vars[I]=B:u[I]=B}this.options.layoutId&&(u.pointerEvents=d===this?Ed(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(cA),this.root.sharedNodes.clear()}}}function wH(n){n.updateLayout()}function TH(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?di(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],b=Rn(v);v.min=t[g].min,v.max=v.min+b}):UD(r,e.layoutBox,t)&&di(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],b=Rn(t[g]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const u=Sl();Oc(u,t,e.layoutBox);const h=Sl();a?Oc(h,n.applyTransform(i,!0),e.measuredBox):Oc(h,t,e.layoutBox);const f=!OD(u);let d=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const E=At();Nc(E,e.layoutBox,v.layoutBox);const I=At();Nc(I,t,b.layoutBox),ND(E,I)||(d=!0),g.options.layoutRoot&&(n.relativeTarget=I,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function EH(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function SH(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function xH(n){n.clearSnapshot()}function cA(n){n.clearMeasurements()}function hA(n){n.isLayoutDirty=!1}function AH(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function fA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function RH(n){n.resolveTargetDelta()}function CH(n){n.calcProjection()}function IH(n){n.resetSkewAndRotation()}function DH(n){n.removeLeadSnapshot()}function dA(n,e,t){n.translate=pt(e.translate,0,t),n.scale=pt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function mA(n,e,t,i){n.min=pt(e.min,t.min,i),n.max=pt(e.max,t.max,i)}function PH(n,e,t,i){mA(n.x,e.x,t.x,i),mA(n.y,e.y,t.y,i)}function kH(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const MH={duration:.45,ease:[.4,0,.1,1]},pA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),gA=pA("applewebkit/")&&!pA("chrome/")?Math.round:yi;function yA(n){n.min=gA(n.min),n.max=gA(n.max)}function OH(n){yA(n.x),yA(n.y)}function UD(n,e,t){return n==="position"||n==="preserve-aspect"&&!jq(lA(e),lA(t),.2)}function NH(n){return n!==n.root&&n.scroll?.wasRoot}const VH=LD({attachResizeListener:(n,e)=>th(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),My={current:void 0},zD=LD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!My.current){const n=new VH({});n.mount(window),n.setOptions({layoutScroll:!0}),My.current=n}return My.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),LH={pan:{Feature:tH},drag:{Feature:eH,ProjectionNode:zD,MeasureLayout:PD}};function vA(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&ut.postRender(()=>a(e,bh(e)))}class UH extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=c8(e,(t,i)=>(vA(this.node,i,"Start"),r=>vA(this.node,r,"End"))))}unmount(){}}class zH extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yh(th(this.node.current,"focus",()=>this.onFocus()),th(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _A(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&ut.postRender(()=>a(e,bh(e)))}class jH extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=m8(e,(t,i)=>(_A(this.node,i,"Start"),(r,{success:a})=>_A(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zv=new WeakMap,Oy=new WeakMap,BH=n=>{const e=zv.get(n.target);e&&e(n)},FH=n=>{n.forEach(BH)};function qH({root:n,...e}){const t=n||document;Oy.has(t)||Oy.set(t,{});const i=Oy.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(FH,{root:n,...e})),i[r]}function HH(n,e,t){const i=qH(e);return zv.set(n,t),i.observe(n),()=>{zv.delete(n),i.unobserve(n)}}const GH={some:0,all:1};class $H extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:GH[r]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=d?g:v;b&&b(f)};return HH(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(KH(e,t))&&this.startObserver()}unmount(){}}function KH({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const YH={inView:{Feature:$H},tap:{Feature:jH},focus:{Feature:zH},hover:{Feature:UH}},XH={layout:{ProjectionNode:zD,MeasureLayout:PD}},WH={...Oq,...YH,...LH,...XH},QH=W8(WH,uq);function ZH(){const n=V.useRef(null),[e,t]=V.useState({sending:!1,ok:null,msg:""}),[i,r]=F2(),a=Js(),u=i.get("plan")||"",h=i.get("intent")||"",f=i.get("website")||"",d=i.get("business")||"",g=h==="audit"?"Free Website Audit":u,v=["Starter Site","Business Site","E-commerce / Booking"],[b,E]=V.useState(!1),I=void 0,A=void 0,D=void 0;V.useEffect(()=>{const q=n.current;if(!q)return;const Q=q.message.value.trim();if(h==="audit"&&!Q){q.message.value=`Hi! I'd like a free website audit.

 Website: ${f||"(paste link here)"}
 Business type: ${d||"(type here)"}

What I want help with:
 More leads / calls
 Better mobile experience
 Speed + SEO improvements

Anything else you should know:
`;return}u&&!Q&&(q.message.value=`Hi! I'm interested in the ${u} package. A few details about my project:

 Business / project name:
 Goals for the site:
 Pages / features needed:
 Timeline:
`)},[u,h,f,d]);function P(q){const Q=n.current,le=new URLSearchParams(i);if(q?le.set("plan",q):le.delete("plan"),r(le,{replace:!0}),E(!1),Q){const M=Q.message.value,C=/^Hi! I'm interested in the (.+) package\./;(!M.trim()||C.test(M))&&(Q.message.value=q?`Hi! I'm interested in the ${q} package. A few details about my project:

 Business / project name:
 Goals for the site:
 Pages / features needed:
 Timeline:
`:"")}}function B(){a("/"),setTimeout(()=>document.getElementById("pricing")?.scrollIntoView({behavior:"smooth",block:"start"}),80)}async function F(q){if(q.preventDefault(),e.sending)return;const Q=n.current,le=Q.from_name.value.trim(),M=Q.from_email.value.trim(),C=Q.message.value.trim();if(!le||!M||!C){t({sending:!1,ok:!1,msg:"Please fill out all fields."});return}try{t({sending:!0,ok:null,msg:""}),await v5.send(I,A,{from_name:le,from_email:M,message:C,plan:u,intent:h,website:f,business:d,reply_to:M},{publicKey:D}),t({sending:!1,ok:!0,msg:"Thanks! Your message was sent."}),Q.reset()}catch{t({sending:!1,ok:!1,msg:"Could not send. Try again later."})}}return S.jsx("section",{className:"min-h-screen grid place-items-center bg-transparent px-4 pt-28",children:S.jsxs(QH.form,{ref:n,onSubmit:F,initial:{y:12},animate:{y:0,transition:{duration:.28,ease:"easeOut"}},className:"w-full max-w-xl card p-6 text-white space-y-5 transform-gpu",children:[S.jsx("h2",{className:"text-2xl font-semibold",children:"Contact"}),S.jsx("div",{className:"h-px bg-white/10"}),S.jsx("input",{type:"text",name:"company",className:"hidden",tabIndex:-1,autoComplete:"off"}),S.jsx("div",{className:"text-sm text-white/90",children:g?S.jsxs(S.Fragment,{children:["Interested in:"," ",S.jsx("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/10",children:g}),h!=="audit"&&S.jsx("button",{type:"button",onClick:()=>E(q=>!q),className:"ml-2 text-white/70 hover:text-white underline",children:"change"}),S.jsx("button",{type:"button",onClick:B,className:"ml-3 text-white/70 hover:text-white underline",children:"view packages"})]}):S.jsxs(S.Fragment,{children:["Not sure yet?"," ",S.jsx("button",{type:"button",onClick:()=>E(q=>!q),className:"text-white/70 hover:text-white underline",children:"choose a package"}),S.jsx("button",{type:"button",onClick:B,className:"ml-3 text-white/70 hover:text-white underline",children:"view packages"})]})}),b&&S.jsx("div",{className:"rounded-xl border border-white/10 bg-black/60 backdrop-blur-md p-2 w-full max-w-xs",children:v.map(q=>S.jsx("button",{type:"button",onClick:()=>P(q),className:"block w-full text-left rounded-md px-3 py-2 hover:bg-white/10",children:q},q))}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-sm text-white/80",children:"Your name"}),S.jsx("input",{name:"from_name",className:"input mt-1",placeholder:"Jane Doe"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-sm text-white/80",children:"Email"}),S.jsx("input",{name:"from_email",type:"email",className:"input mt-1",placeholder:"you@email.com"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-sm text-white/80",children:"Message"}),S.jsx("textarea",{name:"message",rows:"5",className:"input mt-1",placeholder:"How can I help?"})]}),S.jsx("button",{type:"submit",disabled:e.sending,className:"w-full btn disabled:opacity-60",children:e.sending?"Sending...":"Send"}),e.ok===!0&&S.jsx("p",{className:"text-green-300",children:e.msg}),e.ok===!1&&S.jsx("p",{className:"text-red-300",children:e.msg})]})})}function JH(){const[n,e]=V.useState({email:"",pass:""}),[t,i]=V.useState(""),[r,a]=V.useState(!1),u=Js(),h=async f=>{f.preventDefault(),a(!0),i("");try{await GU(fa,n.email,n.pass),u("/admin")}catch(d){console.error(d),i("Invalid credentials")}finally{a(!1)}};return S.jsx("main",{className:"min-h-screen grid place-items-center p-6",children:S.jsxs("form",{onSubmit:h,className:"w-full max-w-sm rounded-2xl border border-white/10 bg-white/5 p-6 space-y-4",children:[S.jsx("h1",{className:"text-xl font-bold text-center",children:"Admin Login"}),t&&S.jsx("div",{className:"text-red-400 text-center",children:t}),S.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 rounded bg-white/10",value:n.email,onChange:f=>e({...n,email:f.target.value})}),S.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-2 rounded bg-white/10",value:n.pass,onChange:f=>e({...n,pass:f.target.value})}),S.jsx("button",{type:"submit",disabled:r,className:"w-full px-4 py-2 rounded-xl bg-white text-black",children:r?"Logging in":"Log In"})]})})}const bA="".split(",").map(n=>n.trim()).filter(Boolean),e7=["7u3Uund1CKRrtf4Pw0ehaLCI7WR2"];function t7(){const n=V.useMemo(()=>bA.length?bA:e7,[]),[e,t]=V.useState({loading:!0,ok:!1,user:null});return V.useEffect(()=>hm(fa,r=>{const a=!!r&&n.includes(r.uid);t({loading:!1,ok:a,user:r||null})}),[n]),e}function n7(n){return n.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function i7(n){return n.split(",").map(e=>e.trim()).filter(Boolean)}function Ny(n=""){const e=(n||"").trim();return e?/^https?:\/\//i.test(e)?e:`https://${e}`:""}function s7(){const n=t7(),[e,t]=V.useState(!1),[i,r]=V.useState(!1),[a,u]=V.useState([]),[h,f]=V.useState({title:"",href:"",summary:"",description:"",tags:"",order:1,published:!0,file:null,preview:""}),d=Js();if(V.useEffect(()=>{const A=hm(fa,D=>t(!!D));return()=>A()},[]),V.useEffect(()=>{const A=pv(Xd(Yo,"projects"),gv("order","asc")),D=yv(A,P=>{u(P.docs.map(B=>({id:B.id,...B.data()})))});return()=>D()},[]),n===null)return S.jsx("div",{className:"min-h-screen grid place-items-center p-6 text-white",children:"Checking access"});if(n===!1)return S.jsx("main",{className:"min-h-screen grid place-items-center p-6 text-white",children:S.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 text-center space-y-3 text-white",children:[S.jsx("div",{children:"Not authorized"}),S.jsx(gi,{to:"/admin/login",className:"inline-flex px-4 py-2 rounded-xl bg-white text-black",children:"Go to Login"})]})});async function g(A){if(A.preventDefault(),i)return;const{title:D,href:P,file:B}=h,F=Ny(P);if(!D||!F||!B){alert("Title, Live link, and Image are required.");return}try{r(!0);const q=n7(D)+"-"+Date.now(),Q=(B.name.split(".").pop()||"jpg").toLowerCase(),le=`projects/${q}.${Q}`,M=ox(ax,le);await O9(M,B);const C=await N9(M);await SB(Xd(Yo,"projects"),{title:h.title,href:F,summary:h.summary,description:h.description,tags:i7(h.tags),order:Number(h.order)||1,published:!!h.published,imagePath:le,imageUrl:C,createdAt:Jf(),updatedAt:Jf()}),f({title:"",href:"",summary:"",description:"",tags:"",order:1,published:!0,file:null,preview:""}),A.target.reset?.()?.()}catch(q){console.error(q),alert("Could not add project. Check console for details.")}finally{r(!1)}}async function v(A){await ex(_d(Yo,"projects",A.id),{published:!A.published,updatedAt:Jf()})}async function b(A,D){await ex(_d(Yo,"projects",A.id),{order:Number(D)||1,updatedAt:Jf()})}async function E(A){if(confirm(`Delete "${A.title}"?`))try{await EB(_d(Yo,"projects",A.id)),A.imagePath&&await V9(ox(ax,A.imagePath)).catch(()=>{})}catch(D){console.error(D),alert("Delete failed.")}}async function I(){await W1(fa),d("/")}return S.jsxs("main",{className:"min-h-screen px-4 pt-28 pb-12 text-white",children:[S.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-bold",children:"Admin  Projects"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(gi,{to:"/",className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"View site"}),e&&S.jsxs(S.Fragment,{children:[S.jsx(gi,{to:"/admin",className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"Admin"}),S.jsx("button",{onClick:I,className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"Sign out"})]})]})]}),S.jsxs("form",{onSubmit:g,className:"max-w-6xl mx-auto mt-6 grid gap-3 md:grid-cols-2 rounded-2xl border border-white/10 bg-white/5 p-6",children:[S.jsx("input",{className:"input md:col-span-1",placeholder:"Title",onChange:A=>f(D=>({...D,title:A.target.value}))}),S.jsx("input",{className:"input md:col-span-1",placeholder:"Live site URL (https://)",value:h.href,onChange:A=>f(D=>({...D,href:A.target.value})),onBlur:A=>f(D=>({...D,href:Ny(A.target.value)}))}),S.jsx("input",{className:"input md:col-span-2",placeholder:"What is this? (short summary)",onChange:A=>f(D=>({...D,summary:A.target.value}))}),S.jsx("textarea",{className:"input md:col-span-2",rows:3,placeholder:"What does it do? (features, purpose)",onChange:A=>f(D=>({...D,description:A.target.value}))}),S.jsx("input",{className:"input md:col-span-1",placeholder:"tags (comma separated)",onChange:A=>f(D=>({...D,tags:A.target.value}))}),S.jsx("input",{className:"input md:col-span-1",type:"number",min:"1",placeholder:"Order (1 = top)",onChange:A=>f(D=>({...D,order:A.target.value}))}),S.jsxs("label",{className:"flex items-center gap-2 md:col-span-1 text-white/90",children:[S.jsx("input",{type:"checkbox",defaultChecked:!0,onChange:A=>f(D=>({...D,published:A.target.checked}))}),"Published"]}),S.jsxs("div",{className:"md:col-span-1 flex items-center gap-3",children:[S.jsx("input",{className:"input flex-1",type:"file",accept:"image/*",onChange:A=>{const D=A.target.files?.[0]||null;f(P=>({...P,file:D,preview:D?URL.createObjectURL(D):""}))}}),h.preview&&S.jsx("div",{className:"w-28 aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${h.preview}')`}})]}),S.jsx("button",{disabled:i,className:"btn md:col-span-2",children:i?"Saving":"Add Project"})]}),S.jsxs("div",{className:"max-w-6xl mx-auto mt-8 space-y-3",children:[a.map(A=>{const D=Ny(A.href);return S.jsxs("div",{className:"grid md:grid-cols-[180px_1fr_auto] items-center gap-3 p-3 rounded-2xl border border-white/10 bg-white/5",children:[S.jsx("div",{className:"aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${A.imageUrl||""}')`}}),S.jsxs("div",{children:[S.jsx("div",{className:"font-semibold",children:A.title}),A.summary&&S.jsx("div",{className:"text-sm text-white/85",children:A.summary}),A.description&&S.jsx("div",{className:"text-xs text-white/70 mt-1",children:A.description}),S.jsx("a",{href:D,target:"_blank",rel:"noreferrer",className:"text-white/70 hover:text-white text-sm",children:D}),S.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(A.tags||[]).map(P=>S.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10",children:P},P))})]}),S.jsxs("div",{className:"flex flex-col items-end gap-2",children:[S.jsx("label",{className:"text-xs text-white/70",children:"Order"}),S.jsx("input",{defaultValue:A.order||1,onBlur:P=>b(A,P.target.value),className:"w-16 bg-white/10 rounded px-2 py-1 text-sm"}),S.jsx("button",{onClick:()=>v(A),className:"btn-subtle",children:A.published?"Unpublish":"Publish"}),S.jsx("button",{onClick:()=>E(A),className:"btn-subtle",children:"Delete"})]})]},A.id)}),a.length===0&&S.jsx("div",{className:"text-white/70",children:"No projects yet. Add your first one above."})]})]})}const r7="7u3Uund1CKRrtf4Pw0ehaLCI7WR2";function o7({children:n}){const[e,t]=V.useState(!0),[i,r]=V.useState(!1),a=In();return V.useEffect(()=>hm(fa,h=>{r(!!h&&h.uid===r7),t(!1)}),[]),e?S.jsx("div",{className:"px-4 py-10 text-white/70",children:"Checking access"}):i?n:S.jsx(h2,{to:"/admin/login",replace:!0,state:{from:a}})}function a7(){return S.jsx("div",{style:{padding:24,color:"#fff"},children:"Page not found."})}const l7=window.location.hostname.includes("github.io"),u7=l7?U2:L2;bk.createRoot(document.getElementById("root")).render(S.jsx(Vy.StrictMode,{children:S.jsx(u7,{children:S.jsx(d2,{children:S.jsxs(Go,{path:"/",element:S.jsx(Z9,{}),children:[S.jsx(Go,{index:!0,element:S.jsx(r5,{})}),S.jsx(Go,{path:"contact",element:S.jsx(ZH,{})}),S.jsx(Go,{path:"admin/login",element:S.jsx(JH,{})}),S.jsx(Go,{path:"admin",element:S.jsx(o7,{children:S.jsx(s7,{})})}),S.jsx(Go,{path:"*",element:S.jsx(a7,{})})]})})})}));
