(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function Tx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ng={exports:{}},cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function uk(){if(HT)return cc;HT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var h in r)h!=="key"&&(a[h]=r[h])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:a}}return cc.Fragment=e,cc.jsx=t,cc.jsxs=t,cc}var GT;function ck(){return GT||(GT=1,Ng.exports=uk()),Ng.exports}var D=ck(),Vg={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function hk(){if($T)return Ce;$T=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function R(V,re,ce){this.props=V,this.context=re,this.refs=A,this.updater=ce||E}R.prototype.isReactComponent={},R.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},R.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=R.prototype;function B(V,re,ce){this.props=V,this.context=re,this.refs=A,this.updater=ce||E}var j=B.prototype=new P;j.constructor=B,C(j,R.prototype),j.isPureReactComponent=!0;var G=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function O(V,re,ce,ae,ye,ke){return ce=ke.ref,{$$typeof:n,type:V,key:re,ref:ce!==void 0?ce:null,props:ke}}function I(V,re){return O(V.type,re,void 0,void 0,void 0,V.props)}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function L(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return re[ce]})}var F=/\/+/g;function q(V,re){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):re.toString(36)}function N(){}function Ct(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function st(V,re,ce,ae,ye){var ke=typeof V;(ke==="undefined"||ke==="boolean")&&(V=null);var Ae=!1;if(V===null)Ae=!0;else switch(ke){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(V.$$typeof){case n:case e:Ae=!0;break;case g:return Ae=V._init,st(Ae(V._payload),re,ce,ae,ye)}}if(Ae)return ye=ye(V),Ae=ae===""?"."+q(V,0):ae,G(ye)?(ce="",Ae!=null&&(ce=Ae.replace(F,"$&/")+"/"),st(ye,re,ce,"",function(Vi){return Vi})):ye!=null&&(k(ye)&&(ye=I(ye,ce+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(F,"$&/")+"/")+Ae)),re.push(ye)),1;Ae=0;var Ht=ae===""?".":ae+":";if(G(V))for(var tt=0;tt<V.length;tt++)ae=V[tt],ke=Ht+q(ae,tt),Ae+=st(ae,re,ce,ke,ye);else if(tt=b(V),typeof tt=="function")for(V=tt.call(V),tt=0;!(ae=V.next()).done;)ae=ae.value,ke=Ht+q(ae,tt++),Ae+=st(ae,re,ce,ke,ye);else if(ke==="object"){if(typeof V.then=="function")return st(Ct(V),re,ce,ae,ye);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function J(V,re,ce){if(V==null)return V;var ae=[],ye=0;return st(V,ae,"","",function(ke){return re.call(ce,ke,ye++)}),ae}function oe(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var fe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function De(){}return Ce.Children={map:J,forEach:function(V,re,ce){J(V,function(){re.apply(this,arguments)},ce)},count:function(V){var re=0;return J(V,function(){re++}),re},toArray:function(V){return J(V,function(re){return re})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ce.Component=R,Ce.Fragment=t,Ce.Profiler=r,Ce.PureComponent=B,Ce.StrictMode=i,Ce.Suspense=f,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Z.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cloneElement=function(V,re,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=C({},V.props),ye=V.key,ke=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(ye=""+re.key),re)!ue.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(ae[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=ce;else if(1<Ae){for(var Ht=Array(Ae),tt=0;tt<Ae;tt++)Ht[tt]=arguments[tt+2];ae.children=Ht}return O(V.type,ye,void 0,void 0,ke,ae)},Ce.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},Ce.createElement=function(V,re,ce){var ae,ye={},ke=null;if(re!=null)for(ae in re.key!==void 0&&(ke=""+re.key),re)ue.call(re,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=re[ae]);var Ae=arguments.length-2;if(Ae===1)ye.children=ce;else if(1<Ae){for(var Ht=Array(Ae),tt=0;tt<Ae;tt++)Ht[tt]=arguments[tt+2];ye.children=Ht}if(V&&V.defaultProps)for(ae in Ae=V.defaultProps,Ae)ye[ae]===void 0&&(ye[ae]=Ae[ae]);return O(V,ke,void 0,void 0,null,ye)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:h,render:V}},Ce.isValidElement=k,Ce.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:oe}},Ce.memo=function(V,re){return{$$typeof:d,type:V,compare:re===void 0?null:re}},Ce.startTransition=function(V){var re=Z.T,ce={};Z.T=ce;try{var ae=V(),ye=Z.S;ye!==null&&ye(ce,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(De,fe)}catch(ke){fe(ke)}finally{Z.T=re}},Ce.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ce.use=function(V){return Z.H.use(V)},Ce.useActionState=function(V,re,ce){return Z.H.useActionState(V,re,ce)},Ce.useCallback=function(V,re){return Z.H.useCallback(V,re)},Ce.useContext=function(V){return Z.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,re){return Z.H.useDeferredValue(V,re)},Ce.useEffect=function(V,re,ce){var ae=Z.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(V,re)},Ce.useId=function(){return Z.H.useId()},Ce.useImperativeHandle=function(V,re,ce){return Z.H.useImperativeHandle(V,re,ce)},Ce.useInsertionEffect=function(V,re){return Z.H.useInsertionEffect(V,re)},Ce.useLayoutEffect=function(V,re){return Z.H.useLayoutEffect(V,re)},Ce.useMemo=function(V,re){return Z.H.useMemo(V,re)},Ce.useOptimistic=function(V,re){return Z.H.useOptimistic(V,re)},Ce.useReducer=function(V,re,ce){return Z.H.useReducer(V,re,ce)},Ce.useRef=function(V){return Z.H.useRef(V)},Ce.useState=function(V){return Z.H.useState(V)},Ce.useSyncExternalStore=function(V,re,ce){return Z.H.useSyncExternalStore(V,re,ce)},Ce.useTransition=function(){return Z.H.useTransition()},Ce.version="19.1.1",Ce}var KT;function Bv(){return KT||(KT=1,Vg.exports=hk()),Vg.exports}var U=Bv();const Ny=Tx(U);var Lg={exports:{}},hc={},Ug={exports:{}},zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function fk(){return YT||(YT=1,(function(n){function e(J,oe){var fe=J.length;J.push(oe);e:for(;0<fe;){var De=fe-1>>>1,V=J[De];if(0<r(V,oe))J[De]=oe,J[fe]=V,fe=De;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var oe=J[0],fe=J.pop();if(fe!==oe){J[0]=fe;e:for(var De=0,V=J.length,re=V>>>1;De<re;){var ce=2*(De+1)-1,ae=J[ce],ye=ce+1,ke=J[ye];if(0>r(ae,fe))ye<V&&0>r(ke,ae)?(J[De]=ke,J[ye]=fe,De=ye):(J[De]=ae,J[ce]=fe,De=ce);else if(ye<V&&0>r(ke,fe))J[De]=ke,J[ye]=fe,De=ye;else break e}}return oe}function r(J,oe){var fe=J.sortIndex-oe.sortIndex;return fe!==0?fe:J.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,v=null,b=3,E=!1,C=!1,A=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function G(J){for(var oe=t(d);oe!==null;){if(oe.callback===null)i(d);else if(oe.startTime<=J)i(d),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(d)}}function Z(J){if(A=!1,G(J),!C)if(t(f)!==null)C=!0,ue||(ue=!0,q());else{var oe=t(d);oe!==null&&st(Z,oe.startTime-J)}}var ue=!1,O=-1,I=5,k=-1;function L(){return R?!0:!(n.unstable_now()-k<I)}function F(){if(R=!1,ue){var J=n.unstable_now();k=J;var oe=!0;try{e:{C=!1,A&&(A=!1,B(O),O=-1),E=!0;var fe=b;try{t:{for(G(J),v=t(f);v!==null&&!(v.expirationTime>J&&L());){var De=v.callback;if(typeof De=="function"){v.callback=null,b=v.priorityLevel;var V=De(v.expirationTime<=J);if(J=n.unstable_now(),typeof V=="function"){v.callback=V,G(J),oe=!0;break t}v===t(f)&&i(f),G(J)}else i(f);v=t(f)}if(v!==null)oe=!0;else{var re=t(d);re!==null&&st(Z,re.startTime-J),oe=!1}}break e}finally{v=null,b=fe,E=!1}oe=void 0}}finally{oe?q():ue=!1}}}var q;if(typeof j=="function")q=function(){j(F)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ct=N.port2;N.port1.onmessage=F,q=function(){Ct.postMessage(null)}}else q=function(){P(F,0)};function st(J,oe){O=P(function(){J(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(J){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var fe=b;b=oe;try{return J()}finally{b=fe}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=b;b=J;try{return oe()}finally{b=fe}},n.unstable_scheduleCallback=function(J,oe,fe){var De=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?De+fe:De):fe=De,J){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=fe+V,J={id:g++,callback:oe,priorityLevel:J,startTime:fe,expirationTime:V,sortIndex:-1},fe>De?(J.sortIndex=fe,e(d,J),t(f)===null&&J===t(d)&&(A?(B(O),O=-1):A=!0,st(Z,fe-De))):(J.sortIndex=V,e(f,J),C||E||(C=!0,ue||(ue=!0,q()))),J},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(J){var oe=b;return function(){var fe=b;b=oe;try{return J.apply(this,arguments)}finally{b=fe}}}})(zg)),zg}var XT;function dk(){return XT||(XT=1,Ug.exports=fk()),Ug.exports}var Bg={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function pk(){if(QT)return dn;QT=1;var n=Bv();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,g)},dn.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},dn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},dn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},dn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):g==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},dn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},dn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},dn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},dn.requestFormReset=function(f){i.d.r(f)},dn.unstable_batchedUpdates=function(f,d){return f(d)},dn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},dn.useFormStatus=function(){return u.H.useHostTransitionStatus()},dn.version="19.1.1",dn}var WT;function mk(){if(WT)return Bg.exports;WT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bg.exports=pk(),Bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function gk(){if(ZT)return hc;ZT=1;var n=dk(),e=Bv(),t=mk();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(i(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,c=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),s;if(y===c)return h(m),o;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=y;else{for(var T=!1,S=m.child;S;){if(S===l){T=!0,l=m,c=y;break}if(S===c){T=!0,c=m,l=y;break}S=S.sibling}if(!T){for(S=y.child;S;){if(S===l){T=!0,l=y,c=m;break}if(S===c){T=!0,c=y,l=m;break}S=S.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function d(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=d(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),j=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function Ct(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case Z:return"Suspense";case ue:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case j:return(s.displayName||"Context")+".Provider";case B:return(s._context.displayName||"Context")+".Consumer";case G:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return o=s.displayName||null,o!==null?o:Ct(s.type)||"Memo";case I:o=s._payload,s=s._init;try{return Ct(s(o))}catch{}}return null}var st=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},De=[],V=-1;function re(s){return{current:s}}function ce(s){0>V||(s.current=De[V],De[V]=null,V--)}function ae(s,o){V++,De[V]=s.current,s.current=o}var ye=re(null),ke=re(null),Ae=re(null),Ht=re(null);function tt(s,o){switch(ae(Ae,o),ae(ke,s),ae(ye,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?vT(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=vT(o),s=_T(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ce(ye),ae(ye,s)}function Vi(){ce(ye),ce(ke),ce(Ae)}function Js(s){s.memoizedState!==null&&ae(Ht,s);var o=ye.current,l=_T(o,s.type);o!==l&&(ae(ke,s),ae(ye,l))}function ms(s){ke.current===s&&(ce(ye),ce(ke)),Ht.current===s&&(ce(Ht),rc._currentValue=fe)}var lo=Object.prototype.hasOwnProperty,uo=n.unstable_scheduleCallback,co=n.unstable_cancelCallback,nu=n.unstable_shouldYield,Th=n.unstable_requestPaint,Zn=n.unstable_now,Np=n.unstable_getCurrentPriorityLevel,iu=n.unstable_ImmediatePriority,ba=n.unstable_UserBlockingPriority,ho=n.unstable_NormalPriority,Vp=n.unstable_LowPriority,wa=n.unstable_IdlePriority,su=n.log,Eh=n.unstable_setDisableYieldValue,gt=null,Ke=null;function Ln(s){if(typeof su=="function"&&Eh(s),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(gt,s)}catch{}}var hn=Math.clz32?Math.clz32:fo,Sh=Math.log,Lp=Math.LN2;function fo(s){return s>>>=0,s===0?32:31-(Sh(s)/Lp|0)|0}var po=256,mo=4194304;function vi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ta(s,o,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?m=vi(c):(T&=S,T!==0?m=vi(T):l||(l=S&~s,l!==0&&(m=vi(l))))):(S=c&~y,S!==0?m=vi(S):T!==0?m=vi(T):l||(l=c&~s,l!==0&&(m=vi(l)))),m===0?0:o!==0&&o!==m&&(o&y)===0&&(y=m&-m,l=o&-o,y>=l||y===32&&(l&4194048)!==0)?o:m}function go(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function ru(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var s=po;return po<<=1,(po&4194048)===0&&(po=256),s}function au(){var s=mo;return mo<<=1,(mo&62914560)===0&&(mo=4194304),s}function gs(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function ys(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function lu(s,o,l,c,m,y){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,M=s.expirationTimes,Y=s.hiddenUpdates;for(l=T&~l;0<l;){var ee=31-hn(l),ie=1<<ee;S[ee]=0,M[ee]=-1;var X=Y[ee];if(X!==null)for(Y[ee]=null,ee=0;ee<X.length;ee++){var Q=X[ee];Q!==null&&(Q.lane&=-536870913)}l&=~ie}c!==0&&Li(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~o))}function Li(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var c=31-hn(o);s.entangledLanes|=o,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function uu(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var c=31-hn(l),m=1<<c;m&o|s[c]&o&&(s[c]|=o),l&=~m}}function er(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ea(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function tr(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:UT(s.type))}function Ah(s,o){var l=oe.p;try{return oe.p=s,o()}finally{oe.p=l}}var at=Math.random().toString(36).slice(2),Ut="__reactFiber$"+at,It="__reactProps$"+at,Jn="__reactContainer$"+at,cu="__reactEvents$"+at,Up="__reactListeners$"+at,nr="__reactHandles$"+at,xh="__reactResources$"+at,yo="__reactMarker$"+at;function ir(s){delete s[Ut],delete s[It],delete s[cu],delete s[Up],delete s[nr]}function vs(s){var o=s[Ut];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Jn]||l[Ut]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=ET(s);s!==null;){if(l=s[Ut])return l;s=ET(s)}return o}s=l,l=s.parentNode}return null}function Ui(s){if(s=s[Ut]||s[Jn]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function zi(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Tn(s){var o=s[xh];return o||(o=s[xh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tt(s){s[yo]=!0}var hu=new Set,Sa={};function _i(s,o){_s(s,o),_s(s+"Capture",o)}function _s(s,o){for(Sa[s]=o,s=0;s<o.length;s++)hu.add(o[s])}var Rh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ch={},vo={};function Ih(s){return lo.call(vo,s)?!0:lo.call(Ch,s)?!1:Rh.test(s)?vo[s]=!0:(Ch[s]=!0,!1)}function sr(s,o,l){if(Ih(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function Bi(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function Jt(s,o,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+c)}}var _o,Dh;function bs(s){if(_o===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);_o=o&&o[1]||"",Dh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_o+s+Dh}var Aa=!1;function xa(s,o){if(!s||Aa)return"";Aa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var X=Q}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(Q){X=Q}s.call(ie.prototype)}}else{try{throw Error()}catch(Q){X=Q}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],S=y[1];if(T&&S){var M=T.split(`
`),Y=S.split(`
`);for(m=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(c===M.length||m===Y.length)for(c=M.length-1,m=Y.length-1;1<=c&&0<=m&&M[c]!==Y[m];)m--;for(;1<=c&&0<=m;c--,m--)if(M[c]!==Y[m]){if(c!==1||m!==1)do if(c--,m--,0>m||M[c]!==Y[m]){var ee=`
`+M[c].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=c&&0<=m);break}}}finally{Aa=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?bs(l):""}function fu(s){switch(s.tag){case 26:case 27:case 5:return bs(s.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return xa(s.type,!1);case 11:return xa(s.type.render,!1);case 1:return xa(s.type,!0);case 31:return bs("Activity");default:return""}}function Ra(s){try{var o="";do o+=fu(s),s=s.return;while(s);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function En(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function du(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function zp(s){var o=du(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),c=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ca(s){s._valueTracker||(s._valueTracker=zp(s))}function pu(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return s&&(c=du(s)?s.checked?"true":"false":s.value),s=c,s!==l?(o.setValue(s),!0):!1}function bo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Bp=/[\n"\\]/g;function Dt(s){return s.replace(Bp,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Un(s,o,l,c,m,y,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),o!=null?T==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+En(o)):s.value!==""+En(o)&&(s.value=""+En(o)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),o!=null?rr(s,T,En(o)):l!=null?rr(s,T,En(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+En(S):s.removeAttribute("name")}function wo(s,o,l,c,m,y,T,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),o!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;l=l!=null?""+En(l):"",o=o!=null?""+En(o):l,S||o===s.value||(s.value=o),s.defaultValue=o}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function rr(s,o,l){o==="number"&&bo(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ws(s,o,l,c){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+En(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Qe(s,o,l){if(o!=null&&(o=""+En(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+En(l):""}function To(s,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(i(92));if(st(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=En(o),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function ei(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var Eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ph(s,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":c?s.setProperty(o,l):typeof l!="number"||l===0||Eo.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function mu(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in o)c=o[m],o.hasOwnProperty(m)&&l[m]!==c&&Ph(s,m,c)}else for(var y in o)o.hasOwnProperty(y)&&Ph(s,y,o[y])}function gu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(s){return Fp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ts=null;function ti(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Es=null,Ss=null;function yu(s){var o=Ui(s);if(o&&(s=o.stateNode)){var l=s[It]||null;e:switch(s=o.stateNode,o.type){case"input":if(Un(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dt(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==s&&c.form===s.form){var m=c[It]||null;if(!m)throw Error(i(90));Un(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===s.form&&pu(c)}break e;case"textarea":Qe(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&ws(s,!!l.multiple,o,!1)}}}var ji=!1;function kh(s,o,l){if(ji)return s(o,l);ji=!0;try{var c=s(o);return c}finally{if(ji=!1,(Es!==null||Ss!==null)&&(xf(),Es&&(o=Es,s=Ss,Ss=Es=null,yu(o),s)))for(o=0;o<s.length;o++)yu(s[o])}}function So(s,o){var l=s.stateNode;if(l===null)return null;var c=l[It]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ni=!1;if(bi)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){ni=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{ni=!1}var Fi=null,or=null,As=null;function vu(){if(As)return As;var s,o=or,l=o.length,c,m="value"in Fi?Fi.value:Fi.textContent,y=m.length;for(s=0;s<l&&o[s]===m[s];s++);var T=l-s;for(c=1;c<=T&&o[l-c]===m[y-c];c++);return As=m.slice(s,1<c?1-c:void 0)}function qi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Hi(){return!0}function _u(){return!1}function Gt(s){function o(l,c,m,y,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Hi:_u,this.isPropagationStopped=_u,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),o}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Gt(Ge),xo=g({},Ge,{view:0,detail:0}),Mh=Gt(xo),Pa,ka,Gi,Ro=g({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gi&&(Gi&&s.type==="mousemove"?(Pa=s.screenX-Gi.screenX,ka=s.screenY-Gi.screenY):ka=Pa=0,Gi=s),Pa)},movementY:function(s){return"movementY"in s?s.movementY:ka}}),ii=Gt(Ro),Oh=g({},Ro,{dataTransfer:0}),qp=Gt(Oh),Co=g({},xo,{relatedTarget:0}),Ma=Gt(Co),bu=g({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=Gt(bu),Nh=g({},Ge,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Na=Gt(Nh),Hp=g({},Ge,{data:0}),wu=Gt(Hp),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Lh[s])?!!o[s]:!1}function Do(){return Tu}var Uh=g({},xo,{key:function(s){if(s.key){var o=Io[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Vh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(s){return s.type==="keypress"?qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Va=Gt(Uh),zh=g({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=Gt(zh),xs=g({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),Bh=Gt(xs),jh=g({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fh=Gt(jh),qh=g({},Ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),La=Gt(qh),Sn=g({},Ge,{newState:0,oldState:0}),Hh=Gt(Sn),Gh=[9,13,27,32],$i=bi&&"CompositionEvent"in window,p=null;bi&&"documentMode"in document&&(p=document.documentMode);var _=bi&&"TextEvent"in window&&!p,w=bi&&(!$i||p&&8<p&&11>=p),x=" ",$=!1;function W(s,o){switch(s){case"keyup":return Gh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ze=!1;function zt(s,o){switch(s){case"compositionend":return le(o);case"keypress":return o.which!==32?null:($=!0,x);case"textInput":return s=o.data,s===x&&$?null:s;default:return null}}function Be(s,o){if(ze)return s==="compositionend"||!$i&&W(s,o)?(s=vu(),As=or=Fi=null,ze=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return w&&o.locale!=="ko"?null:o.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!$t[s.type]:o==="textarea"}function Rs(s,o,l,c){Es?Ss?Ss.push(c):Ss=[c]:Es=c,o=kf(o,"onChange"),0<o.length&&(l=new Da("onChange","change",null,l,c),s.push({event:l,listeners:o}))}var en=null,Ki=null;function Su(s){dT(s,0)}function $h(s){var o=zi(s);if(pu(o))return s}function Ob(s,o){if(s==="change")return o}var Nb=!1;if(bi){var Gp;if(bi){var $p="oninput"in document;if(!$p){var Vb=document.createElement("div");Vb.setAttribute("oninput","return;"),$p=typeof Vb.oninput=="function"}Gp=$p}else Gp=!1;Nb=Gp&&(!document.documentMode||9<document.documentMode)}function Lb(){en&&(en.detachEvent("onpropertychange",Ub),Ki=en=null)}function Ub(s){if(s.propertyName==="value"&&$h(Ki)){var o=[];Rs(o,Ki,s,ti(s)),kh(Su,o)}}function zD(s,o,l){s==="focusin"?(Lb(),en=o,Ki=l,en.attachEvent("onpropertychange",Ub)):s==="focusout"&&Lb()}function BD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $h(Ki)}function jD(s,o){if(s==="click")return $h(o)}function FD(s,o){if(s==="input"||s==="change")return $h(o)}function qD(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var zn=typeof Object.is=="function"?Object.is:qD;function Au(s,o){if(zn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!lo.call(o,m)||!zn(s[m],o[m]))return!1}return!0}function zb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Bb(s,o){var l=zb(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=o&&c>=o)return{node:l,offset:o-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zb(l)}}function jb(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?jb(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Fb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=bo(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=bo(s.document)}return o}function Kp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var HD=bi&&"documentMode"in document&&11>=document.documentMode,Ua=null,Yp=null,xu=null,Xp=!1;function qb(s,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xp||Ua==null||Ua!==bo(c)||(c=Ua,"selectionStart"in c&&Kp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xu&&Au(xu,c)||(xu=c,c=kf(Yp,"onSelect"),0<c.length&&(o=new Da("onSelect","select",null,o,l),s.push({event:o,listeners:c}),o.target=Ua)))}function Po(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var za={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionrun:Po("Transition","TransitionRun"),transitionstart:Po("Transition","TransitionStart"),transitioncancel:Po("Transition","TransitionCancel"),transitionend:Po("Transition","TransitionEnd")},Qp={},Hb={};bi&&(Hb=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function ko(s){if(Qp[s])return Qp[s];if(!za[s])return s;var o=za[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Hb)return Qp[s]=o[l];return s}var Gb=ko("animationend"),$b=ko("animationiteration"),Kb=ko("animationstart"),GD=ko("transitionrun"),$D=ko("transitionstart"),KD=ko("transitioncancel"),Yb=ko("transitionend"),Xb=new Map,Wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wp.push("scrollEnd");function wi(s,o){Xb.set(s,o),_i(o,[s])}var Qb=new WeakMap;function si(s,o){if(typeof s=="object"&&s!==null){var l=Qb.get(s);return l!==void 0?l:(o={value:s,source:o,stack:Ra(o)},Qb.set(s,o),o)}return{value:s,source:o,stack:Ra(o)}}var ri=[],Ba=0,Zp=0;function Kh(){for(var s=Ba,o=Zp=Ba=0;o<s;){var l=ri[o];ri[o++]=null;var c=ri[o];ri[o++]=null;var m=ri[o];ri[o++]=null;var y=ri[o];if(ri[o++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&Wb(l,m,y)}}function Yh(s,o,l,c){ri[Ba++]=s,ri[Ba++]=o,ri[Ba++]=l,ri[Ba++]=c,Zp|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Jp(s,o,l,c){return Yh(s,o,l,c),Xh(s)}function ja(s,o){return Yh(s,null,null,o),Xh(s)}function Wb(s,o,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&o!==null&&(m=31-hn(l),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[o]:c.push(o),o.lane=l|536870912),y):null}function Xh(s){if(50<Wu)throw Wu=0,rg=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Fa={};function YD(s,o,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(s,o,l,c){return new YD(s,o,l,c)}function em(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Cs(s,o){var l=s.alternate;return l===null?(l=Bn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Zb(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Qh(s,o,l,c,m,y){var T=0;if(c=s,typeof s=="function")em(s)&&(T=1);else if(typeof s=="string")T=QP(s,l,ye.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=Bn(31,l,o,m),s.elementType=k,s.lanes=y,s;case C:return Mo(l.children,m,y,o);case A:T=8,m|=24;break;case R:return s=Bn(12,l,o,m|2),s.elementType=R,s.lanes=y,s;case Z:return s=Bn(13,l,o,m),s.elementType=Z,s.lanes=y,s;case ue:return s=Bn(19,l,o,m),s.elementType=ue,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case j:T=10;break e;case B:T=9;break e;case G:T=11;break e;case O:T=14;break e;case I:T=16,c=null;break e}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return o=Bn(T,l,o,m),o.elementType=s,o.type=c,o.lanes=y,o}function Mo(s,o,l,c){return s=Bn(7,s,c,o),s.lanes=l,s}function tm(s,o,l){return s=Bn(6,s,null,o),s.lanes=l,s}function nm(s,o,l){return o=Bn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var qa=[],Ha=0,Wh=null,Zh=0,oi=[],ai=0,Oo=null,Is=1,Ds="";function No(s,o){qa[Ha++]=Zh,qa[Ha++]=Wh,Wh=s,Zh=o}function Jb(s,o,l){oi[ai++]=Is,oi[ai++]=Ds,oi[ai++]=Oo,Oo=s;var c=Is;s=Ds;var m=32-hn(c)-1;c&=~(1<<m),l+=1;var y=32-hn(o)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Is=1<<32-hn(o)+m|l<<m|c,Ds=y+s}else Is=1<<y|l<<m|c,Ds=s}function im(s){s.return!==null&&(No(s,1),Jb(s,1,0))}function sm(s){for(;s===Wh;)Wh=qa[--Ha],qa[Ha]=null,Zh=qa[--Ha],qa[Ha]=null;for(;s===Oo;)Oo=oi[--ai],oi[ai]=null,Ds=oi[--ai],oi[ai]=null,Is=oi[--ai],oi[ai]=null}var An=null,yt=null,He=!1,Vo=null,Yi=!1,rm=Error(i(519));function Lo(s){var o=Error(i(418,""));throw Iu(si(o,s)),rm}function e0(s){var o=s.stateNode,l=s.type,c=s.memoizedProps;switch(o[Ut]=s,o[It]=c,l){case"dialog":Ne("cancel",o),Ne("close",o);break;case"iframe":case"object":case"embed":Ne("load",o);break;case"video":case"audio":for(l=0;l<Ju.length;l++)Ne(Ju[l],o);break;case"source":Ne("error",o);break;case"img":case"image":case"link":Ne("error",o),Ne("load",o);break;case"details":Ne("toggle",o);break;case"input":Ne("invalid",o),wo(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ca(o);break;case"select":Ne("invalid",o);break;case"textarea":Ne("invalid",o),To(o,c.value,c.defaultValue,c.children),Ca(o)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||yT(o.textContent,l)?(c.popover!=null&&(Ne("beforetoggle",o),Ne("toggle",o)),c.onScroll!=null&&Ne("scroll",o),c.onScrollEnd!=null&&Ne("scrollend",o),c.onClick!=null&&(o.onclick=Mf),o=!0):o=!1,o||Lo(s)}function t0(s){for(An=s.return;An;)switch(An.tag){case 5:case 13:Yi=!1;return;case 27:case 3:Yi=!0;return;default:An=An.return}}function Ru(s){if(s!==An)return!1;if(!He)return t0(s),He=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||wg(s.type,s.memoizedProps)),l=!l),l&&yt&&Lo(s),t0(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(o===0){yt=Ei(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;s=s.nextSibling}yt=null}}else o===27?(o=yt,Tr(s.type)?(s=Ag,Ag=null,yt=s):yt=o):yt=An?Ei(s.stateNode.nextSibling):null;return!0}function Cu(){yt=An=null,He=!1}function n0(){var s=Vo;return s!==null&&(kn===null?kn=s:kn.push.apply(kn,s),Vo=null),s}function Iu(s){Vo===null?Vo=[s]:Vo.push(s)}var om=re(null),Uo=null,Ps=null;function ar(s,o,l){ae(om,o._currentValue),o._currentValue=l}function ks(s){s._currentValue=om.current,ce(om)}function am(s,o,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),s===l)break;s=s.return}}function lm(s,o,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var M=0;M<o.length;M++)if(S.context===o[M]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),am(y.return,l,s),c||(T=null);break e}y=S.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),am(T,l,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Du(s,o,l,c){s=null;for(var m=o,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=m.type;zn(m.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(m===Ht.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(rc):s=[rc])}m=m.return}s!==null&&lm(o,s,l,c),o.flags|=262144}function Jh(s){for(s=s.firstContext;s!==null;){if(!zn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function zo(s){Uo=s,Ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fn(s){return i0(Uo,s)}function ef(s,o){return Uo===null&&zo(s),i0(s,o)}function i0(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Ps===null){if(s===null)throw Error(i(308));Ps=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Ps=Ps.next=o;return l}var XD=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},QD=n.unstable_scheduleCallback,WD=n.unstable_NormalPriority,jt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new XD,data:new Map,refCount:0}}function Pu(s){s.refCount--,s.refCount===0&&QD(WD,function(){s.controller.abort()})}var ku=null,cm=0,Ga=0,$a=null;function ZD(s,o){if(ku===null){var l=ku=[];cm=0,Ga=fg(),$a={status:"pending",value:void 0,then:function(c){l.push(c)}}}return cm++,o.then(s0,s0),o}function s0(){if(--cm===0&&ku!==null){$a!==null&&($a.status="fulfilled");var s=ku;ku=null,Ga=0,$a=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function JD(s,o){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var r0=J.S;J.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&ZD(s,o),r0!==null&&r0(s,o)};var Bo=re(null);function hm(){var s=Bo.current;return s!==null?s:nt.pooledCache}function tf(s,o){o===null?ae(Bo,Bo.current):ae(Bo,o.pool)}function o0(){var s=hm();return s===null?null:{parent:jt._currentValue,pool:s}}var Mu=Error(i(460)),a0=Error(i(474)),nf=Error(i(542)),fm={then:function(){}};function l0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function sf(){}function u0(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(sf,sf),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,h0(s),s;default:if(typeof o.status=="string")o.then(sf,sf);else{if(s=nt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(c){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=c}},function(c){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,h0(s),s}throw Ou=o,Mu}}var Ou=null;function c0(){if(Ou===null)throw Error(i(459));var s=Ou;return Ou=null,s}function h0(s){if(s===Mu||s===nf)throw Error(i(483))}var lr=!1;function dm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ur(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function cr(s,o,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var m=c.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),c.pending=o,o=Xh(s),Wb(s,null,l),o}return Yh(s,c,o,l),Xh(s)}function Nu(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,uu(s,l)}}function mm(s,o){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var gm=!1;function Vu(){if(gm){var s=$a;if(s!==null)throw s}}function Lu(s,o,l,c){gm=!1;var m=s.updateQueue;lr=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var M=S,Y=M.next;M.next=null,T===null?y=Y:T.next=Y,T=M;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==T&&(S===null?ee.firstBaseUpdate=Y:S.next=Y,ee.lastBaseUpdate=M))}if(y!==null){var ie=m.baseState;T=0,ee=Y=M=null,S=y;do{var X=S.lane&-536870913,Q=X!==S.lane;if(Q?(je&X)===X:(c&X)===X){X!==0&&X===Ga&&(gm=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ee=s,ve=S;X=o;var Je=l;switch(ve.tag){case 1:if(Ee=ve.payload,typeof Ee=="function"){ie=Ee.call(Je,ie,X);break e}ie=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ve.payload,X=typeof Ee=="function"?Ee.call(Je,ie,X):Ee,X==null)break e;ie=g({},ie,X);break e;case 2:lr=!0}}X=S.callback,X!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(Y=ee=Q,M=ie):ee=ee.next=Q,T|=X;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);ee===null&&(M=ie),m.baseState=M,m.firstBaseUpdate=Y,m.lastBaseUpdate=ee,y===null&&(m.shared.lanes=0),vr|=T,s.lanes=T,s.memoizedState=ie}}function f0(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function d0(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)f0(l[s],o)}var Ka=re(null),rf=re(0);function p0(s,o){s=zs,ae(rf,s),ae(Ka,o),zs=s|o.baseLanes}function ym(){ae(rf,zs),ae(Ka,Ka.current)}function vm(){zs=rf.current,ce(Ka),ce(rf)}var hr=0,Pe=null,We=null,Pt=null,of=!1,Ya=!1,jo=!1,af=0,Uu=0,Xa=null,eP=0;function Et(){throw Error(i(321))}function _m(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!zn(s[l],o[l]))return!1;return!0}function bm(s,o,l,c,m,y){return hr=y,Pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,J.H=s===null||s.memoizedState===null?W0:Z0,jo=!1,y=l(c,m),jo=!1,Ya&&(y=g0(o,l,c,m)),m0(s),y}function m0(s){J.H=df;var o=We!==null&&We.next!==null;if(hr=0,Pt=We=Pe=null,of=!1,Uu=0,Xa=null,o)throw Error(i(300));s===null||Kt||(s=s.dependencies,s!==null&&Jh(s)&&(Kt=!0))}function g0(s,o,l,c){Pe=s;var m=0;do{if(Ya&&(Xa=null),Uu=0,Ya=!1,25<=m)throw Error(i(301));if(m+=1,Pt=We=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=aP,y=o(l,c)}while(Ya);return y}function tP(){var s=J.H,o=s.useState()[0];return o=typeof o.then=="function"?zu(o):o,s=s.useState()[0],(We!==null?We.memoizedState:null)!==s&&(Pe.flags|=1024),o}function wm(){var s=af!==0;return af=0,s}function Tm(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function Em(s){if(of){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}of=!1}hr=0,Pt=We=Pe=null,Ya=!1,Uu=af=0,Xa=null}function Dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function kt(){if(We===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=We.next;var o=Pt===null?Pe.memoizedState:Pt.next;if(o!==null)Pt=o,We=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));We=s,s={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function Sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(s){var o=Uu;return Uu+=1,Xa===null&&(Xa=[]),s=u0(Xa,s,o),o=Pe,(Pt===null?o.memoizedState:Pt.next)===null&&(o=o.alternate,J.H=o===null||o.memoizedState===null?W0:Z0),s}function lf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return zu(s);if(s.$$typeof===j)return fn(s)}throw Error(i(438,String(s)))}function Am(s){var o=null,l=Pe.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Sm(),Pe.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),c=0;c<s;c++)l[c]=L;return o.index++,l}function Ms(s,o){return typeof o=="function"?o(s):o}function uf(s){var o=kt();return xm(o,We,s)}function xm(s,o,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}o.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{o=m.next;var S=T=null,M=null,Y=o,ee=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(je&ie)===ie:(hr&ie)===ie){var X=Y.revertLane;if(X===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===Ga&&(ee=!0);else if((hr&X)===X){Y=Y.next,X===Ga&&(ee=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=ie,T=y):M=M.next=ie,Pe.lanes|=X,vr|=X;ie=Y.action,jo&&l(y,ie),y=Y.hasEagerState?Y.eagerState:l(y,ie)}else X={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=X,T=y):M=M.next=X,Pe.lanes|=ie,vr|=ie;Y=Y.next}while(Y!==null&&Y!==o);if(M===null?T=y:M.next=S,!zn(y,s.memoizedState)&&(Kt=!0,ee&&(l=$a,l!==null)))throw l;s.memoizedState=y,s.baseState=T,s.baseQueue=M,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Rm(s){var o=kt(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=s(y,T.action),T=T.next;while(T!==m);zn(y,o.memoizedState)||(Kt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,c]}function y0(s,o,l){var c=Pe,m=kt(),y=He;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=o();var T=!zn((We||m).memoizedState,l);T&&(m.memoizedState=l,Kt=!0),m=m.queue;var S=b0.bind(null,c,m,s);if(Bu(2048,8,S,[s]),m.getSnapshot!==o||T||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,Qa(9,cf(),_0.bind(null,c,m,l,o),null),nt===null)throw Error(i(349));y||(hr&124)!==0||v0(c,o,l)}return l}function v0(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Pe.updateQueue,o===null?(o=Sm(),Pe.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function _0(s,o,l,c){o.value=l,o.getSnapshot=c,w0(o)&&T0(s)}function b0(s,o,l){return l(function(){w0(o)&&T0(s)})}function w0(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!zn(s,l)}catch{return!0}}function T0(s){var o=ja(s,2);o!==null&&Gn(o,s,2)}function Cm(s){var o=Dn();if(typeof s=="function"){var l=s;if(s=l(),jo){Ln(!0);try{l()}finally{Ln(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:s},o}function E0(s,o,l,c){return s.baseState=l,xm(s,We,typeof c=="function"?c:Ms)}function nP(s,o,l,c,m){if(ff(s))throw Error(i(485));if(s=o.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};J.T!==null?l(!0):y.isTransition=!1,c(y),l=o.pending,l===null?(y.next=o.pending=y,S0(o,y)):(y.next=l.next,o.pending=l.next=y)}}function S0(s,o){var l=o.action,c=o.payload,m=s.state;if(o.isTransition){var y=J.T,T={};J.T=T;try{var S=l(m,c),M=J.S;M!==null&&M(T,S),A0(s,o,S)}catch(Y){Im(s,o,Y)}finally{J.T=y}}else try{y=l(m,c),A0(s,o,y)}catch(Y){Im(s,o,Y)}}function A0(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){x0(s,o,c)},function(c){return Im(s,o,c)}):x0(s,o,l)}function x0(s,o,l){o.status="fulfilled",o.value=l,R0(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,S0(s,l)))}function Im(s,o,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,R0(o),o=o.next;while(o!==c)}s.action=null}function R0(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function C0(s,o){return o}function I0(s,o){if(He){var l=nt.formState;if(l!==null){e:{var c=Pe;if(He){if(yt){t:{for(var m=yt,y=Yi;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ei(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){yt=Ei(m.nextSibling),c=m.data==="F!";break e}}Lo(c)}c=!1}c&&(o=l[0])}}return l=Dn(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:o},l.queue=c,l=Y0.bind(null,Pe,c),c.dispatch=l,c=Cm(!1),y=Om.bind(null,Pe,!1,c.queue),c=Dn(),m={state:o,dispatch:null,action:s,pending:null},c.queue=m,l=nP.bind(null,Pe,m,y,l),m.dispatch=l,c.memoizedState=s,[o,l,!1]}function D0(s){var o=kt();return P0(o,We,s)}function P0(s,o,l){if(o=xm(s,o,C0)[0],s=uf(Ms)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=zu(o)}catch(T){throw T===Mu?nf:T}else c=o;o=kt();var m=o.queue,y=m.dispatch;return l!==o.memoizedState&&(Pe.flags|=2048,Qa(9,cf(),iP.bind(null,m,l),null)),[c,y,s]}function iP(s,o){s.action=o}function k0(s){var o=kt(),l=We;if(l!==null)return P0(o,l,s);kt(),o=o.memoizedState,l=kt();var c=l.queue.dispatch;return l.memoizedState=s,[o,c,!1]}function Qa(s,o,l,c){return s={tag:s,create:l,deps:c,inst:o,next:null},o=Pe.updateQueue,o===null&&(o=Sm(),Pe.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,o.lastEffect=s),s}function cf(){return{destroy:void 0,resource:void 0}}function M0(){return kt().memoizedState}function hf(s,o,l,c){var m=Dn();c=c===void 0?null:c,Pe.flags|=s,m.memoizedState=Qa(1|o,cf(),l,c)}function Bu(s,o,l,c){var m=kt();c=c===void 0?null:c;var y=m.memoizedState.inst;We!==null&&c!==null&&_m(c,We.memoizedState.deps)?m.memoizedState=Qa(o,y,l,c):(Pe.flags|=s,m.memoizedState=Qa(1|o,y,l,c))}function O0(s,o){hf(8390656,8,s,o)}function N0(s,o){Bu(2048,8,s,o)}function V0(s,o){return Bu(4,2,s,o)}function L0(s,o){return Bu(4,4,s,o)}function U0(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function z0(s,o,l){l=l!=null?l.concat([s]):null,Bu(4,4,U0.bind(null,o,s),l)}function Dm(){}function B0(s,o){var l=kt();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&_m(o,c[1])?c[0]:(l.memoizedState=[s,o],s)}function j0(s,o){var l=kt();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&_m(o,c[1]))return c[0];if(c=s(),jo){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[c,o],c}function Pm(s,o,l){return l===void 0||(hr&1073741824)!==0?s.memoizedState=o:(s.memoizedState=l,s=Hw(),Pe.lanes|=s,vr|=s,l)}function F0(s,o,l,c){return zn(l,o)?l:Ka.current!==null?(s=Pm(s,l,c),zn(s,o)||(Kt=!0),s):(hr&42)===0?(Kt=!0,s.memoizedState=l):(s=Hw(),Pe.lanes|=s,vr|=s,o)}function q0(s,o,l,c,m){var y=oe.p;oe.p=y!==0&&8>y?y:8;var T=J.T,S={};J.T=S,Om(s,!1,o,l);try{var M=m(),Y=J.S;if(Y!==null&&Y(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ee=JD(M,c);ju(s,o,ee,Hn(s))}else ju(s,o,c,Hn(s))}catch(ie){ju(s,o,{then:function(){},status:"rejected",reason:ie},Hn())}finally{oe.p=y,J.T=T}}function sP(){}function km(s,o,l,c){if(s.tag!==5)throw Error(i(476));var m=H0(s).queue;q0(s,m,o,fe,l===null?sP:function(){return G0(s),l(c)})}function H0(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:fe},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function G0(s){var o=H0(s).next.queue;ju(s,o,{},Hn())}function Mm(){return fn(rc)}function $0(){return kt().memoizedState}function K0(){return kt().memoizedState}function rP(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=Hn();s=ur(l);var c=cr(o,s,l);c!==null&&(Gn(c,o,l),Nu(c,o,l)),o={cache:um()},s.payload=o;return}o=o.return}}function oP(s,o,l){var c=Hn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ff(s)?X0(o,l):(l=Jp(s,o,l,c),l!==null&&(Gn(l,s,c),Q0(l,o,c)))}function Y0(s,o,l){var c=Hn();ju(s,o,l,c)}function ju(s,o,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ff(s))X0(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,S=y(T,l);if(m.hasEagerState=!0,m.eagerState=S,zn(S,T))return Yh(s,o,m,0),nt===null&&Kh(),!1}catch{}finally{}if(l=Jp(s,o,m,c),l!==null)return Gn(l,s,c),Q0(l,o,c),!0}return!1}function Om(s,o,l,c){if(c={lane:2,revertLane:fg(),action:c,hasEagerState:!1,eagerState:null,next:null},ff(s)){if(o)throw Error(i(479))}else o=Jp(s,l,c,2),o!==null&&Gn(o,s,2)}function ff(s){var o=s.alternate;return s===Pe||o!==null&&o===Pe}function X0(s,o){Ya=of=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Q0(s,o,l){if((l&4194048)!==0){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,uu(s,l)}}var df={readContext:fn,use:lf,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},W0={readContext:fn,use:lf,useCallback:function(s,o){return Dn().memoizedState=[s,o===void 0?null:o],s},useContext:fn,useEffect:O0,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,hf(4194308,4,U0.bind(null,o,s),l)},useLayoutEffect:function(s,o){return hf(4194308,4,s,o)},useInsertionEffect:function(s,o){hf(4,2,s,o)},useMemo:function(s,o){var l=Dn();o=o===void 0?null:o;var c=s();if(jo){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[c,o],c},useReducer:function(s,o,l){var c=Dn();if(l!==void 0){var m=l(o);if(jo){Ln(!0);try{l(o)}finally{Ln(!1)}}}else m=o;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=oP.bind(null,Pe,s),[c.memoizedState,s]},useRef:function(s){var o=Dn();return s={current:s},o.memoizedState=s},useState:function(s){s=Cm(s);var o=s.queue,l=Y0.bind(null,Pe,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:Dm,useDeferredValue:function(s,o){var l=Dn();return Pm(l,s,o)},useTransition:function(){var s=Cm(!1);return s=q0.bind(null,Pe,s.queue,!0,!1),Dn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var c=Pe,m=Dn();if(He){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),nt===null)throw Error(i(349));(je&124)!==0||v0(c,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,O0(b0.bind(null,c,y,s),[s]),c.flags|=2048,Qa(9,cf(),_0.bind(null,c,y,l,o),null),l},useId:function(){var s=Dn(),o=nt.identifierPrefix;if(He){var l=Ds,c=Is;l=(c&~(1<<32-hn(c)-1)).toString(32)+l,o="«"+o+"R"+l,l=af++,0<l&&(o+="H"+l.toString(32)),o+="»"}else l=eP++,o="«"+o+"r"+l.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:Mm,useFormState:I0,useActionState:I0,useOptimistic:function(s){var o=Dn();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Om.bind(null,Pe,!0,l),l.dispatch=o,[s,o]},useMemoCache:Am,useCacheRefresh:function(){return Dn().memoizedState=rP.bind(null,Pe)}},Z0={readContext:fn,use:lf,useCallback:B0,useContext:fn,useEffect:N0,useImperativeHandle:z0,useInsertionEffect:V0,useLayoutEffect:L0,useMemo:j0,useReducer:uf,useRef:M0,useState:function(){return uf(Ms)},useDebugValue:Dm,useDeferredValue:function(s,o){var l=kt();return F0(l,We.memoizedState,s,o)},useTransition:function(){var s=uf(Ms)[0],o=kt().memoizedState;return[typeof s=="boolean"?s:zu(s),o]},useSyncExternalStore:y0,useId:$0,useHostTransitionStatus:Mm,useFormState:D0,useActionState:D0,useOptimistic:function(s,o){var l=kt();return E0(l,We,s,o)},useMemoCache:Am,useCacheRefresh:K0},aP={readContext:fn,use:lf,useCallback:B0,useContext:fn,useEffect:N0,useImperativeHandle:z0,useInsertionEffect:V0,useLayoutEffect:L0,useMemo:j0,useReducer:Rm,useRef:M0,useState:function(){return Rm(Ms)},useDebugValue:Dm,useDeferredValue:function(s,o){var l=kt();return We===null?Pm(l,s,o):F0(l,We.memoizedState,s,o)},useTransition:function(){var s=Rm(Ms)[0],o=kt().memoizedState;return[typeof s=="boolean"?s:zu(s),o]},useSyncExternalStore:y0,useId:$0,useHostTransitionStatus:Mm,useFormState:k0,useActionState:k0,useOptimistic:function(s,o){var l=kt();return We!==null?E0(l,We,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Am,useCacheRefresh:K0},Wa=null,Fu=0;function pf(s){var o=Fu;return Fu+=1,Wa===null&&(Wa=[]),u0(Wa,s,o)}function qu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function mf(s,o){throw o.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function J0(s){var o=s._init;return o(s._payload)}function ew(s){function o(H,z){if(s){var K=H.deletions;K===null?(H.deletions=[z],H.flags|=16):K.push(z)}}function l(H,z){if(!s)return null;for(;z!==null;)o(H,z),z=z.sibling;return null}function c(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function m(H,z){return H=Cs(H,z),H.index=0,H.sibling=null,H}function y(H,z,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<z?(H.flags|=67108866,z):K):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function T(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,K,te){return z===null||z.tag!==6?(z=tm(K,H.mode,te),z.return=H,z):(z=m(z,K),z.return=H,z)}function M(H,z,K,te){var pe=K.type;return pe===C?ee(H,z,K.props.children,te,K.key):z!==null&&(z.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===I&&J0(pe)===z.type)?(z=m(z,K.props),qu(z,K),z.return=H,z):(z=Qh(K.type,K.key,K.props,null,H.mode,te),qu(z,K),z.return=H,z)}function Y(H,z,K,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=nm(K,H.mode,te),z.return=H,z):(z=m(z,K.children||[]),z.return=H,z)}function ee(H,z,K,te,pe){return z===null||z.tag!==7?(z=Mo(K,H.mode,te,pe),z.return=H,z):(z=m(z,K),z.return=H,z)}function ie(H,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=tm(""+z,H.mode,K),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return K=Qh(z.type,z.key,z.props,null,H.mode,K),qu(K,z),K.return=H,K;case E:return z=nm(z,H.mode,K),z.return=H,z;case I:var te=z._init;return z=te(z._payload),ie(H,z,K)}if(st(z)||q(z))return z=Mo(z,H.mode,K,null),z.return=H,z;if(typeof z.then=="function")return ie(H,pf(z),K);if(z.$$typeof===j)return ie(H,ef(H,z),K);mf(H,z)}return null}function X(H,z,K,te){var pe=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return pe!==null?null:S(H,z,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===pe?M(H,z,K,te):null;case E:return K.key===pe?Y(H,z,K,te):null;case I:return pe=K._init,K=pe(K._payload),X(H,z,K,te)}if(st(K)||q(K))return pe!==null?null:ee(H,z,K,te,null);if(typeof K.then=="function")return X(H,z,pf(K),te);if(K.$$typeof===j)return X(H,z,ef(H,K),te);mf(H,K)}return null}function Q(H,z,K,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(K)||null,S(z,H,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return H=H.get(te.key===null?K:te.key)||null,M(z,H,te,pe);case E:return H=H.get(te.key===null?K:te.key)||null,Y(z,H,te,pe);case I:var Me=te._init;return te=Me(te._payload),Q(H,z,K,te,pe)}if(st(te)||q(te))return H=H.get(K)||null,ee(z,H,te,pe,null);if(typeof te.then=="function")return Q(H,z,K,pf(te),pe);if(te.$$typeof===j)return Q(H,z,K,ef(z,te),pe);mf(z,te)}return null}function Ee(H,z,K,te){for(var pe=null,Me=null,me=z,be=z=0,Xt=null;me!==null&&be<K.length;be++){me.index>be?(Xt=me,me=null):Xt=me.sibling;var qe=X(H,me,K[be],te);if(qe===null){me===null&&(me=Xt);break}s&&me&&qe.alternate===null&&o(H,me),z=y(qe,z,be),Me===null?pe=qe:Me.sibling=qe,Me=qe,me=Xt}if(be===K.length)return l(H,me),He&&No(H,be),pe;if(me===null){for(;be<K.length;be++)me=ie(H,K[be],te),me!==null&&(z=y(me,z,be),Me===null?pe=me:Me.sibling=me,Me=me);return He&&No(H,be),pe}for(me=c(me);be<K.length;be++)Xt=Q(me,H,be,K[be],te),Xt!==null&&(s&&Xt.alternate!==null&&me.delete(Xt.key===null?be:Xt.key),z=y(Xt,z,be),Me===null?pe=Xt:Me.sibling=Xt,Me=Xt);return s&&me.forEach(function(Rr){return o(H,Rr)}),He&&No(H,be),pe}function ve(H,z,K,te){if(K==null)throw Error(i(151));for(var pe=null,Me=null,me=z,be=z=0,Xt=null,qe=K.next();me!==null&&!qe.done;be++,qe=K.next()){me.index>be?(Xt=me,me=null):Xt=me.sibling;var Rr=X(H,me,qe.value,te);if(Rr===null){me===null&&(me=Xt);break}s&&me&&Rr.alternate===null&&o(H,me),z=y(Rr,z,be),Me===null?pe=Rr:Me.sibling=Rr,Me=Rr,me=Xt}if(qe.done)return l(H,me),He&&No(H,be),pe;if(me===null){for(;!qe.done;be++,qe=K.next())qe=ie(H,qe.value,te),qe!==null&&(z=y(qe,z,be),Me===null?pe=qe:Me.sibling=qe,Me=qe);return He&&No(H,be),pe}for(me=c(me);!qe.done;be++,qe=K.next())qe=Q(me,H,be,qe.value,te),qe!==null&&(s&&qe.alternate!==null&&me.delete(qe.key===null?be:qe.key),z=y(qe,z,be),Me===null?pe=qe:Me.sibling=qe,Me=qe);return s&&me.forEach(function(lk){return o(H,lk)}),He&&No(H,be),pe}function Je(H,z,K,te){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var pe=K.key;z!==null;){if(z.key===pe){if(pe=K.type,pe===C){if(z.tag===7){l(H,z.sibling),te=m(z,K.props.children),te.return=H,H=te;break e}}else if(z.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===I&&J0(pe)===z.type){l(H,z.sibling),te=m(z,K.props),qu(te,K),te.return=H,H=te;break e}l(H,z);break}else o(H,z);z=z.sibling}K.type===C?(te=Mo(K.props.children,H.mode,te,K.key),te.return=H,H=te):(te=Qh(K.type,K.key,K.props,null,H.mode,te),qu(te,K),te.return=H,H=te)}return T(H);case E:e:{for(pe=K.key;z!==null;){if(z.key===pe)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){l(H,z.sibling),te=m(z,K.children||[]),te.return=H,H=te;break e}else{l(H,z);break}else o(H,z);z=z.sibling}te=nm(K,H.mode,te),te.return=H,H=te}return T(H);case I:return pe=K._init,K=pe(K._payload),Je(H,z,K,te)}if(st(K))return Ee(H,z,K,te);if(q(K)){if(pe=q(K),typeof pe!="function")throw Error(i(150));return K=pe.call(K),ve(H,z,K,te)}if(typeof K.then=="function")return Je(H,z,pf(K),te);if(K.$$typeof===j)return Je(H,z,ef(H,K),te);mf(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(l(H,z.sibling),te=m(z,K),te.return=H,H=te):(l(H,z),te=tm(K,H.mode,te),te.return=H,H=te),T(H)):l(H,z)}return function(H,z,K,te){try{Fu=0;var pe=Je(H,z,K,te);return Wa=null,pe}catch(me){if(me===Mu||me===nf)throw me;var Me=Bn(29,me,null,H.mode);return Me.lanes=te,Me.return=H,Me}finally{}}}var Za=ew(!0),tw=ew(!1),li=re(null),Xi=null;function fr(s){var o=s.alternate;ae(Ft,Ft.current&1),ae(li,s),Xi===null&&(o===null||Ka.current!==null||o.memoizedState!==null)&&(Xi=s)}function nw(s){if(s.tag===22){if(ae(Ft,Ft.current),ae(li,s),Xi===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Xi=s)}}else dr()}function dr(){ae(Ft,Ft.current),ae(li,li.current)}function Os(s){ce(li),Xi===s&&(Xi=null),ce(Ft)}var Ft=re(0);function gf(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Sg(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Nm(s,o,l,c){o=s.memoizedState,l=l(c,o),l=l==null?o:g({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Vm={enqueueSetState:function(s,o,l){s=s._reactInternals;var c=Hn(),m=ur(c);m.payload=o,l!=null&&(m.callback=l),o=cr(s,m,c),o!==null&&(Gn(o,s,c),Nu(o,s,c))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var c=Hn(),m=ur(c);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=cr(s,m,c),o!==null&&(Gn(o,s,c),Nu(o,s,c))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Hn(),c=ur(l);c.tag=2,o!=null&&(c.callback=o),o=cr(s,c,l),o!==null&&(Gn(o,s,l),Nu(o,s,l))}};function iw(s,o,l,c,m,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,T):o.prototype&&o.prototype.isPureReactComponent?!Au(l,c)||!Au(m,y):!0}function sw(s,o,l,c){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==s&&Vm.enqueueReplaceState(o,o.state,null)}function Fo(s,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(s=s.defaultProps){l===o&&(l=g({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var yf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function rw(s){yf(s)}function ow(s){console.error(s)}function aw(s){yf(s)}function vf(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function lw(s,o,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Lm(s,o,l){return l=ur(l),l.tag=3,l.payload={element:null},l.callback=function(){vf(s,o)},l}function uw(s){return s=ur(s),s.tag=3,s}function cw(s,o,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){lw(o,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){lw(o,l,c),typeof m!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function lP(s,o,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&Du(o,l,m,!0),l=li.current,l!==null){switch(l.tag){case 13:return Xi===null?ag():l.alternate===null&&vt===0&&(vt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===fm?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),ug(s,c,m)),!1;case 22:return l.flags|=65536,c===fm?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),ug(s,c,m)),!1}throw Error(i(435,l.tag))}return ug(s,c,m),ag(),!1}if(He)return o=li.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,c!==rm&&(s=Error(i(422),{cause:c}),Iu(si(s,l)))):(c!==rm&&(o=Error(i(423),{cause:c}),Iu(si(o,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=si(c,l),m=Lm(s.stateNode,c,m),mm(s,m),vt!==4&&(vt=2)),!1;var y=Error(i(520),{cause:c});if(y=si(y,l),Qu===null?Qu=[y]:Qu.push(y),vt!==4&&(vt=2),o===null)return!0;c=si(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Lm(l.stateNode,c,s),mm(l,s),!1;case 1:if(o=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_r===null||!_r.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=uw(m),cw(m,s,l,c),mm(l,m),!1}l=l.return}while(l!==null);return!1}var hw=Error(i(461)),Kt=!1;function tn(s,o,l,c){o.child=s===null?tw(o,null,l,c):Za(o,s.child,l,c)}function fw(s,o,l,c,m){l=l.render;var y=o.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return zo(o),c=bm(s,o,l,T,y,m),S=wm(),s!==null&&!Kt?(Tm(s,o,m),Ns(s,o,m)):(He&&S&&im(o),o.flags|=1,tn(s,o,c,m),o.child)}function dw(s,o,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!em(y)&&y.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=y,pw(s,o,y,c,m)):(s=Qh(l.type,null,c,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,!Gm(s,m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Au,l(T,c)&&s.ref===o.ref)return Ns(s,o,m)}return o.flags|=1,s=Cs(y,c),s.ref=o.ref,s.return=o,o.child=s}function pw(s,o,l,c,m){if(s!==null){var y=s.memoizedProps;if(Au(y,c)&&s.ref===o.ref)if(Kt=!1,o.pendingProps=c=y,Gm(s,m))(s.flags&131072)!==0&&(Kt=!0);else return o.lanes=s.lanes,Ns(s,o,m)}return Um(s,o,l,c,m)}function mw(s,o,l){var c=o.pendingProps,m=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(m=o.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~c}else o.childLanes=0,o.child=null;return gw(s,o,c,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&tf(o,y!==null?y.cachePool:null),y!==null?p0(o,y):ym(),nw(o);else return o.lanes=o.childLanes=536870912,gw(s,o,y!==null?y.baseLanes|l:l,l)}else y!==null?(tf(o,y.cachePool),p0(o,y),dr(),o.memoizedState=null):(s!==null&&tf(o,null),ym(),dr());return tn(s,o,m,l),o.child}function gw(s,o,l,c){var m=hm();return m=m===null?null:{parent:jt._currentValue,pool:m},o.memoizedState={baseLanes:l,cachePool:m},s!==null&&tf(o,null),ym(),nw(o),s!==null&&Du(s,o,c,!0),null}function _f(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function Um(s,o,l,c,m){return zo(o),l=bm(s,o,l,c,void 0,m),c=wm(),s!==null&&!Kt?(Tm(s,o,m),Ns(s,o,m)):(He&&c&&im(o),o.flags|=1,tn(s,o,l,m),o.child)}function yw(s,o,l,c,m,y){return zo(o),o.updateQueue=null,l=g0(o,c,l,m),m0(s),c=wm(),s!==null&&!Kt?(Tm(s,o,y),Ns(s,o,y)):(He&&c&&im(o),o.flags|=1,tn(s,o,l,y),o.child)}function vw(s,o,l,c,m){if(zo(o),o.stateNode===null){var y=Fa,T=l.contextType;typeof T=="object"&&T!==null&&(y=fn(T)),y=new l(c,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Vm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=c,y.state=o.memoizedState,y.refs={},dm(o),T=l.contextType,y.context=typeof T=="object"&&T!==null?fn(T):Fa,y.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Nm(o,l,T,c),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Vm.enqueueReplaceState(y,y.state,null),Lu(o,c,y,m),Vu(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(s===null){y=o.stateNode;var S=o.memoizedProps,M=Fo(l,S);y.props=M;var Y=y.context,ee=l.contextType;T=Fa,typeof ee=="object"&&ee!==null&&(T=fn(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=o.pendingProps!==S,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||Y!==T)&&sw(o,y,c,T),lr=!1;var X=o.memoizedState;y.state=X,Lu(o,c,y,m),Vu(),Y=o.memoizedState,S||X!==Y||lr?(typeof ie=="function"&&(Nm(o,l,ie,c),Y=o.memoizedState),(M=lr||iw(o,l,M,c,X,Y,T))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=Y),y.props=c,y.state=Y,y.context=T,c=M):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{y=o.stateNode,pm(s,o),T=o.memoizedProps,ee=Fo(l,T),y.props=ee,ie=o.pendingProps,X=y.context,Y=l.contextType,M=Fa,typeof Y=="object"&&Y!==null&&(M=fn(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==ie||X!==M)&&sw(o,y,c,M),lr=!1,X=o.memoizedState,y.state=X,Lu(o,c,y,m),Vu();var Q=o.memoizedState;T!==ie||X!==Q||lr||s!==null&&s.dependencies!==null&&Jh(s.dependencies)?(typeof S=="function"&&(Nm(o,l,S,c),Q=o.memoizedState),(ee=lr||iw(o,l,ee,c,X,Q,M)||s!==null&&s.dependencies!==null&&Jh(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Q,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Q,M)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=Q),y.props=c,y.state=Q,y.context=M,c=ee):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),c=!1)}return y=c,_f(s,o),c=(o.flags&128)!==0,y||c?(y=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,s!==null&&c?(o.child=Za(o,s.child,null,m),o.child=Za(o,null,l,m)):tn(s,o,l,m),o.memoizedState=y.state,s=o.child):s=Ns(s,o,m),s}function _w(s,o,l,c){return Cu(),o.flags|=256,tn(s,o,l,c),o.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bm(s){return{baseLanes:s,cachePool:o0()}}function jm(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=ui),s}function bw(s,o,l){var c=o.pendingProps,m=!1,y=(o.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(Ft.current&2)!==0),T&&(m=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,s===null){if(He){if(m?fr(o):dr(),He){var S=yt,M;if(M=S){e:{for(M=S,S=Yi;M.nodeType!==8;){if(!S){S=null;break e}if(M=Ei(M.nextSibling),M===null){S=null;break e}}S=M}S!==null?(o.memoizedState={dehydrated:S,treeContext:Oo!==null?{id:Is,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},M=Bn(18,null,null,0),M.stateNode=S,M.return=o,o.child=M,An=o,yt=null,M=!0):M=!1}M||Lo(o)}if(S=o.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Sg(S)?o.lanes=32:o.lanes=536870912,null;Os(o)}return S=c.children,c=c.fallback,m?(dr(),m=o.mode,S=bf({mode:"hidden",children:S},m),c=Mo(c,m,l,null),S.return=o,c.return=o,S.sibling=c,o.child=S,m=o.child,m.memoizedState=Bm(l),m.childLanes=jm(s,T,l),o.memoizedState=zm,c):(fr(o),Fm(o,S))}if(M=s.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(y)o.flags&256?(fr(o),o.flags&=-257,o=qm(s,o,l)):o.memoizedState!==null?(dr(),o.child=s.child,o.flags|=128,o=null):(dr(),m=c.fallback,S=o.mode,c=bf({mode:"visible",children:c.children},S),m=Mo(m,S,l,null),m.flags|=2,c.return=o,m.return=o,c.sibling=m,o.child=c,Za(o,s.child,null,l),c=o.child,c.memoizedState=Bm(l),c.childLanes=jm(s,T,l),o.memoizedState=zm,o=m);else if(fr(o),Sg(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,Iu({value:c,source:null,stack:null}),o=qm(s,o,l)}else if(Kt||Du(s,o,l,!1),T=(l&s.childLanes)!==0,Kt||T){if(T=nt,T!==null&&(c=l&-l,c=(c&42)!==0?1:er(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==M.retryLane))throw M.retryLane=c,ja(s,c),Gn(T,s,c),hw;S.data==="$?"||ag(),o=qm(s,o,l)}else S.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=M.treeContext,yt=Ei(S.nextSibling),An=o,He=!0,Vo=null,Yi=!1,s!==null&&(oi[ai++]=Is,oi[ai++]=Ds,oi[ai++]=Oo,Is=s.id,Ds=s.overflow,Oo=o),o=Fm(o,c.children),o.flags|=4096);return o}return m?(dr(),m=c.fallback,S=o.mode,M=s.child,Y=M.sibling,c=Cs(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,Y!==null?m=Cs(Y,m):(m=Mo(m,S,l,null),m.flags|=2),m.return=o,c.return=o,c.sibling=m,o.child=c,c=m,m=o.child,S=s.child.memoizedState,S===null?S=Bm(l):(M=S.cachePool,M!==null?(Y=jt._currentValue,M=M.parent!==Y?{parent:Y,pool:Y}:M):M=o0(),S={baseLanes:S.baseLanes|l,cachePool:M}),m.memoizedState=S,m.childLanes=jm(s,T,l),o.memoizedState=zm,c):(fr(o),l=s.child,s=l.sibling,l=Cs(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,s!==null&&(T=o.deletions,T===null?(o.deletions=[s],o.flags|=16):T.push(s)),o.child=l,o.memoizedState=null,l)}function Fm(s,o){return o=bf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function bf(s,o){return s=Bn(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function qm(s,o,l){return Za(o,s.child,null,l),s=Fm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function ww(s,o,l){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o),am(s.return,o,l)}function Hm(s,o,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function Tw(s,o,l){var c=o.pendingProps,m=c.revealOrder,y=c.tail;if(tn(s,o,c.children,l),c=Ft.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ww(s,l,o);else if(s.tag===19)ww(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(ae(Ft,c),m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&gf(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Hm(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&gf(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Hm(o,!0,l,null,y);break;case"together":Hm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ns(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),vr|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(Du(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=Cs(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Cs(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function Gm(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Jh(s)))}function uP(s,o,l){switch(o.tag){case 3:tt(o,o.stateNode.containerInfo),ar(o,jt,s.memoizedState.cache),Cu();break;case 27:case 5:Js(o);break;case 4:tt(o,o.stateNode.containerInfo);break;case 10:ar(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(fr(o),o.flags|=128,null):(l&o.child.childLanes)!==0?bw(s,o,l):(fr(o),s=Ns(s,o,l),s!==null?s.sibling:null);fr(o);break;case 19:var m=(s.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(Du(s,o,l,!1),c=(l&o.childLanes)!==0),m){if(c)return Tw(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ae(Ft,Ft.current),c)break;return null;case 22:case 23:return o.lanes=0,mw(s,o,l);case 24:ar(o,jt,s.memoizedState.cache)}return Ns(s,o,l)}function Ew(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)Kt=!0;else{if(!Gm(s,l)&&(o.flags&128)===0)return Kt=!1,uP(s,o,l);Kt=(s.flags&131072)!==0}else Kt=!1,He&&(o.flags&1048576)!==0&&Jb(o,Zh,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var c=o.elementType,m=c._init;if(c=m(c._payload),o.type=c,typeof c=="function")em(c)?(s=Fo(c,s),o.tag=1,o=vw(null,o,c,s,l)):(o.tag=0,o=Um(null,o,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===G){o.tag=11,o=fw(null,o,c,s,l);break e}else if(m===O){o.tag=14,o=dw(null,o,c,s,l);break e}}throw o=Ct(c)||c,Error(i(306,o,""))}}return o;case 0:return Um(s,o,o.type,o.pendingProps,l);case 1:return c=o.type,m=Fo(c,o.pendingProps),vw(s,o,c,m,l);case 3:e:{if(tt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));c=o.pendingProps;var y=o.memoizedState;m=y.element,pm(s,o),Lu(o,c,null,l);var T=o.memoizedState;if(c=T.cache,ar(o,jt,c),c!==y.cache&&lm(o,[jt],l,!0),Vu(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=_w(s,o,c,l);break e}else if(c!==m){m=si(Error(i(424)),o),Iu(m),o=_w(s,o,c,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yt=Ei(s.firstChild),An=o,He=!0,Vo=null,Yi=!0,l=tw(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Cu(),c===m){o=Ns(s,o,l);break e}tn(s,o,c,l)}o=o.child}return o;case 26:return _f(s,o),s===null?(l=RT(o.type,null,o.pendingProps,null))?o.memoizedState=l:He||(l=o.type,s=o.pendingProps,c=Of(Ae.current).createElement(l),c[Ut]=o,c[It]=s,sn(c,l,s),Tt(c),o.stateNode=c):o.memoizedState=RT(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Js(o),s===null&&He&&(c=o.stateNode=ST(o.type,o.pendingProps,Ae.current),An=o,Yi=!0,m=yt,Tr(o.type)?(Ag=m,yt=Ei(c.firstChild)):yt=m),tn(s,o,o.pendingProps.children,l),_f(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&He&&((m=c=yt)&&(c=LP(c,o.type,o.pendingProps,Yi),c!==null?(o.stateNode=c,An=o,yt=Ei(c.firstChild),Yi=!1,m=!0):m=!1),m||Lo(o)),Js(o),m=o.type,y=o.pendingProps,T=s!==null?s.memoizedProps:null,c=y.children,wg(m,y)?c=null:T!==null&&wg(m,T)&&(o.flags|=32),o.memoizedState!==null&&(m=bm(s,o,tP,null,null,l),rc._currentValue=m),_f(s,o),tn(s,o,c,l),o.child;case 6:return s===null&&He&&((s=l=yt)&&(l=UP(l,o.pendingProps,Yi),l!==null?(o.stateNode=l,An=o,yt=null,s=!0):s=!1),s||Lo(o)),null;case 13:return bw(s,o,l);case 4:return tt(o,o.stateNode.containerInfo),c=o.pendingProps,s===null?o.child=Za(o,null,c,l):tn(s,o,c,l),o.child;case 11:return fw(s,o,o.type,o.pendingProps,l);case 7:return tn(s,o,o.pendingProps,l),o.child;case 8:return tn(s,o,o.pendingProps.children,l),o.child;case 12:return tn(s,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,ar(o,o.type,c.value),tn(s,o,c.children,l),o.child;case 9:return m=o.type._context,c=o.pendingProps.children,zo(o),m=fn(m),c=c(m),o.flags|=1,tn(s,o,c,l),o.child;case 14:return dw(s,o,o.type,o.pendingProps,l);case 15:return pw(s,o,o.type,o.pendingProps,l);case 19:return Tw(s,o,l);case 31:return c=o.pendingProps,l=o.mode,c={mode:c.mode,children:c.children},s===null?(l=bf(c,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=Cs(s.child,c),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return mw(s,o,l);case 24:return zo(o),c=fn(jt),s===null?(m=hm(),m===null&&(m=nt,y=um(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),o.memoizedState={parent:c,cache:m},dm(o),ar(o,jt,m)):((s.lanes&l)!==0&&(pm(s,o),Lu(o,null,null,l),Vu()),m=s.memoizedState,y=o.memoizedState,m.parent!==c?(m={parent:c,cache:c},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),ar(o,jt,c)):(c=y.cache,ar(o,jt,c),c!==m.cache&&lm(o,[jt],l,!0))),tn(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Vs(s){s.flags|=4}function Sw(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!kT(o)){if(o=li.current,o!==null&&((je&4194048)===je?Xi!==null:(je&62914560)!==je&&(je&536870912)===0||o!==Xi))throw Ou=fm,a0;s.flags|=8192}}function wf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?au():536870912,s.lanes|=o,nl|=o)}function Hu(s,o){if(!He)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ft(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,o}function cP(s,o,l){var c=o.pendingProps;switch(sm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(o),null;case 1:return ft(o),null;case 3:return l=o.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ks(jt),Vi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ru(o)?Vs(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,n0())),ft(o),null;case 26:return l=o.memoizedState,s===null?(Vs(o),l!==null?(ft(o),Sw(o,l)):(ft(o),o.flags&=-16777217)):l?l!==s.memoizedState?(Vs(o),ft(o),Sw(o,l)):(ft(o),o.flags&=-16777217):(s.memoizedProps!==c&&Vs(o),ft(o),o.flags&=-16777217),null;case 27:ms(o),l=Ae.current;var m=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==c&&Vs(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return ft(o),null}s=ye.current,Ru(o)?e0(o):(s=ST(m,c,l),o.stateNode=s,Vs(o))}return ft(o),null;case 5:if(ms(o),l=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&Vs(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return ft(o),null}if(s=ye.current,Ru(o))e0(o);else{switch(m=Of(Ae.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[Ut]=o,s[It]=c;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=s;e:switch(sn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Vs(o)}}return ft(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==c&&Vs(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(i(166));if(s=Ae.current,Ru(o)){if(s=o.stateNode,l=o.memoizedProps,c=null,m=An,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Ut]=o,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||yT(s.nodeValue,l)),s||Lo(o)}else s=Of(s).createTextNode(c),s[Ut]=o,o.stateNode=s}return ft(o),null;case 13:if(c=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Ru(o),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ut]=o}else Cu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ft(o),m=!1}else m=n0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Os(o),o):(Os(o),null)}if(Os(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=o.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(o.child.flags|=8192),wf(o,o.updateQueue),ft(o),null;case 4:return Vi(),s===null&&gg(o.stateNode.containerInfo),ft(o),null;case 10:return ks(o.type),ft(o),null;case 19:if(ce(Ft),m=o.memoizedState,m===null)return ft(o),null;if(c=(o.flags&128)!==0,y=m.rendering,y===null)if(c)Hu(m,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(y=gf(s),y!==null){for(o.flags|=128,Hu(m,!1),s=y.updateQueue,o.updateQueue=s,wf(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)Zb(l,s),l=l.sibling;return ae(Ft,Ft.current&1|2),o.child}s=s.sibling}m.tail!==null&&Zn()>Sf&&(o.flags|=128,c=!0,Hu(m,!1),o.lanes=4194304)}else{if(!c)if(s=gf(y),s!==null){if(o.flags|=128,c=!0,s=s.updateQueue,o.updateQueue=s,wf(o,s),Hu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!He)return ft(o),null}else 2*Zn()-m.renderingStartTime>Sf&&l!==536870912&&(o.flags|=128,c=!0,Hu(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(s=m.last,s!==null?s.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Zn(),o.sibling=null,s=Ft.current,ae(Ft,c?s&1|2:s&1),o):(ft(o),null);case 22:case 23:return Os(o),vm(),c=o.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(ft(o),o.subtreeFlags&6&&(o.flags|=8192)):ft(o),l=o.updateQueue,l!==null&&wf(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),s!==null&&ce(Bo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),ks(jt),ft(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function hP(s,o){switch(sm(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ks(jt),Vi(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return ms(o),null;case 13:if(Os(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Cu()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ce(Ft),null;case 4:return Vi(),null;case 10:return ks(o.type),null;case 22:case 23:return Os(o),vm(),s!==null&&ce(Bo),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ks(jt),null;case 25:return null;default:return null}}function Aw(s,o){switch(sm(o),o.tag){case 3:ks(jt),Vi();break;case 26:case 27:case 5:ms(o);break;case 4:Vi();break;case 13:Os(o);break;case 19:ce(Ft);break;case 10:ks(o.type);break;case 22:case 23:Os(o),vm(),s!==null&&ce(Bo);break;case 24:ks(jt)}}function Gu(s,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==m)}}catch(S){et(o,o.return,S)}}function pr(s,o,l){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,m=o;var M=l,Y=S;try{Y()}catch(ee){et(m,M,ee)}}}c=c.next}while(c!==y)}}catch(ee){et(o,o.return,ee)}}function xw(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{d0(o,l)}catch(c){et(s,s.return,c)}}}function Rw(s,o,l){l.props=Fo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){et(s,o,c)}}function $u(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){et(s,o,m)}}function Qi(s,o){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){et(s,o,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){et(s,o,m)}else l.current=null}function Cw(s){var o=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){et(s,s.return,m)}}function $m(s,o,l){try{var c=s.stateNode;kP(c,s.type,l,o),c[It]=o}catch(m){et(s,s.return,m)}}function Iw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Tr(s.type)||s.tag===4}function Km(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Iw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Tr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ym(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Mf));else if(c!==4&&(c===27&&Tr(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(Ym(s,o,l),s=s.sibling;s!==null;)Ym(s,o,l),s=s.sibling}function Tf(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(c!==4&&(c===27&&Tr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Tf(s,o,l),s=s.sibling;s!==null;)Tf(s,o,l),s=s.sibling}function Dw(s){var o=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);sn(o,c,l),o[Ut]=s,o[It]=l}catch(y){et(s,s.return,y)}}var Ls=!1,St=!1,Xm=!1,Pw=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function fP(s,o){if(s=s.containerInfo,_g=Bf,s=Fb(s),Kp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,S=-1,M=-1,Y=0,ee=0,ie=s,X=null;t:for(;;){for(var Q;ie!==l||m!==0&&ie.nodeType!==3||(S=T+m),ie!==y||c!==0&&ie.nodeType!==3||(M=T+c),ie.nodeType===3&&(T+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)X=ie,ie=Q;for(;;){if(ie===s)break t;if(X===l&&++Y===m&&(S=T),X===y&&++ee===c&&(M=T),(Q=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Q}l=S===-1||M===-1?null:{start:S,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(bg={focusedElem:s,selectionRange:l},Bf=!1,Yt=o;Yt!==null;)if(o=Yt,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Yt=s;else for(;Yt!==null;){switch(o=Yt,y=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=o,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ee=Fo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ee,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(ve){et(l,l.return,ve)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)Eg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Eg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Yt=s;break}Yt=o.return}}function kw(s,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:mr(s,l),c&4&&Gu(5,l);break;case 1:if(mr(s,l),c&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(T){et(l,l.return,T)}else{var m=Fo(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(m,o,s.__reactInternalSnapshotBeforeUpdate)}catch(T){et(l,l.return,T)}}c&64&&xw(l),c&512&&$u(l,l.return);break;case 3:if(mr(s,l),c&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{d0(s,o)}catch(T){et(l,l.return,T)}}break;case 27:o===null&&c&4&&Dw(l);case 26:case 5:mr(s,l),o===null&&c&4&&Cw(l),c&512&&$u(l,l.return);break;case 12:mr(s,l);break;case 13:mr(s,l),c&4&&Nw(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=wP.bind(null,l),zP(s,l))));break;case 22:if(c=l.memoizedState!==null||Ls,!c){o=o!==null&&o.memoizedState!==null||St,m=Ls;var y=St;Ls=c,(St=o)&&!y?gr(s,l,(l.subtreeFlags&8772)!==0):mr(s,l),Ls=m,St=y}break;case 30:break;default:mr(s,l)}}function Mw(s){var o=s.alternate;o!==null&&(s.alternate=null,Mw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ir(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var lt=null,Pn=!1;function Us(s,o,l){for(l=l.child;l!==null;)Ow(s,o,l),l=l.sibling}function Ow(s,o,l){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(gt,l)}catch{}switch(l.tag){case 26:St||Qi(l,o),Us(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:St||Qi(l,o);var c=lt,m=Pn;Tr(l.type)&&(lt=l.stateNode,Pn=!1),Us(s,o,l),tc(l.stateNode),lt=c,Pn=m;break;case 5:St||Qi(l,o);case 6:if(c=lt,m=Pn,lt=null,Us(s,o,l),lt=c,Pn=m,lt!==null)if(Pn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(y){et(l,o,y)}else try{lt.removeChild(l.stateNode)}catch(y){et(l,o,y)}break;case 18:lt!==null&&(Pn?(s=lt,TT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),uc(s)):TT(lt,l.stateNode));break;case 4:c=lt,m=Pn,lt=l.stateNode.containerInfo,Pn=!0,Us(s,o,l),lt=c,Pn=m;break;case 0:case 11:case 14:case 15:St||pr(2,l,o),St||pr(4,l,o),Us(s,o,l);break;case 1:St||(Qi(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Rw(l,o,c)),Us(s,o,l);break;case 21:Us(s,o,l);break;case 22:St=(c=St)||l.memoizedState!==null,Us(s,o,l),St=c;break;default:Us(s,o,l)}}function Nw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{uc(s)}catch(l){et(o,o.return,l)}}function dP(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Pw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Pw),o;default:throw Error(i(435,s.tag))}}function Qm(s,o){var l=dP(s);o.forEach(function(c){var m=TP.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function jn(s,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,T=o,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Tr(S.type)){lt=S.stateNode,Pn=!1;break e}break;case 5:lt=S.stateNode,Pn=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,Pn=!0;break e}S=S.return}if(lt===null)throw Error(i(160));Ow(y,T,m),lt=null,Pn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Vw(o,s),o=o.sibling}var Ti=null;function Vw(s,o){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:jn(o,s),Fn(s),c&4&&(pr(3,s,s.return),Gu(3,s),pr(5,s,s.return));break;case 1:jn(o,s),Fn(s),c&512&&(St||l===null||Qi(l,l.return)),c&64&&Ls&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Ti;if(jn(o,s),Fn(s),c&512&&(St||l===null||Qi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[yo]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),sn(y,c,l),y[Ut]=s,Tt(y),c=y;break e;case"link":var T=DT("link","href",m).get(c+(l.href||""));if(T){for(var S=0;S<T.length;S++)if(y=T[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(S,1);break t}}y=m.createElement(c),sn(y,c,l),m.head.appendChild(y);break;case"meta":if(T=DT("meta","content",m).get(c+(l.content||""))){for(S=0;S<T.length;S++)if(y=T[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(S,1);break t}}y=m.createElement(c),sn(y,c,l),m.head.appendChild(y);break;default:throw Error(i(468,c))}y[Ut]=s,Tt(y),c=y}s.stateNode=c}else PT(m,s.type,s.stateNode);else s.stateNode=IT(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?PT(m,s.type,s.stateNode):IT(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&$m(s,s.memoizedProps,l.memoizedProps)}break;case 27:jn(o,s),Fn(s),c&512&&(St||l===null||Qi(l,l.return)),l!==null&&c&4&&$m(s,s.memoizedProps,l.memoizedProps);break;case 5:if(jn(o,s),Fn(s),c&512&&(St||l===null||Qi(l,l.return)),s.flags&32){m=s.stateNode;try{ei(m,"")}catch(Q){et(s,s.return,Q)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,$m(s,m,l!==null?l.memoizedProps:m)),c&1024&&(Xm=!0);break;case 6:if(jn(o,s),Fn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Q){et(s,s.return,Q)}}break;case 3:if(Lf=null,m=Ti,Ti=Nf(o.containerInfo),jn(o,s),Ti=m,Fn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{uc(o.containerInfo)}catch(Q){et(s,s.return,Q)}Xm&&(Xm=!1,Lw(s));break;case 4:c=Ti,Ti=Nf(s.stateNode.containerInfo),jn(o,s),Fn(s),Ti=c;break;case 12:jn(o,s),Fn(s);break;case 13:jn(o,s),Fn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ng=Zn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qm(s,c)));break;case 22:m=s.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,Y=Ls,ee=St;if(Ls=Y||m,St=ee||M,jn(o,s),St=ee,Ls=Y,Fn(s),c&8192)e:for(o=s.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||M||Ls||St||qo(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){M=l=o;try{if(y=M.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=M.stateNode;var ie=M.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){et(M,M.return,Q)}}}else if(o.tag===6){if(l===null){M=o;try{M.stateNode.nodeValue=m?"":M.memoizedProps}catch(Q){et(M,M.return,Q)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Qm(s,l))));break;case 19:jn(o,s),Fn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qm(s,c)));break;case 30:break;case 21:break;default:jn(o,s),Fn(s)}}function Fn(s){var o=s.flags;if(o&2){try{for(var l,c=s.return;c!==null;){if(Iw(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,y=Km(s);Tf(s,y,m);break;case 5:var T=l.stateNode;l.flags&32&&(ei(T,""),l.flags&=-33);var S=Km(s);Tf(s,S,T);break;case 3:case 4:var M=l.stateNode.containerInfo,Y=Km(s);Ym(s,Y,M);break;default:throw Error(i(161))}}catch(ee){et(s,s.return,ee)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Lw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Lw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function mr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kw(s,o.alternate,o),o=o.sibling}function qo(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:pr(4,o,o.return),qo(o);break;case 1:Qi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Rw(o,o.return,l),qo(o);break;case 27:tc(o.stateNode);case 26:case 5:Qi(o,o.return),qo(o);break;case 22:o.memoizedState===null&&qo(o);break;case 30:qo(o);break;default:qo(o)}s=s.sibling}}function gr(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,m=s,y=o,T=y.flags;switch(y.tag){case 0:case 11:case 15:gr(m,y,l),Gu(4,y);break;case 1:if(gr(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){et(c,c.return,Y)}if(c=y,m=c.updateQueue,m!==null){var S=c.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)f0(M[m],S)}catch(Y){et(c,c.return,Y)}}l&&T&64&&xw(y),$u(y,y.return);break;case 27:Dw(y);case 26:case 5:gr(m,y,l),l&&c===null&&T&4&&Cw(y),$u(y,y.return);break;case 12:gr(m,y,l);break;case 13:gr(m,y,l),l&&T&4&&Nw(m,y);break;case 22:y.memoizedState===null&&gr(m,y,l),$u(y,y.return);break;case 30:break;default:gr(m,y,l)}o=o.sibling}}function Wm(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Pu(l))}function Zm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pu(s))}function Wi(s,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Uw(s,o,l,c),o=o.sibling}function Uw(s,o,l,c){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Wi(s,o,l,c),m&2048&&Gu(9,o);break;case 1:Wi(s,o,l,c);break;case 3:Wi(s,o,l,c),m&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pu(s)));break;case 12:if(m&2048){Wi(s,o,l,c),s=o.stateNode;try{var y=o.memoizedProps,T=y.id,S=y.onPostCommit;typeof S=="function"&&S(T,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(M){et(o,o.return,M)}}else Wi(s,o,l,c);break;case 13:Wi(s,o,l,c);break;case 23:break;case 22:y=o.stateNode,T=o.alternate,o.memoizedState!==null?y._visibility&2?Wi(s,o,l,c):Ku(s,o):y._visibility&2?Wi(s,o,l,c):(y._visibility|=2,Ja(s,o,l,c,(o.subtreeFlags&10256)!==0)),m&2048&&Wm(T,o);break;case 24:Wi(s,o,l,c),m&2048&&Zm(o.alternate,o);break;default:Wi(s,o,l,c)}}function Ja(s,o,l,c,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=s,T=o,S=l,M=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Ja(y,T,S,M,m),Gu(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&2?Ja(y,T,S,M,m):Ku(y,T):(ee._visibility|=2,Ja(y,T,S,M,m)),m&&Y&2048&&Wm(T.alternate,T);break;case 24:Ja(y,T,S,M,m),m&&Y&2048&&Zm(T.alternate,T);break;default:Ja(y,T,S,M,m)}o=o.sibling}}function Ku(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,c=o,m=c.flags;switch(c.tag){case 22:Ku(l,c),m&2048&&Wm(c.alternate,c);break;case 24:Ku(l,c),m&2048&&Zm(c.alternate,c);break;default:Ku(l,c)}o=o.sibling}}var Yu=8192;function el(s){if(s.subtreeFlags&Yu)for(s=s.child;s!==null;)zw(s),s=s.sibling}function zw(s){switch(s.tag){case 26:el(s),s.flags&Yu&&s.memoizedState!==null&&ZP(Ti,s.memoizedState,s.memoizedProps);break;case 5:el(s);break;case 3:case 4:var o=Ti;Ti=Nf(s.stateNode.containerInfo),el(s),Ti=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Yu,Yu=16777216,el(s),Yu=o):el(s));break;default:el(s)}}function Bw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Xu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];Yt=c,Fw(c,s)}Bw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jw(s),s=s.sibling}function jw(s){switch(s.tag){case 0:case 11:case 15:Xu(s),s.flags&2048&&pr(9,s,s.return);break;case 3:Xu(s);break;case 12:Xu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Ef(s)):Xu(s);break;default:Xu(s)}}function Ef(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];Yt=c,Fw(c,s)}Bw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:pr(8,o,o.return),Ef(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Ef(o));break;default:Ef(o)}s=s.sibling}}function Fw(s,o){for(;Yt!==null;){var l=Yt;switch(l.tag){case 0:case 11:case 15:pr(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Pu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Yt=c;else e:for(l=s;Yt!==null;){c=Yt;var m=c.sibling,y=c.return;if(Mw(c),c===l){Yt=null;break e}if(m!==null){m.return=y,Yt=m;break e}Yt=y}}}var pP={getCacheForType:function(s){var o=fn(jt),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l}},mP=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Oe=null,je=0,Xe=0,qn=null,yr=!1,tl=!1,Jm=!1,zs=0,vt=0,vr=0,Ho=0,eg=0,ui=0,nl=0,Qu=null,kn=null,tg=!1,ng=0,Sf=1/0,Af=null,_r=null,nn=0,br=null,il=null,sl=0,ig=0,sg=null,qw=null,Wu=0,rg=null;function Hn(){if((Ye&2)!==0&&je!==0)return je&-je;if(J.T!==null){var s=Ga;return s!==0?s:fg()}return tr()}function Hw(){ui===0&&(ui=(je&536870912)===0||He?ou():536870912);var s=li.current;return s!==null&&(s.flags|=32),ui}function Gn(s,o,l){(s===nt&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)&&(rl(s,0),wr(s,je,ui,!1)),ys(s,l),((Ye&2)===0||s!==nt)&&(s===nt&&((Ye&2)===0&&(Ho|=l),vt===4&&wr(s,je,ui,!1)),Zi(s))}function Gw(s,o,l){if((Ye&6)!==0)throw Error(i(327));var c=!l&&(o&124)===0&&(o&s.expiredLanes)===0||go(s,o),m=c?vP(s,o):lg(s,o,!0),y=c;do{if(m===0){tl&&!c&&wr(s,o,0,!1);break}else{if(l=s.current.alternate,y&&!gP(l)){m=lg(s,o,!1),y=!1;continue}if(m===2){if(y=o,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var S=s;m=Qu;var M=S.current.memoizedState.isDehydrated;if(M&&(rl(S,T).flags|=256),T=lg(S,T,!1),T!==2){if(Jm&&!M){S.errorRecoveryDisabledLanes|=y,Ho|=y,m=4;break e}y=kn,kn=m,y!==null&&(kn===null?kn=y:kn.push.apply(kn,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){rl(s,0),wr(s,o,0,!0);break}e:{switch(c=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:wr(c,o,ui,!yr);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=ng+300-Zn(),10<m)){if(wr(c,o,ui,!yr),Ta(c,0,!0)!==0)break e;c.timeoutHandle=bT($w.bind(null,c,l,kn,Af,tg,o,ui,Ho,nl,yr,y,2,-0,0),m);break e}$w(c,l,kn,Af,tg,o,ui,Ho,nl,yr,y,0,-0,0)}}break}while(!0);Zi(s)}function $w(s,o,l,c,m,y,T,S,M,Y,ee,ie,X,Q){if(s.timeoutHandle=-1,ie=o.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(sc={stylesheets:null,count:0,unsuspend:WP},zw(o),ie=JP(),ie!==null)){s.cancelPendingCommit=ie(Jw.bind(null,s,o,y,l,c,m,T,S,M,ee,1,X,Q)),wr(s,y,T,!Y);return}Jw(s,o,y,l,c,m,T,S,M)}function gP(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!zn(y(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function wr(s,o,l,c){o&=~eg,o&=~Ho,s.suspendedLanes|=o,s.pingedLanes&=~o,c&&(s.warmLanes|=o),c=s.expirationTimes;for(var m=o;0<m;){var y=31-hn(m),T=1<<y;c[y]=-1,m&=~T}l!==0&&Li(s,l,o)}function xf(){return(Ye&6)===0?(Zu(0),!1):!0}function og(){if(Oe!==null){if(Xe===0)var s=Oe.return;else s=Oe,Ps=Uo=null,Em(s),Wa=null,Fu=0,s=Oe;for(;s!==null;)Aw(s.alternate,s),s=s.return;Oe=null}}function rl(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,OP(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),og(),nt=s,Oe=l=Cs(s.current,null),je=o,Xe=0,qn=null,yr=!1,tl=go(s,o),Jm=!1,nl=ui=eg=Ho=vr=vt=0,kn=Qu=null,tg=!1,(o&8)!==0&&(o|=o&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=o;0<c;){var m=31-hn(c),y=1<<m;o|=s[m],c&=~y}return zs=o,Kh(),l}function Kw(s,o){Pe=null,J.H=df,o===Mu||o===nf?(o=c0(),Xe=3):o===a0?(o=c0(),Xe=4):Xe=o===hw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,qn=o,Oe===null&&(vt=1,vf(s,si(o,s.current)))}function Yw(){var s=J.H;return J.H=df,s===null?df:s}function Xw(){var s=J.A;return J.A=pP,s}function ag(){vt=4,yr||(je&4194048)!==je&&li.current!==null||(tl=!0),(vr&134217727)===0&&(Ho&134217727)===0||nt===null||wr(nt,je,ui,!1)}function lg(s,o,l){var c=Ye;Ye|=2;var m=Yw(),y=Xw();(nt!==s||je!==o)&&(Af=null,rl(s,o)),o=!1;var T=vt;e:do try{if(Xe!==0&&Oe!==null){var S=Oe,M=qn;switch(Xe){case 8:og(),T=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(o=!0);var Y=Xe;if(Xe=0,qn=null,ol(s,S,M,Y),l&&tl){T=0;break e}break;default:Y=Xe,Xe=0,qn=null,ol(s,S,M,Y)}}yP(),T=vt;break}catch(ee){Kw(s,ee)}while(!0);return o&&s.shellSuspendCounter++,Ps=Uo=null,Ye=c,J.H=m,J.A=y,Oe===null&&(nt=null,je=0,Kh()),T}function yP(){for(;Oe!==null;)Qw(Oe)}function vP(s,o){var l=Ye;Ye|=2;var c=Yw(),m=Xw();nt!==s||je!==o?(Af=null,Sf=Zn()+500,rl(s,o)):tl=go(s,o);e:do try{if(Xe!==0&&Oe!==null){o=Oe;var y=qn;t:switch(Xe){case 1:Xe=0,qn=null,ol(s,o,y,1);break;case 2:case 9:if(l0(y)){Xe=0,qn=null,Ww(o);break}o=function(){Xe!==2&&Xe!==9||nt!==s||(Xe=7),Zi(s)},y.then(o,o);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:l0(y)?(Xe=0,qn=null,Ww(o)):(Xe=0,qn=null,ol(s,o,y,7));break;case 5:var T=null;switch(Oe.tag){case 26:T=Oe.memoizedState;case 5:case 27:var S=Oe;if(!T||kT(T)){Xe=0,qn=null;var M=S.sibling;if(M!==null)Oe=M;else{var Y=S.return;Y!==null?(Oe=Y,Rf(Y)):Oe=null}break t}}Xe=0,qn=null,ol(s,o,y,5);break;case 6:Xe=0,qn=null,ol(s,o,y,6);break;case 8:og(),vt=6;break e;default:throw Error(i(462))}}_P();break}catch(ee){Kw(s,ee)}while(!0);return Ps=Uo=null,J.H=c,J.A=m,Ye=l,Oe!==null?0:(nt=null,je=0,Kh(),vt)}function _P(){for(;Oe!==null&&!nu();)Qw(Oe)}function Qw(s){var o=Ew(s.alternate,s,zs);s.memoizedProps=s.pendingProps,o===null?Rf(s):Oe=o}function Ww(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=yw(l,o,o.pendingProps,o.type,void 0,je);break;case 11:o=yw(l,o,o.pendingProps,o.type.render,o.ref,je);break;case 5:Em(o);default:Aw(l,o),o=Oe=Zb(o,zs),o=Ew(l,o,zs)}s.memoizedProps=s.pendingProps,o===null?Rf(s):Oe=o}function ol(s,o,l,c){Ps=Uo=null,Em(o),Wa=null,Fu=0;var m=o.return;try{if(lP(s,m,o,l,je)){vt=1,vf(s,si(l,s.current)),Oe=null;return}}catch(y){if(m!==null)throw Oe=m,y;vt=1,vf(s,si(l,s.current)),Oe=null;return}o.flags&32768?(He||c===1?s=!0:tl||(je&536870912)!==0?s=!1:(yr=s=!0,(c===2||c===9||c===3||c===6)&&(c=li.current,c!==null&&c.tag===13&&(c.flags|=16384))),Zw(o,s)):Rf(o)}function Rf(s){var o=s;do{if((o.flags&32768)!==0){Zw(o,yr);return}s=o.return;var l=cP(o.alternate,o,zs);if(l!==null){Oe=l;return}if(o=o.sibling,o!==null){Oe=o;return}Oe=o=s}while(o!==null);vt===0&&(vt=5)}function Zw(s,o){do{var l=hP(s.alternate,s);if(l!==null){l.flags&=32767,Oe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){Oe=s;return}Oe=s=l}while(s!==null);vt=6,Oe=null}function Jw(s,o,l,c,m,y,T,S,M){s.cancelPendingCommit=null;do Cf();while(nn!==0);if((Ye&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(y=o.lanes|o.childLanes,y|=Zp,lu(s,l,y,T,S,M),s===nt&&(Oe=nt=null,je=0),il=o,br=s,sl=l,ig=y,sg=m,qw=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,EP(ho,function(){return sT(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,m=oe.p,oe.p=2,T=Ye,Ye|=4;try{fP(s,o,l)}finally{Ye=T,oe.p=m,J.T=c}}nn=1,eT(),tT(),nT()}}function eT(){if(nn===1){nn=0;var s=br,o=il,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var c=oe.p;oe.p=2;var m=Ye;Ye|=4;try{Vw(o,s);var y=bg,T=Fb(s.containerInfo),S=y.focusedElem,M=y.selectionRange;if(T!==S&&S&&S.ownerDocument&&jb(S.ownerDocument.documentElement,S)){if(M!==null&&Kp(S)){var Y=M.start,ee=M.end;if(ee===void 0&&(ee=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ee,S.value.length);else{var ie=S.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Q=X.getSelection(),Ee=S.textContent.length,ve=Math.min(M.start,Ee),Je=M.end===void 0?ve:Math.min(M.end,Ee);!Q.extend&&ve>Je&&(T=Je,Je=ve,ve=T);var H=Bb(S,ve),z=Bb(S,Je);if(H&&z&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var K=ie.createRange();K.setStart(H.node,H.offset),Q.removeAllRanges(),ve>Je?(Q.addRange(K),Q.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),Q.addRange(K))}}}}for(ie=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Bf=!!_g,bg=_g=null}finally{Ye=m,oe.p=c,J.T=l}}s.current=o,nn=2}}function tT(){if(nn===2){nn=0;var s=br,o=il,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var c=oe.p;oe.p=2;var m=Ye;Ye|=4;try{kw(s,o.alternate,o)}finally{Ye=m,oe.p=c,J.T=l}}nn=3}}function nT(){if(nn===4||nn===3){nn=0,Th();var s=br,o=il,l=sl,c=qw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?nn=5:(nn=0,il=br=null,iT(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(_r=null),Ea(l),o=o.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(gt,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=J.T,m=oe.p,oe.p=2,J.T=null;try{for(var y=s.onRecoverableError,T=0;T<c.length;T++){var S=c[T];y(S.value,{componentStack:S.stack})}}finally{J.T=o,oe.p=m}}(sl&3)!==0&&Cf(),Zi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===rg?Wu++:(Wu=0,rg=s):Wu=0,Zu(0)}}function iT(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Pu(o)))}function Cf(s){return eT(),tT(),nT(),sT()}function sT(){if(nn!==5)return!1;var s=br,o=ig;ig=0;var l=Ea(sl),c=J.T,m=oe.p;try{oe.p=32>l?32:l,J.T=null,l=sg,sg=null;var y=br,T=sl;if(nn=0,il=br=null,sl=0,(Ye&6)!==0)throw Error(i(331));var S=Ye;if(Ye|=4,jw(y.current),Uw(y,y.current,T,l),Ye=S,Zu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(gt,y)}catch{}return!0}finally{oe.p=m,J.T=c,iT(s,o)}}function rT(s,o,l){o=si(l,o),o=Lm(s.stateNode,o,2),s=cr(s,o,2),s!==null&&(ys(s,2),Zi(s))}function et(s,o,l){if(s.tag===3)rT(s,s,l);else for(;o!==null;){if(o.tag===3){rT(o,s,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_r===null||!_r.has(c))){s=si(l,s),l=uw(2),c=cr(o,l,2),c!==null&&(cw(l,c,o,s),ys(c,2),Zi(c));break}}o=o.return}}function ug(s,o,l){var c=s.pingCache;if(c===null){c=s.pingCache=new mP;var m=new Set;c.set(o,m)}else m=c.get(o),m===void 0&&(m=new Set,c.set(o,m));m.has(l)||(Jm=!0,m.add(l),s=bP.bind(null,s,o,l),o.then(s,s))}function bP(s,o,l){var c=s.pingCache;c!==null&&c.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,nt===s&&(je&l)===l&&(vt===4||vt===3&&(je&62914560)===je&&300>Zn()-ng?(Ye&2)===0&&rl(s,0):eg|=l,nl===je&&(nl=0)),Zi(s)}function oT(s,o){o===0&&(o=au()),s=ja(s,o),s!==null&&(ys(s,o),Zi(s))}function wP(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),oT(s,l)}function TP(s,o){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(o),oT(s,l)}function EP(s,o){return uo(s,o)}var If=null,al=null,cg=!1,Df=!1,hg=!1,Go=0;function Zi(s){s!==al&&s.next===null&&(al===null?If=al=s:al=al.next=s),Df=!0,cg||(cg=!0,AP())}function Zu(s,o){if(!hg&&Df){hg=!0;do for(var l=!1,c=If;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-hn(42|s)+1)-1,y&=m&~(T&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,cT(c,y))}else y=je,y=Ta(c,c===nt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||go(c,y)||(l=!0,cT(c,y));c=c.next}while(l);hg=!1}}function SP(){aT()}function aT(){Df=cg=!1;var s=0;Go!==0&&(MP()&&(s=Go),Go=0);for(var o=Zn(),l=null,c=If;c!==null;){var m=c.next,y=lT(c,o);y===0?(c.next=null,l===null?If=m:l.next=m,m===null&&(al=l)):(l=c,(s!==0||(y&3)!==0)&&(Df=!0)),c=m}Zu(s)}function lT(s,o){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-hn(y),S=1<<T,M=m[T];M===-1?((S&l)===0||(S&c)!==0)&&(m[T]=ru(S,o)):M<=o&&(s.expiredLanes|=S),y&=~S}if(o=nt,l=je,l=Ta(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===o&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&co(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||go(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(c!==null&&co(c),Ea(l)){case 2:case 8:l=ba;break;case 32:l=ho;break;case 268435456:l=wa;break;default:l=ho}return c=uT.bind(null,s),l=uo(l,c),s.callbackPriority=o,s.callbackNode=l,o}return c!==null&&c!==null&&co(c),s.callbackPriority=2,s.callbackNode=null,2}function uT(s,o){if(nn!==0&&nn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Cf()&&s.callbackNode!==l)return null;var c=je;return c=Ta(s,s===nt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Gw(s,c,o),lT(s,Zn()),s.callbackNode!=null&&s.callbackNode===l?uT.bind(null,s):null)}function cT(s,o){if(Cf())return null;Gw(s,o,!0)}function AP(){NP(function(){(Ye&6)!==0?uo(iu,SP):aT()})}function fg(){return Go===0&&(Go=ou()),Go}function hT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ia(""+s)}function fT(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function xP(s,o,l,c,m){if(o==="submit"&&l&&l.stateNode===m){var y=hT((m[It]||null).action),T=c.submitter;T&&(o=(o=T[It]||null)?hT(o.formAction):T.getAttribute("formAction"),o!==null&&(y=o,T=null));var S=new Da("action","action",null,c,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Go!==0){var M=T?fT(m,T):new FormData(m);km(l,{pending:!0,data:M,method:m.method,action:y},null,M)}}else typeof y=="function"&&(S.preventDefault(),M=T?fT(m,T):new FormData(m),km(l,{pending:!0,data:M,method:m.method,action:y},y,M))},currentTarget:m}]})}}for(var dg=0;dg<Wp.length;dg++){var pg=Wp[dg],RP=pg.toLowerCase(),CP=pg[0].toUpperCase()+pg.slice(1);wi(RP,"on"+CP)}wi(Gb,"onAnimationEnd"),wi($b,"onAnimationIteration"),wi(Kb,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(GD,"onTransitionRun"),wi($D,"onTransitionStart"),wi(KD,"onTransitionCancel"),wi(Yb,"onTransitionEnd"),_s("onMouseEnter",["mouseout","mouseover"]),_s("onMouseLeave",["mouseout","mouseover"]),_s("onPointerEnter",["pointerout","pointerover"]),_s("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function dT(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(o)for(var T=c.length-1;0<=T;T--){var S=c[T],M=S.instance,Y=S.currentTarget;if(S=S.listener,M!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=Y;try{y(m)}catch(ee){yf(ee)}m.currentTarget=null,y=M}else for(T=0;T<c.length;T++){if(S=c[T],M=S.instance,Y=S.currentTarget,S=S.listener,M!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=Y;try{y(m)}catch(ee){yf(ee)}m.currentTarget=null,y=M}}}}function Ne(s,o){var l=o[cu];l===void 0&&(l=o[cu]=new Set);var c=s+"__bubble";l.has(c)||(pT(o,s,2,!1),l.add(c))}function mg(s,o,l){var c=0;o&&(c|=4),pT(l,s,c,o)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function gg(s){if(!s[Pf]){s[Pf]=!0,hu.forEach(function(l){l!=="selectionchange"&&(IP.has(l)||mg(l,!1,s),mg(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Pf]||(o[Pf]=!0,mg("selectionchange",!1,o))}}function pT(s,o,l,c){switch(UT(o)){case 2:var m=nk;break;case 8:m=ik;break;default:m=Dg}l=m.bind(null,o,l,s),m=void 0,!ni||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function yg(s,o,l,c,m){var y=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===m)break;if(T===4)for(T=c.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;S!==null;){if(T=vs(S),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){c=y=T;continue e}S=S.parentNode}}c=c.return}kh(function(){var Y=y,ee=ti(l),ie=[];e:{var X=Xb.get(s);if(X!==void 0){var Q=Da,Ee=s;switch(s){case"keypress":if(qi(l)===0)break e;case"keydown":case"keyup":Q=Va;break;case"focusin":Ee="focus",Q=Ma;break;case"focusout":Ee="blur",Q=Ma;break;case"beforeblur":case"afterblur":Q=Ma;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Bh;break;case Gb:case $b:case Kb:Q=Oa;break;case Yb:Q=Fh;break;case"scroll":case"scrollend":Q=Mh;break;case"wheel":Q=La;break;case"copy":case"cut":case"paste":Q=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Eu;break;case"toggle":case"beforetoggle":Q=Hh}var ve=(o&4)!==0,Je=!ve&&(s==="scroll"||s==="scrollend"),H=ve?X!==null?X+"Capture":null:X;ve=[];for(var z=Y,K;z!==null;){var te=z;if(K=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||K===null||H===null||(te=So(z,H),te!=null&&ve.push(ec(z,te,K))),Je)break;z=z.return}0<ve.length&&(X=new Q(X,Ee,null,l,ee),ie.push({event:X,listeners:ve}))}}if((o&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",X&&l!==Ts&&(Ee=l.relatedTarget||l.fromElement)&&(vs(Ee)||Ee[Jn]))break e;if((Q||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(Ee=l.relatedTarget||l.toElement,Q=Y,Ee=Ee?vs(Ee):null,Ee!==null&&(Je=a(Ee),ve=Ee.tag,Ee!==Je||ve!==5&&ve!==27&&ve!==6)&&(Ee=null)):(Q=null,Ee=Y),Q!==Ee)){if(ve=ii,te="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(ve=Eu,te="onPointerLeave",H="onPointerEnter",z="pointer"),Je=Q==null?X:zi(Q),K=Ee==null?X:zi(Ee),X=new ve(te,z+"leave",Q,l,ee),X.target=Je,X.relatedTarget=K,te=null,vs(ee)===Y&&(ve=new ve(H,z+"enter",Ee,l,ee),ve.target=K,ve.relatedTarget=Je,te=ve),Je=te,Q&&Ee)t:{for(ve=Q,H=Ee,z=0,K=ve;K;K=ll(K))z++;for(K=0,te=H;te;te=ll(te))K++;for(;0<z-K;)ve=ll(ve),z--;for(;0<K-z;)H=ll(H),K--;for(;z--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=ll(ve),H=ll(H)}ve=null}else ve=null;Q!==null&&mT(ie,X,Q,ve,!1),Ee!==null&&Je!==null&&mT(ie,Je,Ee,ve,!0)}}e:{if(X=Y?zi(Y):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var pe=Ob;else if(Bt(X))if(Nb)pe=FD;else{pe=BD;var Me=zD}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&gu(Y.elementType)&&(pe=Ob):pe=jD;if(pe&&(pe=pe(s,Y))){Rs(ie,pe,l,ee);break e}Me&&Me(s,X,Y),s==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&rr(X,"number",X.value)}switch(Me=Y?zi(Y):window,s){case"focusin":(Bt(Me)||Me.contentEditable==="true")&&(Ua=Me,Yp=Y,xu=null);break;case"focusout":xu=Yp=Ua=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,qb(ie,l,ee);break;case"selectionchange":if(HD)break;case"keydown":case"keyup":qb(ie,l,ee)}var me;if($i)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ze?W(s,l)&&(be="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(w&&l.locale!=="ko"&&(ze||be!=="onCompositionStart"?be==="onCompositionEnd"&&ze&&(me=vu()):(Fi=ee,or="value"in Fi?Fi.value:Fi.textContent,ze=!0)),Me=kf(Y,be),0<Me.length&&(be=new wu(be,s,null,l,ee),ie.push({event:be,listeners:Me}),me?be.data=me:(me=le(l),me!==null&&(be.data=me)))),(me=_?zt(s,l):Be(s,l))&&(be=kf(Y,"onBeforeInput"),0<be.length&&(Me=new wu("onBeforeInput","beforeinput",null,l,ee),ie.push({event:Me,listeners:be}),Me.data=me)),xP(ie,s,Y,l,ee)}dT(ie,o)})}function ec(s,o,l){return{instance:s,listener:o,currentTarget:l}}function kf(s,o){for(var l=o+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=So(s,l),m!=null&&c.unshift(ec(s,m,y)),m=So(s,o),m!=null&&c.push(ec(s,m,y))),s.tag===3)return c;s=s.return}return[]}function ll(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function mT(s,o,l,c,m){for(var y=o._reactName,T=[];l!==null&&l!==c;){var S=l,M=S.alternate,Y=S.stateNode;if(S=S.tag,M!==null&&M===c)break;S!==5&&S!==26&&S!==27||Y===null||(M=Y,m?(Y=So(l,y),Y!=null&&T.unshift(ec(l,Y,M))):m||(Y=So(l,y),Y!=null&&T.push(ec(l,Y,M)))),l=l.return}T.length!==0&&s.push({event:o,listeners:T})}var DP=/\r\n?/g,PP=/\u0000|\uFFFD/g;function gT(s){return(typeof s=="string"?s:""+s).replace(DP,`
`).replace(PP,"")}function yT(s,o){return o=gT(o),gT(s)===o}function Mf(){}function Ze(s,o,l,c,m,y){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||ei(s,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&ei(s,""+c);break;case"className":Bi(s,"class",c);break;case"tabIndex":Bi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(s,l,c);break;case"style":mu(s,c,y);break;case"data":if(o!=="object"){Bi(s,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ia(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(o!=="input"&&Ze(s,o,"name",m.name,m,null),Ze(s,o,"formEncType",m.formEncType,m,null),Ze(s,o,"formMethod",m.formMethod,m,null),Ze(s,o,"formTarget",m.formTarget,m,null)):(Ze(s,o,"encType",m.encType,m,null),Ze(s,o,"method",m.method,m,null),Ze(s,o,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ia(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Mf);break;case"onScroll":c!=null&&Ne("scroll",s);break;case"onScrollEnd":c!=null&&Ne("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ia(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ne("beforetoggle",s),Ne("toggle",s),sr(s,"popover",c);break;case"xlinkActuate":Jt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Jt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Jt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Jt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Jt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Jt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":sr(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=jp.get(l)||l,sr(s,l,c))}}function vg(s,o,l,c,m,y){switch(l){case"style":mu(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?ei(s,c):(typeof c=="number"||typeof c=="bigint")&&ei(s,""+c);break;case"onScroll":c!=null&&Ne("scroll",s);break;case"onScrollEnd":c!=null&&Ne("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),y=s[It]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(o,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):sr(s,l,c)}}}function sn(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",s),Ne("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ze(s,o,y,T,l,null)}}m&&Ze(s,o,"srcSet",l.srcSet,l,null),c&&Ze(s,o,"src",l.src,l,null);return;case"input":Ne("invalid",s);var S=y=T=m=null,M=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":m=ee;break;case"type":T=ee;break;case"checked":M=ee;break;case"defaultChecked":Y=ee;break;case"value":y=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:Ze(s,o,c,ee,l,null)}}wo(s,y,S,M,Y,T,m,!1),Ca(s);return;case"select":Ne("invalid",s),c=T=y=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:Ze(s,o,m,S,l,null)}o=y,l=T,s.multiple=!!c,o!=null?ws(s,!!c,o,!1):l!=null&&ws(s,!!c,l,!0);return;case"textarea":Ne("invalid",s),y=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(S=l[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Ze(s,o,T,S,l,null)}To(s,c,m,y),Ca(s);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(c=l[M],c!=null))switch(M){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(s,o,M,c,l,null)}return;case"dialog":Ne("beforetoggle",s),Ne("toggle",s),Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":Ne("load",s);break;case"video":case"audio":for(c=0;c<Ju.length;c++)Ne(Ju[c],s);break;case"image":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"embed":case"source":case"link":Ne("error",s),Ne("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ze(s,o,Y,c,l,null)}return;default:if(gu(o)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&vg(s,o,ee,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&Ze(s,o,S,c,l,null))}function kP(s,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,S=null,M=null,Y=null,ee=null;for(Q in l){var ie=l[Q];if(l.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=ie;default:c.hasOwnProperty(Q)||Ze(s,o,Q,null,c,ie)}}for(var X in c){var Q=c[X];if(ie=l[X],c.hasOwnProperty(X)&&(Q!=null||ie!=null))switch(X){case"type":y=Q;break;case"name":m=Q;break;case"checked":Y=Q;break;case"defaultChecked":ee=Q;break;case"value":T=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,o));break;default:Q!==ie&&Ze(s,o,X,Q,c,ie)}}Un(s,T,S,M,Y,ee,y,m);return;case"select":Q=T=S=X=null;for(y in l)if(M=l[y],l.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":Q=M;default:c.hasOwnProperty(y)||Ze(s,o,y,null,c,M)}for(m in c)if(y=c[m],M=l[m],c.hasOwnProperty(m)&&(y!=null||M!=null))switch(m){case"value":X=y;break;case"defaultValue":S=y;break;case"multiple":T=y;default:y!==M&&Ze(s,o,m,y,c,M)}o=S,l=T,c=Q,X!=null?ws(s,!!l,X,!1):!!c!=!!l&&(o!=null?ws(s,!!l,o,!0):ws(s,!!l,l?[]:"",!1));return;case"textarea":Q=X=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(s,o,S,null,c,m)}for(T in c)if(m=c[T],y=l[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":X=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&Ze(s,o,T,m,c,y)}Qe(s,X,Q);return;case"option":for(var Ee in l)if(X=l[Ee],l.hasOwnProperty(Ee)&&X!=null&&!c.hasOwnProperty(Ee))switch(Ee){case"selected":s.selected=!1;break;default:Ze(s,o,Ee,null,c,X)}for(M in c)if(X=c[M],Q=l[M],c.hasOwnProperty(M)&&X!==Q&&(X!=null||Q!=null))switch(M){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ze(s,o,M,X,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)X=l[ve],l.hasOwnProperty(ve)&&X!=null&&!c.hasOwnProperty(ve)&&Ze(s,o,ve,null,c,X);for(Y in c)if(X=c[Y],Q=l[Y],c.hasOwnProperty(Y)&&X!==Q&&(X!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,o));break;default:Ze(s,o,Y,X,c,Q)}return;default:if(gu(o)){for(var Je in l)X=l[Je],l.hasOwnProperty(Je)&&X!==void 0&&!c.hasOwnProperty(Je)&&vg(s,o,Je,void 0,c,X);for(ee in c)X=c[ee],Q=l[ee],!c.hasOwnProperty(ee)||X===Q||X===void 0&&Q===void 0||vg(s,o,ee,X,c,Q);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!c.hasOwnProperty(H)&&Ze(s,o,H,null,c,X);for(ie in c)X=c[ie],Q=l[ie],!c.hasOwnProperty(ie)||X===Q||X==null&&Q==null||Ze(s,o,ie,X,c,Q)}var _g=null,bg=null;function Of(s){return s.nodeType===9?s:s.ownerDocument}function vT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _T(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function wg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Tg=null;function MP(){var s=window.event;return s&&s.type==="popstate"?s===Tg?!1:(Tg=s,!0):(Tg=null,!1)}var bT=typeof setTimeout=="function"?setTimeout:void 0,OP=typeof clearTimeout=="function"?clearTimeout:void 0,wT=typeof Promise=="function"?Promise:void 0,NP=typeof queueMicrotask=="function"?queueMicrotask:typeof wT<"u"?function(s){return wT.resolve(null).then(s).catch(VP)}:bT;function VP(s){setTimeout(function(){throw s})}function Tr(s){return s==="head"}function TT(s,o){var l=o,c=0,m=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=s.ownerDocument;if(l&1&&tc(T.documentElement),l&2&&tc(T.body),l&4)for(l=T.head,tc(l),T=l.firstChild;T;){var S=T.nextSibling,M=T.nodeName;T[yo]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=S}}if(m===0){s.removeChild(y),uc(o);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);uc(o)}function Eg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Eg(l),ir(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function LP(s,o,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[yo])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Ei(s.nextSibling),s===null)break}return null}function UP(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ei(s.nextSibling),s===null))return null;return s}function Sg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function zP(s,o){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Ei(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Ag=null;function ET(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}function ST(s,o,l){switch(o=Of(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function tc(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ir(s)}var ci=new Map,AT=new Set;function Nf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Bs=oe.d;oe.d={f:BP,r:jP,D:FP,C:qP,L:HP,m:GP,X:KP,S:$P,M:YP};function BP(){var s=Bs.f(),o=xf();return s||o}function jP(s){var o=Ui(s);o!==null&&o.tag===5&&o.type==="form"?G0(o):Bs.r(s)}var ul=typeof document>"u"?null:document;function xT(s,o,l){var c=ul;if(c&&typeof o=="string"&&o){var m=Dt(o);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),AT.has(m)||(AT.add(m),s={rel:s,crossOrigin:l,href:o},c.querySelector(m)===null&&(o=c.createElement("link"),sn(o,"link",s),Tt(o),c.head.appendChild(o)))}}function FP(s){Bs.D(s),xT("dns-prefetch",s,null)}function qP(s,o){Bs.C(s,o),xT("preconnect",s,o)}function HP(s,o,l){Bs.L(s,o,l);var c=ul;if(c&&s&&o){var m='link[rel="preload"][as="'+Dt(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Dt(l.imageSizes)+'"]')):m+='[href="'+Dt(s)+'"]';var y=m;switch(o){case"style":y=cl(s);break;case"script":y=hl(s)}ci.has(y)||(s=g({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),ci.set(y,s),c.querySelector(m)!==null||o==="style"&&c.querySelector(nc(y))||o==="script"&&c.querySelector(ic(y))||(o=c.createElement("link"),sn(o,"link",s),Tt(o),c.head.appendChild(o)))}}function GP(s,o){Bs.m(s,o);var l=ul;if(l&&s){var c=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Dt(c)+'"][href="'+Dt(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hl(s)}if(!ci.has(y)&&(s=g({rel:"modulepreload",href:s},o),ci.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ic(y)))return}c=l.createElement("link"),sn(c,"link",s),Tt(c),l.head.appendChild(c)}}}function $P(s,o,l){Bs.S(s,o,l);var c=ul;if(c&&s){var m=Tn(c).hoistableStyles,y=cl(s);o=o||"default";var T=m.get(y);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(nc(y)))S.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},l),(l=ci.get(y))&&xg(s,l);var M=T=c.createElement("link");Tt(M),sn(M,"link",s),M._p=new Promise(function(Y,ee){M.onload=Y,M.onerror=ee}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Vf(T,o,c)}T={type:"stylesheet",instance:T,count:1,state:S},m.set(y,T)}}}function KP(s,o){Bs.X(s,o);var l=ul;if(l&&s){var c=Tn(l).hoistableScripts,m=hl(s),y=c.get(m);y||(y=l.querySelector(ic(m)),y||(s=g({src:s,async:!0},o),(o=ci.get(m))&&Rg(s,o),y=l.createElement("script"),Tt(y),sn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function YP(s,o){Bs.M(s,o);var l=ul;if(l&&s){var c=Tn(l).hoistableScripts,m=hl(s),y=c.get(m);y||(y=l.querySelector(ic(m)),y||(s=g({src:s,async:!0,type:"module"},o),(o=ci.get(m))&&Rg(s,o),y=l.createElement("script"),Tt(y),sn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function RT(s,o,l,c){var m=(m=Ae.current)?Nf(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=cl(l.href),l=Tn(m).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=cl(l.href);var y=Tn(m).hoistableStyles,T=y.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=m.querySelector(nc(s)))&&!y._p&&(T.instance=y,T.state.loading=5),ci.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ci.set(s,l),y||XP(m,s,l,T.state))),o&&c===null)throw Error(i(528,""));return T}if(o&&c!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=hl(l),l=Tn(m).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function cl(s){return'href="'+Dt(s)+'"'}function nc(s){return'link[rel="stylesheet"]['+s+"]"}function CT(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function XP(s,o,l,c){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=s.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),sn(o,"link",l),Tt(o),s.head.appendChild(o))}function hl(s){return'[src="'+Dt(s)+'"]'}function ic(s){return"script[async]"+s}function IT(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=s.querySelector('style[data-href~="'+Dt(l.href)+'"]');if(c)return o.instance=c,Tt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Tt(c),sn(c,"style",m),Vf(c,l.precedence,s),o.instance=c;case"stylesheet":m=cl(l.href);var y=s.querySelector(nc(m));if(y)return o.state.loading|=4,o.instance=y,Tt(y),y;c=CT(l),(m=ci.get(m))&&xg(c,m),y=(s.ownerDocument||s).createElement("link"),Tt(y);var T=y;return T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),sn(y,"link",c),o.state.loading|=4,Vf(y,l.precedence,s),o.instance=y;case"script":return y=hl(l.src),(m=s.querySelector(ic(y)))?(o.instance=m,Tt(m),m):(c=l,(m=ci.get(y))&&(c=g({},l),Rg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Tt(m),sn(m,"link",c),s.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,Vf(c,l.precedence,s));return o.instance}function Vf(s,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===o)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function xg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Rg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Lf=null;function DT(s,o,l){if(Lf===null){var c=new Map,m=Lf=new Map;m.set(l,c)}else m=Lf,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[yo]||y[Ut]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(o)||"";T=s+T;var S=c.get(T);S?S.push(y):c.set(T,[y])}}return c}function PT(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function QP(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var sc=null;function WP(){}function ZP(s,o,l){if(sc===null)throw Error(i(475));var c=sc;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=cl(l.href),y=s.querySelector(nc(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Uf.bind(c),s.then(c,c)),o.state.loading|=4,o.instance=y,Tt(y);return}y=s.ownerDocument||s,l=CT(l),(m=ci.get(m))&&xg(l,m),y=y.createElement("link"),Tt(y);var T=y;T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),sn(y,"link",l),o.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=Uf.bind(c),s.addEventListener("load",o),s.addEventListener("error",o))}}function JP(){if(sc===null)throw Error(i(475));var s=sc;return s.stylesheets&&s.count===0&&Cg(s,s.stylesheets),0<s.count?function(o){var l=setTimeout(function(){if(s.stylesheets&&Cg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Uf(){if(this.count--,this.count===0){if(this.stylesheets)Cg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var zf=null;function Cg(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,zf=new Map,o.forEach(ek,s),zf=null,Uf.call(s))}function ek(s,o){if(!(o.state.loading&4)){var l=zf.get(s);if(l)var c=l.get(null);else{l=new Map,zf.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=o.instance,T=m.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,m),l.set(T,m),this.count++,c=Uf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),o.state.loading|=4}}var rc={$$typeof:j,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function tk(s,o,l,c,m,y,T,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.hiddenUpdates=gs(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function MT(s,o,l,c,m,y,T,S,M,Y,ee,ie){return s=new tk(s,o,l,T,S,M,Y,ie),o=1,y===!0&&(o|=24),y=Bn(3,null,null,o),s.current=y,y.stateNode=s,o=um(),o.refCount++,s.pooledCache=o,o.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:o},dm(y),s}function OT(s){return s?(s=Fa,s):Fa}function NT(s,o,l,c,m,y){m=OT(m),c.context===null?c.context=m:c.pendingContext=m,c=ur(o),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=cr(s,c,o),l!==null&&(Gn(l,s,o),Nu(l,s,o))}function VT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Ig(s,o){VT(s,o),(s=s.alternate)&&VT(s,o)}function LT(s){if(s.tag===13){var o=ja(s,67108864);o!==null&&Gn(o,s,67108864),Ig(s,67108864)}}var Bf=!0;function nk(s,o,l,c){var m=J.T;J.T=null;var y=oe.p;try{oe.p=2,Dg(s,o,l,c)}finally{oe.p=y,J.T=m}}function ik(s,o,l,c){var m=J.T;J.T=null;var y=oe.p;try{oe.p=8,Dg(s,o,l,c)}finally{oe.p=y,J.T=m}}function Dg(s,o,l,c){if(Bf){var m=Pg(c);if(m===null)yg(s,o,c,jf,l),zT(s,c);else if(rk(m,s,o,l,c))c.stopPropagation();else if(zT(s,c),o&4&&-1<sk.indexOf(s)){for(;m!==null;){var y=Ui(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=vi(y.pendingLanes);if(T!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var M=1<<31-hn(T);S.entanglements[1]|=M,T&=~M}Zi(y),(Ye&6)===0&&(Sf=Zn()+500,Zu(0))}}break;case 13:S=ja(y,2),S!==null&&Gn(S,y,2),xf(),Ig(y,2)}if(y=Pg(c),y===null&&yg(s,o,c,jf,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else yg(s,o,c,null,l)}}function Pg(s){return s=ti(s),kg(s)}var jf=null;function kg(s){if(jf=null,s=vs(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=u(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return jf=s,null}function UT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Np()){case iu:return 2;case ba:return 8;case ho:case Vp:return 32;case wa:return 268435456;default:return 32}default:return 32}}var Mg=!1,Er=null,Sr=null,Ar=null,oc=new Map,ac=new Map,xr=[],sk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zT(s,o){switch(s){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(o.pointerId)}}function lc(s,o,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Ui(o),o!==null&&LT(o)),s):(s.eventSystemFlags|=c,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function rk(s,o,l,c,m){switch(o){case"focusin":return Er=lc(Er,s,o,l,c,m),!0;case"dragenter":return Sr=lc(Sr,s,o,l,c,m),!0;case"mouseover":return Ar=lc(Ar,s,o,l,c,m),!0;case"pointerover":var y=m.pointerId;return oc.set(y,lc(oc.get(y)||null,s,o,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,ac.set(y,lc(ac.get(y)||null,s,o,l,c,m)),!0}return!1}function BT(s){var o=vs(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){s.blockedOn=o,Ah(s.priority,function(){if(l.tag===13){var c=Hn();c=er(c);var m=ja(l,c);m!==null&&Gn(m,l,c),Ig(l,c)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ff(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Pg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Ts=c,l.target.dispatchEvent(c),Ts=null}else return o=Ui(l),o!==null&&LT(o),s.blockedOn=l,!1;o.shift()}return!0}function jT(s,o,l){Ff(s)&&l.delete(o)}function ok(){Mg=!1,Er!==null&&Ff(Er)&&(Er=null),Sr!==null&&Ff(Sr)&&(Sr=null),Ar!==null&&Ff(Ar)&&(Ar=null),oc.forEach(jT),ac.forEach(jT)}function qf(s,o){s.blockedOn===o&&(s.blockedOn=null,Mg||(Mg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ok)))}var Hf=null;function FT(s){Hf!==s&&(Hf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hf===s&&(Hf=null);for(var o=0;o<s.length;o+=3){var l=s[o],c=s[o+1],m=s[o+2];if(typeof c!="function"){if(kg(c||l)===null)continue;break}var y=Ui(l);y!==null&&(s.splice(o,3),o-=3,km(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function uc(s){function o(M){return qf(M,s)}Er!==null&&qf(Er,s),Sr!==null&&qf(Sr,s),Ar!==null&&qf(Ar,s),oc.forEach(o),ac.forEach(o);for(var l=0;l<xr.length;l++){var c=xr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<xr.length&&(l=xr[0],l.blockedOn===null);)BT(l),l.blockedOn===null&&xr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],T=m[It]||null;if(typeof y=="function")T||FT(l);else if(T){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[It]||null)S=T.formAction;else if(kg(m)!==null)continue}else S=T.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),FT(l)}}}function Og(s){this._internalRoot=s}Gf.prototype.render=Og.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,c=Hn();NT(l,c,s,o,null,null)},Gf.prototype.unmount=Og.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;NT(s.current,2,null,s,null,null),xf(),o[Jn]=null}};function Gf(s){this._internalRoot=s}Gf.prototype.unstable_scheduleHydration=function(s){if(s){var o=tr();s={blockedOn:null,target:s,priority:o};for(var l=0;l<xr.length&&o!==0&&o<xr[l].priority;l++);xr.splice(l,0,s),l===0&&BT(s)}};var qT=e.version;if(qT!=="19.1.1")throw Error(i(527,qT,"19.1.1"));oe.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(o),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var ak={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{gt=$f.inject(ak),Ke=$f}catch{}}return hc.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,c="",m=rw,y=ow,T=aw,S=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(S=o.unstable_transitionCallbacks)),o=MT(s,1,!1,null,null,l,c,m,y,T,S,null),s[Jn]=o.current,gg(s),new Og(o)},hc.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var c=!1,m="",y=rw,T=ow,S=aw,M=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),o=MT(s,1,!0,o,l??null,c,m,y,T,S,M,Y),o.context=OT(null),l=o.current,c=Hn(),c=er(c),m=ur(c),m.callback=null,cr(l,m,c),l=c,o.current.lanes=l,ys(o,l),Zi(o),s[Jn]=o.current,gg(s),new Gf(o)},hc.version="19.1.1",hc}var JT;function yk(){if(JT)return Lg.exports;JT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lg.exports=gk(),Lg.exports}var vk=yk();const _k=Tx(vk);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eE="popstate";function bk(n={}){function e(r,a){let{pathname:u="/",search:h="",hash:f=""}=pa(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Vy("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let u=r.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=r.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof a=="string"?a:Vc(a))}function i(r,a){Wn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Tk(e,t,i,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wk(){return Math.random().toString(36).substring(2,10)}function tE(n,e){return{usr:n.state,key:n.key,idx:e}}function Vy(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:t,key:e&&e.key||i||wk()}}function Vc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function pa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Tk(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,u=r.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let R=g(),P=R==null?null:R-d;d=R,f&&f({action:h,location:A.location,delta:P})}function b(R,P){h="PUSH";let B=Vy(A.location,R,P);t&&t(B,R),d=g()+1;let j=tE(B,d),G=A.createHref(B);try{u.pushState(j,"",G)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;r.location.assign(G)}a&&f&&f({action:h,location:A.location,delta:1})}function E(R,P){h="REPLACE";let B=Vy(A.location,R,P);t&&t(B,R),d=g();let j=tE(B,d),G=A.createHref(B);u.replaceState(j,"",G),a&&f&&f({action:h,location:A.location,delta:0})}function C(R){return Ek(R)}let A={get action(){return h},get location(){return n(r,u)},listen(R){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(eE,v),f=R,()=>{r.removeEventListener(eE,v),f=null}},createHref(R){return e(r,R)},createURL:C,encodeLocation(R){let P=C(R);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:E,go(R){return u.go(R)}};return A}function Ek(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Vc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Ex(n,e,t="/"){return Sk(n,e,t,!1)}function Sk(n,e,t,i){let r=typeof e=="string"?pa(e):e,a=$s(r.pathname||"/",t);if(a==null)return null;let u=Sx(n);Ak(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=Vk(a);h=Ok(u[f],d,i)}return h}function Sx(n,e=[],t=[],i="",r=!1){let a=(u,h,f=r,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;ct(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=qs([i,g.relativePath]),b=t.concat(g);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Sx(u.children,e,b,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:kk(v,u.index),routesMeta:b})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of Ax(u.path))a(u,h,!0,f)}),e}function Ax(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let u=Ax(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),r&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function Ak(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Mk(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var xk=/^:[\w-]+$/,Rk=3,Ck=2,Ik=1,Dk=10,Pk=-2,nE=n=>n==="*";function kk(n,e){let t=n.split("/"),i=t.length;return t.some(nE)&&(i+=Pk),e&&(i+=Ck),t.filter(r=>!nE(r)).reduce((r,a)=>r+(xk.test(a)?Rk:a===""?Ik:Dk),i)}function Mk(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Ok(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),b=f.route;if(!v&&d&&t&&!i[i.length-1].route.index&&(v=Ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:qs([a,v.pathname]),pathnameBase:Bk(qs([a,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(a=qs([a,v.pathnameBase]))}return u}function Ad(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Nk(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],u=a.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:v},b)=>{if(g==="*"){let C=h[b]||"";u=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const E=h[b];return v&&!E?d[g]=void 0:d[g]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:u,pattern:n}}function Nk(n,e=!1,t=!0){Wn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Vk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $s(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Lk(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?pa(n):n;return{pathname:t?t.startsWith("/")?t:Uk(t,e):e,search:jk(i),hash:Fk(r)}}function Uk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function jg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jv(n){let e=zk(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Fv(n,e,t,i=!1){let r;typeof n=="string"?r=pa(n):(r={...n},ct(!r.pathname||!r.pathname.includes("?"),jg("?","pathname","search",r)),ct(!r.pathname||!r.pathname.includes("#"),jg("#","pathname","hash",r)),ct(!r.search||!r.search.includes("#"),jg("#","search","hash",r)));let a=n===""||r.pathname==="",u=a?"/":r.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}h=v>=0?e[v]:"/"}let f=Lk(r,h),d=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var qs=n=>n.join("/").replace(/\/\/+/g,"/"),Bk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Fk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var xx=["POST","PUT","PATCH","DELETE"];new Set(xx);var Hk=["GET",...xx];new Set(Hk);var Hl=U.createContext(null);Hl.displayName="DataRouter";var tp=U.createContext(null);tp.displayName="DataRouterState";U.createContext(!1);var Rx=U.createContext({isTransitioning:!1});Rx.displayName="ViewTransition";var Gk=U.createContext(new Map);Gk.displayName="Fetchers";var $k=U.createContext(null);$k.displayName="Await";var Oi=U.createContext(null);Oi.displayName="Navigation";var ih=U.createContext(null);ih.displayName="Location";var Ni=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var qv=U.createContext(null);qv.displayName="RouteError";function Kk(n,{relative:e}={}){ct(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(Oi),{hash:r,pathname:a,search:u}=sh(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:qs([t,a])),i.createHref({pathname:h,search:u,hash:r})}function Gl(){return U.useContext(ih)!=null}function In(){return ct(Gl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(ih).location}var Cx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ix(n){U.useContext(Oi).static||U.useLayoutEffect(n)}function to(){let{isDataRoute:n}=U.useContext(Ni);return n?lM():Yk()}function Yk(){ct(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(Hl),{basename:e,navigator:t}=U.useContext(Oi),{matches:i}=U.useContext(Ni),{pathname:r}=In(),a=JSON.stringify(jv(i)),u=U.useRef(!1);return Ix(()=>{u.current=!0}),U.useCallback((f,d={})=>{if(Wn(u.current,Cx),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=Fv(f,JSON.parse(a),r,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:qs([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,a,r,n])}var Xk=U.createContext(null);function Qk(n){let e=U.useContext(Ni).outlet;return e&&U.createElement(Xk.Provider,{value:n},e)}function sh(n,{relative:e}={}){let{matches:t}=U.useContext(Ni),{pathname:i}=In(),r=JSON.stringify(jv(t));return U.useMemo(()=>Fv(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Wk(n,e){return Dx(n,e)}function Dx(n,e,t,i){ct(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=U.useContext(Oi),{matches:a}=U.useContext(Ni),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",d=u?u.pathnameBase:"/",g=u&&u.route;{let P=g&&g.path||"";Px(f,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=In(),b;if(e){let P=typeof e=="string"?pa(e):e;ct(d==="/"||P.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=v;let E=b.pathname||"/",C=E;if(d!=="/"){let P=d.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let A=Ex(n,{pathname:C});Wn(g||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Wn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=nM(A&&A.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:qs([d,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:qs([d,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,t,i);return e&&R?U.createElement(ih.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function Zk(){let n=aM(),e=qk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:r},t):null,u)}var Jk=U.createElement(Zk,null),eM=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(Ni.Provider,{value:this.props.routeContext},U.createElement(qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tM({routeContext:n,match:e,children:t}){let i=U.useContext(Hl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Ni.Provider,{value:n},t)}function nM(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t?.errors;if(a!=null){let f=r.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<r.length;f++){let d=r[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:v}=t,b=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,d,g)=>{let v,b=!1,E=null,C=null;t&&(v=a&&d.route.id?a[d.route.id]:void 0,E=d.route.errorElement||Jk,u&&(h<0&&g===0?(Px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):h===g&&(b=!0,C=d.route.hydrateFallbackElement||null)));let A=e.concat(r.slice(0,g+1)),R=()=>{let P;return v?P=E:b?P=C:d.route.Component?P=U.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=f,U.createElement(tM,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:P})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?U.createElement(eM,{location:t.location,revalidation:t.revalidation,component:E,error:v,children:R(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):R()},null)}function Hv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iM(n){let e=U.useContext(Hl);return ct(e,Hv(n)),e}function sM(n){let e=U.useContext(tp);return ct(e,Hv(n)),e}function rM(n){let e=U.useContext(Ni);return ct(e,Hv(n)),e}function Gv(n){let e=rM(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oM(){return Gv("useRouteId")}function aM(){let n=U.useContext(qv),e=sM("useRouteError"),t=Gv("useRouteError");return n!==void 0?n:e.errors?.[t]}function lM(){let{router:n}=iM("useNavigate"),e=Gv("useNavigate"),t=U.useRef(!1);return Ix(()=>{t.current=!0}),U.useCallback(async(r,a={})=>{Wn(t.current,Cx),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var iE={};function Px(n,e,t){!e&&!iE[n]&&(iE[n]=!0,Wn(!1,t))}U.memo(uM);function uM({routes:n,future:e,state:t}){return Dx(n,void 0,t,e)}function cM({to:n,replace:e,state:t,relative:i}){ct(Gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=U.useContext(Oi);Wn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=U.useContext(Ni),{pathname:u}=In(),h=to(),f=Fv(n,jv(a),u,i==="path"),d=JSON.stringify(f);return U.useEffect(()=>{h(JSON.parse(d),{replace:e,state:t,relative:i})},[h,d,i,e,t]),null}function hM(n){return Qk(n.context)}function Ir(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fM({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){ct(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:u,navigator:r,static:a,future:{}}),[u,r,a]);typeof t=="string"&&(t=pa(t));let{pathname:f="/",search:d="",hash:g="",state:v=null,key:b="default"}=t,E=U.useMemo(()=>{let C=$s(f,u);return C==null?null:{location:{pathname:C,search:d,hash:g,state:v,key:b},navigationType:i}},[u,f,d,g,v,b,i]);return Wn(E!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:U.createElement(Oi.Provider,{value:h},U.createElement(ih.Provider,{children:e,value:E}))}function dM({children:n,location:e}){return Wk(Ly(n),e)}function Ly(n,e=[]){let t=[];return U.Children.forEach(n,(i,r)=>{if(!U.isValidElement(i))return;let a=[...e,r];if(i.type===U.Fragment){t.push.apply(t,Ly(i.props.children,a));return}ct(i.type===Ir,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ly(i.props.children,a)),t.push(u)}),t}var od="get",ad="application/x-www-form-urlencoded";function np(n){return n!=null&&typeof n.tagName=="string"}function pM(n){return np(n)&&n.tagName.toLowerCase()==="button"}function mM(n){return np(n)&&n.tagName.toLowerCase()==="form"}function gM(n){return np(n)&&n.tagName.toLowerCase()==="input"}function yM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vM(n,e){return n.button===0&&(!e||e==="_self")&&!yM(n)}function Uy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function _M(n,e){let t=Uy(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(a=>{t.append(r,a)})}),t}var Kf=null;function bM(){if(Kf===null)try{new FormData(document.createElement("form"),0),Kf=!1}catch{Kf=!0}return Kf}var wM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fg(n){return n!=null&&!wM.has(n)?(Wn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ad}"`),null):n}function TM(n,e){let t,i,r,a,u;if(mM(n)){let h=n.getAttribute("action");i=h?$s(h,e):null,t=n.getAttribute("method")||od,r=Fg(n.getAttribute("enctype"))||ad,a=new FormData(n)}else if(pM(n)||gM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?$s(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||od,r=Fg(n.getAttribute("formenctype"))||Fg(h.getAttribute("enctype"))||ad,a=new FormData(h,n),!bM()){let{name:d,type:g,value:v}=n;if(g==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,v)}}else{if(np(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=od,i=null,r=ad,u=n}return a&&r==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $v(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function EM(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&$s(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function SM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xM(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let u=await SM(a,t);return u.links?u.links():[]}return[]}));return DM(i.flat(1).filter(AM).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function sE(n,e,t,i,r,a){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):a==="data"?e.filter((f,d)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function RM(n,e,{includeHydrateFallback:t}={}){return CM(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function CM(n){return[...new Set(n)]}function IM(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function DM(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(IM(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function kx(){let n=U.useContext(Hl);return $v(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function PM(){let n=U.useContext(tp);return $v(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kv=U.createContext(void 0);Kv.displayName="FrameworkContext";function Mx(){let n=U.useContext(Kv);return $v(n,"You must render this element inside a <HydratedRouter> element"),n}function kM(n,e){let t=U.useContext(Kv),[i,r]=U.useState(!1),[a,u]=U.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=e,b=U.useRef(null);U.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=P=>{P.forEach(B=>{u(B.isIntersecting)})},R=new IntersectionObserver(A,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[n]),U.useEffect(()=>{if(i){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},C=()=>{r(!1),u(!1)};return t?n!=="intent"?[a,b,{}]:[a,b,{onFocus:fc(h,E),onBlur:fc(f,C),onMouseEnter:fc(d,E),onMouseLeave:fc(g,C),onTouchStart:fc(v,E)}]:[!1,b,{}]}function fc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function MM({page:n,...e}){let{router:t}=kx(),i=U.useMemo(()=>Ex(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(NM,{page:n,matches:i,...e}):null}function OM(n){let{manifest:e,routeModules:t}=Mx(),[i,r]=U.useState([]);return U.useEffect(()=>{let a=!1;return xM(n,e,t).then(u=>{a||r(u)}),()=>{a=!0}},[n,e,t]),i}function NM({page:n,matches:e,...t}){let i=In(),{manifest:r,routeModules:a}=Mx(),{basename:u}=kx(),{loaderData:h,matches:f}=PM(),d=U.useMemo(()=>sE(n,e,f,r,i,"data"),[n,e,f,r,i]),g=U.useMemo(()=>sE(n,e,f,r,i,"assets"),[n,e,f,r,i]),v=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,A=!1;if(e.forEach(P=>{let B=r.routes[P.route.id];!B||!B.hasLoader||(!d.some(j=>j.route.id===P.route.id)&&P.route.id in h&&a[P.route.id]?.shouldRevalidate||B.hasClientLoader?A=!0:C.add(P.route.id))}),C.size===0)return[];let R=EM(n,u,"data");return A&&C.size>0&&R.searchParams.set("_routes",e.filter(P=>C.has(P.route.id)).map(P=>P.route.id).join(",")),[R.pathname+R.search]},[u,h,i,r,d,e,n,a]),b=U.useMemo(()=>RM(g,r),[g,r]),E=OM(g);return U.createElement(U.Fragment,null,v.map(C=>U.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),b.map(C=>U.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),E.map(({key:C,link:A})=>U.createElement("link",{key:C,nonce:t.nonce,...A})))}function VM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ox&&(window.__reactRouterVersion="7.8.1")}catch{}function LM({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=bk({window:t,v5Compat:!0}));let r=i.current,[a,u]=U.useState({action:r.action,location:r.location}),h=U.useCallback(f=>{U.startTransition(()=>u(f))},[u]);return U.useLayoutEffect(()=>r.listen(h),[r,h]),U.createElement(fM,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var Nx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ts=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:v,...b},E){let{basename:C}=U.useContext(Oi),A=typeof d=="string"&&Nx.test(d),R,P=!1;if(typeof d=="string"&&A&&(R=d,Ox))try{let k=new URL(window.location.href),L=d.startsWith("//")?new URL(k.protocol+d):new URL(d),F=$s(L.pathname,C);L.origin===k.origin&&F!=null?d=F+L.search+L.hash:P=!0}catch{Wn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=Kk(d,{relative:r}),[j,G,Z]=kM(i,b),ue=BM(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:r,viewTransition:v});function O(k){e&&e(k),k.defaultPrevented||ue(k)}let I=U.createElement("a",{...b,...Z,href:R||B,onClick:P||a?e:O,ref:VM(E,G),target:f,"data-discover":!A&&t==="render"?"true":void 0});return j&&!A?U.createElement(U.Fragment,null,I,U.createElement(MM,{page:B})):I});ts.displayName="Link";var Dr=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:u,viewTransition:h,children:f,...d},g){let v=sh(u,{relative:d.relative}),b=In(),E=U.useContext(tp),{navigator:C,basename:A}=U.useContext(Oi),R=E!=null&&$M(v)&&h===!0,P=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,B=b.pathname,j=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(B=B.toLowerCase(),j=j?j.toLowerCase():null,P=P.toLowerCase()),j&&A&&(j=$s(j,A)||j);const G=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let Z=B===P||!r&&B.startsWith(P)&&B.charAt(G)==="/",ue=j!=null&&(j===P||!r&&j.startsWith(P)&&j.charAt(P.length)==="/"),O={isActive:Z,isPending:ue,isTransitioning:R},I=Z?e:void 0,k;typeof i=="function"?k=i(O):k=[i,Z?"active":null,ue?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(O):a;return U.createElement(ts,{...d,"aria-current":I,className:k,ref:g,style:L,to:u,viewTransition:h},typeof f=="function"?f(O):f)});Dr.displayName="NavLink";var UM=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:u=od,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:v,...b},E)=>{let C=HM(),A=GM(h,{relative:d}),R=u.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&Nx.test(h),B=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let G=j.nativeEvent.submitter,Z=G?.getAttribute("formmethod")||u;C(G||j.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:r,state:a,relative:d,preventScrollReset:g,viewTransition:v})};return U.createElement("form",{ref:E,method:R,action:A,onSubmit:i?f:B,...b,"data-discover":!P&&n==="render"?"true":void 0})});UM.displayName="Form";function zM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vx(n){let e=U.useContext(Hl);return ct(e,zM(n)),e}function BM(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:u}={}){let h=to(),f=In(),d=sh(n,{relative:a});return U.useCallback(g=>{if(vM(g,e)){g.preventDefault();let v=t!==void 0?t:Vc(f)===Vc(d);h(n,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:u})}},[f,h,d,t,i,e,n,r,a,u])}function jM(n){Wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=U.useRef(Uy(n)),t=U.useRef(!1),i=In(),r=U.useMemo(()=>_M(i.search,t.current?null:e.current),[i.search]),a=to(),u=U.useCallback((h,f)=>{const d=Uy(typeof h=="function"?h(new URLSearchParams(r)):h);t.current=!0,a("?"+d,f)},[a,r]);return[r,u]}var FM=0,qM=()=>`__${String(++FM)}__`;function HM(){let{router:n}=Vx("useSubmit"),{basename:e}=U.useContext(Oi),t=oM();return U.useCallback(async(i,r={})=>{let{action:a,method:u,encType:h,formData:f,body:d}=TM(i,e);if(r.navigate===!1){let g=r.fetcherKey||qM();await n.fetch(g,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function GM(n,{relative:e}={}){let{basename:t}=U.useContext(Oi),i=U.useContext(Ni);ct(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...sh(n||".",{relative:e})},u=In();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:qs([t,a.pathname])),Vc(a)}function $M(n,{relative:e}={}){let t=U.useContext(Rx);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Vx("useViewTransitionState"),r=sh(n,{relative:e});if(!t.isTransitioning)return!1;let a=$s(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=$s(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ad(r.pathname,u)!=null||Ad(r.pathname,a)!=null}const Tc="generated",KM="pointerdown",YM="pointerup",zy="pointerleave",XM="pointerout",sa="pointermove",QM="touchstart",rE="touchend",WM="touchmove",ZM="touchcancel",JM="resize",e2="visibilitychange",yi="tsParticles - Error";class $n{constructor(e,t,i){if(this._updateFromAngle=(r,a)=>{this.x=Math.cos(r)*a,this.y=Math.sin(r)*a},!Ri(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${yi} Vector3d not initialized correctly`)}static get origin(){return $n.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return $n.create(e.x,e.y,e.z)}static create(e,t,i){return new $n(e,t,i)}add(e){return $n.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return $n.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return $n.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return $n.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return $n.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return $n.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Wt extends $n{constructor(e,t){super(e,t,0)}static get origin(){return Wt.create(0,0)}static clone(e){return Wt.create(e.x,e.y)}static create(e,t){return new Wt(e,t)}}let t2=Math.random;const By=new Map;function qg(n,e){By.get(n)||By.set(n,e)}function Lx(n){return By.get(n)||(e=>e)}function ot(){return Di(t2(),0,1-1e-16)}function Di(n,e,t){return Math.min(Math.max(n,e),t)}function Hg(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function Nn(n){const e=Lr(n);let t=Yv(n);return e===t&&(t=0),ot()*(e-t)+t}function _e(n){return Ri(n)?n:Nn(n)}function Yv(n){return Ri(n)?n:n.min}function Lr(n){return Ri(n)?n:n.max}function Ie(n,e){if(n===e||e===void 0&&Ri(n))return n;const t=Yv(n),i=Lr(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Ie(t,i)}function ra(n){const e=n.random,{enable:t,minimumValue:i}=zr(e)?{enable:e,minimumValue:0}:e;return _e(t?Ie(n.value,i):n.value)}function Cn(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function Xn(n,e){return Cn(n,e).distance}function n2(n,e,t){if(Ri(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return ot()*Math.PI*2}}function i2(n){const e=Wt.origin;return e.length=1,e.angle=n,e}function oE(n,e,t,i){return Wt.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function s2(n){return{x:n.position?.x??ot()*n.size.width,y:n.position?.y??ot()*n.size.height}}function Ux(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const r2={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function oa(){return r2}function aE(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:a,velocity:u,factor:h}=n;return i.min<a.min||i.min>a.max||i.max<a.min||i.max>a.max||(t.max>=r.min&&t.max<=(r.max+r.min)/2&&u>0||t.min<=r.max&&t.min>(r.max+r.min)/2&&u<0)&&(e.velocity=u*-h,e.bounced=!0),e}function o2(n,e){const t=Zt(e,i=>n.matches(i));return Qn(t)?t.some(i=>i):t}function kl(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function a2(){return!kl()&&typeof matchMedia<"u"}function zx(n){if(a2())return matchMedia(n)}function l2(n){if(!(kl()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Rt(n,e){return n===e||Qn(e)&&e.indexOf(n)>-1}async function u2(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function c2(n){return Math.floor(ot()*n.length)}function ip(n,e,t=!0){return n[e!==void 0&&t?e%n.length:c2(n)]}function Xv(n,e,t,i,r){return h2(rh(n,i??0),e,t,r)}function h2(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function rh(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function _n(n,...e){for(const t of e){if(t==null)continue;if(!vl(t)){n=t;continue}const i=Array.isArray(t);i&&(vl(n)||!n||!Array.isArray(n))?n=[]:!i&&(vl(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const a=t,u=a[r],h=n;h[r]=vl(u)&&Array.isArray(u)?u.map(f=>_n(h[r],f)):_n(h[r],u)}}return n}function Qv(n,e){return!!Fx(e,t=>t.enable&&Rt(n,t.mode))}function Wv(n,e,t){Zt(e,i=>{const r=i.mode;i.enable&&Rt(n,r)&&f2(i,t)})}function f2(n,e){const t=n.selectors;Zt(t,i=>{e(i,n)})}function Bx(n,e){if(!(!e||!n))return Fx(n,t=>o2(e,t.selectors))}function jy(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:Wt.create(ra(n.options.bounce.horizontal),ra(n.options.bounce.vertical))}}function jx(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,a]=[n.position,e.position],{dx:u,dy:h}=Cn(a,r);if(t*u+i*h<0)return;const f=-Math.atan2(h,u),d=n.mass,g=e.mass,v=n.velocity.rotate(f),b=e.velocity.rotate(f),E=oE(v,b,d,g),C=oE(b,v,d,g),A=E.rotate(-f),R=C.rotate(-f);n.velocity.x=A.x*n.factor.x,n.velocity.y=A.y*n.factor.y,e.velocity.x=R.x*e.factor.x,e.velocity.y=R.y*e.factor.y}function d2(n,e){const t=n.getPosition(),i=n.getRadius(),r=rh(t,i),a=aE({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:ra(n.options.bounce.horizontal)});a.bounced&&(a.velocity!==void 0&&(n.velocity.x=a.velocity),a.position!==void 0&&(n.position.x=a.position));const u=aE({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:ra(n.options.bounce.vertical)});u.bounced&&(u.velocity!==void 0&&(n.velocity.y=u.velocity),u.position!==void 0&&(n.position.y=u.position))}function Zt(n,e){return Qn(n)?n.map((t,i)=>e(t,i)):e(n,0)}function Hs(n,e,t){return Qn(n)?ip(n,e,t):n}function Fx(n,e){return Qn(n)?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}function qx(n,e){const t=n.value,i=n.animation,r={delayTime:_e(i.delay)*1e3,enable:i.enable,value:_e(n.value)*e,max:Lr(t)*e,min:Yv(t)*e,loops:0,maxLoops:_e(i.count),time:0};if(i.enable){switch(r.decay=1-_e(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=ot()>=.5?"increasing":"decreasing";break}const a=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,a&&(r.status="increasing");break;case"max":r.value=r.max,a&&(r.status="decreasing");break;case"random":default:r.value=Nn(r),a&&(r.status=ot()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function p2(n,e){if(!(n.mode==="percent")){const{mode:r,...a}=n;return a}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function Hx(n,e){return p2(n,e)}function zr(n){return typeof n=="boolean"}function xi(n){return typeof n=="string"}function Ri(n){return typeof n=="number"}function Gx(n){return typeof n=="function"}function vl(n){return typeof n=="object"&&n!==null}function Qn(n){return Array.isArray(n)}const xd="random",ld="mid",sp=new Map;function lE(n){sp.set(n.key,n)}function Gg(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function m2(n){for(const[,a]of sp)if(n.startsWith(a.stringPrefix))return a.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(a,u,h,f,d)=>u+u+h+h+f+f+(d!==void 0?d+d:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Ci(n,e,t=!0){if(!n)return;const i=xi(n)?{value:n}:n;if(xi(i.value))return $x(i.value,e,t);if(Qn(i.value))return Ci({value:ip(i.value,e,t)});for(const[,r]of sp){const a=r.handleRangeColor(i);if(a)return a}}function $x(n,e,t=!0){if(!n)return;const i=xi(n)?{value:n}:n;if(xi(i.value))return i.value===xd?Yx():g2(i.value);if(Qn(i.value))return $x({value:ip(i.value,e,t)});for(const[,r]of sp){const a=r.handleColor(i);if(a)return a}}function Lc(n,e,t=!0){const i=Ci(n,e,t);return i?Kx(i):void 0}function Kx(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),a=Math.min(e,t,i),u={h:0,l:(r+a)/2,s:0};return r!==a&&(u.s=u.l<.5?(r-a)/(r+a):(r-a)/(2-r-a),u.h=e===r?(t-i)/(r-a):u.h=t===r?2+(i-e)/(r-a):4+(e-t)/(r-a)),u.l*=100,u.s*=100,u.h*=60,u.h<0&&(u.h+=360),u.h>=360&&(u.h-=360),u}function g2(n){return m2(n)}function Ml(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=Gg(r,i,t.h+1/3),e.g=Gg(r,i,t.h),e.b=Gg(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function y2(n){const e=Ml(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function Yx(n){return{b:Math.floor(Nn(Ie(0,256))),g:Math.floor(Nn(Ie(0,256))),r:Math.floor(Nn(Ie(0,256)))}}function Gs(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function Uc(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function Zv(n,e,t,i){let r=n,a=e;return r.r===void 0&&(r=Ml(n)),a.r===void 0&&(a=Ml(e)),{b:Hg(r.b,a.b,t,i),g:Hg(r.g,a.g,t,i),r:Hg(r.r,a.r,t,i)}}function Fy(n,e,t){if(t===xd)return Yx();if(t===ld){const i=n.getFillColor()??n.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return Zv(i,r,n.getRadius(),e.getRadius());{const a=i??r;if(a)return Ml(a)}}else return t}function Xx(n,e,t){const i=xi(n)?n:n.value;return i===xd?t?Ci({value:i}):e?xd:ld:i===ld?ld:Ci({value:i})}function uE(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function Qx(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&($g(i.h,e.h,t),$g(i.s,e.s,t),$g(i.l,e.l,t)),i}function $g(n,e,t){n.enable=e.enable,n.enable?(n.velocity=_e(e.speed)/100*t,n.decay=1-_e(e.decay),n.status="increasing",n.loops=0,n.maxLoops=_e(e.count),n.time=0,n.delayTime=_e(e.delay)*1e3,e.sync||(n.velocity*=ot(),n.value*=ot()),n.initialValue=n.value):n.velocity=0}function Ec(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function v2(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function _2(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function b2(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function Kg(n,e){n.clearRect(0,0,e.width,e.height)}function w2(n){const{container:e,context:t,particle:i,delta:r,colorStyles:a,backgroundMask:u,composite:h,radius:f,opacity:d,shadow:g,transform:v}=n,b=i.getPosition(),E=i.rotation+(i.pathRotation?i.velocity.angle:0),C={sin:Math.sin(E),cos:Math.cos(E)},A={a:C.cos*(v.a??1),b:C.sin*(v.b??1),c:-C.sin*(v.c??1),d:C.cos*(v.d??1)};t.setTransform(A.a,A.b,A.c,A.d,b.x,b.y),t.beginPath(),u&&(t.globalCompositeOperation=h);const R=i.shadowColor;g.enable&&R&&(t.shadowBlur=g.blur,t.shadowColor=Gs(R),t.shadowOffsetX=g.offset.x,t.shadowOffsetY=g.offset.y),a.fill&&(t.fillStyle=a.fill);const P=i.strokeWidth??0;t.lineWidth=P,a.stroke&&(t.strokeStyle=a.stroke),T2(e,t,i,f,d,r),P>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),E2(e,t,i,f,d,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function T2(n,e,t,i,r,a){if(!t.shape)return;const u=n.drawers.get(t.shape);u&&u.draw(e,t,i,r,a,n.retina.pixelRatio)}function E2(n,e,t,i,r,a){if(!t.shape)return;const u=n.drawers.get(t.shape);!u||!u.afterEffect||u.afterEffect(e,t,i,r,a,n.retina.pixelRatio)}function S2(n,e,t){e.draw&&e.draw(n,t)}function A2(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function x2(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function R2(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}class C2{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,a,u,h)=>{for(const f of this._preDrawUpdaters){if(f.getColorStyles){const{fill:d,stroke:g}=f.getColorStyles(i,t,r,a);d&&(u.fill=d),g&&(u.stroke=g)}if(f.getTransformValues){const d=f.getTransformValues(i);for(const g in d)R2(h,d,g)}f.beforeDraw&&f.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const a of this._colorPlugins)if(!i&&a.particleFillColor&&(i=Lc(a.particleFillColor(t))),!r&&a.particleStrokeColor&&(r=Lc(a.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,a=Ci(r);if(a){const u={...a,a:i.opacity};this._coverColorStyle=Gs(u,u.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=_n({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const a=i.style[r];a&&t.style.setProperty(r,a,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const a=Ci(r.color);if(!a)return;const u=t.particles.move.trail;this._trailFill={color:{...a},opacity:1/u.length}}else await new Promise((a,u)=>{if(!r.image)return;const h=document.createElement("img");h.addEventListener("load",()=>{this._trailFill={image:h,opacity:1/i.length},a()}),h.addEventListener("error",f=>{u(f.error)}),h.src=r.image})},this._paintBase=t=>{this.draw(i=>_2(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>b2(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(Gs(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{Kg(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),a=e.getStrokeColor()??r;let[u,h]=this._getPluginParticleColors(e);u||(u=r),h||(h=a),!(!u&&!h)&&this.draw(f=>{const d=this.container,g=d.actualOptions,v=e.options.zIndex,b=(1-e.zIndexFactor)**v.opacityRate,E=e.bubble.opacity??e.opacity?.value??1,C=e.strokeOpacity??E,A=E*b,R=C*b,P={},B={fill:u?Uc(u,A):void 0};B.stroke=h?Uc(h,R):B.fill,this._applyPreDrawUpdaters(f,e,i,A,B,P),w2({container:d,context:f,particle:e,delta:t,colorStyles:B,backgroundMask:g.backgroundMask.enable,composite:g.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**v.sizeRate,opacity:A,shadow:e.options.shadow,transform:P}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>A2(r,e,t,i))}drawPlugin(e,t){this.draw(i=>S2(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=l2(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){oa().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const a=Ci(t.color);r.backgroundColor=a?Gs(a,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Tc in e.dataset?e.dataset[Tc]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=_n({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Kg(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const a={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/a.width,height:i.height/a.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Kg(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function hi(n,e,t,i,r){if(i){let a={passive:!0};zr(r)?a.capture=r:r!==void 0&&(a=r),n.addEventListener(e,t,a)}else{const a=r;n.removeEventListener(e,t,a)}}class I2{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const a=i.interactivity.mouse,u=a.position;if(!u)return;a.clickPosition={...u},a.clickTime=new Date().getTime();const h=r.interactivity.events.onClick;Zt(h.mode,f=>this.container.handleClickMode(f))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,a=r.options,u=a.defaultThemes,h=i.matches?u.dark:u.light,f=a.themes.find(d=>d.name===h);f&&f.default.auto&&r.loadTheme(h)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,a=this.container,u=a.actualOptions,h=a.interactivity.element;if(!h)return;const f=h,d=a.canvas.element;d&&(d.style.pointerEvents=f===d?"initial":"none"),(u.interactivity.events.onHover.enable||u.interactivity.events.onClick.enable)&&(hi(h,sa,r.mouseMove,i),hi(h,QM,r.touchStart,i),hi(h,WM,r.touchMove,i),u.interactivity.events.onClick.enable?(hi(h,rE,r.touchEndClick,i),hi(h,YM,r.mouseUp,i),hi(h,KM,r.mouseDown,i)):hi(h,rE,r.touchEnd,i),hi(h,t,r.mouseLeave,i),hi(h,ZM,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,a=r.actualOptions,u=a.interactivity.detectsOn,h=r.canvas.element;let f=zy;u==="window"?(r.interactivity.element=window,f=XM):u==="parent"&&h?r.interactivity.element=h.parentElement??h.parentNode:r.interactivity.element=h,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(f,t),document&&hi(document,e2,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=zx("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){hi(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){hi(window,JM,i.resize,t);return}const u=r.canvas.element;this._resizeObserver&&!t?(u&&this._resizeObserver.unobserve(u),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&u&&(this._resizeObserver=new ResizeObserver(async h=>{h.find(d=>d.target===u)&&await this._handleWindowResize()}),this._resizeObserver.observe(u))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:a}=i.interactivity;a.inside=!0;let u=!1;const h=a.position;if(!(!h||!r.interactivity.events.onClick.enable)){for(const[,f]of i.plugins)if(f.clickPositionValid&&(u=f.clickPositionValid(h),u))break;u||this._doMouseTouchClick(t),a.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=zy,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,a=i.interactivity,u=i.canvas.element;if(!a||!a.element)return;a.mouse.inside=!0;let h;if(t.type.startsWith("pointer")){this._canPush=!0;const d=t;if(a.element===window){if(u){const g=u.getBoundingClientRect();h={x:d.clientX-g.left,y:d.clientY-g.top}}}else if(r.interactivity.detectsOn==="parent"){const g=d.target,v=d.currentTarget;if(g&&v&&u){const b=g.getBoundingClientRect(),E=v.getBoundingClientRect(),C=u.getBoundingClientRect();h={x:d.offsetX+2*b.left-(E.left+C.left),y:d.offsetY+2*b.top-(E.top+C.top)}}else h={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY}}else d.target===u&&(h={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY})}else if(this._canPush=t.type!=="touchmove",u){const d=t,g=d.touches[d.touches.length-1],v=u.getBoundingClientRect();h={x:g.clientX-(v.left??0),y:g.clientY-(v.top??0)}}const f=i.retina.pixelRatio;h&&(h.x*=f,h.y*=f),a.mouse.position=h,a.status=sa},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.set(a.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class un{constructor(){this.value=""}static create(e,t){const i=new un;return i.load(e),t!==void 0&&(xi(t)||Qn(t)?i.load({value:t}):i.load(t)),i}load(e){e?.value!==void 0&&(this.value=e.value)}}class D2{constructor(){this.color=new un,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class P2{constructor(){this.color=new un,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class k2{constructor(){this.composite="destination-out",this.cover=new P2,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=xi(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class M2{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class O2{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class cE{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Zt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Zt(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class N2{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class V2{constructor(){this.enable=!1,this.mode=[],this.parallax=new N2}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class L2{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class U2{constructor(){this.onClick=new O2,this.onDiv=new cE,this.onHover=new V2,this.resize=new L2}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=Zt(t,i=>{const r=new cE;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),zr(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class z2{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class Wx{constructor(e,t){this.detectsOn="window",this.events=new U2,this.modes=new z2(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class B2{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=_n({},e.options)))}}class j2{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=_n({},e.options)))}}class F2{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class q2{constructor(){this.name="",this.default=new F2}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=_n({},e.options)))}}class Yg{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Ie(e.offset)),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.delay!==void 0&&(this.delay=Ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class H2{constructor(){this.h=new Yg,this.s=new Yg,this.l=new Yg}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class zc extends un{constructor(){super(),this.animation=new H2}static create(e,t){const i=new zc;return i.load(e),t!==void 0&&(xi(t)||Qn(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class G2{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class $2{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class K2{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.delay!==void 0&&(this.delay=Ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Zx extends K2{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class Y2{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class no{constructor(){this.random=new Y2,this.value=0}load(e){e&&(zr(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Ie(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class hE extends no{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class Jx{constructor(){this.horizontal=new hE,this.vertical=new hE}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class X2{constructor(){this.absorb=new G2,this.bounce=new Jx,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new $2}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Ie(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class Q2{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Ie(e.offset)),e.value!==void 0&&(this.value=Ie(e.value)))}}class W2{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){if(!e)return;e.distance!==void 0&&(this.distance=Ie(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=e.rotate?.x??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=e.rotate?.y??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class Z2{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class J2{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Ie(e.maxSpeed)))}}class eO{constructor(){this.clamp=!0,this.delay=new no,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=_n(this.options,e.options)))}}class tO{load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class nO{constructor(){this.enable=!1,this.length=10,this.fill=new tO}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class iO{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class sO{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=_n({},e.position)))}}class rO{constructor(){this.angle=new Q2,this.attract=new W2,this.center=new Z2,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new J2,this.path=new eO,this.outModes=new iO,this.random=!1,this.size=!1,this.speed=2,this.spin=new sO,this.straight=!1,this.trail=new nO,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Ri(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Ri(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Ie(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(vl(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Ie(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class oO extends Zx{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){e?.opacity_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class aO extends no{constructor(){super(),this.animation=new oO,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class lO{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class uO{constructor(){this.density=new lO,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class cO{constructor(){this.blur=0,this.color=new un,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=un.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Xg="character",Qg="char",Wg="image",Zg="images",Jg="polygon",ey="star";class hO{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const a=Qn(e),u=a?[]:{},h=a!==Qn(this.options[t]),f=a!==Qn(this.options[i]);h&&(this.options[t]=u),f&&r&&(this.options[i]=u),this.options[t]=_n(this.options[t]??u,e),(!this.options[i]||r)&&(this.options[i]=_n(this.options[i]??u,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Xg]??this.options[Qg]}set character(e){this.options[Qg]=this.options[Xg]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Wg]??this.options[Zg]}set image(e){this.options[Zg]=this.options[Wg]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Jg]??this.options[ey]}set polygon(e){this.options[ey]=this.options[Jg]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=_n(this.options[i]??{},r))}this.loadShape(e.character,Xg,Qg,!0),this.loadShape(e.polygon,Jg,ey,!1),this.loadShape(e.image??e.images,Wg,Zg,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class fO extends Zx{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){e?.size_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class dO extends no{constructor(){super(),this.animation=new fO,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class fE{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=zc.create(this.color,e.color)),e.width!==void 0&&(this.width=Ie(e.width)),e.opacity!==void 0&&(this.opacity=Ie(e.opacity)))}}class pO extends no{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class mO{constructor(e,t){this._engine=e,this._container=t,this.bounce=new Jx,this.collisions=new X2,this.color=new zc,this.color.value="#fff",this.groups={},this.move=new rO,this.number=new uO,this.opacity=new aO,this.reduceDuplicates=!1,this.shadow=new cO,this.shape=new hO,this.size=new dO,this.stroke=new fE,this.zIndex=new pO}load(e){if(!e)return;if(this.bounce.load(e.bounce),this.color.load(zc.create(this.color,e.color)),e.groups!==void 0)for(const r in e.groups){const a=e.groups[r];a!==void 0&&(this.groups[r]=_n(this.groups[r]??{},a))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=e.move?.collisions??e.move?.bounce;t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=_n({},e.interactivity));const i=e.stroke??e.shape?.stroke;if(i&&(this.stroke=Zt(i,r=>{const a=new fE;return a.load(r),a})),this._container){const r=this._engine.plugins.updaters.get(this._container);if(r)for(const u of r)u.loadOptions&&u.loadOptions(this,e);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const u of a)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}}function e1(n,...e){for(const t of e)n.load(t)}function t1(n,e,...t){const i=new mO(n,e);return e1(i,...t),i}class gO{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new D2,this.backgroundMask=new k2,this.defaultThemes={},this.delay=0,this.fullScreen=new M2,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Wx(e,t),this.manualParticles=[],this.particles=t1(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){if(!e)return;e.preset!==void 0&&Zt(e.preset,u=>this._importPreset(u)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Ie(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Ie(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;zr(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(u=>{const h=new B2;return h.load(u),h})),this.particles.load(e.particles),this.style=_n(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const u of a)u.loadOptions&&u.loadOptions(this,e);if(e.responsive!==void 0)for(const u of e.responsive){const h=new j2;h.load(u),this.responsive.push(h)}if(this.responsive.sort((u,h)=>u.maxWidth-h.maxWidth),e.themes!==void 0)for(const u of e.themes){const h=this.themes.find(f=>f.name===u.name);if(h)h.load(u);else{const f=new q2;f.load(u),this.themes.push(f)}}this.defaultThemes.dark=this._findDefaultTheme("dark")?.name,this.defaultThemes.light=this._findDefaultTheme("light")?.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(a=>a.mode==="screen"&&screen?a.maxWidth>screen.availWidth:a.maxWidth*t>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=zx("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class yO{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const dE=n=>{if(!Rt(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class vO{constructor(e,t,i,r,a,u){this.container=i,this._calcPosition=(h,f,d,g=0)=>{for(const[,B]of h.plugins){const j=B.particlePosition!==void 0?B.particlePosition(f,this):void 0;if(j)return $n.create(j.x,j.y,d)}const v=h.canvas.size,b=s2({size:v,position:f}),E=$n.create(b.x,b.y,d),C=this.getRadius(),A=this.options.move.outModes,R=B=>{dE({outMode:B,checkModes:["bounce","bounce-horizontal"],coord:E.x,maxCoord:h.canvas.size.width,setCb:j=>E.x+=j,radius:C})},P=B=>{dE({outMode:B,checkModes:["bounce","bounce-vertical"],coord:E.y,maxCoord:h.canvas.size.height,setCb:j=>E.y+=j,radius:C})};return R(A.left??A.default),R(A.right??A.default),P(A.top??A.default),P(A.bottom??A.default),this._checkOverlap(E,g)?this._calcPosition(h,void 0,d,g+1):E},this._calculateVelocity=()=>{const h=i2(this.direction),f=h.copy(),d=this.options.move;if(d.direction==="inside"||d.direction==="outside")return f;const g=Math.PI/180*_e(d.angle.value),v=Math.PI/180*_e(d.angle.offset),b={left:v-g/2,right:v+g/2};return d.straight||(f.angle+=Nn(Ie(b.left,b.right))),d.random&&typeof d.speed=="number"&&(f.length*=ot()),f},this._checkOverlap=(h,f=0)=>{const d=this.options.collisions,g=this.getRadius();if(!d.enable)return!1;const v=d.overlap;if(v.enable)return!1;const b=v.retries;if(b>=0&&f>b)throw new Error(`${yi} particle is overlapping and can't be placed`);return!!this.container.particles.find(E=>Xn(h,E.position)<g+E.getRadius())},this._getRollColor=h=>{if(!h||!this.roll||!this.backColor&&!this.roll.alter)return h;const f=this.roll.horizontal&&this.roll.vertical?2:1,d=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+d)/(Math.PI/f))%2?this.backColor?this.backColor:this.roll.alter?x2(h,this.roll.alter.type,this.roll.alter.value):h:h},this._initPosition=h=>{const f=this.container,d=_e(this.options.zIndex.value);this.position=this._calcPosition(f,h,Di(d,0,f.zLayers)),this.initialPosition=this.position.copy();const g=f.canvas.size;switch(this.moveCenter={...Hx(this.options.move.center,g),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=n2(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Wt.origin},this._loadShapeData=(h,f)=>{const d=h.options[this.shape];if(d)return _n({close:h.close,fill:h.fill},Hs(d,this.id,f))},this._engine=e,this.init(t,r,a,u)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??uE(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??uE(this.strokeColor))}init(e,t,i,r){const a=this.container,u=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const h=a.retina.pixelRatio,f=a.actualOptions,d=t1(this._engine,a,f.particles),g=d.shape.type,{reduceDuplicates:v}=d;this.shape=Hs(g,this.id,v);const b=d.shape;if(i&&i.shape&&i.shape.type){const j=i.shape.type,G=Hs(j,this.id,v);G&&(this.shape=G,b.load(i.shape))}this.shapeData=this._loadShapeData(b,v),d.load(i);const E=this.shapeData;E&&d.load(E.particles);const C=new Wx(u,a);C.load(a.actualOptions.interactivity),C.load(d.interactivity),this.interactivity=C,this.fill=E?.fill??d.shape.fill,this.close=E?.close??d.shape.close,this.options=d;const A=this.options.move.path;this.pathDelay=ra(A.delay)*1e3,A.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(A.generator),this.pathGenerator&&a.addPath(A.generator,this.pathGenerator)&&this.pathGenerator.init(a)),a.retina.initParticle(this),this.size=qx(this.options.size,h),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-_e(this.options.move.decay);const R=a.particles;R.needsSort=R.needsSort||R.lastZIndex<this.position.z,R.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/a.zLayers,this.sides=24;let P=a.drawers.get(this.shape);P||(P=this._engine.plugins.getShapeDrawer(this.shape),P&&a.drawers.set(this.shape,P)),P&&P.loadShape&&P.loadShape(this);const B=P?.getSidesCount;B&&(this.sides=B(this)),this.spawning=!1,this.shadowColor=Ci(this.options.shadow.color);for(const j of a.particles.updaters)j.init(this);for(const j of a.particles.movers)j.init&&j.init(this);P&&P.particleInit&&P.particleInit(a,this);for(const[,j]of a.plugins)j.particleCreated&&j.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class _O{constructor(e,t){this.position=e,this.particle=t}}class n1{constructor(e,t){this.position={x:e,y:t}}}class Pi extends n1{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof bn&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,a=e.position,u=e instanceof Pi?e.size:{width:0,height:0},h=u.width,f=u.height;return a.x<r.x+t&&a.x+h>r.x&&a.y<r.y+i&&a.y+f>r.y}}class bn extends n1{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return Xn(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},a=this.radius;if(e instanceof bn){const u=a+e.radius,h=Math.sqrt(r.x**2+r.y**2);return u>h}else if(e instanceof Pi){const{width:u,height:h}=e.size;return Math.pow(r.x-u,2)+Math.pow(r.y-h,2)<=a**2||r.x<=a+u&&r.y<=a+h||r.x<=u||r.y<=h}return!1}}class Rd{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:a,height:u}=this.rectangle.size,{capacity:h}=this;for(let f=0;f<4;f++)this._subs.push(new Rd(new Pi(i+a/2*(f%2),r+u/2*(Math.round(f/2)-f%2),a/2,u/2),h));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const a of this._points)!e.contains(a.position)&&Xn(e.position,a.position)>a.particle.getRadius()&&(!t||t(a.particle))||r.push(a.particle);if(this._divided)for(const a of this._subs)a.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new bn(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Pi(e.x,e.y,t.width,t.height),i)}}const pE=4,mE=n=>new Pi(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let bO=class{constructor(e,t){this._applyDensity=(r,a,u)=>{if(!r.number.density?.enable)return;const h=r.number,f=this._initDensityFactor(h.density),d=h.value,g=h.limit>0?h.limit:d,v=Math.min(d,g)*f+a,b=Math.min(this.count,this.filter(E=>E.group===u).length);this.limit=h.limit*f,b<v?this.push(Math.abs(v-b),void 0,r,u):b>v&&this.removeQuantity(b-v,u)},this._initDensityFactor=r=>{const a=this._container;if(!a.canvas.element||!r.enable)return 1;const u=a.canvas.element,h=a.retina.pixelRatio;return u.width*u.height/(r.factor*h**2*r.area)},this._pushParticle=(r,a,u,h)=>{try{let f=this.pool.pop();f?f.init(this._nextId,r,a,u):f=new vO(this._engine,this._nextId,this._container,r,a,u);let d=!0;return h&&(d=h(f)),d?(this._array.push(f),this._zArray.push(f),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:f}}),f):void 0}catch(f){oa().warning(`${yi} adding particle: ${f}`);return}},this._removeParticle=(r,a,u)=>{const h=this._array[r];if(!h||h.group!==a)return!1;h.destroy(u);const f=this._zArray.indexOf(h);return this._array.splice(r,1),this._zArray.splice(f,1),this.pool.push(h),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:h}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new yO(e,t);const i=t.canvas.size;this.quadTree=new Rd(mE(i),pE),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?Hx(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const a=this._container,u=a.actualOptions,h=u.particles.number.limit;if(h>0){const f=this.count+1-h;f>0&&this.removeQuantity(f)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,r]of e.plugins)if(r.particlesInitialization!==void 0&&(i=r.particlesInitialization()),i)break;this._interactionManager.init();for(const[,r]of e.pathGenerators)r.init(e);if(this.addManualParticles(),!i){for(const r in t.particles.groups){const a=t.particles.groups[r];for(let u=this.count,h=0;h<a.number?.value&&u<t.particles.number.value;u++,h++)this.addParticle(void 0,a,r)}for(let r=this.count;r<t.particles.number.value;r++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let a=0;a<e;a++)this.addParticle(t?.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let a=0;for(let u=e;a<t&&u<this.count;u++)this._removeParticle(u--,i,r)&&a++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new Rd(mE(t.canvas.size),pE);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const a=t.canvas.resizeFactor;a&&!r.ignoresResizeRatio&&(r.position.x*=a.width,r.position.y*=a.height,r.initialPosition.x*=a.width,r.initialPosition.y*=a.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,u]of this._container.plugins){if(r.destroyed)break;u.particleUpdate&&u.particleUpdate(r,e)}for(const u of this.movers)u.isEnabled(r)&&u.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new _O(r.getPosition(),r))}if(i.size){const r=a=>!i.has(a);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const a of this.updaters)a.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((a,u)=>u.position.z-a.position.z||a.id-u.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class wO{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||kl()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const u=e.canvas.element;e.canvas.size.width=u.offsetWidth*i,e.canvas.size.height=u.offsetHeight*i}const r=t.particles,a=r.move;this.attractDistance=_e(a.attract.distance)*i,this.maxSpeed=_e(a.gravity.maxSpeed)*i,this.sizeAnimationSpeed=_e(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,a=r.distance,u=e.retina;u.attractDistance=_e(r.attract.distance)*i,u.moveDrift=_e(r.drift)*i,u.moveSpeed=_e(r.speed)*i,u.sizeAnimationSpeed=_e(t.size.animation.speed)*i;const h=u.maxDistance;h.horizontal=a.horizontal!==void 0?a.horizontal*i:void 0,h.vertical=a.vertical!==void 0?a.vertical*i:void 0,u.maxSpeed=_e(r.gravity.maxSpeed)*i}}function dt(n){return n&&!n.destroyed}function TO(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function fl(n,e,...t){const i=new gO(n,e);return e1(i,...t),i}const EO="default",gE={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class SO{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!dt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const a of r)a.target===this.interactivity.element&&(a.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??=r;const a=TO(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(a.value),this.lastFrameTime=r,a.value>1e3){this.draw(!1);return}if(await this.particles.draw(a),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(a){oa().error(`${yi} in animation loop`,a)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new wO(this),this.canvas=new C2(this),this.particles=new bO(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=fl(this._engine,this),this.actualOptions=fl(this._engine,this),this._eventListeners=new I2(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!dt(this))return;const t=this.interactivity.element;if(!t)return;const i=(v,b,E)=>{if(!dt(this))return;const C=this.retina.pixelRatio,A={x:b.x*C,y:b.y*C},R=this.particles.quadTree.queryCircle(A,E*C);e(v,R)},r=v=>{if(!dt(this))return;const b=v,E={x:b.offsetX||b.clientX,y:b.offsetY||b.clientY};i(v,E,1)},a=()=>{dt(this)&&(d=!0,g=!1)},u=()=>{dt(this)&&(g=!0)},h=v=>{if(dt(this)){if(d&&!g){const b=v;let E=b.touches[b.touches.length-1];if(!E&&(E=b.changedTouches[b.changedTouches.length-1],!E))return;const C=this.canvas.element,A=C?C.getBoundingClientRect():void 0,R={x:E.clientX-(A?A.left:0),y:E.clientY-(A?A.top:0)};i(v,R,Math.max(E.radiusX,E.radiusY))}d=!1,g=!1}},f=()=>{dt(this)&&(d=!1,g=!1)};let d=!1,g=!1;t.addEventListener("click",r),t.addEventListener("touchstart",a),t.addEventListener("touchmove",u),t.addEventListener("touchend",h),t.addEventListener("touchcancel",f)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!dt(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??gE),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!dt(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!dt(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}oa().error(`${yi} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&dt(this)}handleClickMode(e){if(dt(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!dt(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=fl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=fl(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=_e(this.actualOptions.duration)*1e3,this._delay=_e(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){dt(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(dt(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!dt(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(dt(this))return this.stop(),this.start()}async reset(){if(dt(this))return this._initialSourceOptions=void 0,this._options=fl(this._engine,this),this.actualOptions=fl(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){dt(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!dt(this))return;const r={...gE};if(Gx(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const a=r;r.generate=e.generate||a.generate,r.init=e.init||a.init,r.update=e.update||a.update}this.addPath(EO,r,!0)}async start(){!dt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!dt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class AO{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,a=i.indexOf(t);a<0||(r===1?this._listeners.delete(e):i.splice(a,1))}}function ty(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(a=>a(n)),e.set(n,r)),r}class xO{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){Zt(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return ty(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return ty(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return ty(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const a of r)a.loadOptions&&a.loadOptions(t,...i)}}async function RO(n){const e=Hs(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(oa().error(`${yi} ${t.status} while retrieving config file`),n.fallback)}function CO(n){return!n.id&&!n.element&&!n.url&&!n.options}function IO(n){return!CO(n)}class DO{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new AO,this._initialized=!1,this.plugins=new xO(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){xi(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,a,u=!0){let h,f=u,d,g,v;zr(i)?(f=i,d=void 0):d=i,zr(r)?(f=r,g=void 0):g=r,zr(a)?(f=a,v=void 0):v=a,Gx(t)?h={afterEffect:g,destroy:v,draw:t,init:d}:h=t,this.plugins.addShapeDrawer(e,h),await this.refresh(f)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return IO(e)?r=e:(r={},xi(e)?r.id=e:r.options=e,Ri(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,a;return Ri(t)||t===void 0?r=e:(a=e,r=t),this._loadParams({id:a,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const a={index:r};return xi(e)?a.id=e:a.element=e,t instanceof HTMLElement?a.element=t:a.options=t,Ri(i)?a.index=i:a.options=i??a.options,this._loadParams(a)}async setJSON(e,t,i,r){const a={};return e instanceof HTMLElement?(a.element=e,a.url=t,a.index=i):(a.id=e,a.element=t,a.url=i,a.index=r),this._loadParams(a)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${yi} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(ot()*1e4)}`,{index:i,url:r}=e,a=r?await RO({fallback:e.options,url:r,index:i}):e.options;let u=e.element??document.getElementById(t);u||(u=document.createElement("div"),u.id=t,document.body.append(u));const h=Hs(a,i),f=this.dom(),d=f.findIndex(b=>b.id===t);if(d>=0){const b=this.domItem(d);b&&!b.destroyed&&(b.destroy(),f.splice(d,1))}let g;if(u.tagName.toLowerCase()==="canvas")g=u,g.dataset[Tc]="false";else{const b=u.getElementsByTagName("canvas");b.length?(g=b[0],g.dataset[Tc]="false"):(g=document.createElement("canvas"),g.dataset[Tc]="true",u.appendChild(g))}g.style.width||(g.style.width="100%"),g.style.height||(g.style.height="100%");const v=new SO(this,t,h);return d>=0?f.splice(d,0,v):f.push(v),v.canvas.loadCanvas(g),await v.start(),v}}class PO{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Ml(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Ml({h:_e(i.h),l:_e(i.l),s:_e(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?y2({a:i.length>4?Ux(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class kO{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:_e(i.r),g:_e(i.g),b:_e(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?Ux(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function MO(){const n=new kO,e=new PO;lE(n),lE(e);const t=new DO;return t.init(),t}class ds{constructor(e){this.container=e,this.type="external"}}class Jv{constructor(e){this.container=e,this.type="particles"}}const Cd=MO();kl()||(window.tsParticles=Cd);const _l=n=>typeof n=="object"&&n!==null;function Id(n,e,t=()=>!1){if(!_l(n)||!_l(e))return n===e;const i=Object.keys(n).filter(a=>!t(a)),r=Object.keys(e).filter(a=>!t(a));if(i.length!==r.length)return!1;for(const a of i){const u=n[a],h=e[a];if(_l(u)&&_l(h)){if(u===e&&h===n)continue;if(!Id(u,h,t))return!1}else if(Array.isArray(u)&&Array.isArray(h)){if(!i1(u,h,t))return!1}else if(u!==h)return!1}return!0}function i1(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],a=e[i];if(Array.isArray(r)&&Array.isArray(a)){if(!i1(r,a,t))return!1}else if(_l(r)&&_l(a)){if(!Id(r,a,t))return!1}else if(r!==a)return!1}return!0}const s1="tsparticles";let r1=class o1 extends U.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!Id(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!Id(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Cd),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:a}=this.props;return Ny.createElement("div",{className:i,id:a},Ny.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??o1.defaultProps.id??s1,t=await Cd.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}};r1.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:s1};class Dd{static init(e){const t=new Dd,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return Cd.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:e.responsive?.map(a=>({maxWidth:a.breakpoint,options:{particles:{color:{value:a.options?.color},links:{distance:a.options?.minDistance,enable:a.options?.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:a.options?.speed},size:{value:a.options?.sizeVariations}}}}))}).then(a=>{t._container=a}),t}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const OO=n=>{const e=(i,r)=>n.load(i,r);e.load=(i,r,a)=>{n.loadJSON(i,r).then(u=>{u&&a(u)}).catch(()=>{a(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},NO=n=>{const{particlesJS:e,pJSDom:t}=OO(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=Dd,{particlesJS:e,pJSDom:t,Particles:Dd}};function VO(n){const e=n.initialPosition,{dx:t,dy:i}=Cn(e,n.position),r=Math.abs(t),a=Math.abs(i),{maxDistance:u}=n.retina,h=u.horizontal,f=u.vertical;if(!(!h&&!f)){if((h&&r>=h||f&&a>=f)&&!n.misplaced)n.misplaced=!!h&&r>h||!!f&&a>f,h&&(n.velocity.x=n.velocity.y/2-n.velocity.x),f&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!h||r<h)&&(!f||a<f)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const d=n.position,g=n.velocity;h&&(d.x<e.x&&g.x<0||d.x>e.x&&g.x>0)&&(g.x*=-ot()),f&&(d.y<e.y&&g.y<0||d.y>e.y&&g.y>0)&&(g.y*=-ot())}}}function LO(n,e,t,i,r,a){zO(n,a);const u=n.gravity,h=u?.enable&&u.inverse?-1:1;r&&t&&(n.velocity.x+=r*a.factor/(60*t)),u?.enable&&t&&(n.velocity.y+=h*(u.acceleration*a.factor)/(60*t));const f=n.moveDecay;n.velocity.multTo(f);const d=n.velocity.mult(t);u?.enable&&i>0&&(!u.inverse&&d.y>=0&&d.y>=i||u.inverse&&d.y<=0&&d.y<=-i)&&(d.y=h*i,t&&(n.velocity.y=d.y/t));const g=n.options.zIndex,v=(1-n.zIndexFactor)**g.velocityRate;d.multTo(v);const{position:b}=n;b.addTo(d),e.vibrate&&(b.x+=Math.sin(b.x*Math.cos(b.y)),b.y+=Math.cos(b.y*Math.sin(b.x)))}function UO(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}function zO(n,e){const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const a=n.pathGenerator?.generate(n,e);a&&n.velocity.addTo(a),i.clamp&&(n.velocity.x=Di(n.velocity.x,-1,1),n.velocity.y=Di(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function BO(n){return n.slow.inRange?n.slow.factor:1}const jO=2;class FO{constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const a=r.position??{x:50,y:50},u={x:a.x/100*t.canvas.size.width,y:a.y/100*t.canvas.size.height},h=e.getPosition(),f=Xn(h,u),d=_e(r.acceleration);e.retina.spinAcceleration=d*t.retina.pixelRatio,e.spin={center:u,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:f,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:_e(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const i=e.options,r=i.move;if(!r.enable)return;const a=e.container,u=a.retina.pixelRatio,h=BO(e),f=(e.retina.moveSpeed??=_e(r.speed)*u)*a.retina.reduceFactor,d=e.retina.moveDrift??=_e(e.options.move.drift)*u,g=Lr(i.size.value)*u,v=r.size?e.getRadius()/g:1,b=f*v*h*(t.factor||1)/jO,E=e.retina.maxSpeed??a.retina.maxSpeed;r.spin.enable?UO(e,b):LO(e,r,b,E,d,t),VO(e)}}async function qO(n,e=!0){await n.addMover("base",()=>new FO,e)}class HO{draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:Math.PI*2});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=i?.angle??{max:360,min:0};t.circleRange=vl(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function GO(n,e=!0){await n.addShape("circle",new HO,e)}function ny(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const a=Nn(t.offset),u=(e.velocity??0)*n.factor+a*3.6,h=e.decay??1;!r||e.status==="increasing"?(e.value+=u,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=u,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&h!==1&&(e.velocity*=h),e.value>i&&(e.value%=i)}function $O(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:a}=n;if(!a)return;const{h:u,s:h,l:f}=a;u&&ny(e,u,t,360,!1),h&&ny(e,h,i,100,!0),f&&ny(e,f,r,100,!0)}class KO{constructor(e){this.container=e}init(e){const t=Lc(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=Qx(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:a}=e;return!e.destroyed&&!e.spawning&&(a?.h.value!==void 0&&t.enable||a?.s.value!==void 0&&i.enable||a?.l.value!==void 0&&r.enable)}update(e,t){$O(e,t)}}async function YO(n,e=!0){await n.addParticleUpdater("color",t=>new KO(t),e)}function XO(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function QO(n,e){const t=n.opacity;if(n.destroyed||!t?.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,a=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=a),XO(n,t.value,i,r),n.destroyed||(t.value=Di(t.value,i,r))}}class WO{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=qx(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=_e(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=ot()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&QO(e,t)}}async function ZO(n,e=!0){await n.addParticleUpdater("opacity",t=>new WO(t),e)}function JO(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=ra(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function eN(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=ra(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class tN{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;let u=!1;for(const[,b]of a.plugins)if(b.particleBounce!==void 0&&(u=b.particleBounce(e,i,t)),u)break;if(u)return;const h=e.getPosition(),f=e.offset,d=e.getRadius(),g=rh(h,d),v=a.canvas.size;JO({particle:e,outMode:r,direction:t,bounds:g,canvasSize:v,offset:f,size:d}),eN({particle:e,outMode:r,direction:t,bounds:g,canvasSize:v,offset:f,size:d})}}class nN{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case"normal":case"outside":if(Xv(e.position,a.canvas.size,Wt.origin,e.getRadius(),t))return;break;case"inside":{const{dx:u,dy:h}=Cn(e.position,e.moveCenter),{x:f,y:d}=e.velocity;if(f<0&&u>e.moveCenter.radius||d<0&&h>e.moveCenter.radius||f>=0&&u<-e.moveCenter.radius||d>=0&&h<-e.moveCenter.radius)return;break}}a.particles.remove(e,void 0,!0)}}class iN{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const a=e.options.move.gravity,u=this.container,h=u.canvas.size,f=e.getRadius();if(a.enable){const d=e.position;(!a.inverse&&d.y>h.height+f&&t==="bottom"||a.inverse&&d.y<-f&&t==="top")&&u.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=h.height+f||e.velocity.y<0&&e.position.y>=-f||e.velocity.x>0&&e.position.x<=h.width+f||e.velocity.x<0&&e.position.x>=-f)return;Xv(e.position,u.canvas.size,Wt.origin,f,t)||u.particles.remove(e)}}}class sN{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case"inside":{const{x:u,y:h}=e.velocity,f=Wt.origin;f.length=e.moveCenter.radius,f.angle=e.velocity.angle+Math.PI,f.addTo(Wt.create(e.moveCenter));const{dx:d,dy:g}=Cn(e.position,f);if(u<=0&&d>=0||h<=0&&g>=0||u>=0&&d<=0||h>=0&&g<=0)return;e.position.x=Math.floor(Nn({min:0,max:a.canvas.size.width})),e.position.y=Math.floor(Nn({min:0,max:a.canvas.size.height}));const{dx:v,dy:b}=Cn(e.position,e.moveCenter);e.direction=Math.atan2(-b,-v),e.velocity.angle=e.direction;break}default:{if(Xv(e.position,a.canvas.size,Wt.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Nn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Nn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:u,dy:h}=Cn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(h,u),e.velocity.angle=e.direction);break}case"normal":{const u=e.options.move.warp,h=a.canvas.size,f={bottom:h.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:h.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},d=e.getRadius(),g=rh(e.position,d);t==="right"&&g.left>h.width+e.offset.x?(e.position.x=f.left,e.initialPosition.x=e.position.x,u||(e.position.y=ot()*h.height,e.initialPosition.y=e.position.y)):t==="left"&&g.right<-e.offset.x&&(e.position.x=f.right,e.initialPosition.x=e.position.x,u||(e.position.y=ot()*h.height,e.initialPosition.y=e.position.y)),t==="bottom"&&g.top>h.height+e.offset.y?(u||(e.position.x=ot()*h.width,e.initialPosition.x=e.position.x),e.position.y=f.top,e.initialPosition.y=e.position.y):t==="top"&&g.bottom<-e.offset.y&&(u||(e.position.x=ot()*h.width,e.initialPosition.x=e.position.x),e.position.y=f.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class rN{constructor(e){this.container=e,this._updateOutMode=(t,i,r,a)=>{for(const u of this.updaters)u.update(t,a,i,r)},this.updaters=[new tN(e),new nN(e),new sN(e),new iN(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function oN(n,e=!0){await n.addParticleUpdater("outModes",t=>new rN(t),e)}function aN(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function lN(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,a=t.max,u=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=a?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&u!==1&&(t.velocity*=u),aN(n,t.value,r,a),n.destroyed||(t.value=Di(t.value,r,a))}}class uN{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=ot()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&lN(e,t)}}async function cN(n,e=!0){await n.addParticleUpdater("size",()=>new uN,e)}async function hN(n,e=!0){await qO(n,!1),await GO(n,!1),await YO(n,!1),await ZO(n,!1),await oN(n,!1),await cN(n,!1),await n.refresh(e)}async function fN(){qg("ease-in-quad",n=>n**2),qg("ease-out-quad",n=>1-(1-n)**2),qg("ease-in-out-quad",n=>n<.5?2*n**2:1-(-2*n+2)**2/2)}class dN{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let pN=class extends ds{constructor(e,t){super(t),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const a=i.interactivity.mouse.clickPosition,u=i.retina.attractModeDistance;if(!u||u<0||!a)return;this._processAttract(a,u,new bn(a.x,a.y,u))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.attractModeDistance;!a||a<0||!r||this._processAttract(r,a,new bn(r.x,r.y,a))},this._processAttract=(i,r,a)=>{const u=this.container,h=u.actualOptions.interactivity.modes.attract;if(!h)return;const f=u.particles.quadTree.query(a,d=>this.isEnabled(d));for(const d of f){const{dx:g,dy:v,distance:b}=Cn(d.position,i),E=h.speed*h.factor,C=Di(Lx(h.easing)(1-b/r)*E,0,h.maxSpeed),A=Wt.create(b===0?E:g/b*C,b===0?E:v/b*C);d.position.subFrom(A)}},this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.attract;if(!(!a||i!=="attract")){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const u of t.attract.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},a.duration*1e3)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===sa,r=t.interactivity.events,a=r.onHover.enable,u=r.onHover.mode,h=r.onClick.enable,f=r.onClick.mode;i&&a&&Rt("attract",u)?this._hoverAttract():h&&Rt("attract",f)&&this._clickAttract()}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events;if((!r.position||!a.onHover.enable)&&(!r.clickPosition||!a.onClick.enable))return!1;const u=a.onHover.mode,h=a.onClick.mode;return Rt("attract",u)||Rt("attract",h)}loadModeOptions(e,...t){e.attract||(e.attract=new dN);for(const i of t)e.attract.load(i?.attract)}reset(){}};async function mN(n,e=!0){await n.addInteractor("externalAttract",t=>new pN(n,t),e)}class gN{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class yN extends ds{constructor(e){super(e),this._processBounce=(t,i,r)=>{const a=this.container.particles.quadTree.query(r,u=>this.isEnabled(u));for(const u of a)r instanceof bn?jx(jy(u),{position:t,mass:i**2*Math.PI/2,velocity:Wt.origin,factor:Wt.origin}):r instanceof Pi&&d2(u,rh(t,i))},this._processMouseBounce=()=>{const t=this.container,i=t.retina.pixelRatio,r=10*i,a=t.interactivity.mouse.position,u=t.retina.bounceModeDistance;!u||u<0||!a||this._processBounce(a,u,new bn(a.x,a.y,u+r))},this._singleSelectorBounce=(t,i)=>{const r=this.container,a=document.querySelectorAll(t);a.length&&a.forEach(u=>{const h=u,f=r.retina.pixelRatio,d={x:(h.offsetLeft+h.offsetWidth/2)*f,y:(h.offsetTop+h.offsetHeight/2)*f},g=h.offsetWidth/2*f,v=10*f,b=i.type==="circle"?new bn(d.x,d.y,g+v):new Pi(h.offsetLeft*f-v,h.offsetTop*f-v,h.offsetWidth*f+v*2,h.offsetHeight*f+v*2);this._processBounce(d,g,b)})}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===sa,a=i.onHover.enable,u=i.onHover.mode,h=i.onDiv;r&&a&&Rt("bounce",u)?this._processMouseBounce():Wv("bounce",h,(f,d)=>this._singleSelectorBounce(f,d))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,u=a.onDiv;return r.position&&a.onHover.enable&&Rt("bounce",a.onHover.mode)||Qv("bounce",u)}loadModeOptions(e,...t){e.bounce||(e.bounce=new gN);for(const i of t)e.bounce.load(i?.bounce)}reset(){}}async function vN(n,e=!0){await n.addInteractor("externalBounce",t=>new yN(t),e)}class a1{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=Qn(this.color)?void 0:this.color;this.color=Zt(e.color,i=>un.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class _N extends a1{constructor(){super(),this.selectors=[]}get ids(){return Zt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Zt(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class bN extends a1{load(e){super.load(e),e&&(this.divs=Zt(e.divs,t=>{const i=new _N;return i.load(t),i}))}}function yE(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Di(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Di(r,e,n)}}class wN extends ds{constructor(e){super(e),this._clickBubble=()=>{const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.clickPosition,a=i.interactivity.modes.bubble;if(!a||!r)return;t.bubble||(t.bubble={});const u=t.retina.bubbleModeDistance;if(!u||u<0)return;const h=t.particles.quadTree.queryCircle(r,u,d=>this.isEnabled(d)),{bubble:f}=t;for(const d of h){if(!f.clicking)continue;d.bubble.inRange=!f.durationEnd;const g=d.getPosition(),v=Xn(g,r),b=(new Date().getTime()-(t.interactivity.mouse.clickTime||0))/1e3;b>a.duration&&(f.durationEnd=!0),b>a.duration*2&&(f.clicking=!1,f.durationEnd=!1);const E={bubbleObj:{optValue:t.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Lr(d.options.size.value)*t.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,v,b,E);const C={bubbleObj:{optValue:a.opacity,value:d.bubble.opacity},particlesObj:{optValue:Lr(d.options.opacity.value),value:d.opacity?.value??1},type:"opacity"};this._process(d,v,b,C),!f.durationEnd&&v<=u?this._hoverBubbleColor(d,v):delete d.bubble.color}},this._hoverBubble=()=>{const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const a=t.particles.quadTree.queryCircle(i,r,u=>this.isEnabled(u));for(const u of a){u.bubble.inRange=!0;const h=u.getPosition(),f=Xn(h,i),d=1-f/r;f<=r?d>=0&&t.interactivity.status===sa&&(this._hoverBubbleSize(u,d),this._hoverBubbleOpacity(u,d),this._hoverBubbleColor(u,d)):this.reset(u),t.interactivity.status===zy&&this.reset(u)}},this._hoverBubbleColor=(t,i,r)=>{const a=this.container.actualOptions,u=r??a.interactivity.modes.bubble;if(u){if(!t.bubble.finalColor){const h=u.color;if(!h)return;const f=Hs(h);t.bubble.finalColor=Lc(f)}if(t.bubble.finalColor)if(u.mix){t.bubble.color=void 0;const h=t.getFillColor();t.bubble.color=h?Kx(Zv(h,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,i,r)=>{const a=this.container,u=a.actualOptions,h=r?.opacity??u.interactivity.modes.bubble?.opacity;if(!h)return;const f=t.options.opacity.value,d=t.opacity?.value??1,g=yE(d,h,Lr(f),i);g!==void 0&&(t.bubble.opacity=g)},this._hoverBubbleSize=(t,i,r)=>{const a=this.container,u=r?.size?r.size*a.retina.pixelRatio:a.retina.bubbleModeSize;if(u===void 0)return;const h=Lr(t.options.size.value)*a.retina.pixelRatio,f=t.size.value,d=yE(f,u,h,i);d!==void 0&&(t.bubble.radius=d)},this._process=(t,i,r,a)=>{const u=this.container,h=a.bubbleObj.optValue,f=u.actualOptions,d=f.interactivity.modes.bubble;if(!d||h===void 0)return;const g=d.duration,v=u.retina.bubbleModeDistance,b=a.particlesObj.optValue,E=a.bubbleObj.value,C=a.particlesObj.value||0,A=a.type;if(!(!v||v<0||h===b))if(u.bubble||(u.bubble={}),u.bubble.durationEnd)E&&(A==="size"&&delete t.bubble.radius,A==="opacity"&&delete t.bubble.opacity);else if(i<=v){if((E??C)!==h){const P=C-r*(C-h)/g;A==="size"&&(t.bubble.radius=P),A==="opacity"&&(t.bubble.opacity=P)}}else A==="size"&&delete t.bubble.radius,A==="opacity"&&delete t.bubble.opacity},this._singleSelectorHover=(t,i,r)=>{const a=this.container,u=document.querySelectorAll(i),h=a.actualOptions.interactivity.modes.bubble;!h||!u.length||u.forEach(f=>{const d=f,g=a.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth/2)*g,y:(d.offsetTop+d.offsetHeight/2)*g},b=d.offsetWidth/2*g,E=r.type==="circle"?new bn(v.x,v.y,b):new Pi(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),C=a.particles.quadTree.query(E,A=>this.isEnabled(A));for(const A of C){if(!E.contains(A.getPosition()))continue;A.bubble.inRange=!0;const R=h.divs,P=Bx(R,d);(!A.bubble.div||A.bubble.div!==d)&&(this.clear(A,t,!0),A.bubble.div=d),this._hoverBubbleSize(A,1,P),this._hoverBubbleOpacity(A,1,P),this._hoverBubbleColor(A,1,P)}})},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,a=i.onClick,u=r.enable,h=r.mode,f=a.enable,d=a.mode,g=i.onDiv;u&&Rt("bubble",h)?this._hoverBubble():f&&Rt("bubble",d)?this._clickBubble():Wv("bubble",g,(v,b)=>this._singleSelectorHover(e,v,b))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,{onClick:u,onDiv:h,onHover:f}=a,d=Qv("bubble",h);return d||f.enable&&r.position||u.enable&&r.clickPosition?Rt("bubble",f.mode)||Rt("bubble",u.mode)||d:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new bN);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function TN(n,e=!0){await n.addInteractor("externalBubble",t=>new wN(t),e)}class EN{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class SN{constructor(){this.distance=80,this.links=new EN,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function AN(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),a=e.getFillColor(),u=t.getFillColor();if(!a||!u)return;const h=e.getPosition(),f=t.getPosition(),d=Zv(a,u,e.getRadius(),t.getRadius()),g=n.createLinearGradient(h.x,h.y,f.x,f.y);return g.addColorStop(0,Uc(a,i)),g.addColorStop(r>1?1:r,Gs(d,i)),g.addColorStop(1,Uc(u,i)),g}function xN(n,e,t,i,r){Ec(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function RN(n,e,t,i){const r=n.actualOptions,a=r.interactivity.modes.connect;if(a)return AN(e,t,i,a.links.opacity)}function CN(n,e,t){n.canvas.draw(i=>{const r=RN(n,i,e,t);if(!r)return;const a=e.getPosition(),u=t.getPosition();xN(i,e.retina.linksWidth??0,r,a,u)})}class IN extends ds{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),a=e.particles.quadTree.queryCircle(i,r,h=>this.isEnabled(h));let u=0;for(const h of a){const f=h.getPosition();for(const d of a.slice(u+1)){const g=d.getPosition(),v=Math.abs(e.retina.connectModeDistance),b=Math.abs(f.x-g.x),E=Math.abs(f.y-g.y);b<v&&E<v&&CN(e,h,d)}++u}}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Rt("connect",r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new SN);for(const i of t)e.connect.load(i?.connect)}reset(){}}async function DN(n,e=!0){await n.addInteractor("externalConnect",t=>new IN(t),e)}class PN{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class kN{constructor(){this.distance=100,this.links=new PN}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function MN(n,e,t,i,r,a){Ec(n,t,i),n.strokeStyle=Gs(r,a),n.lineWidth=e,n.stroke()}function ON(n,e,t,i,r){n.canvas.draw(a=>{const u=e.getPosition();MN(a,e.retina.linksWidth??0,u,r,t,i)})}class NN extends ds{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==sa)return;const r=e.interactivity.mouse.position;if(!r)return;const a=e.retina.grabModeDistance;if(!a||a<0)return;const u=e.particles.quadTree.queryCircle(r,a,h=>this.isEnabled(h));for(const h of u){const f=h.getPosition(),d=Xn(f,r);if(d>a)continue;const g=i.modes.grab.links,v=g.opacity,b=v-d*v/a;if(b<=0)continue;const E=g.color??h.options.links?.color;if(!e.particles.grabLineColor&&E){const A=i.modes.grab.links;e.particles.grabLineColor=Xx(E,A.blink,A.consent)}const C=Fy(h,void 0,e.particles.grabLineColor);C&&ON(e,h,C,b,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Rt("grab",r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new kN);for(const i of t)e.grab.load(i?.grab)}reset(){}}async function VN(n,e=!0){await n.addInteractor("externalGrab",t=>new NN(t),e)}class LN extends ds{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function UN(n,e=!0){await n.addInteractor("externalPause",t=>new LN(t),e)}class zN{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Ie(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Ie(t))}}class BN extends ds{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="push")return;const i=this.container,r=i.actualOptions,a=r.interactivity.modes.push;if(!a)return;const u=_e(a.quantity);if(u<=0)return;const h=ip([void 0,...a.groups]),f=h!==void 0?i.actualOptions.particles.groups[h]:void 0;i.particles.push(u,i.interactivity.mouse,f,h)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new zN);for(const i of t)e.push.load(i?.push)}reset(){}}async function jN(n,e=!0){await n.addInteractor("externalPush",t=>new BN(t),e)}class FN{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Ie(e)}load(e){if(!e)return;const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Ie(t))}}class qN extends ds{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!=="remove")return;const a=_e(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new FN);for(const i of t)e.remove.load(i?.remove)}reset(){}}async function HN(n,e=!0){await n.addInteractor("externalRemove",t=>new qN(t),e)}class l1{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class GN extends l1{constructor(){super(),this.selectors=[]}get ids(){return Zt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Zt(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class $N extends l1{load(e){super.load(e),e&&(this.divs=Zt(e.divs,t=>{const i=new GN;return i.load(t),i}))}}class KN extends ds{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const a=i.repulse||{particles:[]};if(a.finish||(a.count||(a.count=0),a.count++,a.count===i.particles.count&&(a.finish=!0)),a.clicking){const u=i.retina.repulseModeDistance;if(!u||u<0)return;const h=Math.pow(u/6,3),f=i.interactivity.mouse.clickPosition;if(f===void 0)return;const d=new bn(f.x,f.y,h),g=i.particles.quadTree.query(d,v=>this.isEnabled(v));for(const v of g){const{dx:b,dy:E,distance:C}=Cn(f,v.position),A=C**2,R=r.speed,P=-h*R/A;if(A<=h){a.particles.push(v);const B=Wt.create(b,E);B.length=P,v.velocity.setTo(B)}}}else if(a.clicking===!1){for(const u of a.particles)u.velocity.setTo(u.initialVelocity);a.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.repulseModeDistance;!a||a<0||!r||this._processRepulse(r,a,new bn(r.x,r.y,a))},this._processRepulse=(i,r,a,u)=>{const h=this.container,f=h.particles.quadTree.query(a,g=>this.isEnabled(g)),d=h.actualOptions.interactivity.modes.repulse;if(d)for(const g of f){const{dx:v,dy:b,distance:E}=Cn(g.position,i),C=(u?.speed??d.speed)*d.factor,A=Di(Lx(d.easing)(1-E/r)*C,0,d.maxSpeed),R=Wt.create(E===0?C:v/E*A,E===0?C:b/E*A);g.position.addTo(R)}},this._singleSelectorRepulse=(i,r)=>{const a=this.container,u=a.actualOptions.interactivity.modes.repulse;if(!u)return;const h=document.querySelectorAll(i);h.length&&h.forEach(f=>{const d=f,g=a.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth/2)*g,y:(d.offsetTop+d.offsetHeight/2)*g},b=d.offsetWidth/2*g,E=r.type==="circle"?new bn(v.x,v.y,b):new Pi(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),C=u.divs,A=Bx(C,d);this._processRepulse(v,b,E,A)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.repulse;if(!a||i!=="repulse")return;t.repulse||(t.repulse={particles:[]});const u=t.repulse;u.clicking=!0,u.count=0;for(const h of t.repulse.particles)this.isEnabled(h)&&h.velocity.setTo(h.initialVelocity);u.particles=[],u.finish=!1,setTimeout(()=>{t.destroyed||(u.clicking=!1)},a.duration*1e3)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===sa,r=t.interactivity.events,a=r.onHover,u=a.enable,h=a.mode,f=r.onClick,d=f.enable,g=f.mode,v=r.onDiv;i&&u&&Rt("repulse",h)?this._hoverRepulse():d&&Rt("repulse",g)?this._clickRepulse():Wv("repulse",v,(b,E)=>this._singleSelectorRepulse(b,E))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,u=a.onDiv,h=a.onHover,f=a.onClick,d=Qv("repulse",u);if(!(d||h.enable&&r.position||f.enable&&r.clickPosition))return!1;const g=h.mode,v=f.mode;return Rt("repulse",g)||Rt("repulse",v)||d}loadModeOptions(e,...t){e.repulse||(e.repulse=new $N);for(const i of t)e.repulse.load(i?.repulse)}reset(){}}async function YN(n,e=!0){await n.addInteractor("externalRepulse",t=>new KN(n,t),e)}class XN{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class QN extends ds{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Rt("slow",r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new XN);for(const i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,a=t.retina.slowModeRadius,u=i.interactivity.modes.slow;if(!u||!a||a<0||!r)return;const h=e.getPosition(),f=Xn(r,h),d=f/a,g=u.factor,{slow:v}=e;f>a||(v.inRange=!0,v.factor=d/g)}}async function WN(n,e=!0){await n.addInteractor("externalSlow",t=>new QN(t),e)}const iy=[0,4,2,1],vE=[8,8,4,2];class ZN{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let i=t;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==0);return e}readSubBlocksBin(){let e=0,t=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)t+=e;const i=new Uint8Array(t);for(let r=0;(e=this.data[this.pos++])!==0;)for(let a=e;--a>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function u1(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}async function JN(n,e,t,i){switch(n.nextByte()){case 249:{const r=e.frames[t(!1)];n.pos++;const a=n.nextByte();r.GCreserved=(a&224)>>>5,r.disposalMethod=(a&28)>>>2,r.userInputDelayFlag=(a&2)===2;const u=(a&1)===1;r.delayTime=n.nextTwoBytes()*10;const h=n.nextByte();u&&i(h),n.pos++;break}case 255:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([t(!1),n.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function eV(n,e,t,i,r,a){const u=e.frames[i(!0)];u.left=n.nextTwoBytes(),u.top=n.nextTwoBytes(),u.width=n.nextTwoBytes(),u.height=n.nextTwoBytes();const h=n.nextByte(),f=(h&128)===128,d=(h&64)===64;u.sortFlag=(h&32)===32,u.reserved=(h&24)>>>3;const g=1<<(h&7)+1;f&&(u.localColorTable=u1(n,g));const v=P=>{const{r:B,g:j,b:G}=(f?u.localColorTable:e.globalColorTable)[P];return{r:B,g:j,b:G,a:P===r(null)?t?~~((B+j+G)/3):0:255}},b=(()=>{try{return new ImageData(u.width,u.height,{colorSpace:"srgb"})}catch(P){if(P instanceof DOMException&&P.name==="IndexSizeError")return null;throw P}})();if(b==null)throw new EvalError("GIF frame size is to large");const E=n.nextByte(),C=n.readSubBlocksBin(),A=1<<E,R=(P,B)=>{const j=P>>>3,G=P&7;return(C[j]+(C[j+1]<<8)+(C[j+2]<<16)&(1<<B)-1<<G)>>>G};if(d){for(let P=0,B=E+1,j=0,G=[[0]],Z=0;Z<4;Z++)if(iy[Z]<u.height)for(let ue=0,O=0;;){const I=P;if(P=R(j,B),j+=B+1,P===A){B=E+1,G.length=A+2;for(let k=0;k<G.length;k++)G[k]=k<A?[k]:[]}else{P>=G.length?G.push(G[I].concat(G[I][0])):I!==A&&G.push(G[I].concat(G[P][0]));for(let k=0;k<G[P].length;k++){const{r:L,g:F,b:q,a:N}=v(G[P][k]);b.data.set([L,F,q,N],iy[Z]*u.width+vE[Z]*O+ue%(u.width*4)),ue+=4}G.length===1<<B&&B<12&&B++}if(ue===u.width*4*(O+1)&&(O++,iy[Z]+vE[Z]*O>=u.height))break}u.image=b,u.bitmap=await createImageBitmap(b)}else{for(let P=0,B=E+1,j=0,G=[[0]],Z=-4;;){const ue=P;if(P=R(j,B),j+=B,P===A){B=E+1,G.length=A+2;for(let O=0;O<G.length;O++)G[O]=O<A?[O]:[]}else{if(P===A+1)break;P>=G.length?G.push(G[ue].concat(G[ue][0])):ue!==A&&G.push(G[ue].concat(G[P][0]));for(let O=0;O<G[P].length;O++){const{r:I,g:k,b:L,a:F}=v(G[P][O]);b.data.set([I,k,L,F],Z+=4)}G.length>=1<<B&&B<12&&B++}}u.image=b,u.bitmap=await createImageBitmap(b)}}async function tV(n,e,t,i,r,a){switch(n.nextByte()){case 59:return!0;case 44:await eV(n,e,t,i,r);break;case 33:await JN(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function nV(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function iV(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),a={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},u=new ZN(new Uint8ClampedArray(r));if(u.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");a.width=u.nextTwoBytes(),a.height=u.nextTwoBytes();const h=u.nextByte(),f=(h&128)===128;a.colorRes=(h&112)>>>4,a.sortFlag=(h&8)===8;const d=1<<(h&7)+1,g=u.nextByte();a.pixelAspectRatio=u.nextByte(),a.pixelAspectRatio!==0&&(a.pixelAspectRatio=(a.pixelAspectRatio+15)/64),f&&(a.globalColorTable=u1(u,d));const v=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(G){if(G instanceof DOMException&&G.name==="IndexSizeError")return null;throw G}})();if(v==null)throw new Error("GIF frame size is to large");const{r:b,g:E,b:C}=a.globalColorTable[g];v.data.set(f?[b,E,C,255]:[0,0,0,0]);for(let G=4;G<v.data.length;G*=2)v.data.copyWithin(G,0,G);a.backgroundImage=v;let A=-1,R=!0,P=-1;const B=G=>(G&&(R=!0),A),j=G=>(G!=null&&(P=G),P);try{do R&&(a.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),A++,P=-1,R=!1);while(!await tV(u,a,t,B,j,e));a.frames.length--;for(const G of a.frames){if(G.userInputDelayFlag&&G.delayTime===0){a.totalTime=1/0;break}a.totalTime+=G.delayTime}return a}catch(G){throw G instanceof EvalError?new Error(`error while parsing frame ${A} "${G.message}"`):G}}const sV=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function rV(n,e,t){const{svgData:i}=n;if(!i)return"";const r=Uc(e,t);if(i.includes("fill"))return i.replace(sV,()=>r);const a=i.indexOf(">");return`${i.substring(0,a)} fill="${r}"${i.substring(a)}`}async function rp(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,oa().error(`${yi} loading image: ${n.source}`),e()}),t.src=n.source})}async function oV(n){if(n.type!=="gif"){await rp(n);return}n.loading=!0;try{n.gifData=await iV(n.source),n.gifLoopCount=nV(n.gifData)??0,n.gifLoopCount===0&&(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}async function aV(n){if(n.type!=="svg"){await rp(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(oa().error(`${yi} Image not found`),n.error=!0),n.loading=!1}function lV(n,e,t,i){const r=rV(n,t,i.opacity?.value??1),a={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(u=>{const h=new Blob([r],{type:"image/svg+xml"}),f=URL||window.URL||window.webkitURL||window,d=f.createObjectURL(h),g=new Image;g.addEventListener("load",()=>{a.loaded=!0,a.element=g,u(a),f.revokeObjectURL(d)}),g.addEventListener("error",async()=>{f.revokeObjectURL(d);const v={...n,error:!1,loading:!0};await rp(v),a.loaded=!0,a.element=v.element,u(a)}),g.src=d})}class uV{constructor(e){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${yi} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??t.replace_color??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,t,i,r,a){const u=t.image,h=u?.element;if(u){if(e.globalAlpha=r,u.gif&&u.gifData){const f=new OffscreenCanvas(u.gifData.width,u.gifData.height),d=f.getContext("2d");if(!d)throw new Error("could not create offscreen canvas context");d.imageSmoothingQuality="low",d.imageSmoothingEnabled=!1,d.clearRect(0,0,f.width,f.height),t.gifLoopCount===void 0&&(t.gifLoopCount=u.gifLoopCount??0);let g=t.gifFrame??0;const v={x:-u.gifData.width*.5,y:-u.gifData.height*.5},b=u.gifData.frames[g];if(t.gifTime===void 0&&(t.gifTime=0),!b.bitmap)return;switch(e.scale(i/u.gifData.width,i/u.gifData.height),b.disposalMethod){case 4:case 5:case 6:case 7:case 0:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height);break;case 1:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y);break;case 2:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height),u.gifData.globalColorTable.length===0?d.putImageData(u.gifData.frames[0].image,v.x+b.left,v.y+b.top):d.putImageData(u.gifData.backgroundImage,v.x,v.y);break;case 3:{const E=d.getImageData(0,0,f.width,f.height);d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height),d.putImageData(E,0,0)}break}if(t.gifTime+=a.value,t.gifTime>b.delayTime){if(t.gifTime-=b.delayTime,++g>=u.gifData.frames.length){if(--t.gifLoopCount<=0)return;g=0,d.clearRect(0,0,f.width,f.height)}t.gifFrame=g}e.scale(u.gifData.width/i,u.gifData.height/i)}else if(h){const f=u.ratio,d={x:-i,y:-i};e.drawImage(h,d.x,d.y,i*2,i*2/f)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData,a=t.getFillColor(),u=i.find(f=>f.name===r.name||f.source===r.src);if(!u)return;const h=r.replaceColor??r.replace_color??u.replaceColor;if(u.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let f;u.svgData&&a?f=await lV(u,r,a,t):f={color:a,data:u,element:u.element,gif:u.gif,gifData:u.gifData,gifLoopCount:u.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:u.ratio??1,replaceColor:h,source:r.src},f.ratio||(f.ratio=1);const d=r.fill??t.fill,g=r.close??t.close,v={image:f,fill:d,close:g};t.image=v.image,t.fill=v.fill,t.close=v.close})()}}class cV{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class hV{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,t){if(!t||!t.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const a=i.find(u=>u.name===r.name||u.src===r.src);if(a)a.load(r);else{const u=new cV;u.load(r),i.push(u)}}}needsPlugin(){return!0}}function fV(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${yi} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t),await(e.gif?oV:e.replaceColor?aV:rp)(t)}catch{throw new Error(`${yi} ${e.name??e.src} not found`)}})}async function dV(n,e=!0){fV(n);const t=new hV(n);await n.addPlugin(t,e),await n.addShape(["image","images"],new uV(n),e)}class pV extends no{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class mV extends no{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class gV{constructor(){this.count=0,this.delay=new pV,this.duration=new mV}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class yV{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?_e(r.delay.value)*(r.delay.sync?1:ot())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?_e(r.duration.value)*(r.duration.sync?1:ot())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new gV);for(const i of t)e.life.load(i?.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=t.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const a=this.container.canvas.size,u=Ie(0,a.width),h=Ie(0,a.width);e.position.x=Nn(u),e.position.y=Nn(h),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const f=e.options.life;f&&(i.delay=_e(f.delay.value)*1e3,i.duration=_e(f.duration.value)*1e3)}}async function vV(n,e=!0){await n.addParticleUpdater("life",t=>new yV(t),e)}class _V{draw(e,t,i){const r=t.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=r?.cap??"butt"}getSidesCount(){return 1}}async function bV(n,e=!0){await n.addShape("line",new _V,e)}class wV{init(){}isEnabled(e){return!kl()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(kl()||!r.enable)return;const a=r.force,u=t.interactivity.mouse.position;if(!u)return;const h=t.canvas.size,f={x:h.width/2,y:h.height/2},d=r.smooth,g=e.getRadius()/a,v={x:(u.x-f.x)*g,y:(u.y-f.y)*g},{offset:b}=e;b.x+=(v.x-b.x)/d,b.y+=(v.y-b.y)/d}}async function TV(n,e=!0){await n.addMover("parallax",()=>new wV,e)}class EV extends Jv{constructor(e){super(e)}clear(){}init(){}async interact(e){const t=this.container,i=e.retina.attractDistance??t.retina.attractDistance,r=e.getPosition(),a=t.particles.quadTree.queryCircle(r,i);for(const u of a){if(e===u||!u.options.move.attract.enable||u.destroyed||u.spawning)continue;const h=u.getPosition(),{dx:f,dy:d}=Cn(r,h),g=e.options.move.attract.rotate,v=f/(g.x*1e3),b=d/(g.y*1e3),E=u.size.value/e.size.value,C=1/E;e.velocity.x-=v*E,e.velocity.y-=b*E,u.velocity.x+=v*C,u.velocity.y+=b*C}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function SV(n,e=!0){await n.addInteractor("particlesAttract",t=>new EV(t),e)}function _E(n,e,t,i,r,a){const u=Di(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=u/2,t.size.value-=u,i<=a&&(t.size.value=0,t.destroy())}function AV(n,e,t,i){const r=n.getRadius(),a=e.getRadius();r===void 0&&a!==void 0?n.destroy():r!==void 0&&a===void 0?e.destroy():r!==void 0&&a!==void 0&&(r>=a?_E(n,r,e,a,t,i):_E(e,a,n,r,t,i))}const bE=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=_e(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function c1(n,e){jx(jy(n),jy(e)),bE(n),bE(e)}function xV(n,e){!n.unbreakable&&!e.unbreakable&&c1(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function RV(n,e,t,i){switch(n.options.collisions.mode){case"absorb":{AV(n,e,t,i);break}case"bounce":{c1(n,e);break}case"destroy":{xV(n,e);break}}}class CV extends Jv{constructor(e){super(e)}clear(){}init(){}async interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),a=e.getRadius(),u=i.particles.quadTree.queryCircle(r,a*2);for(const h of u){if(e===h||!h.options.collisions.enable||e.options.collisions.mode!==h.options.collisions.mode||h.destroyed||h.spawning)continue;const f=h.getPosition(),d=h.getRadius();if(Math.abs(Math.round(r.z)-Math.round(f.z))>a+d)continue;const g=Xn(r,f),v=a+d;g>v||RV(e,h,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function IV(n,e=!0){await n.addInteractor("particlesCollisions",t=>new CV(t),e)}class DV extends bn{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:a}=e;return super.contains(e)||super.contains({x:r-t,y:a})||super.contains({x:r-t,y:a-i})||super.contains({x:r,y:a-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const a=new bn(r.x,r.y,i.radius*2);return super.intersects(a)}else if(t.size!==void 0){const a=new Pi(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(a)}return!1}}class PV{constructor(){this.blur=5,this.color=new un,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=un.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class kV{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class MV{constructor(){this.blink=!1,this.color=new un,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new PV,this.triangles=new kV,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=un.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function OV(n,e,t,i,r){const{dx:a,dy:u,distance:h}=Cn(n,e);if(!r||h<=t)return h;const f={x:Math.abs(a),y:Math.abs(u)},d={x:Math.min(f.x,i.width-f.x),y:Math.min(f.y,i.height-f.y)};return Math.sqrt(d.x**2+d.y**2)}class NV extends Jv{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let a=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(a)return;const u=r.color;a=Xx(u,r.blink,r.consent),r.id===void 0?i.particles.linksColor=a:i.particles.linksColors.set(r.id,a)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const a=e.options.links,u=a.opacity,h=e.retina.linksDistance??0,f=a.warp,d=f?new DV(t.x,t.y,h,r):new bn(t.x,t.y,h),g=i.particles.quadTree.query(d);for(const v of g){const b=v.options.links;if(e===v||!b?.enable||a.id!==b.id||v.spawning||v.destroyed||!v.links||e.links.some(R=>R.destination===v)||v.links.some(R=>R.destination===e))continue;const E=v.getPosition();if(E.x<0||E.y<0||E.x>r.width||E.y>r.height)continue;const C=OV(t,E,h,r,f&&b.warp);if(C>h)continue;const A=(1-C/h)*u;this._setColor(e),e.links.push({destination:v,opacity:A})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new MV);for(const i of t)e.links.load(i?.links??i?.lineLinked??i?.line_linked)}reset(){}}async function VV(n,e=!0){await n.addInteractor("particlesLinks",t=>new NV(t),e)}function LV(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:a,canvasSize:u,width:h,backgroundMask:f,colorLine:d,opacity:g,links:v}=n;if(Xn(t,i)<=r)Ec(a,t,i),e=!0;else if(v.warp){let E,C;const A={x:i.x-u.width,y:i.y},R=Cn(t,A);if(R.distance<=r){const P=t.y-R.dy/R.dx*t.x;E={x:0,y:P},C={x:u.width,y:P}}else{const P={x:i.x,y:i.y-u.height},B=Cn(t,P);if(B.distance<=r){const G=-(t.y-B.dy/B.dx*t.x)/(B.dy/B.dx);E={x:G,y:0},C={x:G,y:u.height}}else{const j={x:i.x-u.width,y:i.y-u.height},G=Cn(t,j);if(G.distance<=r){const Z=t.y-G.dy/G.dx*t.x;E={x:-Z/(G.dy/G.dx),y:Z},C={x:E.x+u.width,y:E.y+u.height}}}}E&&C&&(Ec(a,t,E),Ec(a,i,C),e=!0)}if(!e)return;a.lineWidth=h,f.enable&&(a.globalCompositeOperation=f.composite),a.strokeStyle=Gs(d,g);const{shadow:b}=v;if(b.enable){const E=Ci(b.color);E&&(a.shadowBlur=b.blur,a.shadowColor=Gs(E))}a.stroke()}function UV(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:a,colorTriangle:u,opacityTriangle:h}=n;v2(e,t,i,r),a.enable&&(e.globalCompositeOperation=a.composite),e.fillStyle=Gs(u,h),e.fill()}function zV(n){return n.sort((e,t)=>e-t),n.join("_")}function wE(n,e){const t=zV(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=ot(),e.set(t,i)),i}class BV{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=t.options.links;if(!r?.enable)return;const a=this.container,u=a.actualOptions,h=i.destination,f=t.getPosition(),d=h.getPosition();let g=i.opacity;a.canvas.draw(v=>{let b;const E=t.options.twinkle?.lines;if(E?.enable){const P=E.frequency,B=Ci(E.color);ot()<P&&B&&(b=B,g=_e(E.opacity))}if(!b){const P=r.id!==void 0?a.particles.linksColors.get(r.id):a.particles.linksColor;b=Fy(t,h,P)}if(!b)return;const C=t.retina.linksWidth??0,A=t.retina.linksDistance??0,{backgroundMask:R}=u;LV({context:v,width:C,begin:f,end:d,maxDistance:A,canvasSize:a.canvas.size,links:r,backgroundMask:R,colorLine:b,opacity:g})})},this._drawLinkTriangle=(t,i,r)=>{const a=t.options.links;if(!a?.enable)return;const u=a.triangles;if(!u.enable)return;const h=this.container,f=h.actualOptions,d=i.destination,g=r.destination,v=u.opacity??(i.opacity+r.opacity)/2;v<=0||h.canvas.draw(b=>{const E=t.getPosition(),C=d.getPosition(),A=g.getPosition(),R=t.retina.linksDistance??0;if(Xn(E,C)>R||Xn(A,C)>R||Xn(A,E)>R)return;let P=Ci(u.color);if(!P){const B=a.id!==void 0?h.particles.linksColors.get(a.id):h.particles.linksColor;P=Fy(t,d,B)}P&&UV({context:b,pos1:E,pos2:C,pos3:A,backgroundMask:f.backgroundMask,colorTriangle:P,opacityTriangle:v})})},this._drawTriangles=(t,i,r,a)=>{const u=r.destination;if(!(t.links?.triangles.enable&&u.options.links?.triangles.enable))return;const h=u.links?.filter(f=>{const d=this._getLinkFrequency(u,f.destination);return u.options.links&&d<=u.options.links.frequency&&a.findIndex(g=>g.destination===f.destination)>=0});if(h?.length)for(const f of h){const d=f.destination;this._getTriangleFrequency(i,u,d)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(t,i)=>wE([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>wE([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const a=i.filter(u=>r.links&&this._getLinkFrequency(t,u.destination)<=r.links.frequency);for(const u of a)this._drawTriangles(r,t,u,a),u.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,u)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:a}=e.options.links;i.linksDistance=r*t,i.linksWidth=a*t}particleDestroyed(e){e.links=[]}}class jV{constructor(){this.id="links"}getPlugin(e){return new BV(e)}loadOptions(){}needsPlugin(){return!0}}async function FV(n,e=!0){const t=new jV;await n.addPlugin(t,e)}async function qV(n,e=!0){await VV(n,e),await FV(n,e)}class h1{draw(e,t,i){const r=this.getCenter(t,i),a=this.getSidesData(t,i),u=a.count.numerator*a.count.denominator,h=a.count.numerator/a.count.denominator,f=180*(h-2)/h,d=Math.PI-Math.PI*f/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let g=0;g<u;g++)e.lineTo(a.length,0),e.translate(a.length,0),e.rotate(d)}}getSidesCount(e){const t=e.shapeData;return Math.round(_e(t?.sides??t?.nb_sides??5))}}class HV extends h1{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/(2.66/3.5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*2.66/(i/3)}}}class GV extends h1{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:t*2}}}async function $V(n,e=!0){await n.addShape("polygon",new HV,e)}async function KV(n,e=!0){await n.addShape("triangle",new GV,e)}async function YV(n,e=!0){await $V(n,e),await KV(n,e)}class XV{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class QV extends no{constructor(){super(),this.animation=new XV,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function WV(n,e){const t=n.rotate,i=n.options.rotate;if(!t||!i)return;const r=i.animation,a=(t.velocity??0)*e.factor,u=2*Math.PI,h=t.decay??1;if(r.enable){switch(t.status){case"increasing":t.value+=a,t.value>u&&(t.value-=u);break;case"decreasing":default:t.value-=a,t.value<0&&(t.value+=u);break}t.velocity&&h!==1&&(t.velocity*=h)}}class ZV{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:_e(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch(i==="random"&&(i=Math.floor(ot()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=t.animation;r.enable&&(e.rotate.decay=1-_e(r.decay),e.rotate.velocity=_e(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=ot())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path:!1}loadOptions(e,...t){e.rotate||(e.rotate=new QV);for(const i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(WV(e,t),e.rotation=e.rotate?.value??0)}}async function JV(n,e=!0){await n.addParticleUpdater("rotate",t=>new ZV(t),e)}const eL=Math.sqrt(2);class tL{draw(e,t,i){const r=i/eL,a=r*2;e.rect(-r,-r,a,a)}getSidesCount(){return 4}}async function nL(n,e=!0){await n.addShape(["edge","square"],new tL,e)}class iL{draw(e,t,i){const r=t.sides,a=t.starInset??2;e.moveTo(0,0-i);for(let u=0;u<r;u++)e.rotate(Math.PI/r),e.lineTo(0,0-i*a),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const t=e.shapeData;return Math.round(_e(t?.sides??t?.nb_sides??5))}particleInit(e,t){const i=t.shapeData,r=_e(i?.inset??2);t.starInset=r}}async function sL(n,e=!0){await n.addShape("star",new iL,e)}function sy(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const a=Nn(t.offset),u=(e.velocity??0)*n.factor+a*3.6,h=e.decay??1;!r||e.status==="increasing"?(e.value+=u,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=u,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&h!==1&&(e.velocity*=h),e.value>i&&(e.value%=i)}function rL(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const{h:t,s:i,l:r}=n.strokeColor,{h:a,s:u,l:h}=n.strokeAnimation;t&&sy(e,t,a,360,!1),i&&sy(e,i,u,100,!0),r&&sy(e,r,h,100,!0)}class oL{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=Hs(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=_e(r.width)*t.retina.pixelRatio,e.strokeOpacity=_e(r.opacity??1),e.strokeAnimation=r.color?.animation;const a=Lc(r.color)??e.getFillColor();a&&(e.strokeColor=Qx(a,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&rL(e,t)}}async function aL(n,e=!0){await n.addParticleUpdater("strokeColor",t=>new oL(t),e)}const ud=["text","character","char"];class lL{draw(e,t,i,r){const a=t.shapeData;if(a===void 0)return;const u=a.value;if(u===void 0)return;t.text===void 0&&(t.text=Hs(u,t.randomIndexData));const h=t.text,f=a.style??"",d=a.weight??"400",g=Math.round(i)*2,v=a.font??"Verdana",b=t.fill,E=h.length*i/2;e.font=`${f} ${d} ${g}px "${v}"`;const C={x:-E,y:i/2};e.globalAlpha=r,b?e.fillText(h,C.x,C.y):e.strokeText(h,C.x,C.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(ud.find(i=>Rt(i,t.particles.shape.type))){const i=ud.map(a=>t.particles.shape.options[a]).find(a=>!!a),r=[];Zt(i,a=>{r.push(u2(a.font,a.weight))}),await Promise.all(r)}}particleInit(e,t){if(!t.shape||!ud.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=Hs(r,t.randomIndexData))}}async function uL(n,e=!0){await n.addShape(ud,new lL,e)}async function cL(n,e=!0){NO(n),await TV(n,!1),await mN(n,!1),await vN(n,!1),await TN(n,!1),await DN(n,!1),await VN(n,!1),await UN(n,!1),await jN(n,!1),await HN(n,!1),await YN(n,!1),await WN(n,!1),await SV(n,!1),await IV(n,!1),await qV(n,!1),await fN(),await dV(n,!1),await bV(n,!1),await YV(n,!1),await nL(n,!1),await sL(n,!1),await uL(n,!1),await vV(n,!1),await JV(n,!1),await aL(n,!1),await hN(n,e)}function f1({className:n=""}){const e=U.useCallback(async t=>{await cL(t)},[]);return D.jsx(r1,{id:"tsparticles",init:e,className:n,style:{position:"absolute",inset:0},options:{fpsLimit:60,detectRetina:!0,background:{color:"transparent"},fullScreen:{enable:!1},pauseOnBlur:!0,smooth:!0,reduceDuplicates:!0,particles:{number:{value:60,density:{enable:!0,area:900}},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5},size:{value:{min:1,max:3}},links:{enable:!0,distance:130,color:"#ffffff",opacity:.2,width:1},move:{enable:!0,speed:.6,direction:"none",outModes:{default:"out"},random:!1,straight:!1}},interactivity:{detectsOn:"window",events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!1,mode:"push"},resize:!0},modes:{repulse:{distance:80,duration:.3},push:{quantity:2}}}}})}function hL(){const{pathname:n}=In(),e="/images/computerbg.jpg",[t,i]=U.useState(!1);return U.useEffect(()=>{const r=requestAnimationFrame(()=>i(!0));return()=>cancelAnimationFrame(r)},[]),D.jsxs(D.Fragment,{children:[D.jsx("div",{"aria-hidden":!0,className:"fixed -z-30 left-0 right-0 top-0 h-svh bg-center bg-cover md:bg-fixed",style:{backgroundImage:`url(${e})`,willChange:"transform",transform:"translateZ(0)"}}),D.jsx("div",{"aria-hidden":!0,className:"fixed -z-20 left-0 right-0 top-0 h-svh bg-black/30 pointer-events-none",style:{willChange:"opacity",transform:"translateZ(0)"}}),t&&D.jsx("div",{"aria-hidden":!0,className:"fixed -z-10 left-0 right-0 top-0 h-svh pointer-events-none",style:{willChange:"transform",transform:"translateZ(0)"},children:D.jsx(f1,{},n)})]})}const fL=()=>{};var TE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},dL=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],u=n[t++],h=n[t++],f=((r&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|u&63)}}return e.join("")},p1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],u=r+1<n.length,h=u?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,g=a>>2,v=(a&3)<<4|h>>4;let b=(h&15)<<2|d>>6,E=d&63;f||(E=64,u||(b=64)),i.push(t[g],t[v],t[b],t[E])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||h==null||d==null||v==null)throw new pL;const b=a<<2|h>>4;if(i.push(b),d!==64){const E=h<<4&240|d>>2;if(i.push(E),v!==64){const C=d<<6&192|v;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mL=function(n){const e=d1(n);return p1.encodeByteArray(e,!0)},Pd=function(n){return mL(n).replace(/\./g,"")},m1=function(n){try{return p1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=()=>gL().__FIREBASE_DEFAULTS__,vL=()=>{if(typeof process>"u"||typeof TE>"u")return;const n=TE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_L=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&m1(n[1]);return e&&JSON.parse(e)},op=()=>{try{return fL()||yL()||vL()||_L()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},g1=n=>op()?.emulatorHosts?.[n],y1=n=>{const e=g1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},v1=()=>op()?.config,_1=n=>op()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Pd(JSON.stringify(t)),Pd(JSON.stringify(u)),""].join(".")}const Sc={};function wL(){const n={prod:[],emulator:[]};for(const e of Object.keys(Sc))Sc[e]?n.emulator.push(e):n.prod.push(e);return n}function TL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let EE=!1;function t_(n,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Sc[n]===e||Sc[n]||EE)return;Sc[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",a=wL().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{EE=!0,u()},b}function g(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=TL(i),E=t("text"),C=document.getElementById(E)||document.createElement("span"),A=t("learnmore"),R=document.getElementById(A)||document.createElement("a"),P=t("preprendIcon"),B=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const j=b.element;h(j),g(R,A);const G=d();f(B,P),j.append(B,C,R,G),document.body.appendChild(j)}a?(C.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function SL(){const n=op()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xL(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function RL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CL(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IL(){return!SL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DL(){try{return typeof indexedDB=="object"}catch{return!1}}function PL(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="FirebaseError";class ps extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=kL,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],u=a?ML(a,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new ps(r,h,i)}}function ML(n,e){return n.replace(OL,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const OL=/\{\$([^}]+)}/g;function NL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function aa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],u=e[r];if(SE(a)&&SE(u)){if(!aa(a,u))return!1}else if(a!==u)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function SE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function gc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VL(n,e){const t=new LL(n,e);return t.subscribe.bind(t)}class LL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");UL(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=ry),r.error===void 0&&(r.error=ry),r.complete===void 0&&(r.complete=ry);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ry(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n){return n&&n._delegate?n._delegate:n}class $r{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new bL;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jL(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BL(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BL(n){return n===Ko?void 0:n}function jL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const qL={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},HL=Ve.INFO,GL={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},$L=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=GL[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n_{constructor(e){this.name=e,this._logLevel=HL,this._logHandler=$L,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const KL=(n,e)=>e.some(t=>n instanceof t);let AE,xE;function YL(){return AE||(AE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XL(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w1=new WeakMap,qy=new WeakMap,T1=new WeakMap,oy=new WeakMap,i_=new WeakMap;function QL(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Br(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&w1.set(t,n)}).catch(()=>{}),i_.set(e,n),e}function WL(n){if(qy.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});qy.set(n,e)}let Hy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||T1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Br(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZL(n){Hy=n(Hy)}function JL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ay(this),e,...t);return T1.set(i,e.sort?e.sort():[e]),Br(i)}:XL().includes(n)?function(...e){return n.apply(ay(this),e),Br(w1.get(this))}:function(...e){return Br(n.apply(ay(this),e))}}function e4(n){return typeof n=="function"?JL(n):(n instanceof IDBTransaction&&WL(n),KL(n,YL())?new Proxy(n,Hy):n)}function Br(n){if(n instanceof IDBRequest)return QL(n);if(oy.has(n))return oy.get(n);const e=e4(n);return e!==n&&(oy.set(n,e),i_.set(e,n)),e}const ay=n=>i_.get(n);function t4(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(n,e),h=Br(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Br(u.result),f.oldVersion,f.newVersion,Br(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const n4=["get","getKey","getAll","getAllKeys","count"],i4=["put","add","delete","clear"],ly=new Map;function RE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ly.get(e))return ly.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=i4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||n4.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),r&&f.done]))[0]};return ly.set(e,a),a}ZL(n=>({...n,get:(e,t,i)=>RE(e,t)||n.get(e,t,i),has:(e,t)=>!!RE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(r4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function r4(n){return n.getComponent()?.type==="VERSION"}const Gy="@firebase/app",CE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new n_("@firebase/app"),o4="@firebase/app-compat",a4="@firebase/analytics-compat",l4="@firebase/analytics",u4="@firebase/app-check-compat",c4="@firebase/app-check",h4="@firebase/auth",f4="@firebase/auth-compat",d4="@firebase/database",p4="@firebase/data-connect",m4="@firebase/database-compat",g4="@firebase/functions",y4="@firebase/functions-compat",v4="@firebase/installations",_4="@firebase/installations-compat",b4="@firebase/messaging",w4="@firebase/messaging-compat",T4="@firebase/performance",E4="@firebase/performance-compat",S4="@firebase/remote-config",A4="@firebase/remote-config-compat",x4="@firebase/storage",R4="@firebase/storage-compat",C4="@firebase/firestore",I4="@firebase/ai",D4="@firebase/firestore-compat",P4="firebase",k4="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="[DEFAULT]",M4={[Gy]:"fire-core",[o4]:"fire-core-compat",[l4]:"fire-analytics",[a4]:"fire-analytics-compat",[c4]:"fire-app-check",[u4]:"fire-app-check-compat",[h4]:"fire-auth",[f4]:"fire-auth-compat",[d4]:"fire-rtdb",[p4]:"fire-data-connect",[m4]:"fire-rtdb-compat",[g4]:"fire-fn",[y4]:"fire-fn-compat",[v4]:"fire-iid",[_4]:"fire-iid-compat",[b4]:"fire-fcm",[w4]:"fire-fcm-compat",[T4]:"fire-perf",[E4]:"fire-perf-compat",[S4]:"fire-rc",[A4]:"fire-rc-compat",[x4]:"fire-gcs",[R4]:"fire-gcs-compat",[C4]:"fire-fst",[D4]:"fire-fst-compat",[I4]:"fire-vertex","fire-js":"fire-js",[P4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Map,O4=new Map,Ky=new Map;function IE(n,e){try{n.container.addComponent(e)}catch(t){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function la(n){const e=n.name;if(Ky.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;Ky.set(e,n);for(const t of kd.values())IE(t,n);for(const t of O4.values())IE(t,n);return!0}function ap(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new oh("app","Firebase",N4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=k4;function E1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:$y,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw jr.create("bad-app-name",{appName:String(r)});if(t||(t=v1()),!t)throw jr.create("no-options");const a=kd.get(r);if(a){if(aa(t,a.options)&&aa(i,a.config))return a;throw jr.create("duplicate-app",{appName:r})}const u=new FL(r);for(const f of Ky.values())u.addComponent(f);const h=new V4(t,i,u);return kd.set(r,h),h}function s_(n=$y){const e=kd.get(n);if(!e&&n===$y&&v1())return E1();if(!e)throw jr.create("no-app",{appName:n});return e}function ns(n,e,t){let i=M4[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const u=[`Unable to register library "${i}" with version "${e}":`];r&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(u.join(" "));return}la(new $r(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="firebase-heartbeat-database",U4=1,Bc="firebase-heartbeat-store";let uy=null;function S1(){return uy||(uy=t4(L4,U4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw jr.create("idb-open",{originalErrorMessage:n.message})})),uy}async function z4(n){try{const t=(await S1()).transaction(Bc),i=await t.objectStore(Bc).get(A1(n));return await t.done,i}catch(e){if(e instanceof ps)Ks.warn(e.message);else{const t=jr.create("idb-get",{originalErrorMessage:e?.message});Ks.warn(t.message)}}}async function DE(n,e){try{const i=(await S1()).transaction(Bc,"readwrite");await i.objectStore(Bc).put(e,A1(n)),await i.done}catch(t){if(t instanceof ps)Ks.warn(t.message);else{const i=jr.create("idb-set",{originalErrorMessage:t?.message});Ks.warn(i.message)}}}function A1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1024,j4=30;class F4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new H4(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>j4){const r=G4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=PE(),{heartbeatsToSend:t,unsentEntries:i}=q4(this._heartbeatsCache.heartbeats),r=Pd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Ks.warn(e),""}}}function PE(){return new Date().toISOString().substring(0,10)}function q4(n,e=B4){const t=[];let i=n.slice();for(const r of n){const a=t.find(u=>u.agent===r.agent);if(a){if(a.dates.push(r.date),kE(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),kE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class H4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DL()?PL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await z4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kE(n){return Pd(JSON.stringify({version:2,heartbeats:n})).length}function G4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(n){la(new $r("platform-logger",e=>new s4(e),"PRIVATE")),la(new $r("heartbeat",e=>new F4(e),"PRIVATE")),ns(Gy,CE,n),ns(Gy,CE,"esm2020"),ns("fire-js","")}$4("");function x1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K4=x1,R1=new oh("auth","Firebase",x1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new n_("@firebase/auth");function Y4(n,...e){Md.logLevel<=Ve.WARN&&Md.warn(`Auth (${ma}): ${n}`,...e)}function cd(n,...e){Md.logLevel<=Ve.ERROR&&Md.error(`Auth (${ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(n,...e){throw r_(n,...e)}function is(n,...e){return r_(n,...e)}function C1(n,e,t){const i={...K4(),[e]:t};return new oh("auth","Firebase",i).create(e,{appName:n.name})}function Fr(n){return C1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return R1.create(n,...e)}function we(n,e,...t){if(!n)throw r_(e,...t)}function js(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cd(e),new Error(e)}function Ys(n,e){n||js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(){return typeof self<"u"&&self.location?.href||""}function X4(){return ME()==="http:"||ME()==="https:"}function ME(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X4()||xL()||"connection"in navigator)?navigator.onLine:!0}function W4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ys(t>e,"Short delay should be less than long delay!"),this.isMobile=EL()||RL()}get(){return Q4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n,e){Ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eU=new lh(3e4,6e4);function ga(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function so(n,e,t,i,r={}){return D1(n,r,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=ah({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...a};return AL()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&io(n.emulatorConfig.host)&&(d.credentials="include"),I1.fetch()(await P1(n,n.config.apiHost,t,h),d)})}async function D1(n,e,t){n._canInitEmulator=!1;const i={...Z4,...e};try{const r=new nU(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Yf(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Yf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Yf(n,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw C1(n,g,d);ki(n,g)}}catch(r){if(r instanceof ps)throw r;ki(n,"network-request-failed",{message:String(r)})}}async function lp(n,e,t,i,r={}){const a=await so(n,e,t,i,r);return"mfaPendingCredential"in a&&ki(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function P1(n,e,t,i){const r=`${e}${t}?${i}`,a=n,u=a.config.emulator?o_(n.config,r):`${n.config.apiScheme}://${r}`;return J4.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function tU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(is(this.auth,"network-request-failed")),eU.get())})}}function Yf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=is(n,e,i);return r.customData._tokenResponse=t,r}function OE(n){return n!==void 0&&n.enterprise!==void 0}class iU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sU(n,e){return so(n,"GET","/v2/recaptchaConfig",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(n,e){return so(n,"POST","/v1/accounts:delete",e)}async function Od(n,e){return so(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oU(n,e=!1){const t=ht(n),i=await t.getIdToken(e),r=a_(i);we(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,u=a?.sign_in_provider;return{claims:r,token:i,authTime:Ac(cy(r.auth_time)),issuedAtTime:Ac(cy(r.iat)),expirationTime:Ac(cy(r.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function cy(n){return Number(n)*1e3}function a_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return cd("JWT malformed, contained fewer than 3 sections"),null;try{const r=m1(t);return r?JSON.parse(r):(cd("Failed to decode base64 JWT payload"),null)}catch(r){return cd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function NE(n){const e=a_(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ps&&aU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function aU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(n){const e=n.auth,t=await n.getIdToken(),i=await jc(n,Od(e,{idToken:t}));we(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=r.providerUserInfo?.length?k1(r.providerUserInfo):[],u=cU(n.providerData,a),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!u?.length,d=h?f:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:u,metadata:new Xy(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function uU(n){const e=ht(n);await Nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cU(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function k1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(n,e){const t=await D1(n,{},async()=>{const i=ah({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,u=await P1(n,r,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&io(n.emulatorConfig.host)&&(f.credentials="include"),I1.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fU(n,e){return so(n,"POST","/v2/accounts:revokeToken",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=NE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await hU(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,u=new xl;return i&&(we(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),r&&(we(typeof r=="string","internal-error",{appName:e}),u.accessToken=r),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new lU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Xy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await jc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return oU(this,e)}reload(){return uU(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Nd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await jc(this,rU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:E,providerData:C,stsTokenManager:A}=t;we(v&&A,e,"internal-error");const R=xl.fromJSON(this.name,A);we(typeof v=="string",e,"internal-error"),Cr(i,e.name),Cr(r,e.name),we(typeof b=="boolean",e,"internal-error"),we(typeof E=="boolean",e,"internal-error"),Cr(a,e.name),Cr(u,e.name),Cr(h,e.name),Cr(f,e.name),Cr(d,e.name),Cr(g,e.name);const P=new Ai({uid:v,auth:e,email:r,emailVerified:b,displayName:i,isAnonymous:E,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:R,createdAt:d,lastLoginAt:g});return C&&Array.isArray(C)&&(P.providerData=C.map(B=>({...B}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,t,i=!1){const r=new xl;r.updateFromServerResponse(t);const a=new Ai({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Nd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];we(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?k1(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!a?.length,h=new xl;h.updateFromIdToken(i);const f=new Ai({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Xy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function Fs(n){Ys(n instanceof Function,"Expected a class definition");let e=VE.get(n);return e?(Ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}M1.type="NONE";const LE=M1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(n,e,t){return`firebase:${n}:${e}:${t}`}class Rl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=hd(this.userKey,r.apiKey,a),this.fullPersistenceKey=hd("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Od(this.auth,{idToken:e}).catch(()=>{});return t?Ai._fromGetAccountInfoResponse(this.auth,t,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Rl(Fs(LE),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||Fs(LE);const u=hd(i,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let v;if(typeof g=="string"){const b=await Od(e,{idToken:g}).catch(()=>{});if(!b)break;v=await Ai._fromGetAccountInfoResponse(e,b,g)}else v=Ai._fromJSON(e,g);d!==a&&(h=v),a=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Rl(a,e,i):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==a)try{await d._remove(u)}catch{}})),new Rl(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z1(e))return"Blackberry";if(B1(e))return"Webos";if(N1(e))return"Safari";if((e.includes("chrome/")||V1(e))&&!e.includes("edge/"))return"Chrome";if(U1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function O1(n=wn()){return/firefox\//i.test(n)}function N1(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V1(n=wn()){return/crios\//i.test(n)}function L1(n=wn()){return/iemobile/i.test(n)}function U1(n=wn()){return/android/i.test(n)}function z1(n=wn()){return/blackberry/i.test(n)}function B1(n=wn()){return/webos/i.test(n)}function l_(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dU(n=wn()){return l_(n)&&!!window.navigator?.standalone}function pU(){return CL()&&document.documentMode===10}function j1(n=wn()){return l_(n)||U1(n)||B1(n)||z1(n)||/windows phone/i.test(n)||L1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(n,e=[]){let t;switch(n){case"Browser":t=UE(wn());break;case"Worker":t=`${UE(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(n,e={}){return so(n,"GET","/v2/passwordPolicy",ga(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=6;class vU{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??yU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zE(this),this.idTokenSubscription=new zE(this),this.beforeStateQueue=new mU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Od(this,{idToken:e}),i=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(Fr(this));const t=e?ht(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gU(this),t=new vU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await fU(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fs(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[Fs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,r);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $l(n){return ht(n)}class zE{constructor(e){this.auth=e,this.observer=null,this.addObserver=VL(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bU(n){up=n}function q1(n){return up.loadJS(n)}function wU(){return up.recaptchaEnterpriseScript}function TU(){return up.gapiScript}function EU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class SU{constructor(){this.enterprise=new AU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class AU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xU="recaptcha-enterprise",H1="NO_RECAPTCHA";class RU{constructor(e){this.type=xU,this.auth=$l(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{sU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new iU(f);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function r(a,u,h){const f=window.grecaptcha;OE(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(H1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SU().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&OE(window.grecaptcha))r(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=wU();f.length!==0&&(f+=h),q1(f).then(()=>{r(h,a,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function BE(n,e,t,i=!1,r=!1){const a=new RU(n);let u;if(r)u=H1;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function jE(n,e,t,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await BE(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await BE(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(n,e){const t=ap(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(aa(a,e??{}))return r;ki(r,"already-initialized")}return t.initialize({options:e})}function IU(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Fs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function DU(n,e,t){const i=$l(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=G1(e),{host:u,port:h}=PU(e),f=h===null?"":`:${h}`,d={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(aa(d,i.config.emulator)&&aa(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,io(u)?(e_(`${a}//${u}${f}`),t_("Auth",!0)):kU()}function G1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function PU(n){const e=G1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:FE(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:FE(u)}}}function FE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return js("not implemented")}_getIdTokenResponse(e){return js("not implemented")}_linkToIdToken(e,t){return js("not implemented")}_getReauthenticationResolver(e){return js("not implemented")}}async function MU(n,e){return so(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(n,e){return lp(n,"POST","/v1/accounts:signInWithPassword",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(n,e){return lp(n,"POST","/v1/accounts:signInWithEmailLink",ga(n,e))}async function VU(n,e){return lp(n,"POST","/v1/accounts:signInWithEmailLink",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends u_{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Fc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Fc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jE(e,t,"signInWithPassword",OU);case"emailLink":return NU(e,{email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jE(e,i,"signUpPassword",MU);case"emailLink":return VU(e,{idToken:t,email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(n,e){return lp(n,"POST","/v1/accounts:signInWithIdp",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="http://localhost";class ua extends u_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ki("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=t;if(!i||!r)return null;const u=new ua(i,r);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Cl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Cl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cl(e,t)}buildRequest(){const e={requestUri:LU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ah(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zU(n){const e=mc(gc(n)).link,t=e?mc(gc(e)).deep_link_id:null,i=mc(gc(n)).deep_link_id;return(i?mc(gc(i)).link:null)||i||t||e||n}class c_{constructor(e){const t=mc(gc(e)),i=t.apiKey??null,r=t.oobCode??null,a=UU(t.mode??null);we(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=zU(e);try{return new c_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,t){return Fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=c_.parseLink(t);return we(i,"argument-error"),Fc._fromEmailAndCode(e,i.code,i.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends $1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends uh{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ua._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Mr.credential(t,i)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends uh{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends uh{constructor(){super("twitter.com")}static credential(e,t){return ua._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Nr.credential(t,i)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Ai._fromIdTokenResponse(e,i,r),u=qE(i);return new Ol({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=qE(i);return new Ol({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function qE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends ps{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Vd(e,t,i,r)}}function K1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vd._fromErrorAndOperation(n,a,e,i):a})}async function BU(n,e,t=!1){const i=await jc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ol._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(n,e,t=!1){const{auth:i}=n;if(pi(i.app))return Promise.reject(Fr(i));const r="reauthenticate";try{const a=await jc(n,K1(i,r,e,n),t);we(a.idToken,i,"internal-error");const u=a_(a.idToken);we(u,i,"internal-error");const{sub:h}=u;return we(n.uid===h,i,"user-mismatch"),Ol._forOperation(n,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&ki(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(n,e,t=!1){if(pi(n.app))return Promise.reject(Fr(n));const i="signIn",r=await K1(n,i,e),a=await Ol._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function FU(n,e){return Y1($l(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(n){const e=$l(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function HU(n,e,t){return pi(n.app)?Promise.reject(Fr(n)):FU(ht(n),Kl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&qU(n),i})}function GU(n,e,t,i){return ht(n).onIdTokenChanged(e,t,i)}function $U(n,e,t){return ht(n).beforeAuthStateChanged(e,t)}function cp(n,e,t,i){return ht(n).onAuthStateChanged(e,t,i)}function X1(n){return ht(n).signOut()}const Ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=1e3,YU=10;class W1 extends Q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);pU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,YU):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},KU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}W1.type="LOCAL";const XU=W1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Z1.type="SESSION";const J1=Z1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new hp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,u=this.handlersMap[r];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async d=>d(t.origin,a)),f=await QU(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const d=h_("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(b.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function ZU(n){ss().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function JU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e3(){return navigator?.serviceWorker?.controller||null}function t3(){return eR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebaseLocalStorageDb",n3=1,Ud="firebaseLocalStorage",nR="fbase_key";class ch{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fp(n,e){return n.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function i3(){const n=indexedDB.deleteDatabase(tR);return new ch(n).toPromise()}function Qy(){const n=indexedDB.open(tR,n3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ud,{keyPath:nR})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ud)?e(i):(i.close(),await i3(),e(await Qy()))})})}async function HE(n,e,t){const i=fp(n,!0).put({[nR]:e,value:t});return new ch(i).toPromise()}async function s3(n,e){const t=fp(n,!1).get(e),i=await new ch(t).toPromise();return i===void 0?null:i.value}function GE(n,e){const t=fp(n,!0).delete(e);return new ch(t).toPromise()}const r3=800,o3=3;class iR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>o3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hp._getInstance(t3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JU(),!this.activeServiceWorker)return;this.sender=new WU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qy();return await HE(e,Ld,"1"),await GE(e,Ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>HE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>s3(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>GE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=fp(r,!1).getAll();return new ch(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iR.type="LOCAL";const a3=iR;new lh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n,e){return e?Fs(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends u_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function u3(n){return Y1(n.auth,new f_(n),n.bypassAuthState)}function c3(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),jU(t,new f_(n),n.bypassAuthState)}async function h3(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),BU(t,new f_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u3;case"linkViaPopup":case"linkViaRedirect":return h3;case"reauthViaPopup":case"reauthViaRedirect":return c3;default:ki(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=new lh(2e3,1e4);class bl extends sR{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=h_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f3.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="pendingRedirect",fd=new Map;class p3 extends sR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const i=await m3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m3(n,e){const t=v3(e),i=y3(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function g3(n,e){fd.set(n._key(),e)}function y3(n){return Fs(n._redirectPersistence)}function v3(n){return hd(d3,n.config.apiKey,n.name)}async function _3(n,e,t=!1){if(pi(n.app))return Promise.reject(Fr(n));const i=$l(n),r=l3(i,e),u=await new p3(i,r,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=600*1e3;class w3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!rR(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(is(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b3&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(e))}saveEventToCache(e){this.cachedEventUids.add($E(e)),this.lastProcessedEventTime=Date.now()}}function $E(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function T3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(n,e={}){return so(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A3=/^https?/;async function x3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await E3(n);for(const t of e)try{if(R3(t))return}catch{}ki(n,"unauthorized-domain")}function R3(n){const e=Yy(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!A3.test(t))return!1;if(S3.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new lh(3e4,6e4);function KE(){const n=ss().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function I3(n){return new Promise((e,t)=>{function i(){KE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KE(),t(is(n,"network-request-failed"))},timeout:C3.get()})}if(ss().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ss().gapi?.load)i();else{const r=EU("iframefcb");return ss()[r]=()=>{gapi.load?i():t(is(n,"network-request-failed"))},q1(`${TU()}?onload=${r}`).catch(a=>t(a))}}).catch(e=>{throw dd=null,e})}let dd=null;function D3(n){return dd=dd||I3(n),dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=new lh(5e3,15e3),k3="__/auth/iframe",M3="emulator/auth/iframe",O3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V3(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?o_(e,M3):`https://${n.config.authDomain}/${k3}`,i={apiKey:e.apiKey,appName:n.name,v:ma},r=N3.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${ah(i).slice(1)}`}async function L3(n){const e=await D3(n),t=ss().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:V3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O3,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const u=is(n,"network-request-failed"),h=ss().setTimeout(()=>{a(u)},P3.get());function f(){ss().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z3=500,B3=600,j3="_blank",F3="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q3(n,e,t,i=z3,r=B3){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...U3,width:i.toString(),height:r.toString(),top:a,left:u},d=wn().toLowerCase();t&&(h=V1(d)?j3:t),O1(d)&&(e=e||F3,f.scrollbars="yes");const g=Object.entries(f).reduce((b,[E,C])=>`${b}${E}=${C},`,"");if(dU(d)&&h!=="_self")return H3(e||"",h),new YE(null);const v=window.open(e||"",h,g);we(v,n,"popup-blocked");try{v.focus()}catch{}return new YE(v)}function H3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="__/auth/handler",$3="emulator/auth/handler",K3=encodeURIComponent("fac");async function XE(n,e,t,i,r,a){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ma,eventId:r};if(e instanceof $1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",NL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof uh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${K3}=${encodeURIComponent(f)}`:"";return`${Y3(n)}?${ah(h).slice(1)}${d}`}function Y3({config:n}){return n.emulator?o_(n,$3):`https://${n.authDomain}/${G3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="webStorageSupport";class X3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J1,this._completeRedirectFn=_3,this._overrideRedirectResult=g3}async _openPopup(e,t,i,r){Ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await XE(e,t,i,Yy(),r);return q3(e,a,h_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await XE(e,t,i,Yy(),r);return ZU(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Ys(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await L3(e),i=new w3(e);return t.register("authEvent",r=>(we(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hy,{type:hy},r=>{const a=r?.[0]?.[hy];a!==void 0&&t(!!a),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=x3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j1()||N1()||l_()}}const Q3=X3;var QE="@firebase/auth",WE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J3(n){la(new $r("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F1(n)},d=new _U(i,r,a,f);return IU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),la(new $r("auth-internal",e=>{const t=$l(e.getProvider("auth").getImmediate());return(i=>new W3(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(QE,WE,Z3(n)),ns(QE,WE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=300,t6=_1("authIdTokenMaxAge")||e6;let ZE=null;const n6=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>t6)return;const r=t?.token;ZE!==r&&(ZE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function i6(n=s_()){const e=ap(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CU(n,{popupRedirectResolver:Q3,persistence:[a3,XU,J1]}),i=_1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=n6(a.toString());$U(t,u,()=>u(t.currentUser)),GU(t,h=>u(h))}}const r=g1("auth");return r&&DU(t,`http://${r}`),t}function s6(){return document.getElementsByTagName("head")?.[0]??document}bU({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=is("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",s6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J3("Browser");var r6="firebase",o6="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(r6,o6,"app");var JE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,oR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function k(){}k.prototype=I.prototype,O.D=I.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(L,F,q){for(var N=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)N[Ct-2]=arguments[Ct];return I.prototype[F].apply(L,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,I,k){k||(k=0);var L=Array(16);if(typeof I=="string")for(var F=0;16>F;++F)L[F]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(F=0;16>F;++F)L[F]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=O.g[0],k=O.g[1],F=O.g[2];var q=O.g[3],N=I+(q^k&(F^q))+L[0]+3614090360&4294967295;I=k+(N<<7&4294967295|N>>>25),N=q+(F^I&(k^F))+L[1]+3905402710&4294967295,q=I+(N<<12&4294967295|N>>>20),N=F+(k^q&(I^k))+L[2]+606105819&4294967295,F=q+(N<<17&4294967295|N>>>15),N=k+(I^F&(q^I))+L[3]+3250441966&4294967295,k=F+(N<<22&4294967295|N>>>10),N=I+(q^k&(F^q))+L[4]+4118548399&4294967295,I=k+(N<<7&4294967295|N>>>25),N=q+(F^I&(k^F))+L[5]+1200080426&4294967295,q=I+(N<<12&4294967295|N>>>20),N=F+(k^q&(I^k))+L[6]+2821735955&4294967295,F=q+(N<<17&4294967295|N>>>15),N=k+(I^F&(q^I))+L[7]+4249261313&4294967295,k=F+(N<<22&4294967295|N>>>10),N=I+(q^k&(F^q))+L[8]+1770035416&4294967295,I=k+(N<<7&4294967295|N>>>25),N=q+(F^I&(k^F))+L[9]+2336552879&4294967295,q=I+(N<<12&4294967295|N>>>20),N=F+(k^q&(I^k))+L[10]+4294925233&4294967295,F=q+(N<<17&4294967295|N>>>15),N=k+(I^F&(q^I))+L[11]+2304563134&4294967295,k=F+(N<<22&4294967295|N>>>10),N=I+(q^k&(F^q))+L[12]+1804603682&4294967295,I=k+(N<<7&4294967295|N>>>25),N=q+(F^I&(k^F))+L[13]+4254626195&4294967295,q=I+(N<<12&4294967295|N>>>20),N=F+(k^q&(I^k))+L[14]+2792965006&4294967295,F=q+(N<<17&4294967295|N>>>15),N=k+(I^F&(q^I))+L[15]+1236535329&4294967295,k=F+(N<<22&4294967295|N>>>10),N=I+(F^q&(k^F))+L[1]+4129170786&4294967295,I=k+(N<<5&4294967295|N>>>27),N=q+(k^F&(I^k))+L[6]+3225465664&4294967295,q=I+(N<<9&4294967295|N>>>23),N=F+(I^k&(q^I))+L[11]+643717713&4294967295,F=q+(N<<14&4294967295|N>>>18),N=k+(q^I&(F^q))+L[0]+3921069994&4294967295,k=F+(N<<20&4294967295|N>>>12),N=I+(F^q&(k^F))+L[5]+3593408605&4294967295,I=k+(N<<5&4294967295|N>>>27),N=q+(k^F&(I^k))+L[10]+38016083&4294967295,q=I+(N<<9&4294967295|N>>>23),N=F+(I^k&(q^I))+L[15]+3634488961&4294967295,F=q+(N<<14&4294967295|N>>>18),N=k+(q^I&(F^q))+L[4]+3889429448&4294967295,k=F+(N<<20&4294967295|N>>>12),N=I+(F^q&(k^F))+L[9]+568446438&4294967295,I=k+(N<<5&4294967295|N>>>27),N=q+(k^F&(I^k))+L[14]+3275163606&4294967295,q=I+(N<<9&4294967295|N>>>23),N=F+(I^k&(q^I))+L[3]+4107603335&4294967295,F=q+(N<<14&4294967295|N>>>18),N=k+(q^I&(F^q))+L[8]+1163531501&4294967295,k=F+(N<<20&4294967295|N>>>12),N=I+(F^q&(k^F))+L[13]+2850285829&4294967295,I=k+(N<<5&4294967295|N>>>27),N=q+(k^F&(I^k))+L[2]+4243563512&4294967295,q=I+(N<<9&4294967295|N>>>23),N=F+(I^k&(q^I))+L[7]+1735328473&4294967295,F=q+(N<<14&4294967295|N>>>18),N=k+(q^I&(F^q))+L[12]+2368359562&4294967295,k=F+(N<<20&4294967295|N>>>12),N=I+(k^F^q)+L[5]+4294588738&4294967295,I=k+(N<<4&4294967295|N>>>28),N=q+(I^k^F)+L[8]+2272392833&4294967295,q=I+(N<<11&4294967295|N>>>21),N=F+(q^I^k)+L[11]+1839030562&4294967295,F=q+(N<<16&4294967295|N>>>16),N=k+(F^q^I)+L[14]+4259657740&4294967295,k=F+(N<<23&4294967295|N>>>9),N=I+(k^F^q)+L[1]+2763975236&4294967295,I=k+(N<<4&4294967295|N>>>28),N=q+(I^k^F)+L[4]+1272893353&4294967295,q=I+(N<<11&4294967295|N>>>21),N=F+(q^I^k)+L[7]+4139469664&4294967295,F=q+(N<<16&4294967295|N>>>16),N=k+(F^q^I)+L[10]+3200236656&4294967295,k=F+(N<<23&4294967295|N>>>9),N=I+(k^F^q)+L[13]+681279174&4294967295,I=k+(N<<4&4294967295|N>>>28),N=q+(I^k^F)+L[0]+3936430074&4294967295,q=I+(N<<11&4294967295|N>>>21),N=F+(q^I^k)+L[3]+3572445317&4294967295,F=q+(N<<16&4294967295|N>>>16),N=k+(F^q^I)+L[6]+76029189&4294967295,k=F+(N<<23&4294967295|N>>>9),N=I+(k^F^q)+L[9]+3654602809&4294967295,I=k+(N<<4&4294967295|N>>>28),N=q+(I^k^F)+L[12]+3873151461&4294967295,q=I+(N<<11&4294967295|N>>>21),N=F+(q^I^k)+L[15]+530742520&4294967295,F=q+(N<<16&4294967295|N>>>16),N=k+(F^q^I)+L[2]+3299628645&4294967295,k=F+(N<<23&4294967295|N>>>9),N=I+(F^(k|~q))+L[0]+4096336452&4294967295,I=k+(N<<6&4294967295|N>>>26),N=q+(k^(I|~F))+L[7]+1126891415&4294967295,q=I+(N<<10&4294967295|N>>>22),N=F+(I^(q|~k))+L[14]+2878612391&4294967295,F=q+(N<<15&4294967295|N>>>17),N=k+(q^(F|~I))+L[5]+4237533241&4294967295,k=F+(N<<21&4294967295|N>>>11),N=I+(F^(k|~q))+L[12]+1700485571&4294967295,I=k+(N<<6&4294967295|N>>>26),N=q+(k^(I|~F))+L[3]+2399980690&4294967295,q=I+(N<<10&4294967295|N>>>22),N=F+(I^(q|~k))+L[10]+4293915773&4294967295,F=q+(N<<15&4294967295|N>>>17),N=k+(q^(F|~I))+L[1]+2240044497&4294967295,k=F+(N<<21&4294967295|N>>>11),N=I+(F^(k|~q))+L[8]+1873313359&4294967295,I=k+(N<<6&4294967295|N>>>26),N=q+(k^(I|~F))+L[15]+4264355552&4294967295,q=I+(N<<10&4294967295|N>>>22),N=F+(I^(q|~k))+L[6]+2734768916&4294967295,F=q+(N<<15&4294967295|N>>>17),N=k+(q^(F|~I))+L[13]+1309151649&4294967295,k=F+(N<<21&4294967295|N>>>11),N=I+(F^(k|~q))+L[4]+4149444226&4294967295,I=k+(N<<6&4294967295|N>>>26),N=q+(k^(I|~F))+L[11]+3174756917&4294967295,q=I+(N<<10&4294967295|N>>>22),N=F+(I^(q|~k))+L[2]+718787259&4294967295,F=q+(N<<15&4294967295|N>>>17),N=k+(q^(F|~I))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+F&4294967295,O.g[3]=O.g[3]+q&4294967295}i.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var k=I-this.blockSize,L=this.B,F=this.h,q=0;q<I;){if(F==0)for(;q<=k;)r(this,O,q),q+=this.blockSize;if(typeof O=="string"){for(;q<I;)if(L[F++]=O.charCodeAt(q++),F==this.blockSize){r(this,L),F=0;break}}else for(;q<I;)if(L[F++]=O[q++],F==this.blockSize){r(this,L),F=0;break}}this.h=F,this.o+=I},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var k=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=k&255,k/=256;for(this.u(O),O=Array(16),I=k=0;4>I;++I)for(var L=0;32>L;L+=8)O[k++]=this.g[I]>>>L&255;return O};function a(O,I){var k=h;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=I(O)}function u(O,I){this.h=I;for(var k=[],L=!0,F=O.length-1;0<=F;F--){var q=O[F]|0;L&&q==I||(k[F]=q,L=!1)}this.g=k}var h={};function f(O){return-128<=O&&128>O?a(O,function(I){return new u([I|0],0>I?-1:0)}):new u([O|0],0>O?-1:0)}function d(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return R(d(-O));for(var I=[],k=1,L=0;O>=k;L++)I[L]=O/k|0,k*=4294967296;return new u(I,0)}function g(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return R(g(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(I,8)),L=v,F=0;F<O.length;F+=8){var q=Math.min(8,O.length-F),N=parseInt(O.substring(F,F+q),I);8>q?(q=d(Math.pow(I,q)),L=L.j(q).add(d(N))):(L=L.j(k),L=L.add(d(N)))}return L}var v=f(0),b=f(1),E=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-R(this).m();for(var O=0,I=1,k=0;k<this.g.length;k++){var L=this.i(k);O+=(0<=L?L:4294967296+L)*I,I*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(A(this))return"-"+R(this).toString(O);for(var I=d(Math.pow(O,6)),k=this,L="";;){var F=G(k,I).g;k=P(k,F.j(I));var q=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=F,C(k))return q+L;for(;6>q.length;)q="0"+q;L=q+L}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function A(O){return O.h==-1}n.l=function(O){return O=P(this,O),A(O)?-1:C(O)?0:1};function R(O){for(var I=O.g.length,k=[],L=0;L<I;L++)k[L]=~O.g[L];return new u(k,~O.h).add(b)}n.abs=function(){return A(this)?R(this):this},n.add=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],L=0,F=0;F<=I;F++){var q=L+(this.i(F)&65535)+(O.i(F)&65535),N=(q>>>16)+(this.i(F)>>>16)+(O.i(F)>>>16);L=N>>>16,q&=65535,N&=65535,k[F]=N<<16|q}return new u(k,k[k.length-1]&-2147483648?-1:0)};function P(O,I){return O.add(R(I))}n.j=function(O){if(C(this)||C(O))return v;if(A(this))return A(O)?R(this).j(R(O)):R(R(this).j(O));if(A(O))return R(this.j(R(O)));if(0>this.l(E)&&0>O.l(E))return d(this.m()*O.m());for(var I=this.g.length+O.g.length,k=[],L=0;L<2*I;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<O.g.length;F++){var q=this.i(L)>>>16,N=this.i(L)&65535,Ct=O.i(F)>>>16,st=O.i(F)&65535;k[2*L+2*F]+=N*st,B(k,2*L+2*F),k[2*L+2*F+1]+=q*st,B(k,2*L+2*F+1),k[2*L+2*F+1]+=N*Ct,B(k,2*L+2*F+1),k[2*L+2*F+2]+=q*Ct,B(k,2*L+2*F+2)}for(L=0;L<I;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=I;L<2*I;L++)k[L]=0;return new u(k,0)};function B(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function j(O,I){this.g=O,this.h=I}function G(O,I){if(C(I))throw Error("division by zero");if(C(O))return new j(v,v);if(A(O))return I=G(R(O),I),new j(R(I.g),R(I.h));if(A(I))return I=G(O,R(I)),new j(R(I.g),I.h);if(30<O.g.length){if(A(O)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var k=b,L=I;0>=L.l(O);)k=Z(k),L=Z(L);var F=ue(k,1),q=ue(L,1);for(L=ue(L,2),k=ue(k,2);!C(L);){var N=q.add(L);0>=N.l(O)&&(F=F.add(k),q=N),L=ue(L,1),k=ue(k,1)}return I=P(O,F.j(I)),new j(F,I)}for(F=v;0<=O.l(I);){for(k=Math.max(1,Math.floor(O.m()/I.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),q=d(k),N=q.j(I);A(N)||0<N.l(O);)k-=L,q=d(k),N=q.j(I);C(q)&&(q=b),F=F.add(q),O=P(O,N)}return new j(F,O)}n.A=function(O){return G(this,O).h},n.and=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],L=0;L<I;L++)k[L]=this.i(L)&O.i(L);return new u(k,this.h&O.h)},n.or=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],L=0;L<I;L++)k[L]=this.i(L)|O.i(L);return new u(k,this.h|O.h)},n.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],L=0;L<I;L++)k[L]=this.i(L)^O.i(L);return new u(k,this.h^O.h)};function Z(O){for(var I=O.g.length+1,k=[],L=0;L<I;L++)k[L]=O.i(L)<<1|O.i(L-1)>>>31;return new u(k,O.h)}function ue(O,I){var k=I>>5;I%=32;for(var L=O.g.length-k,F=[],q=0;q<L;q++)F[q]=0<I?O.i(q+k)>>>I|O.i(q+k+1)<<32-I:O.i(q+k);return new u(F,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,oR=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,qr=u}).apply(typeof JE<"u"?JE:typeof self<"u"?self:typeof window<"u"?window:{});var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aR,yc,lR,pd,Wy,uR,cR,hR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,w){return p==Array.prototype||p==Object.prototype||(p[_]=w.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xf=="object"&&Xf];for(var _=0;_<p.length;++_){var w=p[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(p,_){if(_)e:{var w=i;p=p.split(".");for(var x=0;x<p.length-1;x++){var $=p[x];if(!($ in w))break e;w=w[$]}p=p[p.length-1],x=w[p],_=_(x),_!=x&&_!=null&&e(w,p,{configurable:!0,writable:!0,value:_})}}function a(p,_){p instanceof String&&(p+="");var w=0,x=!1,$={next:function(){if(!x&&w<p.length){var W=w++;return{value:_(W,p[W]),done:!1}}return x=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}r("Array.prototype.values",function(p){return p||function(){return a(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function d(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function g(p,_,w){return p.call.apply(p.bind,arguments)}function v(p,_,w){if(!p)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,x),p.apply(_,$)}}return function(){return p.apply(_,arguments)}}function b(p,_,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function E(p,_){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),p.apply(this,x)}}function C(p,_){function w(){}w.prototype=_.prototype,p.aa=_.prototype,p.prototype=new w,p.prototype.constructor=p,p.Qb=function(x,$,W){for(var le=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)le[ze-2]=arguments[ze];return _.prototype[$].apply(x,le)}}function A(p){const _=p.length;if(0<_){const w=Array(_);for(let x=0;x<_;x++)w[x]=p[x];return w}return[]}function R(p,_){for(let w=1;w<arguments.length;w++){const x=arguments[w];if(f(x)){const $=p.length||0,W=x.length||0;p.length=$+W;for(let le=0;le<W;le++)p[$+le]=x[le]}else p.push(x)}}class P{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(p){return/^[\s\xa0]*$/.test(p)}function j(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function G(p){return G[" "](p),p}G[" "]=function(){};var Z=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ue(p,_,w){for(const x in p)_.call(w,p[x],x,p)}function O(p,_){for(const w in p)_.call(void 0,p[w],w,p)}function I(p){const _={};for(const w in p)_[w]=p[w];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(p,_){let w,x;for(let $=1;$<arguments.length;$++){x=arguments[$];for(w in x)p[w]=x[w];for(let W=0;W<k.length;W++)w=k[W],Object.prototype.hasOwnProperty.call(x,w)&&(p[w]=x[w])}}function F(p){var _=1;p=p.split(":");const w=[];for(;0<_&&p.length;)w.push(p.shift()),_--;return p.length&&w.push(p.join(":")),w}function q(p){h.setTimeout(()=>{throw p},0)}function N(){var p=De;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class Ct{constructor(){this.h=this.g=null}add(_,w){const x=st.get();x.set(_,w),this.h?this.h.next=x:this.g=x,this.h=x}}var st=new P(()=>new J,p=>p.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,fe=!1,De=new Ct,V=()=>{const p=h.Promise.resolve(void 0);oe=()=>{p.then(re)}};var re=()=>{for(var p;p=N();){try{p.h.call(p.g)}catch(w){q(w)}var _=st;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}fe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const w=()=>{};h.addEventListener("test",w,_),h.removeEventListener("test",w,_)}catch{}return p})();function ke(p,_){if(ae.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var w=this.type=p.type,x=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(Z){e:{try{G(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else w=="mouseover"?_=p.fromElement:w=="mouseout"&&(_=p.toElement);this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ae[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}C(ke,ae);var Ae={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Vi(p,_,w,x,$){this.listener=p,this.proxy=null,this.src=_,this.type=w,this.capture=!!x,this.ha=$,this.key=++tt,this.da=this.fa=!1}function Js(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ms(p){this.src=p,this.g={},this.h=0}ms.prototype.add=function(p,_,w,x,$){var W=p.toString();p=this.g[W],p||(p=this.g[W]=[],this.h++);var le=uo(p,_,x,$);return-1<le?(_=p[le],w||(_.fa=!1)):(_=new Vi(_,this.src,W,!!x,$),_.fa=w,p.push(_)),_};function lo(p,_){var w=_.type;if(w in p.g){var x=p.g[w],$=Array.prototype.indexOf.call(x,_,void 0),W;(W=0<=$)&&Array.prototype.splice.call(x,$,1),W&&(Js(_),p.g[w].length==0&&(delete p.g[w],p.h--))}}function uo(p,_,w,x){for(var $=0;$<p.length;++$){var W=p[$];if(!W.da&&W.listener==_&&W.capture==!!w&&W.ha==x)return $}return-1}var co="closure_lm_"+(1e6*Math.random()|0),nu={};function Th(p,_,w,x,$){if(Array.isArray(_)){for(var W=0;W<_.length;W++)Th(p,_[W],w,x,$);return null}return w=Eh(w),p&&p[Ht]?p.K(_,w,d(x)?!!x.capture:!1,$):Zn(p,_,w,!1,x,$)}function Zn(p,_,w,x,$,W){if(!_)throw Error("Invalid event type");var le=d($)?!!$.capture:!!$,ze=wa(p);if(ze||(p[co]=ze=new ms(p)),w=ze.add(_,w,x,le,W),w.proxy)return w;if(x=Np(),w.proxy=x,x.src=p,x.listener=w,p.addEventListener)ye||($=le),$===void 0&&($=!1),p.addEventListener(_.toString(),x,$);else if(p.attachEvent)p.attachEvent(ho(_.toString()),x);else if(p.addListener&&p.removeListener)p.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Np(){function p(w){return _.call(p.src,p.listener,w)}const _=Vp;return p}function iu(p,_,w,x,$){if(Array.isArray(_))for(var W=0;W<_.length;W++)iu(p,_[W],w,x,$);else x=d(x)?!!x.capture:!!x,w=Eh(w),p&&p[Ht]?(p=p.i,_=String(_).toString(),_ in p.g&&(W=p.g[_],w=uo(W,w,x,$),-1<w&&(Js(W[w]),Array.prototype.splice.call(W,w,1),W.length==0&&(delete p.g[_],p.h--)))):p&&(p=wa(p))&&(_=p.g[_.toString()],p=-1,_&&(p=uo(_,w,x,$)),(w=-1<p?_[p]:null)&&ba(w))}function ba(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[Ht])lo(_.i,p);else{var w=p.type,x=p.proxy;_.removeEventListener?_.removeEventListener(w,x,p.capture):_.detachEvent?_.detachEvent(ho(w),x):_.addListener&&_.removeListener&&_.removeListener(x),(w=wa(_))?(lo(w,p),w.h==0&&(w.src=null,_[co]=null)):Js(p)}}}function ho(p){return p in nu?nu[p]:nu[p]="on"+p}function Vp(p,_){if(p.da)p=!0;else{_=new ke(_,this);var w=p.listener,x=p.ha||p.src;p.fa&&ba(p),p=w.call(x,_)}return p}function wa(p){return p=p[co],p instanceof ms?p:null}var su="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eh(p){return typeof p=="function"?p:(p[su]||(p[su]=function(_){return p.handleEvent(_)}),p[su])}function gt(){ce.call(this),this.i=new ms(this),this.M=this,this.F=null}C(gt,ce),gt.prototype[Ht]=!0,gt.prototype.removeEventListener=function(p,_,w,x){iu(this,p,_,w,x)};function Ke(p,_){var w,x=p.F;if(x)for(w=[];x;x=x.F)w.push(x);if(p=p.M,x=_.type||_,typeof _=="string")_=new ae(_,p);else if(_ instanceof ae)_.target=_.target||p;else{var $=_;_=new ae(x,p),L(_,$)}if($=!0,w)for(var W=w.length-1;0<=W;W--){var le=_.g=w[W];$=Ln(le,x,!0,_)&&$}if(le=_.g=p,$=Ln(le,x,!0,_)&&$,$=Ln(le,x,!1,_)&&$,w)for(W=0;W<w.length;W++)le=_.g=w[W],$=Ln(le,x,!1,_)&&$}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var w=p.g[_],x=0;x<w.length;x++)Js(w[x]);delete p.g[_],p.h--}}this.F=null},gt.prototype.K=function(p,_,w,x){return this.i.add(String(p),_,!1,w,x)},gt.prototype.L=function(p,_,w,x){return this.i.add(String(p),_,!0,w,x)};function Ln(p,_,w,x){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,W=0;W<_.length;++W){var le=_[W];if(le&&!le.da&&le.capture==w){var ze=le.listener,zt=le.ha||le.src;le.fa&&lo(p.i,le),$=ze.call(zt,x)!==!1&&$}}return $&&!x.defaultPrevented}function hn(p,_,w){if(typeof p=="function")w&&(p=b(p,w));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(p,_||0)}function Sh(p){p.g=hn(()=>{p.g=null,p.i&&(p.i=!1,Sh(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class Lp extends ce{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Sh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(p){ce.call(this),this.h=p,this.g={}}C(fo,ce);var po=[];function mo(p){ue(p.g,function(_,w){this.g.hasOwnProperty(w)&&ba(_)},p),p.g={}}fo.prototype.N=function(){fo.aa.N.call(this),mo(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=h.JSON.stringify,Ta=h.JSON.parse,go=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function ru(){}ru.prototype.h=null;function ou(p){return p.h||(p.h=p.i())}function au(){}var gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ys(){ae.call(this,"d")}C(ys,ae);function lu(){ae.call(this,"c")}C(lu,ae);var Li={},uu=null;function er(){return uu=uu||new gt}Li.La="serverreachability";function Ea(p){ae.call(this,Li.La,p)}C(Ea,ae);function tr(p){const _=er();Ke(_,new Ea(_))}Li.STAT_EVENT="statevent";function Ah(p,_){ae.call(this,Li.STAT_EVENT,p),this.stat=_}C(Ah,ae);function at(p){const _=er();Ke(_,new Ah(_,p))}Li.Ma="timingevent";function Ut(p,_){ae.call(this,Li.Ma,p),this.size=_}C(Ut,ae);function It(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},_)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function cu(p,_,w,x,$,W){p.info(function(){if(p.g)if(W)for(var le="",ze=W.split("&"),zt=0;zt<ze.length;zt++){var Be=ze[zt].split("=");if(1<Be.length){var $t=Be[0];Be=Be[1];var Bt=$t.split("_");le=2<=Bt.length&&Bt[1]=="type"?le+($t+"="+Be+"&"):le+($t+"=redacted&")}}else le=null;else le=W;return"XMLHTTP REQ ("+x+") [attempt "+$+"]: "+_+`
`+w+`
`+le})}function Up(p,_,w,x,$,W,le){p.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+$+"]: "+_+`
`+w+`
`+W+" "+le})}function nr(p,_,w,x){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+yo(p,w)+(x?" "+x:"")})}function xh(p,_){p.info(function(){return"TIMEOUT: "+_})}Jn.prototype.info=function(){};function yo(p,_){if(!p.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(p=0;p<w.length;p++)if(Array.isArray(w[p])){var x=w[p];if(!(2>x.length)){var $=x[1];if(Array.isArray($)&&!(1>$.length)){var W=$[0];if(W!="noop"&&W!="stop"&&W!="close")for(var le=1;le<$.length;le++)$[le]=""}}}}return vi(w)}catch{return _}}var ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ui;function zi(){}C(zi,ru),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},Ui=new zi;function Tn(p,_,w,x){this.j=p,this.i=_,this.l=w,this.R=x||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var hu={},Sa={};function _i(p,_,w){p.L=1,p.v=To(Un(_)),p.m=w,p.P=!0,_s(p,null)}function _s(p,_){p.F=Date.now(),vo(p),p.A=Un(p.v);var w=p.A,x=p.R;Array.isArray(x)||(x=[String(x)]),yu(w.i,"t",x),p.C=0,w=p.j.J,p.h=new Tt,p.g=Fh(p.j,w?_:null,!p.m),0<p.O&&(p.M=new Lp(b(p.Y,p,p.g),p.O)),_=p.U,w=p.g,x=p.ca;var $="readystatechange";Array.isArray($)||($&&(po[0]=$.toString()),$=po);for(var W=0;W<$.length;W++){var le=Th(w,$[W],x||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=p.H?I(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),tr(),cu(p.i,p.u,p.A,p.l,p.R,p.m)}Tn.prototype.ca=function(p){p=p.target;const _=this.M;_&&ii(p)==3?_.j():this.Y(p)},Tn.prototype.Y=function(p){try{if(p==this.g)e:{const Bt=ii(this.g);var _=this.g.Ba();const Rs=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Oh(this.g)))){this.J||Bt!=4||_==7||(_==8||0>=Rs?tr(3):tr(2)),sr(this);var w=this.g.Z();this.X=w;t:if(Rh(this)){var x=Oh(this.g);p="";var $=x.length,W=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),Bi(this);var le="";break t}this.h.i=new h.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,p+=this.h.i.decode(x[_],{stream:!(W&&_==$-1)});x.length=0,this.h.g+=p,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=w==200,Up(this.i,this.u,this.A,this.l,this.R,Bt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,zt=this.g;if((ze=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(ze)){var Be=ze;break t}}Be=null}if(w=Be)nr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_o(this,w);else{this.o=!1,this.s=3,at(12),Jt(this),Bi(this);break e}}if(this.P){w=!0;let en;for(;!this.J&&this.C<le.length;)if(en=Ch(this,le),en==Sa){Bt==4&&(this.s=4,at(14),w=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(en==hu){this.s=4,at(15),nr(this.i,this.l,le,"[Invalid Chunk]"),w=!1;break}else nr(this.i,this.l,en,null),_o(this,en);if(Rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||le.length!=0||this.h.h||(this.s=1,at(16),w=!1),this.o=this.o&&w,!w)nr(this.i,this.l,le,"[Invalid Chunked Response]"),Jt(this),Bi(this);else if(0<le.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Do($t),$t.M=!0,at(11))}}else nr(this.i,this.l,le,null),_o(this,le);Bt==4&&Jt(this),this.o&&!this.J&&(Bt==4?zh(this.j,this):(this.o=!1,vo(this)))}else qp(this.g),w==400&&0<le.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Jt(this),Bi(this)}}}catch{}finally{}};function Rh(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Ch(p,_){var w=p.C,x=_.indexOf(`
`,w);return x==-1?Sa:(w=Number(_.substring(w,x)),isNaN(w)?hu:(x+=1,x+w>_.length?Sa:(_=_.slice(x,x+w),p.C=x+w,_)))}Tn.prototype.cancel=function(){this.J=!0,Jt(this)};function vo(p){p.S=Date.now()+p.I,Ih(p,p.I)}function Ih(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=It(b(p.ba,p),_)}function sr(p){p.B&&(h.clearTimeout(p.B),p.B=null)}Tn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(xh(this.i,this.A),this.L!=2&&(tr(),at(17)),Jt(this),this.s=2,Bi(this)):Ih(this,this.S-p)};function Bi(p){p.j.G==0||p.J||zh(p.j,p)}function Jt(p){sr(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,mo(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function _o(p,_){try{var w=p.j;if(w.G!=0&&(w.g==p||fu(w.h,p))){if(!p.K&&fu(w.h,p)&&w.G==3){try{var x=w.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var $=x;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<p.F)Va(w),Oa(w);else break e;Tu(w),at(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=It(b(w.Za,w),6e3));if(1>=xa(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else xs(w,11)}else if((p.K||w.g==p)&&Va(w),!B(_))for($=w.Da.g.parse(_),_=0;_<$.length;_++){let Be=$[_];if(w.T=Be[0],Be=Be[1],w.G==2)if(Be[0]=="c"){w.K=Be[1],w.ia=Be[2];const $t=Be[3];$t!=null&&(w.la=$t,w.j.info("VER="+w.la));const Bt=Be[4];Bt!=null&&(w.Aa=Bt,w.j.info("SVER="+w.Aa));const Rs=Be[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(x=1.5*Rs,w.L=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;const en=p.g;if(en){const Ki=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ki){var W=x.h;W.g||Ki.indexOf("spdy")==-1&&Ki.indexOf("quic")==-1&&Ki.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ra(W,W.h),W.h=null))}if(x.D){const Su=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Su&&(x.ya=Su,Qe(x.I,x.D,Su))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-p.F,w.j.info("Handshake RTT: "+w.R+"ms")),x=w;var le=p;if(x.qa=jh(x,x.J?x.ia:null,x.W),le.K){En(x.h,le);var ze=le,zt=x.L;zt&&(ze.I=zt),ze.B&&(sr(ze),vo(ze)),x.g=le}else Lh(x);0<w.i.length&&Na(w)}else Be[0]!="stop"&&Be[0]!="close"||xs(w,7);else w.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?xs(w,7):bu(w):Be[0]!="noop"&&w.l&&w.l.ta(Be),w.v=0)}}tr(4)}catch{}}var Dh=class{constructor(p,_){this.g=p,this.map=_}};function bs(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aa(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function xa(p){return p.h?1:p.g?p.g.size:0}function fu(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function Ra(p,_){p.g?p.g.add(_):p.h=_}function En(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}bs.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function du(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const w of p.g.values())_=_.concat(w.D);return _}return A(p.i)}function zp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var _=[],w=p.length,x=0;x<w;x++)_.push(p[x]);return _}_=[],w=0;for(x in p)_[w++]=p[x];return _}function Ca(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var _=[];p=p.length;for(var w=0;w<p;w++)_.push(w);return _}_=[],w=0;for(const x in p)_[w++]=x;return _}}}function pu(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var w=Ca(p),x=zp(p),$=x.length,W=0;W<$;W++)_.call(void 0,x[W],w&&w[W],p)}var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bp(p,_){if(p){p=p.split("&");for(var w=0;w<p.length;w++){var x=p[w].indexOf("="),$=null;if(0<=x){var W=p[w].substring(0,x);$=p[w].substring(x+1)}else W=p[w];_(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Dt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Dt){this.h=p.h,wo(this,p.j),this.o=p.o,this.g=p.g,rr(this,p.s),this.l=p.l;var _=p.i,w=new Ts;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),ws(this,w),this.m=p.m}else p&&(_=String(p).match(bo))?(this.h=!1,wo(this,_[1]||"",!0),this.o=ei(_[2]||""),this.g=ei(_[3]||"",!0),rr(this,_[4]),this.l=ei(_[5]||"",!0),ws(this,_[6]||"",!0),this.m=ei(_[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}Dt.prototype.toString=function(){var p=[],_=this.j;_&&p.push(Eo(_,mu,!0),":");var w=this.g;return(w||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Eo(_,mu,!0),"@"),p.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&p.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&p.push("/"),p.push(Eo(w,w.charAt(0)=="/"?jp:gu,!0))),(w=this.i.toString())&&p.push("?",w),(w=this.m)&&p.push("#",Eo(w,Ia)),p.join("")};function Un(p){return new Dt(p)}function wo(p,_,w){p.j=w?ei(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function rr(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function ws(p,_,w){_ instanceof Ts?(p.i=_,kh(p.i,p.h)):(w||(_=Eo(_,Fp)),p.i=new Ts(_,p.h))}function Qe(p,_,w){p.i.set(_,w)}function To(p){return Qe(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function ei(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Eo(p,_,w){return typeof p=="string"?(p=encodeURI(p).replace(_,Ph),w&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Ph(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var mu=/[#\/\?@]/g,gu=/[#\?:]/g,jp=/[#\?]/g,Fp=/[#\?@]/g,Ia=/#/g;function Ts(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function ti(p){p.g||(p.g=new Map,p.h=0,p.i&&Bp(p.i,function(_,w){p.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=Ts.prototype,n.add=function(p,_){ti(this),this.i=null,p=ji(this,p);var w=this.g.get(p);return w||this.g.set(p,w=[]),w.push(_),this.h+=1,this};function Es(p,_){ti(p),_=ji(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Ss(p,_){return ti(p),_=ji(p,_),p.g.has(_)}n.forEach=function(p,_){ti(this),this.g.forEach(function(w,x){w.forEach(function($){p.call(_,$,x,this)},this)},this)},n.na=function(){ti(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let x=0;x<_.length;x++){const $=p[x];for(let W=0;W<$.length;W++)w.push(_[x])}return w},n.V=function(p){ti(this);let _=[];if(typeof p=="string")Ss(this,p)&&(_=_.concat(this.g.get(ji(this,p))));else{p=Array.from(this.g.values());for(let w=0;w<p.length;w++)_=_.concat(p[w])}return _},n.set=function(p,_){return ti(this),this.i=null,p=ji(this,p),Ss(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},n.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function yu(p,_,w){Es(p,_),0<w.length&&(p.i=null,p.g.set(ji(p,_),A(w)),p.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var x=_[w];const W=encodeURIComponent(String(x)),le=this.V(x);for(x=0;x<le.length;x++){var $=W;le[x]!==""&&($+="="+encodeURIComponent(String(le[x]))),p.push($)}}return this.i=p.join("&")};function ji(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function kh(p,_){_&&!p.j&&(ti(p),p.i=null,p.g.forEach(function(w,x){var $=x.toLowerCase();x!=$&&(Es(this,x),yu(this,$,w))},p)),p.j=_}function So(p,_){const w=new Jn;if(h.Image){const x=new Image;x.onload=E(ni,w,"TestLoadImage: loaded",!0,_,x),x.onerror=E(ni,w,"TestLoadImage: error",!1,_,x),x.onabort=E(ni,w,"TestLoadImage: abort",!1,_,x),x.ontimeout=E(ni,w,"TestLoadImage: timeout",!1,_,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=p}else _(!1)}function bi(p,_){const w=new Jn,x=new AbortController,$=setTimeout(()=>{x.abort(),ni(w,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:x.signal}).then(W=>{clearTimeout($),W.ok?ni(w,"TestPingServer: ok",!0,_):ni(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),ni(w,"TestPingServer: error",!1,_)})}function ni(p,_,w,x,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),x(w)}catch{}}function Ao(){this.g=new go}function Fi(p,_,w){const x=w||"";try{pu(p,function($,W){let le=$;d($)&&(le=vi($)),_.push(x+W+"="+encodeURIComponent(le))})}catch($){throw _.push(x+"type="+encodeURIComponent("_badmap")),$}}function or(p){this.l=p.Ub||null,this.j=p.eb||!1}C(or,ru),or.prototype.g=function(){return new As(this.l,this.j)},or.prototype.i=(function(p){return function(){return p}})({});function As(p,_){gt.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(As,gt),n=As.prototype,n.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,Hi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?qi(this):Hi(this),this.readyState==3&&vu(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,qi(this))},n.Qa=function(p){this.g&&(this.response=p,qi(this))},n.ga=function(){this.g&&qi(this)};function qi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Hi(p)}n.setRequestHeader=function(p,_){this.u.append(p,_)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,p.push(w[0]+": "+w[1]),w=_.next();return p.join(`\r
`)};function Hi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function _u(p){let _="";return ue(p,function(w,x){_+=x,_+=":",_+=w,_+=`\r
`}),_}function Gt(p,_,w){e:{for(x in w){var x=!1;break e}x=!0}x||(w=_u(w),typeof p=="string"?w!=null&&encodeURIComponent(String(w)):Qe(p,_,w))}function Ge(p){gt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ge,gt);var Da=/^https?$/i,xo=["POST","PUT"];n=Ge.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,_,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ui.g(),this.v=this.o?ou(this.o):ou(Ui),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(W){Mh(this,W);return}if(p=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var $ in x)w.set($,x[$]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())w.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),$=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(xo,_,void 0))||x||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,le]of w)this.g.setRequestHeader(W,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(p),this.u=!1}catch(W){Mh(this,W)}};function Mh(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,Pa(p),Gi(p)}function Pa(p){p.A||(p.A=!0,Ke(p,"complete"),Ke(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ke(this,"complete"),Ke(this,"abort"),Gi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},n.bb=function(){ka(this)};function ka(p){if(p.h&&typeof u<"u"&&(!p.v[1]||ii(p)!=4||p.Z()!=2)){if(p.u&&ii(p)==4)hn(p.Ea,0,p);else if(Ke(p,"readystatechange"),ii(p)==4){p.h=!1;try{const le=p.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var x;if(x=le===0){var $=String(p.D).match(bo)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),x=!Da.test($?$.toLowerCase():"")}w=x}if(w)Ke(p,"complete"),Ke(p,"success");else{p.m=6;try{var W=2<ii(p)?p.g.statusText:""}catch{W=""}p.l=W+" ["+p.Z()+"]",Pa(p)}}finally{Gi(p)}}}}function Gi(p,_){if(p.g){Ro(p);const w=p.g,x=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||Ke(p,"ready");try{w.onreadystatechange=x}catch{}}}function Ro(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function ii(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),Ta(_)}};function Oh(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function qp(p){const _={};p=(p.g&&2<=ii(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<p.length;x++){if(B(p[x]))continue;var w=F(p[x]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=_[$]||[];_[$]=W,W.push(w)}O(_,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Co(p,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[p]||_}function Ma(p){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Co("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Co("baseRetryDelayMs",5e3,p),this.cb=Co("retryDelaySeedMs",1e4,p),this.Wa=Co("forwardChannelMaxRetries",2,p),this.wa=Co("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(p&&p.concurrentRequestLimit),this.Da=new Ao,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ma.prototype,n.la=8,n.G=1,n.connect=function(p,_,w,x){at(0),this.W=p,this.H=_||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.I=jh(this,null,this.W),Na(this)};function bu(p){if(Nh(p),p.G==3){var _=p.U++,w=Un(p.I);if(Qe(w,"SID",p.K),Qe(w,"RID",_),Qe(w,"TYPE","terminate"),Io(p,w),_=new Tn(p,p.j,_),_.L=2,_.v=To(Un(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=_.v,w=!0),w||(_.g=Fh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),vo(_)}Bh(p)}function Oa(p){p.g&&(Do(p),p.g.cancel(),p.g=null)}function Nh(p){Oa(p),p.u&&(h.clearTimeout(p.u),p.u=null),Va(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Na(p){if(!Aa(p.h)&&!p.s){p.s=!0;var _=p.Ga;oe||V(),fe||(oe(),fe=!0),De.add(_,p),p.B=0}}function Hp(p,_){return xa(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=It(b(p.Ga,p,_),Eu(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const $=new Tn(this,this.j,p);let W=this.o;if(this.S&&(W?(W=I(W),L(W,this.S)):W=this.S),this.m!==null||this.O||($.H=W,W=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=Vh(this,$,_),w=Un(this.I),Qe(w,"RID",p),Qe(w,"CVER",22),this.D&&Qe(w,"X-HTTP-Session-Id",this.D),Io(this,w),W&&(this.O?_="headers="+encodeURIComponent(String(_u(W)))+"&"+_:this.m&&Gt(w,this.m,W)),Ra(this.h,$),this.Ua&&Qe(w,"TYPE","init"),this.P?(Qe(w,"$req",_),Qe(w,"SID","null"),$.T=!0,_i($,w,null)):_i($,w,_),this.G=2}}else this.G==3&&(p?wu(this,p):this.i.length==0||Aa(this.h)||wu(this))};function wu(p,_){var w;_?w=_.l:w=p.U++;const x=Un(p.I);Qe(x,"SID",p.K),Qe(x,"RID",w),Qe(x,"AID",p.T),Io(p,x),p.m&&p.o&&Gt(x,p.m,p.o),w=new Tn(p,p.j,w,p.B+1),p.m===null&&(w.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Vh(p,w,1e3),w.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ra(p.h,w),_i(w,x,_)}function Io(p,_){p.H&&ue(p.H,function(w,x){Qe(_,x,w)}),p.l&&pu({},function(w,x){Qe(_,x,w)})}function Vh(p,_,w){w=Math.min(p.i.length,w);var x=p.l?b(p.l.Na,p.l,p):null;e:{var $=p.i;let W=-1;for(;;){const le=["count="+w];W==-1?0<w?(W=$[0].g,le.push("ofs="+W)):W=0:le.push("ofs="+W);let ze=!0;for(let zt=0;zt<w;zt++){let Be=$[zt].g;const $t=$[zt].map;if(Be-=W,0>Be)W=Math.max(0,$[zt].g-100),ze=!1;else try{Fi($t,le,"req"+Be+"_")}catch{x&&x($t)}}if(ze){x=le.join("&");break e}}}return p=p.i.splice(0,w),_.D=p,x}function Lh(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;oe||V(),fe||(oe(),fe=!0),De.add(_,p),p.v=0}}function Tu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=It(b(p.Fa,p),Eu(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Uh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=It(b(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Oa(this),Uh(this))};function Do(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function Uh(p){p.g=new Tn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Un(p.qa);Qe(_,"RID","rpc"),Qe(_,"SID",p.K),Qe(_,"AID",p.T),Qe(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&Qe(_,"TO",p.ja),Qe(_,"TYPE","xmlhttp"),Io(p,_),p.m&&p.o&&Gt(_,p.m,p.o),p.L&&(p.g.I=p.L);var w=p.g;p=p.ia,w.L=1,w.v=To(Un(_)),w.m=null,w.P=!0,_s(w,p)}n.Za=function(){this.C!=null&&(this.C=null,Oa(this),Tu(this),at(19))};function Va(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function zh(p,_){var w=null;if(p.g==_){Va(p),Do(p),p.g=null;var x=2}else if(fu(p.h,_))w=_.D,En(p.h,_),x=1;else return;if(p.G!=0){if(_.o)if(x==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var $=p.B;x=er(),Ke(x,new Ut(x,w)),Na(p)}else Lh(p);else if($=_.s,$==3||$==0&&0<_.X||!(x==1&&Hp(p,_)||x==2&&Tu(p)))switch(w&&0<w.length&&(_=p.h,_.i=_.i.concat(w)),$){case 1:xs(p,5);break;case 4:xs(p,10);break;case 3:xs(p,6);break;default:xs(p,2)}}}function Eu(p,_){let w=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(w*=2),w*_}function xs(p,_){if(p.j.info("Error code "+_),_==2){var w=b(p.fb,p),x=p.Xa;const $=!x;x=new Dt(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||wo(x,"https"),To(x),$?So(x.toString(),w):bi(x.toString(),w)}else at(2);p.G=0,p.l&&p.l.sa(_),Bh(p),Nh(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Bh(p){if(p.G=0,p.ka=[],p.l){const _=du(p.h);(_.length!=0||p.i.length!=0)&&(R(p.ka,_),R(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function jh(p,_,w){var x=w instanceof Dt?Un(w):new Dt(w);if(x.g!="")_&&(x.g=_+"."+x.g),rr(x,x.s);else{var $=h.location;x=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var W=new Dt(null);x&&wo(W,x),_&&(W.g=_),$&&rr(W,$),w&&(W.l=w),x=W}return w=p.D,_=p.ya,w&&_&&Qe(x,w,_),Qe(x,"VER",p.la),Io(p,x),x}function Fh(p,_,w){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new Ge(new or({eb:w})):new Ge(p.pa),_.Ha(p.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qh(){}n=qh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function La(){}La.prototype.g=function(p,_){return new Sn(p,_)};function Sn(p,_){gt.call(this),this.g=new Ma(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!B(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new $i(this)}C(Sn,gt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){bu(this.g)},Sn.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var w={};w.__data__=p,p=w}else this.u&&(w={},w.__data__=vi(p),p=w);_.i.push(new Dh(_.Ya++,p)),_.G==3&&Na(_)},Sn.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,Sn.aa.N.call(this)};function Hh(p){ys.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const w in _){p=w;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}C(Hh,ys);function Gh(){lu.call(this),this.status=1}C(Gh,lu);function $i(p){this.g=p}C($i,qh),$i.prototype.ua=function(){Ke(this.g,"a")},$i.prototype.ta=function(p){Ke(this.g,new Hh(p))},$i.prototype.sa=function(p){Ke(this.g,new Gh)},$i.prototype.ra=function(){Ke(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,hR=function(){return new La},cR=function(){return er()},uR=Li,Wy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,pd=ir,vs.COMPLETE="complete",lR=vs,au.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",gt.prototype.listen=gt.prototype.K,yc=au,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,aR=Ge}).apply(typeof Xf<"u"?Xf:typeof self<"u"?self:typeof window<"u"?window:{});const eS="@firebase/firestore",tS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new n_("@firebase/firestore");function pl(){return ca.logLevel}function de(n,...e){if(ca.logLevel<=Ve.DEBUG){const t=e.map(d_);ca.debug(`Firestore (${Yl}): ${n}`,...t)}}function Xs(n,...e){if(ca.logLevel<=Ve.ERROR){const t=e.map(d_);ca.error(`Firestore (${Yl}): ${n}`,...t)}}function Nl(n,...e){if(ca.logLevel<=Ve.WARN){const t=e.map(d_);ca.warn(`Firestore (${Yl}): ${n}`,...t)}}function d_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,fR(n,i,t)}function fR(n,e,t){let i=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Xs(i),new Error(i)}function $e(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||fR(e,r,i)}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ps{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gn.UNAUTHENTICATED)))}shutdown(){}}class l6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class u6{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Jo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Jo,e.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jo)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new dR(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class c6{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h6{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new c6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new nS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=d6(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function Zy(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),a=e.charAt(i);if(r!==a)return fy(r)===fy(a)?Le(r,a):fy(r)?1:-1}return Le(n.length,e.length)}const p6=55296,m6=57343;function fy(n){const e=n.charCodeAt(0);return e>=p6&&e<=m6}function Vl(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="__name__";class Ji{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Te(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=Ji.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Le(e.length,t.length)}static compareSegments(e,t){const i=Ji.isNumericId(e),r=Ji.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Ji.extractNumericId(e).compare(Ji.extractNumericId(t)):Zy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class it extends Ji{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const g6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Ji{construct(e,t,i){return new ln(e,t,i)}static isValidIdentifier(e){return g6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iS}static keyField(){return new ln([iS])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(a(),r++)}if(a(),u)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function y6(n,e,t,i){if(e===!0&&i===!0)throw new he(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sS(n){if(!ge.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rS(n){if(ge.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function dp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Hr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dp(n);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function hh(n,e){if(!mR(n))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(r&&typeof u!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new he(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=-62135596800,aS=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*aS);return new rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<oS)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aS}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hh(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Vt("string",rt._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new rt(0,0))}static max(){return new xe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=-1;function v6(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xe.fromTimestamp(i===1e9?new rt(t+1,0):new rt(t,i));return new Kr(r,ge.empty(),e)}function _6(n){return new Kr(n.readTime,n.key,qc)}class Kr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Kr(xe.min(),ge.empty(),qc)}static max(){return new Kr(xe.max(),ge.empty(),qc)}}function b6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==w6)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,i)=>{t(e)}))}static reject(e){return new se(((t,i)=>{i(e)}))}static waitFor(e){return new se(((t,i)=>{let r=0,a=0,u=!1;e.forEach((h=>{++r,h.next((()=>{++a,u&&a===r&&t()}),(f=>i(f)))})),u=!0,a===r&&t()}))}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next((r=>r?se.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,a)=>{i.push(t.call(this,r,a))})),this.waitFor(i)}static mapArray(e,t){return new se(((i,r)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++h,h===a&&i(u)}),(g=>r(g)))}}))}static doWhile(e,t){return new se(((i,r)=>{const a=()=>{e()===!0?t().next((()=>{a()}),r):i()};a()}))}}function E6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ql(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-1;function mp(n){return n==null}function zd(n){return n===0&&1/n==-1/0}function S6(n){return typeof n=="number"&&Number.isInteger(n)&&!zd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="";function A6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lS(e)),e=x6(n.get(t),e);return lS(e)}function x6(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case gR:t+="";break;default:t+=a}}return t}function lS(n){return n+gR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qf(this.root,e,this.comparator,!0)}}class Qf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??on.RED,this.left=r??on.EMPTY,this.right=a??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new on(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return on.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cS(this.data.getIterator())}getIteratorFrom(e){return new cS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class cS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new qt(ln.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vR("Invalid base64 string: "+a):a}})(e);return new cn(t)}static fromUint8Array(e){const t=(function(r){let a="";for(let u=0;u<r.length;++u)a+=String.fromCharCode(r[u]);return a})(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const R6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(n){if($e(!!n,39018),typeof n=="string"){let e=0;const t=R6.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xr(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="server_timestamp",bR="__type__",wR="__previous_value__",TR="__local_write_time__";function g_(n){return(n?.mapValue?.fields||{})[bR]?.stringValue===_R}function gp(n){const e=n.mapValue.fields[wR];return g_(e)?gp(e):e}function Hc(n){const e=Yr(n.mapValue.fields[TR].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,t,i,r,a,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const Bd="(default)";class Gc{constructor(e,t){this.projectId=e,this.database=t||Bd}static empty(){return new Gc("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof Gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__type__",I6="__max__",Wf={mapValue:{}},SR="__vector__",jd="value";function Qr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?g_(n)?4:P6(n)?9007199254740991:D6(n)?10:11:Te(28295,{value:n})}function fs(n,e){if(n===e)return!0;const t=Qr(n);if(t!==Qr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hc(n).isEqual(Hc(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const u=Yr(r.timestampValue),h=Yr(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,a){return Xr(r.bytesValue).isEqual(Xr(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,a){return xt(r.geoPointValue.latitude)===xt(a.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(a.geoPointValue.longitude)})(n,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return xt(r.integerValue)===xt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const u=xt(r.doubleValue),h=xt(a.doubleValue);return u===h?zd(u)===zd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Vl(n.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return(function(r,a){const u=r.mapValue.fields||{},h=a.mapValue.fields||{};if(uS(u)!==uS(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!fs(u[f],h[f])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function $c(n,e){return(n.values||[]).find((t=>fs(t,e)))!==void 0}function Ll(n,e){if(n===e)return 0;const t=Qr(n),i=Qr(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=xt(a.integerValue||a.doubleValue),f=xt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return hS(n.timestampValue,e.timestampValue);case 4:return hS(Hc(n),Hc(e));case 5:return Zy(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Xr(a),f=Xr(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=Le(h[d],f[d]);if(g!==0)return g}return Le(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Le(xt(a.latitude),xt(u.latitude));return h!==0?h:Le(xt(a.longitude),xt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return fS(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},d=h[jd]?.arrayValue,g=f[jd]?.arrayValue,v=Le(d?.values?.length||0,g?.values?.length||0);return v!==0?v:fS(d,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Wf.mapValue&&u===Wf.mapValue)return 0;if(a===Wf.mapValue)return 1;if(u===Wf.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const b=Zy(f[v],g[v]);if(b!==0)return b;const E=Ll(h[f[v]],d[g[v]]);if(E!==0)return E}return Le(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function hS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Yr(n),i=Yr(e),r=Le(t.seconds,i.seconds);return r!==0?r:Le(t.nanos,i.nanos)}function fS(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Ll(t[r],i[r]);if(a)return a}return Le(t.length,i.length)}function Ul(n){return Jy(n)}function Jy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Yr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Xr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ge.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Jy(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const u of i)a?a=!1:r+=",",r+=`${u}:${Jy(t.fields[u])}`;return r+"}"})(n.mapValue):Te(61005,{value:n})}function md(n){switch(Qr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gp(n);return e?16+md(e):16;case 5:return 2*n.stringValue.length;case 6:return Xr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+md(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return ro(i.fields,((a,u)=>{r+=a.length+md(u)})),r})(n.mapValue);default:throw Te(13486,{value:n})}}function dS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ev(n){return!!n&&"integerValue"in n}function y_(n){return!!n&&"arrayValue"in n}function pS(n){return!!n&&"nullValue"in n}function mS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gd(n){return!!n&&"mapValue"in n}function D6(n){return(n?.mapValue?.fields||{})[ER]?.stringValue===SR}function xc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ro(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=xc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xc(n.arrayValue.values[t]);return e}return{...n}}function P6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===I6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(t)}setAll(e){let t=ln.emptyPath(),i={},r=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=xc(u):r.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());gd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];gd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ro(t,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new On(xc(this.value))}}function AR(n){const e=[];return ro(n.fields,((t,i)=>{const r=new ln([t]);if(gd(i)){const a=AR(i.mapValue).fields;if(a.length===0)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)})),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,i,r,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new yn(e,0,xe.min(),xe.min(),xe.min(),On.empty(),0)}static newFoundDocument(e,t,i,r){return new yn(e,1,t,xe.min(),i,r,0)}static newNoDocument(e,t){return new yn(e,2,t,xe.min(),xe.min(),On.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,xe.min(),xe.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t){this.position=e,this.inclusive=t}}function gS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(a.field.isKeyField()?i=ge.comparator(ge.fromName(u.referenceValue),t.key):i=Ll(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function yS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t="asc"){this.field=e,this.dir=t}}function k6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{}class Nt extends xR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new O6(e,t,i):t==="array-contains"?new L6(e,i):t==="in"?new U6(e,i):t==="not-in"?new z6(e,i):t==="array-contains-any"?new B6(e,i):new Nt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new N6(e,i):new V6(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ll(t,this.value)):t!==null&&Qr(this.value)===Qr(t)&&this.matchesComparison(Ll(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends xR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Mi(e,t)}matches(e){return RR(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RR(n){return n.op==="and"}function CR(n){return M6(n)&&RR(n)}function M6(n){for(const e of n.filters)if(e instanceof Mi)return!1;return!0}function tv(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+Ul(n.value);if(CR(n))return n.filters.map((e=>tv(e))).join(",");{const e=n.filters.map((t=>tv(t))).join(",");return`${n.op}(${e})`}}function IR(n,e){return n instanceof Nt?(function(i,r){return r instanceof Nt&&i.op===r.op&&i.field.isEqual(r.field)&&fs(i.value,r.value)})(n,e):n instanceof Mi?(function(i,r){return r instanceof Mi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,u,h)=>a&&IR(u,r.filters[h])),!0):!1})(n,e):void Te(19439)}function DR(n){return n instanceof Nt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ul(t.value)}`})(n):n instanceof Mi?(function(t){return t.op.toString()+" {"+t.getFilters().map(DR).join(" ,")+"}"})(n):"Filter"}class O6 extends Nt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class N6 extends Nt{constructor(e,t){super(e,"in",t),this.keys=PR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class V6 extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=PR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function PR(n,e){return(e.arrayValue?.values||[]).map((t=>ge.fromName(t.referenceValue)))}class L6 extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return y_(t)&&$c(t.arrayValue,this.value)}}class U6 extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$c(this.value.arrayValue,t)}}class z6 extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$c(this.value.arrayValue,t)}}class B6 extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!y_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>$c(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,t=null,i=[],r=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function vS(n,e=null,t=[],i=[],r=null,a=null,u=null){return new j6(n,e,t,i,r,a,u)}function v_(n){const e=Re(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>tv(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),mp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ul(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ul(i))).join(",")),e.Te=t}return e.Te}function __(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!k6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yS(n.startAt,e.startAt)&&yS(n.endAt,e.endAt)}function nv(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t=null,i=[],r=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F6(n,e,t,i,r,a,u,h){return new Wl(n,e,t,i,r,a,u,h)}function b_(n){return new Wl(n)}function _S(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kR(n){return n.collectionGroup!==null}function Rc(n){const e=Re(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new qt(ln.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Kc(a,i))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new Kc(ln.keyField(),i))}return e.Ie}function rs(n){const e=Re(n);return e.Ee||(e.Ee=q6(e,Rc(n))),e.Ee}function q6(n,e){if(n.limitType==="F")return vS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new Kc(r.field,a)}));const t=n.endAt?new Fd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Fd(n.startAt.position,n.startAt.inclusive):null;return vS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function iv(n,e){const t=n.filters.concat([e]);return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sv(n,e,t){return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yp(n,e){return __(rs(n),rs(e))&&n.limitType===e.limitType}function MR(n){return`${v_(rs(n))}|lt:${n.limitType}`}function ml(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>DR(r))).join(", ")}]`),mp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ul(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ul(r))).join(",")),`Target(${i})`})(rs(n))}; limitType=${n.limitType})`}function vp(n,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ge.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,r){for(const a of Rc(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(u,h,f){const d=gS(u,h,f);return u.inclusive?d<=0:d<0})(i.startAt,Rc(i),r)||i.endAt&&!(function(u,h,f){const d=gS(u,h,f);return u.inclusive?d>=0:d>0})(i.endAt,Rc(i),r))})(n,e)}function H6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OR(n){return(e,t)=>{let i=!1;for(const r of Rc(n)){const a=G6(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function G6(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):(function(a,u,h){const f=u.data.field(a),d=h.data.field(a);return f!==null&&d!==null?Ll(f,d):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,((t,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return yR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new mt(ge.comparator);function Qs(){return $6}const NR=new mt(ge.comparator);function vc(...n){let e=NR;for(const t of n)e=e.insert(t.key,t);return e}function VR(n){let e=NR;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Qo(){return Cc()}function LR(){return Cc()}function Cc(){return new ya((n=>n.toString()),((n,e)=>n.isEqual(e)))}const K6=new mt(ge.comparator),Y6=new qt(ge.comparator);function Ue(...n){let e=Y6;for(const t of n)e=e.add(t);return e}const X6=new qt(Le);function Q6(){return X6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function UR(n){return{integerValue:""+n}}function W6(n,e){return S6(e)?UR(e):w_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this._=void 0}}function Z6(n,e,t){return n instanceof Yc?(function(r,a){const u={fields:{[bR]:{stringValue:_R},[TR]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&g_(a)&&(a=gp(a)),a&&(u.fields[wR]=a),{mapValue:u}})(t,e):n instanceof Xc?BR(n,e):n instanceof Qc?jR(n,e):(function(r,a){const u=zR(r,a),h=bS(u)+bS(r.Ae);return ev(u)&&ev(r.Ae)?UR(h):w_(r.serializer,h)})(n,e)}function J6(n,e,t){return n instanceof Xc?BR(n,e):n instanceof Qc?jR(n,e):t}function zR(n,e){return n instanceof qd?(function(i){return ev(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Yc extends _p{}class Xc extends _p{constructor(e){super(),this.elements=e}}function BR(n,e){const t=FR(e);for(const i of n.elements)t.some((r=>fs(r,i)))||t.push(i);return{arrayValue:{values:t}}}class Qc extends _p{constructor(e){super(),this.elements=e}}function jR(n,e){let t=FR(e);for(const i of n.elements)t=t.filter((r=>!fs(r,i)));return{arrayValue:{values:t}}}class qd extends _p{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function bS(n){return xt(n.integerValue||n.doubleValue)}function FR(n){return y_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,t){this.field=e,this.transform=t}}function tz(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof Xc&&r instanceof Xc||i instanceof Qc&&r instanceof Qc?Vl(i.elements,r.elements,fs):i instanceof qd&&r instanceof qd?fs(i.Ae,r.Ae):i instanceof Yc&&r instanceof Yc})(n.transform,e.transform)}class nz{constructor(e,t){this.version=e,this.transformResults=t}}class Ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class bp{}function qR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new T_(n.key,Ii.none()):new fh(n.key,n.data,Ii.none());{const t=n.data,i=On.empty();let r=new qt(ln.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),r=r.add(a)}return new oo(n.key,i,new Kn(r.toArray()),Ii.none())}}function iz(n,e,t){n instanceof fh?(function(r,a,u){const h=r.value.clone(),f=TS(r.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof oo?(function(r,a,u){if(!yd(r.precondition,a))return void a.convertToUnknownDocument(u.version);const h=TS(r.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(HR(r)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(r,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ic(n,e,t,i){return n instanceof fh?(function(a,u,h,f){if(!yd(a.precondition,u))return h;const d=a.value.clone(),g=ES(a.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof oo?(function(a,u,h,f){if(!yd(a.precondition,u))return h;const d=ES(a.fieldTransforms,f,u),g=u.data;return g.setAll(HR(a)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(a,u,h){return yd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function sz(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=zR(i.transform,r||null);a!=null&&(t===null&&(t=On.empty()),t.set(i.field,a))}return t||null}function wS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Vl(i,r,((a,u)=>tz(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fh extends bp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class oo extends bp{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function HR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function TS(n,e,t){const i=new Map;$e(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,h=e.data.field(a.field);i.set(a.field,J6(u,h,t[r]))}return i}function ES(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,Z6(a,u,e))}return i}class T_ extends bp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rz extends bp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&iz(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ic(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ic(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=LR();return this.mutations.forEach((r=>{const a=e.get(r.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(r.key)?null:h;const f=qR(u,h);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,((t,i)=>wS(t,i)))&&Vl(this.baseMutations,e.baseMutations,((t,i)=>wS(t,i)))}}class E_{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){$e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return K6})();const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new E_(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Fe;function uz(n){switch(n){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function GR(n){if(n===void 0)return Xs("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Mt.OK:return ne.OK;case Mt.CANCELLED:return ne.CANCELLED;case Mt.UNKNOWN:return ne.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ne.INTERNAL;case Mt.UNAVAILABLE:return ne.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ne.NOT_FOUND;case Mt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Mt.ABORTED:return ne.ABORTED;case Mt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Mt.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:n})}}(Fe=Mt||(Mt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=new qr([4294967295,4294967295],0);function SS(n){const e=cz().encode(n),t=new oR;return t.update(e),new Uint8Array(t.digest())}function AS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qr([t,i],0),new qr([r,a],0)]}class S_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _c(`Invalid padding: ${t}`);if(i<0)throw new _c(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _c(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=qr.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(qr.fromNumber(i)));return r.compare(hz)===1&&(r=new qr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=SS(e),[i,r]=AS(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);if(!this.we(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new S_(a,r,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=SS(e),[i,r]=AS(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,dh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new wp(xe.min(),r,new mt(Le),Qs(),Ue())}}class dh{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new dh(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t,i,r){this.be=e,this.removedTargetIds=t,this.key=i,this.De=r}}class $R{constructor(e,t){this.targetId=e,this.Ce=t}}class KR{constructor(e,t,i=cn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class xS{constructor(){this.ve=0,this.Fe=RS(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),i=Ue();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Te(38017,{changeType:a})}})),new dh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=RS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fz{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qs(),this.Je=Zf(),this.He=Zf(),this.Ye=new mt(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(nv(a))if(i===0){const u=new ge(a.path);this.et(t,u,yn.newNoDocument(u,xe.min()))}else $e(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let u,h;try{u=Xr(i).toUint8Array()}catch(f){if(f instanceof vR)return Nl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new S_(u,r,a)}catch(f){return Nl(f instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&nv(h.target)){const f=new ge(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,yn.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let i=Ue();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const r=new wp(e,t,this.Ye,this.je,i);return this.je=Qs(),this.Je=Zf(),this.He=Zf(),this.Ye=new mt(Le),r}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new xS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zf(){return new mt(ge.comparator)}function RS(){return new mt(ge.comparator)}const dz={asc:"ASCENDING",desc:"DESCENDING"},pz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mz={and:"AND",or:"OR"};class gz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rv(n,e){return n.useProto3Json||mp(e)?e:{value:e}}function Hd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yz(n,e){return Hd(n,e.toTimestamp())}function os(n){return $e(!!n,49232),xe.fromTimestamp((function(t){const i=Yr(t);return new rt(i.seconds,i.nanos)})(n))}function A_(n,e){return ov(n,e).canonicalString()}function ov(n,e){const t=(function(r){return new it(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function XR(n){const e=it.fromString(n);return $e(eC(e),10190,{key:e.toString()}),e}function av(n,e){return A_(n.databaseId,e.path)}function dy(n,e){const t=XR(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(WR(t))}function QR(n,e){return A_(n.databaseId,e)}function vz(n){const e=XR(n);return e.length===4?it.emptyPath():WR(e)}function lv(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WR(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function CS(n,e,t){return{name:av(n,e),fields:t.value.mapValue.fields}}function _z(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Te(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(d,g){return d.useProto3Json?($e(g===void 0||typeof g=="string",58123),cn.fromBase64String(g||"")):($e(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),cn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(d){const g=d.code===void 0?ne.UNKNOWN:GR(d.code);return new he(g,d.message||"")})(u);t=new KR(i,r,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=dy(n,i.document.name),a=os(i.document.updateTime),u=i.document.createTime?os(i.document.createTime):xe.min(),h=new On({mapValue:{fields:i.document.fields}}),f=yn.newFoundDocument(r,a,u,h),d=i.targetIds||[],g=i.removedTargetIds||[];t=new vd(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=dy(n,i.document),a=i.readTime?os(i.readTime):xe.min(),u=yn.newNoDocument(r,a),h=i.removedTargetIds||[];t=new vd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=dy(n,i.document),a=i.removedTargetIds||[];t=new vd([],a,r,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,u=new lz(r,a),h=i.targetId;t=new $R(h,u)}}return t}function bz(n,e){let t;if(e instanceof fh)t={update:CS(n,e.key,e.value)};else if(e instanceof T_)t={delete:av(n,e.key)};else if(e instanceof oo)t={update:CS(n,e.key,e.data),updateMask:Iz(e.fieldMask)};else{if(!(e instanceof rz))return Te(16599,{Vt:e.type});t={verify:av(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const h=u.transform;if(h instanceof Yc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Xc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Qc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof qd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:yz(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)})(n,e.precondition)),t}function wz(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map((t=>(function(r,a){let u=r.updateTime?os(r.updateTime):os(a);return u.isEqual(xe.min())&&(u=os(a)),new nz(u,r.transformResults||[])})(t,e)))):[]}function Tz(n,e){return{documents:[QR(n,e.path)]}}function Ez(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=QR(n,r);const a=(function(d){if(d.length!==0)return JR(Mi.create(d,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(d){if(d.length!==0)return d.map((g=>(function(b){return{field:gl(b.field),direction:xz(b.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=rv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:r}}function Sz(n){let e=vz(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){$e(i===1,65062);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(v){const b=ZR(v);return b instanceof Mi&&CR(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((b=>(function(C){return new Kc(yl(C.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let b;return b=typeof v=="object"?v.value:v,mp(b)?null:b})(t.limit));let f=null;t.startAt&&(f=(function(v){const b=!!v.before,E=v.values||[];return new Fd(E,b)})(t.startAt));let d=null;return t.endAt&&(d=(function(v){const b=!v.before,E=v.values||[];return new Fd(E,b)})(t.endAt)),F6(e,r,u,a,h,"F",f,d)}function Az(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=yl(t.unaryFilter.field);return Nt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=yl(t.unaryFilter.field);return Nt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=yl(t.unaryFilter.field);return Nt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=yl(t.unaryFilter.field);return Nt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Nt.create(yl(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Mi.create(t.compositeFilter.filters.map((i=>ZR(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function xz(n){return dz[n]}function Rz(n){return pz[n]}function Cz(n){return mz[n]}function gl(n){return{fieldPath:n.canonicalString()}}function yl(n){return ln.fromServerFormat(n.fieldPath)}function JR(n){return n instanceof Nt?(function(t){if(t.op==="=="){if(mS(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NAN"}};if(pS(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mS(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NOT_NAN"}};if(pS(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(t.field),op:Rz(t.op),value:t.value}}})(n):n instanceof Mi?(function(t){const i=t.getFilters().map((r=>JR(r)));return i.length===1?i[0]:{compositeFilter:{op:Cz(t.op),filters:i}}})(n):Te(54877,{filter:n})}function Iz(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function eC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,t,i,r,a=xe.min(),u=xe.min(),h=cn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e){this.yt=e}}function Pz(n){const e=Sz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this.Cn=new Mz}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Kr.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Mz{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new qt(it.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new qt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tC=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(tC,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zl(0)}static cr(){return new zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="LruGarbageCollector",Oz=1048576;function PS([n,e],[t,i]){const r=Le(n,t);return r===0?Le(e,i):r}class Nz{constructor(e){this.Ir=e,this.buffer=new qt(PS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();PS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Vz{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(DS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ql(t)?de(DS,"Ignoring IndexedDB error during garbage collection: ",t):await Xl(t)}await this.Vr(3e5)}))}}class Lz{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(pp.ce);const i=new Nz(t);return this.mr.forEachTarget(e,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(IS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,r,a,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(e,r)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,t)))).next((v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(d=Date.now(),pl()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v}))))}}function Uz(n,e){return new Lz(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this.changes=new ya((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&Ic(i.mutation,r,Kn.empty(),rt.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ue()){const r=Qo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((a=>{let u=vc();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=Qo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ue())))}populateOverlays(e,t,i){const r=[];return i.forEach((a=>{t.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,r){let a=Qs();const u=Cc(),h=(function(){return Cc()})();return t.forEach(((f,d)=>{const g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof oo)?a=a.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Ic(g.mutation,d,g.mutation.getFieldMask(),rt.now())):u.set(d.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>h.set(d,new Bz(g,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Cc();let r=new mt(((u,h)=>u-h)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=i.get(f)||Kn.empty();g=h.applyToLocalView(d,g),i.set(f,g);const v=(r.get(h.batchId)||Ue()).add(f);r=r.insert(h.batchId,v)}))})).next((()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,v=LR();g.forEach((b=>{if(!a.has(b)){const E=qR(t.get(b),i.get(b));E!==null&&v.set(b,E),a=a.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return se.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Qo());let h=qc,f=a;return u.next((d=>se.forEach(d,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),a.get(g)?se.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{f=f.insert(g,b)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,f,d,Ue()))).next((g=>({batchId:h,changes:VR(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((i=>{let r=vc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let u=vc();return this.indexManager.getCollectionParents(e,a).next((h=>se.forEach(h,(f=>{const d=(function(v,b){return new Wl(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next((g=>{g.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r)))).next((u=>{a.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,yn.newInvalidDocument(g)))}));let h=vc();return u.forEach(((f,d)=>{const g=a.get(f);g!==void 0&&Ic(g.mutation,d,Kn.empty(),rt.now()),vp(t,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:os(r.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:Pz(r.bundledQuery),readTime:os(r.readTime)}})(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(){this.overlays=new mt(ge.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Qo();return se.forEach(t,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,a)=>{this.St(e,t,a)})),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Qo(),a=t.length+1,u=new ge(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>i&&r.set(f.getKey(),f)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new mt(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=a.get(d.largestBatchId);g===null&&(g=Qo(),a=a.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=Qo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>h.set(d,g))),!(h.size()>=r)););return se.resolve(h)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new az(t,i));let a=this.qr.get(t);a===void 0&&(a=Ue(),this.qr.set(t,a)),this.qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.Qr=new qt(Qt.$r),this.Ur=new qt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Qt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ge(new it([])),i=new Qt(t,e),r=new Qt(t,e+1),a=[];return this.Ur.forEachInRange([i,r],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new it([])),i=new Qt(t,e),r=new Qt(t,e+1);let a=Ue();return this.Ur.forEachInRange([i,r],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Qt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Qt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new oz(a,t,i,r);this.mutationQueue.push(u);for(const h of r)this.Zr=this.Zr.add(new Qt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ei(i),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?m_:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qt(t,0),r=new Qt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],(u=>{const h=this.Xr(u.Yr);a.push(h)})),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qt(Le);return t.forEach((r=>{const a=new Qt(r,0),u=new Qt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{i=i.add(h.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;ge.isDocumentKey(a)||(a=a.child(""));const u=new Qt(new ge(a),0);let h=new qt(Le);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(h=h.add(f.Yr)),!0)}),u),se.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const r=this.Xr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){$e(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(t.mutations,(r=>{const a=new Qt(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Qt(t,0),r=this.Zr.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.ri=e,this.docs=(function(){return new mt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=Qs();return t.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():yn.newInvalidDocument(r))})),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Qs();const u=t.path,h=new ge(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||b6(_6(g),i)<=0||(r.has(g.key)||vp(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Te(9500)}ii(e,t){return se.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Kz(this)}getSize(e){return se.resolve(this.size)}}class Kz extends zz{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.persistence=e,this.si=new ya((t=>v_(t)),__),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new x_,this.targetCount=0,this.ai=zl.ur()}forEachTarget(e,t){return this.si.forEach(((i,r)=>t(r))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new zl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),se.waitFor(a).next((()=>r))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((u=>{a.push(r.markPotentiallyOrphaned(e,u))})),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t){this.ui={},this.overlays={},this.ci=new pp(0),this.li=!1,this.li=!0,this.hi=new Hz,this.referenceDelegate=e(this),this.Pi=new Yz(this),this.indexManager=new kz,this.remoteDocumentCache=(function(r){return new $z(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Dz(t),this.Ii=new Fz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Gz(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const r=new Xz(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((a=>this.referenceDelegate.di(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ai(e,t){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class Xz extends T6{constructor(e){super(),this.currentSequenceNumber=e}}class R_{constructor(e){this.persistence=e,this.Ri=new x_,this.Vi=null}static mi(e){return new R_(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const r=ge.fromPath(i);return this.gi(e,r).next((a=>{a||t.removeEntry(r,xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Gd{constructor(e,t){this.persistence=e,this.pi=new ya((i=>A6(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=Uz(this,t)}static mi(e,t){return new Gd(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((i,r)=>this.br(e,i,r).next((a=>a?se.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,a.removeEntry(u,xe.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=md(e.data.value)),t}br(e,t,i){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return se.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=r}static As(e,t){let i=Ue(),r=Ue();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new C_(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IL()?8:E6(wn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,r,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new Qz;return this.Ss(e,t,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>a.result))}bs(e,t,i,r){return i.documentReadCount<this.fs?(pl()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(pl()<=Ve.DEBUG&&de("QueryEngine","Query:",ml(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(pl()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(t))):se.resolve())}ys(e,t){if(_S(t))return se.resolve(null);let i=rs(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=sv(t,null,"F"),i=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Ue(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const d=this.Ds(t,h);return this.Cs(t,d,u,f.readTime)?this.ys(e,sv(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,i,r){return _S(t)||r.isEqual(xe.min())?se.resolve(null):this.ps.getDocuments(e,i).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,i,r)?se.resolve(null):(pl()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ml(t)),this.vs(e,u,t,v6(r,qc)).next((h=>h)))}))}Ds(e,t){let i=new qt(OR(e));return t.forEach(((r,a)=>{vp(e,a)&&(i=i.add(a))})),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,i){return pl()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ml(t)),this.ps.getDocumentsMatchingQuery(e,t,Kr.min(),i)}vs(e,t,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LocalStore",Zz=3e8;class Jz{constructor(e,t,i,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new mt(Le),this.xs=new ya((a=>v_(a)),__),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function eB(n,e,t,i){return new Jz(n,e,t,i)}async function iC(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],h=[];let f=Ue();for(const d of r){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of a){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function tB(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,g){const v=d.batch,b=v.keys();let E=se.resolve();return b.forEach((C=>{E=E.next((()=>g.getEntry(f,C))).next((A=>{const R=d.docVersions.get(C);$e(R!==null,48541),A.version.compareTo(R)<0&&(v.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ue();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function sC(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function nB(n,e){const t=Re(n),i=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const h=[];e.targetChanges.forEach(((g,v)=>{const b=r.get(v);if(!b)return;h.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,v))));let E=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(cn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,i)),r=r.insert(v,E),(function(A,R,P){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Zz?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(b,E,g)&&h.push(t.Pi.updateTargetData(a,E))}));let f=Qs(),d=Ue();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),h.push(iB(a,u,e.documentUpdates).next((g=>{f=g.ks,d=g.qs}))),!i.isEqual(xe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((v=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(g)}return se.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,d))).next((()=>f))})).then((a=>(t.Ms=r,a)))}function iB(n,e,t){let i=Ue(),r=Ue();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let u=Qs();return t.forEach(((h,f)=>{const d=a.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):de(I_,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:r}}))}function sB(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=m_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function rB(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.Pi.getTargetData(i,e).next((a=>a?(r=a,se.resolve(r)):t.Pi.allocateTargetId(i).next((u=>(r=new Ur(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function uv(n,e,t){const i=Re(n),r=i.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Ql(u))throw u;de(I_,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function kS(n,e,t){const i=Re(n);let r=xe.min(),a=Ue();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const v=Re(f),b=v.xs.get(g);return b!==void 0?se.resolve(v.Ms.get(b)):v.Pi.getTargetData(d,g)})(i,u,rs(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?r:xe.min(),t?a:Ue()))).next((h=>(oB(i,H6(e),h),{documents:h,Qs:a})))))}function oB(n,e,t){let i=n.Os.get(e)||xe.min();t.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Os.set(e,i)}class MS{constructor(){this.activeTargetIds=Q6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aB{constructor(){this.Mo=new MS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new MS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="ConnectivityMonitor";class NS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(OS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(OS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function cv(){return Jf===null?Jf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="RestConnection",uB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Bd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,t,i,r,a){const u=cv(),h=this.zo(e,t.toUriEncodedString());de(py,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,a);const{host:d}=new URL(h),g=io(d);return this.Jo(e,h,f,i,g).then((v=>(de(py,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Nl(py,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,t,i,r,a,u){return this.Go(e,t,i,r,a)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,a)=>e[a]=r)),i&&i.headers.forEach(((r,a)=>e[a]=r))}zo(e,t){const i=uB[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class fB extends cB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,a){const u=cv();return new Promise(((h,f)=>{const d=new aR;d.setWithCredentials(!0),d.listenOnce(lR.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case pd.NO_ERROR:const v=d.getResponseJson();de(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case pd.TIMEOUT:de(pn,`RPC '${e}' ${u} timed out`),f(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const b=d.getStatus();if(de(pn,`RPC '${e}' ${u} failed with status:`,b,"response text:",d.getResponseText()),b>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E?.error;if(C&&C.status&&C.message){const A=(function(P){const B=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(B)>=0?B:ne.UNKNOWN})(C.status);f(new he(A,C.message))}else f(new he(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{de(pn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(r);de(pn,`RPC '${e}' ${u} sending request:`,r),d.send(t,"POST",g,i,15)}))}T_(e,t,i){const r=cv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=hR(),h=cR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=a.join("");de(pn,`Creating RPC '${e}' stream ${r}: ${g}`,f);const v=u.createWebChannel(g,f);this.I_(v);let b=!1,E=!1;const C=new hB({Yo:R=>{E?de(pn,`Not sending because RPC '${e}' stream ${r} is closed:`,R):(b||(de(pn,`Opening RPC '${e}' stream ${r} transport.`),v.open(),b=!0),de(pn,`RPC '${e}' stream ${r} sending:`,R),v.send(R))},Zo:()=>v.close()}),A=(R,P,B)=>{R.listen(P,(j=>{try{B(j)}catch(G){setTimeout((()=>{throw G}),0)}}))};return A(v,yc.EventType.OPEN,(()=>{E||(de(pn,`RPC '${e}' stream ${r} transport opened.`),C.o_())})),A(v,yc.EventType.CLOSE,(()=>{E||(E=!0,de(pn,`RPC '${e}' stream ${r} transport closed`),C.a_(),this.E_(v))})),A(v,yc.EventType.ERROR,(R=>{E||(E=!0,Nl(pn,`RPC '${e}' stream ${r} transport errored. Name:`,R.name,"Message:",R.message),C.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),A(v,yc.EventType.MESSAGE,(R=>{if(!E){const P=R.data[0];$e(!!P,16349);const B=P,j=B?.error||B[0]?.error;if(j){de(pn,`RPC '${e}' stream ${r} received error:`,j);const G=j.status;let Z=(function(I){const k=Mt[I];if(k!==void 0)return GR(k)})(G),ue=j.message;Z===void 0&&(Z=ne.INTERNAL,ue="Unknown error status: "+G+" with message "+j.message),E=!0,C.a_(new he(Z,ue)),v.close()}else de(pn,`RPC '${e}' stream ${r} received:`,P),C.u_(P)}})),A(h,uR.STAT_EVENT,(R=>{R.stat===Wy.PROXY?de(pn,`RPC '${e}' stream ${r} detected buffering proxy`):R.stat===Wy.NOPROXY&&de(pn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function my(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(n){return new gz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&de("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="PersistentStream";class oC{constructor(e,t,i,r,a,u,h,f){this.Mi=e,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Xs(t.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new he(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(VS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(VS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dB extends oC{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=_z(this.serializer,e),i=(function(a){if(!("targetChange"in a))return xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?os(u.readTime):xe.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=lv(this.serializer),t.addTarget=(function(a,u){let h;const f=u.target;if(h=nv(f)?{documents:Tz(a,f)}:{query:Ez(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=YR(a,u.resumeToken);const d=rv(a,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(xe.min())>0){h.readTime=Hd(a,u.snapshotVersion.toTimestamp());const d=rv(a,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const i=Az(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=lv(this.serializer),t.removeTarget=e,this.q_(t)}}class pB extends oC{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=wz(e.writeResults,e.commitTime),i=os(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=lv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>bz(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{}class gB extends mB{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,ov(t,i),r,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(ne.UNKNOWN,a.toString())}))}Ho(e,t,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,ov(t,i),r,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xs(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class vB{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{va(this)&&(de(ha,"Restarting streams for network reachability change."),await(async function(f){const d=Re(f);d.Ea.add(4),await ph(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ep(d)})(this))}))})),this.Ra=new yB(i,r)}}async function Ep(n){if(va(n))for(const e of n.da)await e(!0)}async function ph(n){for(const e of n.da)await e(!1)}function aC(n,e){const t=Re(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),M_(t)?k_(t):Zl(t).O_()&&P_(t,e))}function D_(n,e){const t=Re(n),i=Zl(t);t.Ia.delete(e),i.O_()&&lC(t,e),t.Ia.size===0&&(i.O_()?i.L_():va(t)&&t.Ra.set("Unknown"))}function P_(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zl(n).Y_(e)}function lC(n,e){n.Va.Ue(e),Zl(n).Z_(e)}function k_(n){n.Va=new fz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Zl(n).start(),n.Ra.ua()}function M_(n){return va(n)&&!Zl(n).x_()&&n.Ia.size>0}function va(n){return Re(n).Ea.size===0}function uC(n){n.Va=void 0}async function _B(n){n.Ra.set("Online")}async function bB(n){n.Ia.forEach(((e,t)=>{P_(n,e)}))}async function wB(n,e){uC(n),M_(n)?(n.Ra.ha(e),k_(n)):n.Ra.set("Unknown")}async function TB(n,e,t){if(n.Ra.set("Online"),e instanceof KR&&e.state===2&&e.cause)try{await(async function(r,a){const u=a.cause;for(const h of a.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.Ia.delete(h),r.Va.removeTarget(h))})(n,e)}catch(i){de(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await $d(n,i)}else if(e instanceof vd?n.Va.Ze(e):e instanceof $R?n.Va.st(e):n.Va.tt(e),!t.isEqual(xe.min()))try{const i=await sC(n.localStore);t.compareTo(i)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(d);g&&a.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(cn.EMPTY_BYTE_STRING,g.snapshotVersion)),lC(a,f);const v=new Ur(g.target,f,d,g.sequenceNumber);P_(a,v)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){de(ha,"Failed to raise snapshot:",i),await $d(n,i)}}async function $d(n,e,t){if(!Ql(e))throw e;n.Ea.add(1),await ph(n),n.Ra.set("Offline"),t||(t=()=>sC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(ha,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ep(n)}))}function cC(n,e){return e().catch((t=>$d(n,t,e)))}async function Sp(n){const e=Re(n),t=Wr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:m_;for(;EB(e);)try{const r=await sB(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,SB(e,r)}catch(r){await $d(e,r)}hC(e)&&fC(e)}function EB(n){return va(n)&&n.Ta.length<10}function SB(n,e){n.Ta.push(e);const t=Wr(n);t.O_()&&t.X_&&t.ea(e.mutations)}function hC(n){return va(n)&&!Wr(n).x_()&&n.Ta.length>0}function fC(n){Wr(n).start()}async function AB(n){Wr(n).ra()}async function xB(n){const e=Wr(n);for(const t of n.Ta)e.ea(t.mutations)}async function RB(n,e,t){const i=n.Ta.shift(),r=E_.from(i,e,t);await cC(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Sp(n)}async function CB(n,e){e&&Wr(n).X_&&await(async function(i,r){if((function(u){return uz(u)&&u!==ne.ABORTED})(r.code)){const a=i.Ta.shift();Wr(i).B_(),await cC(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await Sp(i)}})(n,e),hC(n)&&fC(n)}async function LS(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),de(ha,"RemoteStore received new credentials");const i=va(t);t.Ea.add(3),await ph(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ep(t)}async function IB(n,e){const t=Re(n);e?(t.Ea.delete(2),await Ep(t)):e||(t.Ea.add(2),await ph(t),t.Ra.set("Unknown"))}function Zl(n){return n.ma||(n.ma=(function(t,i,r){const a=Re(t);return a.sa(),new dB(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:_B.bind(null,n),t_:bB.bind(null,n),r_:wB.bind(null,n),H_:TB.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),M_(n)?k_(n):n.Ra.set("Unknown")):(await n.ma.stop(),uC(n))}))),n.ma}function Wr(n){return n.fa||(n.fa=(function(t,i,r){const a=Re(t);return a.sa(),new pB(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:AB.bind(null,n),r_:CB.bind(null,n),ta:xB.bind(null,n),na:RB.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Sp(n)):(await n.fa.stop(),n.Ta.length>0&&(de(ha,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,h=new O_(e,t,u,r,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N_(n,e){if(Xs("AsyncQueue",`${e}: ${n}`),Ql(n))return new he(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{static emptySet(e){return new Il(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=vc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Il;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.ga=new mt(ge.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Bl{constructor(e,t,i,r,a,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Bl(e,t,Il.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PB{constructor(){this.queries=zS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Re(t),a=r.queries;r.queries=zS(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function zS(){return new ya((n=>MR(n)),yp)}async function kB(n,e){const t=Re(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.ba()&&e.Da()&&(i=2):(a=new DB,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(u){const h=N_(u,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&V_(t)}async function MB(n,e){const t=Re(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function OB(n,e){const t=Re(n);let i=!1;for(const r of e){const a=r.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Fa(r)&&(i=!0);u.wa=r}}i&&V_(t)}function NB(n,e,t){const i=Re(n),r=i.queries.get(e);if(r)for(const a of r.Sa)a.onError(t);i.queries.delete(e)}function V_(n){n.Ca.forEach((e=>{e.next()}))}var hv,BS;(BS=hv||(hv={})).Ma="default",BS.Cache="cache";class VB{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.key=e}}class pC{constructor(e){this.key=e}}class LB{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=OR(e),this.tu=new Il(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new US,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((g,v)=>{const b=r.get(g),E=vp(this.query,v)?v:null,C=!!b&&this.mutatedKeys.has(b.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let R=!1;b&&E?b.data.isEqual(E.data)?C!==A&&(i.track({type:3,doc:E}),R=!0):this.su(b,E)||(i.track({type:2,doc:E}),R=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(h=!0)):!b&&E?(i.track({type:0,doc:E}),R=!0):b&&!E&&(i.track({type:1,doc:b}),R=!0,(f||d)&&(h=!0)),R&&(E?(u=u.add(E),a=A?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,v)=>(function(E,C){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:R})}};return A(E)-A(C)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),r=r??!1;const h=t&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new Bl(this.query,e.tu,a,u,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new US,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new pC(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new dC(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const L_="SyncEngine";class UB{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class zB{constructor(e){this.key=e,this.hu=!1}}class BB{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ya((h=>MR(h)),yp),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ge.comparator),this.Au=new Map,this.Ru=new x_,this.Vu={},this.mu=new Map,this.fu=zl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jB(n,e,t=!0){const i=bC(n);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await mC(i,e,t,!0),r}async function FB(n,e){const t=bC(n);await mC(t,e,!0,!1)}async function mC(n,e,t,i){const r=await rB(n.localStore,rs(e)),a=r.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await qB(n,e,a,u==="current",r.resumeToken)),n.isPrimaryClient&&t&&aC(n.remoteStore,r),h}async function qB(n,e,t,i,r){n.pu=(v,b,E)=>(async function(A,R,P,B){let j=R.view.ru(P);j.Cs&&(j=await kS(A.localStore,R.query,!1).then((({documents:O})=>R.view.ru(O,j))));const G=B&&B.targetChanges.get(R.targetId),Z=B&&B.targetMismatches.get(R.targetId)!=null,ue=R.view.applyChanges(j,A.isPrimaryClient,G,Z);return FS(A,R.targetId,ue.au),ue.snapshot})(n,v,b,E);const a=await kS(n.localStore,e,!0),u=new LB(e,a.Qs),h=u.ru(a.documents),f=dh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=u.applyChanges(h,n.isPrimaryClient,f);FS(n,t,d.au);const g=new UB(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function HB(n,e,t){const i=Re(n),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter((u=>!yp(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await uv(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&D_(i.remoteStore,r.targetId),fv(i,r.targetId)})).catch(Xl)):(fv(i,r.targetId),await uv(i.localStore,r.targetId,!0))}async function GB(n,e){const t=Re(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),D_(t.remoteStore,i.targetId))}async function $B(n,e,t){const i=JB(n);try{const r=await(function(u,h){const f=Re(u),d=rt.now(),g=h.reduce(((E,C)=>E.add(C.key)),Ue());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let C=Qs(),A=Ue();return f.Ns.getEntries(E,g).next((R=>{C=R,C.forEach(((P,B)=>{B.isValidDocument()||(A=A.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,C))).next((R=>{v=R;const P=[];for(const B of h){const j=sz(B,v.get(B.key).overlayedDocument);j!=null&&P.push(new oo(B.key,j,AR(j.value.mapValue),Ii.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,P,h)})).next((R=>{b=R;const P=R.applyToLocalDocumentSet(v,A);return f.documentOverlayCache.saveOverlays(E,R.batchId,P)}))})).then((()=>({batchId:b.batchId,changes:VR(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new mt(Le)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(i,r.batchId,t),await mh(i,r.changes),await Sp(i.remoteStore)}catch(r){const a=N_(r,"Failed to persist write");t.reject(a)}}async function gC(n,e){const t=Re(n);try{const i=await nB(t.localStore,e);e.targetChanges.forEach(((r,a)=>{const u=t.Au.get(a);u&&($e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.hu=!0:r.modifiedDocuments.size>0?$e(u.hu,14607):r.removedDocuments.size>0&&($e(u.hu,42227),u.hu=!1))})),await mh(t,i,e)}catch(i){await Xl(i)}}function jS(n,e,t){const i=Re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(u,h){const f=Re(u);f.onlineState=h;let d=!1;f.queries.forEach(((g,v)=>{for(const b of v.Sa)b.va(h)&&(d=!0)})),d&&V_(f)})(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function KB(n,e,t){const i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),a=r&&r.key;if(a){let u=new mt(ge.comparator);u=u.insert(a,yn.newNoDocument(a,xe.min()));const h=Ue().add(a),f=new wp(xe.min(),new Map,new mt(Le),u,h);await gC(i,f),i.du=i.du.remove(a),i.Au.delete(e),U_(i)}else await uv(i.localStore,e,!1).then((()=>fv(i,e,t))).catch(Xl)}async function YB(n,e){const t=Re(n),i=e.batch.batchId;try{const r=await tB(t.localStore,e);vC(t,i,null),yC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await mh(t,r)}catch(r){await Xl(r)}}async function XB(n,e,t){const i=Re(n);try{const r=await(function(u,h){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next((v=>($e(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,e);vC(i,e,t),yC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await mh(i,r)}catch(r){await Xl(r)}}function yC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function vC(n,e,t){const i=Re(n);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function fv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||_C(n,i)}))}function _C(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(D_(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),U_(n))}function FS(n,e,t){for(const i of t)i instanceof dC?(n.Ru.addReference(i.key,e),QB(n,i)):i instanceof pC?(de(L_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||_C(n,i.key)):Te(19791,{wu:i})}function QB(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(de(L_,"New document in limbo: "+t),n.Eu.add(i),U_(n))}function U_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ge(it.fromString(e)),i=n.fu.next();n.Au.set(i,new zB(t)),n.du=n.du.insert(t,i),aC(n.remoteStore,new Ur(rs(b_(t.path)),i,"TargetPurposeLimboResolution",pp.ce))}}async function mh(n,e,t){const i=Re(n),r=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{u.push(i.pu(f,e,t).then((d=>{if((d||t)&&i.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){r.push(d);const g=C_.As(f.targetId,d);a.push(g)}})))})),await Promise.all(u),i.Pu.H_(r),await(async function(f,d){const g=Re(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>se.forEach(d,(b=>se.forEach(b.Es,(E=>g.persistence.referenceDelegate.addReference(v,b.targetId,E))).next((()=>se.forEach(b.ds,(E=>g.persistence.referenceDelegate.removeReference(v,b.targetId,E)))))))))}catch(v){if(!Ql(v))throw v;de(I_,"Failed to update sequence numbers: "+v)}for(const v of d){const b=v.targetId;if(!v.fromCache){const E=g.Ms.get(b),C=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(b,A)}}})(i.localStore,a))}async function WB(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){de(L_,"User change. New user:",e.toKey());const i=await iC(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new he(ne.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await mh(t,i.Ls)}}function ZB(n,e){const t=Re(n),i=t.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let r=Ue();const a=t.Iu.get(e);if(!a)return r;for(const u of a){const h=t.Tu.get(u);r=r.unionWith(h.view.nu)}return r}}function bC(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KB.bind(null,e),e.Pu.H_=OB.bind(null,e.eventManager),e.Pu.yu=NB.bind(null,e.eventManager),e}function JB(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XB.bind(null,e),e}class Kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return eB(this.persistence,new Wz,e.initialUser,this.serializer)}Cu(e){return new nC(R_.mi,this.serializer)}Du(e){return new aB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kd.provider={build:()=>new Kd};class ej extends Kd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){$e(this.persistence.referenceDelegate instanceof Gd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Vz(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new nC((i=>Gd.mi(i,t)),this.serializer)}}class dv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WB.bind(null,this.syncEngine),await IB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PB})()}createDatastore(e){const t=Tp(e.databaseInfo.databaseId),i=(function(a){return new fB(a)})(e.databaseInfo);return(function(a,u,h,f){return new gB(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,a,u,h){return new vB(i,r,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>jS(this.syncEngine,t,0)),(function(){return NS.v()?new NS:new lB})())}createSyncEngine(e,t){return(function(r,a,u,h,f,d,g){const v=new BB(r,a,u,h,f,d);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Re(t);de(ha,"RemoteStore shutting down."),i.Ea.add(5),await ph(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dv.provider={build:()=>new dv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class nj{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=gn.UNAUTHENTICATED,this.clientId=p_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{de(Zr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(de(Zr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=N_(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function gy(n,e){n.asyncQueue.verifyOperationInProgress(),de(Zr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await iC(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function qS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ij(n);de(Zr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>LS(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>LS(e.remoteStore,r))),n._onlineComponents=e}async function ij(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Zr,"Using user provided OfflineComponentProvider");try{await gy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===ne.FAILED_PRECONDITION||r.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Nl("Error using user provided cache. Falling back to memory cache: "+t),await gy(n,new Kd)}}else de(Zr,"Using default OfflineComponentProvider"),await gy(n,new ej(void 0));return n._offlineComponents}async function wC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Zr,"Using user provided OnlineComponentProvider"),await qS(n,n._uninitializedComponentsProvider._online)):(de(Zr,"Using default OnlineComponentProvider"),await qS(n,new dv))),n._onlineComponents}function sj(n){return wC(n).then((e=>e.syncEngine))}async function HS(n){const e=await wC(n),t=e.eventManager;return t.onListen=jB.bind(null,e.syncEngine),t.onUnlisten=HB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GB.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firestore.googleapis.com",$S=!0;class KS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EC,this.ssl=$S}else this.host=e.host,this.ssl=e.ssl??$S;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Oz)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new a6;switch(i.type){case"firstParty":return new h6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=GS.get(t);i&&(de("ComponentProvider","Removing Datastore"),GS.delete(t),i.terminate())})(this),Promise.resolve()}}function rj(n,e,t,i={}){n=Hr(n,Ap);const r=io(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;r&&(e_(`https://${h}`),t_("Firestore",!0)),a.host!==EC&&a.host!==h&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:r,emulatorOptions:i};if(!aa(f,u)&&(n._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=gn.MOCK_USER;else{d=b1(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new gn(v)}n._authCredentials=new l6(new dR(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class Lt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(hh(t,Lt._jsonSchema))return new Lt(e,i||null,new ge(it.fromString(t.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Vt("string",Lt._jsonSchemaVersion),referencePath:Vt("string")};class Gr extends _a{constructor(e,t,i){super(e,t,b_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new ge(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function Yd(n,e,...t){if(n=ht(n),pR("collection","path",e),n instanceof Ap){const i=it.fromString(e,...t);return rS(i),new Gr(n,null,i)}{if(!(n instanceof Lt||n instanceof Gr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return rS(i),new Gr(n.firestore,null,i)}}function _d(n,e,...t){if(n=ht(n),arguments.length===1&&(e=p_.newId()),pR("doc","path",e),n instanceof Ap){const i=it.fromString(e,...t);return sS(i),new Lt(n,null,new ge(i))}{if(!(n instanceof Lt||n instanceof Gr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return sS(i),new Lt(n.firestore,n instanceof Gr?n.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="AsyncQueue";class XS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rC(this,"async_queue_retry"),this._c=()=>{const i=my();i&&de(YS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=my();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=my();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Jo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ql(e))throw e;de(YS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Xs("INTERNAL UNHANDLED ERROR: ",QS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=O_.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Te(47125,{Pc:QS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function QS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const a of i)if(a in r&&typeof r[a]=="function")return!0;return!1})(n,["next","error","complete"])}class jl extends Ap{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new XS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XS(e),this._firestoreClient=void 0,await e}}}function oj(n,e){const t=typeof n=="object"?n:s_(),i=typeof n=="string"?n:Bd,r=ap(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=y1("firestore");a&&rj(r,...a)}return r}function SC(n){if(n._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aj(n),n._firestoreClient}function aj(n){const e=n._freezeSettings(),t=(function(r,a,u,h){return new C6(r,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new nj(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(r){const a=r?._online.build();return{_offline:r?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mi(cn.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mi(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hh(e,mi._jsonSchema))return mi.fromBase64String(e.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:Vt("string",mi._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(hh(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:Vt("string",as._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hh(e,ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ls(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:Vt("string",ls._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=/^__.*__$/;class uj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,t,this.fieldTransforms):new fh(e,this.data,t,this.fieldTransforms)}}class AC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new oo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class z_{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new z_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xC(this.Ac)&&lj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cj{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Tp(e)}Cc(e,t,i,r=!1){return new z_({Ac:e,methodName:t,Dc:i,path:ln.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B_(n){const e=n._freezeSettings(),t=Tp(n._databaseId);return new cj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hj(n,e,t,i,r,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,r);F_("Data must be an object, but it was:",u,i);const h=RC(i,u);let f,d;if(a.merge)f=new Kn(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const b=pv(e,v,t);if(!u.contains(b))throw new he(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);IC(g,b)||g.push(b)}f=new Kn(g),d=u.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,d=u.fieldTransforms;return new uj(new On(h),f,d)}class Cp extends Rp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}class j_ extends Rp{_toFieldTransform(e){return new ez(e.path,new Yc)}isEqual(e){return e instanceof j_}}function fj(n,e,t,i){const r=n.Cc(1,e,t);F_("Data must be an object, but it was:",r,i);const a=[],u=On.empty();ro(i,((f,d)=>{const g=q_(e,f,t);d=ht(d);const v=r.yc(g);if(d instanceof Cp)a.push(g);else{const b=gh(d,v);b!=null&&(a.push(g),u.set(g,b))}}));const h=new Kn(a);return new AC(u,h,r.fieldTransforms)}function dj(n,e,t,i,r,a){const u=n.Cc(1,e,t),h=[pv(e,i,t)],f=[r];if(a.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)h.push(pv(e,a[b])),f.push(a[b+1]);const d=[],g=On.empty();for(let b=h.length-1;b>=0;--b)if(!IC(d,h[b])){const E=h[b];let C=f[b];C=ht(C);const A=u.yc(E);if(C instanceof Cp)d.push(E);else{const R=gh(C,A);R!=null&&(d.push(E),g.set(E,R))}}const v=new Kn(d);return new AC(g,v,u.fieldTransforms)}function pj(n,e,t,i=!1){return gh(t,n.Cc(i?4:3,e))}function gh(n,e){if(CC(n=ht(n)))return F_("Unsupported field value:",e,n),RC(n,e);if(n instanceof Rp)return(function(i,r){if(!xC(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,r){const a=[];let u=0;for(const h of i){let f=gh(h,r.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(i,r){if((i=ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return W6(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=rt.fromDate(i);return{timestampValue:Hd(r.serializer,a)}}if(i instanceof rt){const a=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hd(r.serializer,a)}}if(i instanceof as)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof mi)return{bytesValue:YR(r.serializer,i._byteString)};if(i instanceof Lt){const a=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw r.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:A_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ls)return(function(u,h){return{mapValue:{fields:{[ER]:{stringValue:SR},[jd]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return w_(h.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${dp(i)}`)})(n,e)}function RC(n,e){const t={};return yR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(n,((i,r)=>{const a=gh(r,e.mc(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function CC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof as||n instanceof mi||n instanceof Lt||n instanceof Rp||n instanceof ls)}function F_(n,e,t){if(!CC(t)||!mR(t)){const i=dp(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function pv(n,e,t){if((e=ht(e))instanceof xp)return e._internalPath;if(typeof e=="string")return q_(n,e);throw Xd("Field path arguments must be of type string or ",n,!1,void 0,t)}const mj=new RegExp("[~\\*/\\[\\]]");function q_(n,e,t){if(e.search(mj)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xp(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xd(n,e,t,i,r){const a=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new he(ne.INVALID_ARGUMENT,h+n+f)}function IC(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ip("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gj extends DC{data(){return super.data()}}function Ip(n,e){return typeof e=="string"?q_(n,e):e instanceof xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H_{}class PC extends H_{}function mv(n,e,...t){let i=[];e instanceof H_&&i.push(e),i=i.concat(t),(function(a){const u=a.filter((f=>f instanceof G_)).length,h=a.filter((f=>f instanceof Dp)).length;if(u>1||u>0&&h>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class Dp extends PC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Dp(e,t,i)}_apply(e){const t=this._parse(e);return kC(e._query,t),new _a(e.firestore,e.converter,iv(e._query,t))}_parse(e){const t=B_(e.firestore);return(function(a,u,h,f,d,g,v){let b;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){JS(v,g);const C=[];for(const A of v)C.push(ZS(f,a,A));b={arrayValue:{values:C}}}else b=ZS(f,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||JS(v,g),b=pj(h,u,v,g==="in"||g==="not-in");return Nt.create(d,g,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function vj(n,e,t){const i=e,r=Ip("where",n);return Dp._create(r,i,t)}class G_ extends H_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new G_(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Mi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,a){let u=r;const h=a.getFlattenedFilters();for(const f of h)kC(u,f),u=iv(u,f)})(e._query,t),new _a(e.firestore,e.converter,iv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $_ extends PC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $_(e,t)}_apply(e){const t=(function(r,a,u){if(r.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kc(a,u)})(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,(function(r,a){const u=r.explicitOrderBy.concat([a]);return new Wl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function gv(n,e="asc"){const t=e,i=Ip("orderBy",n);return $_._create(i,t)}function ZS(n,e,t){if(typeof(t=ht(t))=="string"){if(t==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kR(e)&&t.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!ge.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dS(n,new ge(i))}if(t instanceof Lt)return dS(n,t._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dp(t)}.`)}function JS(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kC(n,e){const t=(function(r,a){for(const u of r)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _j{convertValue(e,t="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ro(e,((r,a)=>{i[r]=this.convertValue(a,t)})),i}convertVectorValue(e){const t=e.fields?.[jd].arrayValue?.values?.map((i=>xt(i.doubleValue)));return new ls(t)}convertGeoPoint(e){return new as(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=gp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const t=Yr(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);$e(eC(i),9688,{name:e});const r=new Gc(i.get(1),i.get(3)),a=new ge(i.popFirst(5));return r.isEqual(t)||Xs(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class bc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends DC{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ip("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ea._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Vt("string",ea._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class bd extends ea{data(e={}){return super.data(e)}}class Dl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new bd(this._firestore,this._userDataWriter,i.key,i,new bc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((h=>{const f=new bd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new bc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new bd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new bc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:wj(h.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=p_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}Dl._jsonSchemaVersion="firestore/querySnapshot/1.0",Dl._jsonSchema={type:Vt("string",Dl._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class MC extends _j{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}}function eA(n,e,t,...i){n=Hr(n,Lt);const r=Hr(n.firestore,jl),a=B_(r);let u;return u=typeof(e=ht(e))=="string"||e instanceof xp?dj(a,"updateDoc",n._key,e,t,i):fj(a,"updateDoc",n._key,e),K_(r,[u.toMutation(n._key,Ii.exists(!0))])}function Tj(n){return K_(Hr(n.firestore,jl),[new T_(n._key,Ii.none())])}function Ej(n,e){const t=Hr(n.firestore,jl),i=_d(n),r=bj(n.converter,e);return K_(t,[hj(B_(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ii.exists(!1))]).then((()=>i))}function yv(n,...e){n=ht(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||WS(e[i])||(t=e[i++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(WS(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let a,u,h;if(n instanceof Lt)u=Hr(n.firestore,jl),h=b_(n._key.path),a={next:f=>{e[i]&&e[i](Sj(u,n,f))},error:e[i+1],complete:e[i+2]};else{const f=Hr(n,_a);u=Hr(f.firestore,jl),h=f._query;const d=new MC(u);a={next:g=>{e[i]&&e[i](new Dl(u,d,f,g))},error:e[i+1],complete:e[i+2]},yj(n._query)}return(function(d,g,v,b){const E=new tj(b),C=new VB(g,E,v);return d.asyncQueue.enqueueAndForget((async()=>kB(await HS(d),C))),()=>{E.Nu(),d.asyncQueue.enqueueAndForget((async()=>MB(await HS(d),C)))}})(SC(u),h,r,a)}function K_(n,e){return(function(i,r){const a=new Jo;return i.asyncQueue.enqueueAndForget((async()=>$B(await sj(i),r,a))),a.promise})(SC(n),e)}function Sj(n,e,t){const i=t.docs.get(e._key),r=new MC(n);return new ea(n,r,e._key,i,new bc(t.hasPendingWrites,t.fromCache),e.converter)}function ed(){return new j_("serverTimestamp")}(function(e,t=!0){(function(r){Yl=r})(ma),la(new $r("firestore",((i,{instanceIdentifier:r,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new jl(new u6(i.getProvider("auth-internal")),new f6(u,i.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(d.options.projectId,g)})(u,r),u);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),ns(eS,tS,e),ns(eS,tS,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="firebasestorage.googleapis.com",NC="storageBucket",Aj=120*1e3,xj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends ps{constructor(e,t,i=0){super(yy(e),`Firebase Storage: ${t} (${yy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function yy(n){return"storage/"+n}function Y_(){const n="An unknown error occurred, please check the error payload for server response.";return new wt(bt.UNKNOWN,n)}function Rj(n){return new wt(bt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Cj(n){return new wt(bt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ij(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(bt.UNAUTHENTICATED,n)}function Dj(){return new wt(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Pj(n){return new wt(bt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function kj(){return new wt(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Mj(){return new wt(bt.CANCELED,"User canceled the upload/download.")}function Oj(n){return new wt(bt.INVALID_URL,"Invalid URL '"+n+"'.")}function Nj(n){return new wt(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Vj(){return new wt(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NC+"' property when initializing the app?")}function Lj(){return new wt(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Uj(){return new wt(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zj(n){return new wt(bt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vv(n){return new wt(bt.INVALID_ARGUMENT,n)}function VC(){return new wt(bt.APP_DELETED,"The Firebase app was deleted.")}function Bj(n){return new wt(bt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dc(n,e){return new wt(bt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function dc(n){throw new wt(bt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Yn.makeFromUrl(e,t)}catch{return new Yn(e,"")}if(i.path==="")return i;throw Nj(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function a(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+r+u,"i"),f={bucket:1,path:3};function d(G){G.path_=decodeURIComponent(G.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${g}/b/${r}/o${b}`,"i"),C={bucket:1,path:3},A=t===OC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",P=new RegExp(`^https?://${A}/${r}/${R}`,"i"),j=[{regex:h,indices:f,postModify:a},{regex:E,indices:C,postModify:d},{regex:P,indices:{bucket:1,path:2},postModify:d}];for(let G=0;G<j.length;G++){const Z=j[G],ue=Z.regex.exec(e);if(ue){const O=ue[Z.indices.bucket];let I=ue[Z.indices.path];I||(I=""),i=new Yn(O,I),Z.postModify(i);break}}if(i==null)throw Oj(e);return i}}class jj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(n,e,t){let i=1,r=null,a=null,u=!1,h=0;function f(){return h===2}let d=!1;function g(...R){d||(d=!0,e.apply(null,R))}function v(R){r=setTimeout(()=>{r=null,n(E,f())},R)}function b(){a&&clearTimeout(a)}function E(R,...P){if(d){b();return}if(R){b(),g.call(null,R,...P);return}if(f()||u){b(),g.call(null,R,...P);return}i<64&&(i*=2);let j;h===1?(h=2,j=0):j=(i+Math.random())*1e3,v(j)}let C=!1;function A(R){C||(C=!0,b(),!d&&(r!==null?(R||(h=2),clearTimeout(r),v(0)):R||(h=1)))}return v(0),a=setTimeout(()=>{u=!0,A(!0)},t),A}function qj(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(n){return n!==void 0}function Gj(n){return typeof n=="object"&&!Array.isArray(n)}function X_(n){return typeof n=="string"||n instanceof String}function tA(n){return Q_()&&n instanceof Blob}function Q_(){return typeof Blob<"u"}function nA(n,e,t,i){if(i<e)throw vv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw vv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function LC(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var ta;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||r||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,t,i,r,a,u,h,f,d,g,v,b=!0,E=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,A)=>{this.resolve_=C,this.reject_=A,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new td(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===ta.NO_ERROR,f=a.getStatus();if(!h||$j(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ta.ABORT;i(!1,new td(!1,null,g));return}const d=this.successCodes_.indexOf(f)!==-1;i(!0,new td(d,a))})},t=(i,r)=>{const a=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());Hj(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=Y_();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(r.canceled){const f=this.appDelete_?VC():Mj();u(f)}else{const f=kj();u(f)}};this.canceled_?t(!1,new td(!1,null,!0)):this.backoffId_=Fj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class td{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Yj(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Xj(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Qj(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Wj(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Zj(n,e,t,i,r,a,u=!0,h=!1){const f=LC(n.urlParams),d=n.url+f,g=Object.assign({},n.headers);return Qj(g,e),Yj(g,t),Xj(g,a),Wj(g,i),new Kj(d,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function e9(...n){const e=Jj();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Q_())return new Blob(n);throw new wt(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function t9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(n){if(typeof atob>"u")throw zj("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vy{constructor(e,t){this.data=e,this.contentType=t||null}}function i9(n,e){switch(n){case es.RAW:return new vy(UC(e));case es.BASE64:case es.BASE64URL:return new vy(zC(n,e));case es.DATA_URL:return new vy(r9(e),o9(e))}throw Y_()}function UC(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=i,u=n.charCodeAt(++t);i=65536|(a&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function s9(n){let e;try{e=decodeURIComponent(n)}catch{throw Dc(es.DATA_URL,"Malformed data URL.")}return UC(e)}function zC(n,e){switch(n){case es.BASE64:{const r=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(r||a)throw Dc(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case es.BASE64URL:{const r=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(r||a)throw Dc(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=n9(e)}catch(r){throw r.message.includes("polyfill")?r:Dc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class BC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Dc(es.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=a9(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function r9(n){const e=new BC(n);return e.base64?zC(es.BASE64,e.rest):s9(e.rest)}function o9(n){return new BC(n).contentType}function a9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,t){let i=0,r="";tA(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(tA(this.data_)){const i=this.data_,r=t9(i,e,t);return r===null?null:new Vr(r)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Vr(i,!0)}}static getBlob(...e){if(Q_()){const t=e.map(i=>i instanceof Vr?i.data_:i);return new Vr(e9.apply(null,t))}else{const t=e.map(u=>X_(u)?i9(es.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)r[a++]=u[h]}),new Vr(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){let e;try{e=JSON.parse(n)}catch{return null}return Gj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function u9(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function FC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(n,e){return e}class xn{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||c9}}let nd=null;function h9(n){return!X_(n)||n.length<2?n:FC(n)}function qC(){if(nd)return nd;const n=[];n.push(new xn("bucket")),n.push(new xn("generation")),n.push(new xn("metageneration")),n.push(new xn("name","fullPath",!0));function e(a,u){return h9(u)}const t=new xn("name");t.xform=e,n.push(t);function i(a,u){return u!==void 0?Number(u):u}const r=new xn("size");return r.xform=i,n.push(r),n.push(new xn("timeCreated")),n.push(new xn("updated")),n.push(new xn("md5Hash",null,!0)),n.push(new xn("cacheControl",null,!0)),n.push(new xn("contentDisposition",null,!0)),n.push(new xn("contentEncoding",null,!0)),n.push(new xn("contentLanguage",null,!0)),n.push(new xn("contentType",null,!0)),n.push(new xn("metadata","customMetadata",!0)),nd=n,nd}function f9(n,e){function t(){const i=n.bucket,r=n.fullPath,a=new Yn(i,r);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function d9(n,e,t){const i={};i.type="file";const r=t.length;for(let a=0;a<r;a++){const u=t[a];i[u.local]=u.xform(i,e[u.server])}return f9(i,n),i}function HC(n,e,t){const i=jC(e);return i===null?null:d9(n,i,t)}function p9(n,e,t,i){const r=jC(e);if(r===null||!X_(r.downloadTokens))return null;const a=r.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(d=>{const g=n.bucket,v=n.fullPath,b="/b/"+u(g)+"/o/"+u(v),E=Pp(b,t,i),C=LC({alt:"media",token:d});return E+C})[0]}function m9(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class W_{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(n){if(!n)throw Y_()}function g9(n,e){function t(i,r){const a=HC(n,r,e);return GC(a!==null),a}return t}function y9(n,e){function t(i,r){const a=HC(n,r,e);return GC(a!==null),p9(a,r,n.host,n._protocol)}return t}function $C(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=Dj():r=Ij():t.getStatus()===402?r=Cj(n.bucket):t.getStatus()===403?r=Pj(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function KC(n){const e=$C(n);function t(i,r){let a=e(i,r);return i.getStatus()===404&&(a=Rj(n.path)),a.serverResponse=r.serverResponse,a}return t}function v9(n,e,t){const i=e.fullServerUrl(),r=Pp(i,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,h=new W_(r,a,y9(n,t),u);return h.errorHandler=KC(e),h}function _9(n,e){const t=e.fullServerUrl(),i=Pp(t,n.host,n._protocol),r="DELETE",a=n.maxOperationRetryTime;function u(f,d){}const h=new W_(i,r,u,a);return h.successCodes=[200,204],h.errorHandler=KC(e),h}function b9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function w9(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=b9(null,e)),i}function T9(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let j="";for(let G=0;G<2;G++)j=j+Math.random().toString().slice(2);return j}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const d=w9(e,i,r),g=m9(d,t),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,b=`\r
--`+f+"--",E=Vr.getBlob(v,i,b);if(E===null)throw Lj();const C={name:d.fullPath},A=Pp(a,n.host,n._protocol),R="POST",P=n.maxUploadRetryTime,B=new W_(A,R,g9(n,t),P);return B.urlParams=C,B.headers=u,B.body=E.uploadData(),B.errorHandler=$C(e),B}class E9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r,a){if(this.sent_)throw dc("cannot .send() more than once");if(io(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class S9 extends E9{initXhr(){this.xhr_.responseType="text"}}function Z_(){return new S9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this._service=e,t instanceof Yn?this._location=t:this._location=Yn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fa(e,t)}get root(){const e=new Yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FC(this._location.path)}get storage(){return this._service}get parent(){const e=l9(this._location.path);if(e===null)return null;const t=new Yn(this._location.bucket,e);return new fa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Bj(e)}}function A9(n,e,t){n._throwIfRoot("uploadBytes");const i=T9(n.storage,n._location,qC(),new Vr(e,!0),t);return n.storage.makeRequestWithTokens(i,Z_).then(r=>({metadata:r,ref:n}))}function x9(n){n._throwIfRoot("getDownloadURL");const e=v9(n.storage,n._location,qC());return n.storage.makeRequestWithTokens(e,Z_).then(t=>{if(t===null)throw Uj();return t})}function R9(n){n._throwIfRoot("deleteObject");const e=_9(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Z_)}function C9(n,e){const t=u9(n._location.path,e),i=new Yn(n._location.bucket,t);return new fa(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(n){return/^[A-Za-z]+:\/\//.test(n)}function D9(n,e){return new fa(n,e)}function YC(n,e){if(n instanceof J_){const t=n;if(t._bucket==null)throw Vj();const i=new fa(t,t._bucket);return e!=null?YC(i,e):i}else return e!==void 0?C9(n,e):n}function P9(n,e){if(e&&I9(e)){if(n instanceof J_)return D9(n,e);throw vv("To use ref(service, url), the first argument must be a Storage instance.")}else return YC(n,e)}function iA(n,e){const t=e?.[NC];return t==null?null:Yn.makeFromBucketSpec(t,n)}function k9(n,e,t,i={}){n.host=`${e}:${t}`;const r=io(e);r&&(e_(`https://${n.host}/b`),t_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:b1(a,n.app.options.projectId))}class J_{constructor(e,t,i,r,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=OC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Aj,this._maxUploadRetryTime=xj,this._requests=new Set,r!=null?this._bucket=Yn.makeFromBucketSpec(r,this._host):this._bucket=iA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yn.makeFromBucketSpec(this._url,e):this._bucket=iA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fa(this,e)}_makeRequest(e,t,i,r,a=!0){if(this._deleted)return new jj(VC());{const u=Zj(e,this._appId,i,r,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const sA="@firebase/storage",rA="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="storage";function M9(n,e,t){return n=ht(n),A9(n,e,t)}function O9(n){return n=ht(n),x9(n)}function N9(n){return n=ht(n),R9(n)}function oA(n,e){return n=ht(n),P9(n,e)}function V9(n=s_(),e){n=ht(n);const i=ap(n,XC).getImmediate({identifier:e}),r=y1("storage");return r&&L9(i,...r),i}function L9(n,e,t,i={}){k9(n,e,t,i)}function U9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new J_(t,i,r,e,ma)}function z9(){la(new $r(XC,U9,"PUBLIC").setMultipleInstances(!0)),ns(sA,rA,""),ns(sA,rA,"esm2020")}z9();const B9={apiKey:"AIzaSyAM24lLkve3X0yaBhlHgfNx7LZ7UttRXFw",authDomain:"likwitdevs-417ee.firebaseapp.com",projectId:"likwitdevs-417ee",storageBucket:"likwitdevs-417ee.firebasestorage.app",messagingSenderId:"669619326357",appId:"1:669619326357:web:356366d029b91cb570fa9c"},eb=E1(B9),da=i6(eb),Xo=oj(eb),aA=V9(eb);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F9=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),lA=n=>{const e=F9(n);return e.charAt(0).toUpperCase()+e.slice(1)},QC=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),q9=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:u,...h},f)=>U.createElement("svg",{ref:f,...H9,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:QC("lucide",r),...!a&&!q9(h)&&{"aria-hidden":"true"},...h},[...u.map(([d,g])=>U.createElement(d,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=(n,e)=>{const t=U.forwardRef(({className:i,...r},a)=>U.createElement(G9,{ref:a,iconNode:e,className:QC(`lucide-${j9(lA(n))}`,`lucide-${n}`,i),...r}));return t.displayName=lA(n),t};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],ZC=WC("github",$9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],JC=WC("mail",K9),dl=({isActive:n})=>`px-3 py-2 rounded-lg text-sm transition ${n?"bg-white/20 text-white":"text-white/80 hover:text-white hover:bg-white/10"}`;function Y9(){const[n,e]=U.useState(!1),[t,i]=U.useState(!1),r=to(),a=In();U.useEffect(()=>{const f=cp(da,d=>e(!!d));return()=>f()},[]);async function u(){try{await X1(da),r("/"),i(!1)}catch(f){console.error("Sign out failed:",f)}}const h=f=>{const d=()=>document.getElementById(f)?.scrollIntoView({behavior:"smooth",block:"start"});i(!1),a.pathname!=="/"?(r("/"),setTimeout(d,80)):d()};return D.jsx("header",{className:"left-0 right-0 z-50 mt-6",children:D.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[D.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md px-4 py-3",children:[D.jsx(Dr,{to:"/",className:"text-white font-semibold",onClick:()=>i(!1),children:"Likwit Devs"}),D.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[D.jsx(Dr,{to:"/",className:dl,children:"Home"}),D.jsx("button",{onClick:()=>h("about"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition",children:"About"}),D.jsx("button",{onClick:()=>h("pricing"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition",children:"Pricing"}),D.jsx(Dr,{to:"/contact",className:dl,children:"Contact"}),n&&D.jsxs(D.Fragment,{children:[D.jsx(Dr,{to:"/admin",className:dl,children:"Admin"}),D.jsx("button",{onClick:u,className:"ml-2 px-3 py-1.5 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition",children:"Sign out"})]})]}),D.jsx("button",{className:"md:hidden inline-flex items-center justify-center rounded-lg border border-white/20 px-3 py-2 text-white/90",onClick:()=>i(f=>!f),"aria-expanded":t,"aria-controls":"mobile-nav",children:"Menu"})]}),D.jsx("div",{id:"mobile-nav",className:`md:hidden transition-[max-height] duration-300 overflow-hidden border-x border-b border-white/10 rounded-b-2xl ${t?"max-h-80":"max-h-0"}`,children:D.jsxs("div",{className:"px-4 py-3 bg-black/10 backdrop-blur-md",children:[D.jsxs("ul",{className:"space-y-2",children:[D.jsx("li",{children:D.jsx(Dr,{to:"/",className:dl,onClick:()=>i(!1),children:"Home"})}),D.jsx("li",{children:D.jsx("button",{onClick:()=>h("about"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition w-full text-left",children:"About"})}),D.jsx("li",{children:D.jsx("button",{onClick:()=>h("pricing"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition w-full text-left",children:"Pricing"})}),D.jsx("li",{children:D.jsx(Dr,{to:"/contact",className:dl,onClick:()=>i(!1),children:"Contact"})}),n&&D.jsxs(D.Fragment,{children:[D.jsx("li",{children:D.jsx(Dr,{to:"/admin",className:dl,onClick:()=>i(!1),children:"Admin"})}),D.jsx("li",{children:D.jsx("button",{onClick:u,className:"px-3 py-2 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition w-full text-left",children:"Sign out"})})]})]}),D.jsx("div",{className:"my-3 h-px bg-white/10"}),D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(ts,{to:"/contact","aria-label":"Contact",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:D.jsx(JC,{size:18})}),D.jsx("a",{href:"https://github.com/michaelm602",target:"_blank",rel:"noreferrer","aria-label":"GitHub",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:D.jsx(ZC,{size:18})})]})]})})]})})}function mn({as:n="div",className:e="",children:t,y:i=24,duration:r=550,delay:a=0,ease:u="cubic-bezier(0.22,1,0.36,1)",enter:h=.25,exit:f=.12,rootMargin:d="-12% 0px -12% 0px",once:g=!1,startVisible:v=!0,...b}){const E=U.useRef(null),[C,A]=U.useState(v),R=U.useRef(C);U.useEffect(()=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){A(!0),R.current=!0;return}const Z=E.current;if(!Z)return;if(v){const I=Z.getBoundingClientRect();I.top<window.innerHeight&&I.bottom>0&&(A(!0),R.current=!0)}const ue=Array.from({length:21},(I,k)=>k/20),O=new IntersectionObserver(([I])=>{const k=I.intersectionRatio??0;!R.current&&k>=h?(R.current=!0,A(!0),g&&O.disconnect()):!g&&R.current&&k<=f&&(R.current=!1,A(!1))},{threshold:ue,rootMargin:d});return O.observe(Z),()=>O.disconnect()},[h,f,d,g,v]);const P={transition:`transform ${r}ms ${u} ${a}ms, opacity ${r}ms ${u} ${a}ms`,willChange:"transform, opacity",backfaceVisibility:"hidden",transform:"translateZ(0)"},B={transform:`translateY(${i}px)`,opacity:0},j={transform:"translateY(0px)",opacity:1};return D.jsx(n,{ref:E,className:e,style:{...P,...C?j:B},...b,children:t})}function X9(){const n=new Date().getFullYear(),e=to(),t=In(),i=r=>{const a=()=>document.getElementById(r)?.scrollIntoView({behavior:"smooth",block:"start"});t.pathname!=="/"?(e("/"),setTimeout(a,80)):a()};return D.jsxs("footer",{className:"mt-10 border-t border-white/10 bg-white/5 backdrop-blur-md",children:[D.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8 grid gap-8 md:grid-cols-3 text-white/90",children:[D.jsx(mn,{children:D.jsxs("div",{children:[D.jsx("h3",{className:"text-lg font-semibold text-white",children:"Likwit Devs"}),D.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Modern, responsive websites with clean UX and custom visuals."})]})}),D.jsxs("nav",{className:"grid grid-cols-2 gap-2 text-sm",children:[D.jsx(mn,{children:D.jsxs("div",{className:"space-y-2",children:[D.jsx("p",{className:"text-white/60 font-medium",children:"Pages"}),D.jsx(ts,{className:"block hover:text-white",to:"/",children:"Home"}),D.jsx("button",{onClick:()=>i("about"),className:"block text-left w-full hover:text-white",children:"About"}),D.jsx("button",{onClick:()=>i("pricing"),className:"block text-left w-full hover:text-white",children:"Pricing"}),D.jsx(ts,{className:"block hover:text-white",to:"/contact",children:"Contact"})]})}),D.jsx(mn,{children:D.jsxs("div",{className:"space-y-2",children:[D.jsx("p",{className:"text-white/60 font-medium",children:"Services"}),D.jsx("span",{className:"block text-white/70",children:"Portfolio Sites"}),D.jsx("span",{className:"block text-white/70",children:"E-commerce"}),D.jsx("span",{className:"block text-white/70",children:"Brand Visuals"})]})})]}),D.jsx("div",{className:"space-y-3",children:D.jsxs(mn,{children:[D.jsx("h4",{className:"font-semibold text-white mb-2",children:"Get in touch"}),D.jsxs("li",{className:"flex items-center gap-2",children:[D.jsx(JC,{className:"w-5 h-5 opacity-80"}),D.jsx(ts,{to:"/contact",className:"hover:underline hover:text-white",children:"likwitdevs@gmail.com"})]}),D.jsx("div",{className:"mt-2 flex items-center gap-3",children:D.jsx("a",{href:"https://github.com/michaelm602",target:"_blank",rel:"noreferrer",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition",children:D.jsx(ZC,{size:18})})})]})})]}),D.jsxs("div",{className:"border-t border-white/10 text-center text-xs text-white/60 py-4",children:["© ",n," Likwit Devs. All rights reserved."]})]})}function Q9(){const n=In();return U.useEffect(()=>{if(!n.hash)return;const e=document.getElementById(n.hash.slice(1));e&&e.scrollIntoView({behavior:"smooth",block:"start"})},[n.pathname,n.hash]),null}function W9(){const n=In();return U.useEffect(()=>{n.hash||window.scrollTo({top:0,behavior:"instant"})},[n.pathname,n.hash]),D.jsxs(D.Fragment,{children:[D.jsx(hL,{}),D.jsx(Y9,{}),D.jsx(Q9,{offset:100}),D.jsx("main",{className:"min-h-[100svh]",children:D.jsx(hM,{})}),D.jsx(X9,{})]})}function Z9({texts:n=[],speed:e=50,pause:t=1500,className:i=""}){const[r,a]=U.useState(""),[u,h]=U.useState(0),[f,d]=U.useState(0),[g,v]=U.useState(!0);return U.useEffect(()=>{let b;return g?f<n[u].length?b=setTimeout(()=>d(f+1),e):b=setTimeout(()=>v(!1),t):f>0?b=setTimeout(()=>d(f-1),e/2):(v(!0),h((u+1)%n.length)),a(n[u].slice(0,f)),()=>clearTimeout(b)},[f,g,u,n,e,t]),D.jsxs("span",{className:i,children:[r,D.jsx("span",{className:"cursor",children:"|"})]})}function J9(){const[n,e]=U.useState([]),[t,i]=U.useState(!0),[r,a]=U.useState(null);return U.useEffect(()=>{const u=mv(Yd(Xo,"projects"),vj("published","==",!0),gv("order","asc"));let h=yv(u,f=>{e(f.docs.map(d=>({id:d.id,...d.data()}))),i(!1)},f=>{if(!(f.code==="failed-precondition"||/index/i.test(f.message||""))){a(f),i(!1);return}const g=mv(Yd(Xo,"projects"),gv("order","asc"));h=yv(g,v=>{const b=v.docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.published===!0);e(b),i(!1)},v=>{a(v),i(!1)})});return()=>h&&h()},[]),{projects:n,loading:t,error:r}}function e5({project:n}){const{title:e,summary:t,description:i,href:r,imageUrl:a,tags:u=[],imageFocus:h}=n,f=/^https?:\/\//i.test(r||"")?r:`https://${r||""}`,d=h||"50% 25%";return D.jsxs("article",{className:"rounded-2xl border border-white/15 bg-black/40 backdrop-blur-sm shadow-xl shadow-black/80",children:[D.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"block rounded-t-2xl overflow-hidden","aria-label":`Open ${e} in a new tab`,children:D.jsx(mn,{children:D.jsx("div",{className:"relative aspect-[16/9] bg-no-repeat bg-contain",style:{backgroundImage:`url('${a||""}')`,backgroundPosition:d},children:D.jsx("div",{className:"absolute inset-0"})})})}),D.jsx(mn,{children:D.jsxs("div",{className:"rounded-b-2xl p-5 pb-6 text-white",children:[D.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&D.jsx("p",{className:"mt-2 text-white/90",children:t}),i&&D.jsx("p",{className:"mt-2 text-white/80 leading-relaxed break-words",children:i}),D.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[u.length>0&&D.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(g=>D.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10 text-white/85",children:g},g))}),D.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"btn whitespace-nowrap",children:"Live site ↗"})]})]})})]})}function t5(){const{projects:n,loading:e,error:t}=J9();return D.jsx("section",{id:"projects",className:"relative z-10 px-4 pt-12 pb-28 md:pt-16 md:pb-32",children:D.jsxs("div",{className:"mx-auto max-w-6xl",children:[D.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:"Recent Work"}),e&&D.jsx("p",{className:"text-white/70",children:"Loading projects…"}),t&&D.jsx("p",{className:"text-red-300",children:"Couldn't load projects."}),!e&&!t&&n.length===0&&D.jsx("p",{className:"text-white/70",children:"No projects yet."}),!e&&!t&&n.length>0&&D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(i=>D.jsx(e5,{project:i},i.id))})]})})}function n5(){return D.jsx("section",{id:"about",className:"scroll-mt-24 px-4 py-12 md:py-20",children:D.jsx("div",{className:"mx-auto max-w-6xl rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md p-6 md:p-10",children:D.jsxs(mn,{children:[D.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"About Me"}),D.jsxs("p",{className:"text-white/90 max-w-3xl",children:["I’m Michael, the builder behind ",D.jsx("span",{className:"font-semibold",children:"Likwit Devs"}),". I design and ship **fast, mobile-first websites** that look clean and make it easy to contact or book. My focus is performance (Core Web Vitals), simple content editing, and custom visuals so your brand actually stands out."]}),D.jsxs("ul",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 text-white/80",children:[D.jsx("li",{children:"• Landing pages and small business sites"}),D.jsx("li",{children:"• CMS or no-code editing (you can update content)"}),D.jsx("li",{children:"• Speed + SEO best practices"}),D.jsx("li",{children:"• Integrations: email, forms, booking, payments"})]}),D.jsxs("div",{className:"mt-6 flex flex-wrap gap-2 text-sm text-white/80",children:[D.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"React"}),D.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Tailwind"}),D.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Firebase"}),D.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Stripe"}),D.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"EmailJS"})]}),D.jsxs("div",{className:"mt-6 grid gap-3 sm:grid-cols-3 text-white/80",children:[D.jsxs("div",{children:[D.jsx("span",{className:"text-white font-semibold",children:"1."})," Brief & scope"]}),D.jsxs("div",{children:[D.jsx("span",{className:"text-white font-semibold",children:"2."})," Design → build"]}),D.jsxs("div",{children:[D.jsx("span",{className:"text-white font-semibold",children:"3."})," Launch & handoff"]})]})]})})})}function i5(){const n=[{name:"Starter Site",price:"$300",blurb:"Single-page landing built to look great on mobile.",features:["About + Gallery + Contact","Responsive (mobile-first)","Fast load times","Basic on-page SEO","1–2 week turnaround","2 revision rounds"],cta:"Get Starter"},{name:"Business Site",price:"$600",blurb:"Multi-page site with SEO setup and clean navigation.",features:["Home, About, Services, Gallery, Contact","Responsive design","On-page SEO setup","Analytics installed","2–3 week turnaround","2 revision rounds"],cta:"Start Business Site",highlight:!0},{name:"E-commerce / Booking",price:"$1,000+",blurb:"Sell products or take appointments with secure checkout.",features:["Stripe/PayPal checkout or booking calendar","Product/Service management","Email notifications","On-page SEO","3–5 week timeline","Admin walkthrough"],cta:"Discuss Your Store"}];return D.jsx("section",{id:"pricing",className:"relative z-10 px-4 pt-12 pb-28 md:pt-16 md:pb-32 scroll-mt-32 md:scroll-mt-40",children:D.jsxs("div",{className:"mx-auto max-w-6xl",children:[D.jsxs(mn,{once:!0,enter:.1,exit:0,rootMargin:"-8% 0px -80% 0px",children:[D.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Packages & Pricing"}),D.jsx("p",{className:"text-white/80 mb-6",children:"Transparent “from” pricing. Exact quotes depend on scope and timeline."})]}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map((e,t)=>{const i=t*90;return D.jsxs("div",{className:["rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md","shadow-[0_8px_30px_rgba(0,0,0,0.3)] overflow-hidden p-6 text-white",e.highlight?"ring-1 ring-white/20":""].join(" "),children:[D.jsx(mn,{y:8,delay:i,children:D.jsx("div",{className:"text-sm uppercase tracking-wide text-white/70",children:e.name})}),D.jsx(mn,{y:8,delay:i+80,children:D.jsx("div",{className:"mt-2 text-3xl font-bold",children:e.price})}),D.jsx(mn,{y:8,delay:i+120,children:D.jsx("p",{className:"mt-2 text-white/80",children:e.blurb})}),D.jsx("ul",{className:"mt-4 space-y-2 text-white/80",children:e.features.map((r,a)=>D.jsx(mn,{y:8,delay:i+160+a*40,children:D.jsxs("li",{className:"flex gap-2",children:[D.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-white/60"}),D.jsx("span",{children:r})]})},r))}),D.jsx(mn,{y:8,delay:i+160+e.features.length*40+80,children:D.jsx(ts,{to:`/contact?plan=${encodeURIComponent(e.name)}`,className:"btn mt-6 w-full",children:e.cta})}),D.jsx(mn,{y:8,delay:i+160+e.features.length*40+140,children:D.jsx("p",{className:"mt-3 text-xs text-white/60",children:"*Pricing is “from” and may vary with scope. 50% deposit to start."})})]},e.name)})}),D.jsxs("div",{className:"mt-8 rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md p-6 text-white/80",children:[D.jsx(mn,{y:8,children:D.jsx("h3",{className:"font-semibold text-white mb-2",children:"Popular add-ons"})}),D.jsx("div",{className:"flex flex-wrap gap-2",children:["Logo refresh","Copywriting","Speed/SEO tune-up","Maintenance plan"].map((e,t)=>D.jsx(mn,{y:8,delay:t*60,children:D.jsx("span",{className:"px-3 py-1 rounded-full bg-white/10 border border-white/10 text-sm",children:e})},e))})]})]})})}function s5(){return D.jsxs(D.Fragment,{children:[D.jsxs("section",{className:"relative overflow-hidden hero-stable",children:[D.jsx(f1,{className:"pointer-events-none absolute inset-0"}),D.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-transparent"}),D.jsx("div",{className:"mx-auto max-w-6xl px-4",children:D.jsxs("div",{className:"relative py-14 md:py-24",children:[D.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight text-white",children:"Websites that outpace your competition."}),D.jsx("p",{className:"mt-3 text-base sm:text-lg md:text-xl leading-relaxed text-white/90 max-w-2xl",children:D.jsx(Z9,{texts:["Blazing-fast performance & Core Web Vitals friendly.","Mobile-first design with clean, modern UI.","SEO-ready builds and simple content editing.","Custom visuals so your brand actually stands out."],speed:70,pause:1600})}),D.jsx("button",{onClick:()=>{document.getElementById("projects")?.scrollIntoView({behavior:"smooth"})},className:"btn-subtle text-white bg-black/10 backdrop-blur-md mt-3",children:"View Projects"}),D.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 text-sm text-white/80",children:[D.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Responsive"}),D.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Fast Loads"}),D.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"SEO Ready"}),D.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Modern UI"})]})]})})]}),D.jsx(t5,{}),D.jsx(n5,{}),D.jsx(i5,{})]})}class yh{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const r5=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},an={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:r5()},tb=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},o5=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=tb(n);an.publicKey=t.publicKey,an.blockHeadless=t.blockHeadless,an.storageProvider=t.storageProvider,an.blockList=t.blockList,an.limitRate=t.limitRate,an.origin=t.origin||e},eI=async(n,e,t={})=>{const i=await fetch(an.origin+n,{method:"POST",headers:t,body:e}),r=await i.text(),a=new yh(i.status,r);if(i.ok)return a;throw a},tI=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},a5=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},nI=n=>n.webdriver||!n.languages||n.languages.length===0,iI=()=>new yh(451,"Unavailable For Headless Browser"),l5=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},u5=n=>!n.list?.length||!n.watchVariable,c5=(n,e)=>n instanceof FormData?n.get(e):n[e],sI=(n,e)=>{if(u5(n))return!1;l5(n.list,n.watchVariable);const t=c5(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},rI=()=>new yh(403,"Forbidden"),h5=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},f5=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},oI=async(n,e,t)=>{if(!e.throttle||!t)return!1;h5(e.throttle,e.id);const i=e.id||n;return await f5(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},aI=()=>new yh(429,"Too Many Requests"),d5=async(n,e,t,i)=>{const r=tb(i),a=r.publicKey||an.publicKey,u=r.blockHeadless||an.blockHeadless,h=r.storageProvider||an.storageProvider,f={...an.blockList,...r.blockList},d={...an.limitRate,...r.limitRate};return u&&nI(navigator)?Promise.reject(iI()):(tI(a,n,e),a5(t),t&&sI(f,t)?Promise.reject(rI()):await oI(location.pathname,d,h)?Promise.reject(aI()):eI("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},p5=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},m5=n=>typeof n=="string"?document.querySelector(n):n,g5=async(n,e,t,i)=>{const r=tb(i),a=r.publicKey||an.publicKey,u=r.blockHeadless||an.blockHeadless,h=an.storageProvider||r.storageProvider,f={...an.blockList,...r.blockList},d={...an.limitRate,...r.limitRate};if(u&&nI(navigator))return Promise.reject(iI());const g=m5(t);tI(a,n,e),p5(g);const v=new FormData(g);return sI(f,v)?Promise.reject(rI()):await oI(location.pathname,d,h)?Promise.reject(aI()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",e),v.append("user_id",a),eI("/api/v1.0/email/send-form",v))},y5={init:o5,send:d5,sendForm:g5,EmailJSResponseStatus:yh},lI=U.createContext({});function v5(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const nb=typeof window<"u",_5=nb?U.useLayoutEffect:U.useEffect,ib=U.createContext(null);function sb(n,e){n.indexOf(e)===-1&&n.push(e)}function rb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ws=(n,e,t)=>t>e?e:t<n?n:t;let ob=()=>{};const Zs={},uI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function cI(n){return typeof n=="object"&&n!==null}const hI=n=>/^0[^.\s]+$/u.test(n);function ab(n){let e;return()=>(e===void 0&&(e=n()),e)}const gi=n=>n,b5=(n,e)=>t=>e(n(t)),vh=(...n)=>n.reduce(b5),Wc=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class lb{constructor(){this.subscriptions=[]}add(e){return sb(this.subscriptions,e),()=>rb(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const u=this.subscriptions[a];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const us=n=>n*1e3,cs=n=>n/1e3;function fI(n,e){return e?n*(1e3/e):0}const dI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,w5=1e-7,T5=12;function E5(n,e,t,i,r){let a,u,h=0;do u=e+(t-e)/2,a=dI(u,i,r)-n,a>0?t=u:e=u;while(Math.abs(a)>w5&&++h<T5);return u}function _h(n,e,t,i){if(n===e&&t===i)return gi;const r=a=>E5(a,0,1,n,t);return a=>a===0||a===1?a:dI(r(a),e,i)}const pI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,mI=n=>e=>1-n(1-e),gI=_h(.33,1.53,.69,.99),ub=mI(gI),yI=pI(ub),vI=n=>(n*=2)<1?.5*ub(n):.5*(2-Math.pow(2,-10*(n-1))),cb=n=>1-Math.sin(Math.acos(n)),_I=mI(cb),bI=pI(cb),S5=_h(.42,0,1,1),A5=_h(0,0,.58,1),wI=_h(.42,0,.58,1),x5=n=>Array.isArray(n)&&typeof n[0]!="number",TI=n=>Array.isArray(n)&&typeof n[0]=="number",R5={linear:gi,easeIn:S5,easeInOut:wI,easeOut:A5,circIn:cb,circInOut:bI,circOut:_I,backIn:ub,backInOut:yI,backOut:gI,anticipate:vI},C5=n=>typeof n=="string",uA=n=>{if(TI(n)){ob(n.length===4);const[e,t,i,r]=n;return _h(e,t,i,r)}else if(C5(n))return R5[n];return n},id=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function I5(n,e){let t=new Set,i=new Set,r=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(d.schedule(g),n()),g(h)}const d={schedule:(g,v=!1,b=!1)=>{const C=b&&r?t:i;return v&&u.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(f),t.clear(),r=!1,a&&(a=!1,d.process(g))}};return d}const D5=40;function EI(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=id.reduce((j,G)=>(j[G]=I5(a),j),{}),{setup:h,read:f,resolveKeyframes:d,preUpdate:g,update:v,preRender:b,render:E,postRender:C}=u,A=()=>{const j=Zs.useManualTiming?r.timestamp:performance.now();t=!1,Zs.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(j-r.timestamp,D5),1)),r.timestamp=j,r.isProcessing=!0,h.process(r),f.process(r),d.process(r),g.process(r),v.process(r),b.process(r),E.process(r),C.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(A))},R=()=>{t=!0,i=!0,r.isProcessing||n(A)};return{schedule:id.reduce((j,G)=>{const Z=u[G];return j[G]=(ue,O=!1,I=!1)=>(t||R(),Z.schedule(ue,O,I)),j},{}),cancel:j=>{for(let G=0;G<id.length;G++)u[id[G]].cancel(j)},state:r,steps:u}}const{schedule:ut,cancel:Jr,state:rn,steps:_y}=EI(typeof requestAnimationFrame<"u"?requestAnimationFrame:gi,!0);let wd;function P5(){wd=void 0}const Vn={now:()=>(wd===void 0&&Vn.set(rn.isProcessing||Zs.useManualTiming?rn.timestamp:performance.now()),wd),set:n=>{wd=n,queueMicrotask(P5)}},SI=n=>e=>typeof e=="string"&&e.startsWith(n),hb=SI("--"),k5=SI("var(--"),fb=n=>k5(n)?M5.test(n.split("/*")[0].trim()):!1,M5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Zc={...Jl,transform:n=>Ws(0,1,n)},sd={...Jl,default:1},Pc=n=>Math.round(n*1e5)/1e5,db=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O5(n){return n==null}const N5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pb=(n,e)=>t=>!!(typeof t=="string"&&N5.test(t)&&t.startsWith(n)||e&&!O5(t)&&Object.prototype.hasOwnProperty.call(t,e)),AI=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,u,h]=i.match(db);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},V5=n=>Ws(0,255,n),by={...Jl,transform:n=>Math.round(V5(n))},Wo={test:pb("rgb","red"),parse:AI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+by.transform(n)+", "+by.transform(e)+", "+by.transform(t)+", "+Pc(Zc.transform(i))+")"};function L5(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const _v={test:pb("#"),parse:L5,transform:Wo.transform},bh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Pr=bh("deg"),hs=bh("%"),Se=bh("px"),U5=bh("vh"),z5=bh("vw"),cA={...hs,parse:n=>hs.parse(n)/100,transform:n=>hs.transform(n*100)},wl={test:pb("hsl","hue"),parse:AI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+hs.transform(Pc(e))+", "+hs.transform(Pc(t))+", "+Pc(Zc.transform(i))+")"},Ot={test:n=>Wo.test(n)||_v.test(n)||wl.test(n),parse:n=>Wo.test(n)?Wo.parse(n):wl.test(n)?wl.parse(n):_v.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Wo.transform(n):wl.transform(n),getAnimatableNone:n=>{const e=Ot.parse(n);return e.alpha=0,Ot.transform(e)}},B5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j5(n){return isNaN(n)&&typeof n=="string"&&(n.match(db)?.length||0)+(n.match(B5)?.length||0)>0}const xI="number",RI="color",F5="var",q5="var(",hA="${}",H5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jc(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const h=e.replace(H5,f=>(Ot.test(f)?(i.color.push(a),r.push(RI),t.push(Ot.parse(f))):f.startsWith(q5)?(i.var.push(a),r.push(F5),t.push(f)):(i.number.push(a),r.push(xI),t.push(parseFloat(f))),++a,hA)).split(hA);return{values:t,split:h,indexes:i,types:r}}function CI(n){return Jc(n).values}function II(n){const{split:e,types:t}=Jc(n),i=e.length;return r=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],r[u]!==void 0){const h=t[u];h===xI?a+=Pc(r[u]):h===RI?a+=Ot.transform(r[u]):a+=r[u]}return a}}const G5=n=>typeof n=="number"?0:Ot.test(n)?Ot.getAnimatableNone(n):n;function $5(n){const e=CI(n);return II(n)(e.map(G5))}const eo={test:j5,parse:CI,createTransformer:II,getAnimatableNone:$5};function wy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function K5({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,u=0;if(!e)r=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;r=wy(f,h,n+1/3),a=wy(f,h,n),u=wy(f,h,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Qd(n,e){return t=>t>0?e:n}const pt=(n,e,t)=>n+(e-n)*t,Ty=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},Y5=[_v,Wo,wl],X5=n=>Y5.find(e=>e.test(n));function fA(n){const e=X5(n);if(!e)return!1;let t=e.parse(n);return e===wl&&(t=K5(t)),t}const dA=(n,e)=>{const t=fA(n),i=fA(e);if(!t||!i)return Qd(n,e);const r={...t};return a=>(r.red=Ty(t.red,i.red,a),r.green=Ty(t.green,i.green,a),r.blue=Ty(t.blue,i.blue,a),r.alpha=pt(t.alpha,i.alpha,a),Wo.transform(r))},bv=new Set(["none","hidden"]);function Q5(n,e){return bv.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function W5(n,e){return t=>pt(n,e,t)}function mb(n){return typeof n=="number"?W5:typeof n=="string"?fb(n)?Qd:Ot.test(n)?dA:eF:Array.isArray(n)?DI:typeof n=="object"?Ot.test(n)?dA:Z5:Qd}function DI(n,e){const t=[...n],i=t.length,r=n.map((a,u)=>mb(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)t[u]=r[u](a);return t}}function Z5(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=mb(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function J5(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],u=n.indexes[a][i[a]],h=n.values[u]??0;t[r]=h,i[a]++}return t}const eF=(n,e)=>{const t=eo.createTransformer(e),i=Jc(n),r=Jc(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?bv.has(n)&&!r.values.length||bv.has(e)&&!i.values.length?Q5(n,e):vh(DI(J5(i,r),r.values),t):Qd(n,e)};function PI(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?pt(n,e,t):mb(n)(n,e)}const tF=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ut.update(e,t),stop:()=>Jr(e),now:()=>rn.isProcessing?rn.timestamp:Vn.now()}},kI=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Wd=2e4;function gb(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Wd;)e+=t,i=n.next(e);return e>=Wd?1/0:e}function nF(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(gb(i),Wd);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:cs(r)}}const iF=5;function MI(n,e,t){const i=Math.max(e-iF,0);return fI(t-n(i),e-i)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ey=.001;function sF({duration:n=_t.duration,bounce:e=_t.bounce,velocity:t=_t.velocity,mass:i=_t.mass}){let r,a,u=1-e;u=Ws(_t.minDamping,_t.maxDamping,u),n=Ws(_t.minDuration,_t.maxDuration,cs(n)),u<1?(r=d=>{const g=d*u,v=g*n,b=g-t,E=wv(d,u),C=Math.exp(-v);return Ey-b/E*C},a=d=>{const v=d*u*n,b=v*t+t,E=Math.pow(u,2)*Math.pow(d,2)*n,C=Math.exp(-v),A=wv(Math.pow(d,2),u);return(-r(d)+Ey>0?-1:1)*((b-E)*C)/A}):(r=d=>{const g=Math.exp(-d*n),v=(d-t)*n+1;return-Ey+g*v},a=d=>{const g=Math.exp(-d*n),v=(t-d)*(n*n);return g*v});const h=5/n,f=oF(r,a,h);if(n=us(n),isNaN(f))return{stiffness:_t.stiffness,damping:_t.damping,duration:n};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:u*2*Math.sqrt(i*d),duration:n}}}const rF=12;function oF(n,e,t){let i=t;for(let r=1;r<rF;r++)i=i-n(i)/e(i);return i}function wv(n,e){return n*Math.sqrt(1-e*e)}const aF=["duration","bounce"],lF=["stiffness","damping","mass"];function pA(n,e){return e.some(t=>n[t]!==void 0)}function uF(n){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...n};if(!pA(n,lF)&&pA(n,aF))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*Ws(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:_t.mass,stiffness:r,damping:a}}else{const t=sF(n);e={...e,...t,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Zd(n=_t.visualDuration,e=_t.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:d,mass:g,duration:v,velocity:b,isResolvedFromDuration:E}=uF({...t,velocity:-cs(t.velocity||0)}),C=b||0,A=d/(2*Math.sqrt(f*g)),R=u-a,P=cs(Math.sqrt(f/g)),B=Math.abs(R)<5;i||(i=B?_t.restSpeed.granular:_t.restSpeed.default),r||(r=B?_t.restDelta.granular:_t.restDelta.default);let j;if(A<1){const Z=wv(P,A);j=ue=>{const O=Math.exp(-A*P*ue);return u-O*((C+A*P*R)/Z*Math.sin(Z*ue)+R*Math.cos(Z*ue))}}else if(A===1)j=Z=>u-Math.exp(-P*Z)*(R+(C+P*R)*Z);else{const Z=P*Math.sqrt(A*A-1);j=ue=>{const O=Math.exp(-A*P*ue),I=Math.min(Z*ue,300);return u-O*((C+A*P*R)*Math.sinh(I)+Z*R*Math.cosh(I))/Z}}const G={calculatedDuration:E&&v||null,next:Z=>{const ue=j(Z);if(E)h.done=Z>=v;else{let O=Z===0?C:0;A<1&&(O=Z===0?us(C):MI(j,Z,ue));const I=Math.abs(O)<=i,k=Math.abs(u-ue)<=r;h.done=I&&k}return h.value=h.done?u:ue,h},toString:()=>{const Z=Math.min(gb(G),Wd),ue=kI(O=>G.next(Z*O).value,Z,30);return Z+"ms "+ue},toTransition:()=>{}};return G}Zd.applyToOptions=n=>{const e=nF(n,100,Zd);return n.ease=e.ease,n.duration=us(e.duration),n.type="keyframes",n};function Tv({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const v=n[0],b={done:!1,value:v},E=I=>h!==void 0&&I<h||f!==void 0&&I>f,C=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let A=t*e;const R=v+A,P=u===void 0?R:u(R);P!==R&&(A=P-v);const B=I=>-A*Math.exp(-I/i),j=I=>P+B(I),G=I=>{const k=B(I),L=j(I);b.done=Math.abs(k)<=d,b.value=b.done?P:L};let Z,ue;const O=I=>{E(b.value)&&(Z=I,ue=Zd({keyframes:[b.value,C(b.value)],velocity:MI(j,I,b.value),damping:r,stiffness:a,restDelta:d,restSpeed:g}))};return O(0),{calculatedDuration:null,next:I=>{let k=!1;return!ue&&Z===void 0&&(k=!0,G(I),O(I)),Z!==void 0&&I>=Z?ue.next(I-Z):(!k&&G(I),b)}}}function cF(n,e,t){const i=[],r=t||Zs.mix||PI,a=n.length-1;for(let u=0;u<a;u++){let h=r(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||gi:e;h=vh(f,h)}i.push(h)}return i}function hF(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(ob(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=cF(e,i,r),f=h.length,d=g=>{if(u&&g<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const b=Wc(n[v],n[v+1],g);return h[v](b)};return t?g=>d(Ws(n[0],n[a-1],g)):d}function fF(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Wc(0,e,i);n.push(pt(t,1,r))}}function dF(n){const e=[0];return fF(e,n.length-1),e}function pF(n,e){return n.map(t=>t*e)}function mF(n,e){return n.map(()=>e||wI).splice(0,n.length-1)}function kc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=x5(i)?i.map(uA):uA(i),a={done:!1,value:e[0]},u=pF(t&&t.length===e.length?t:dF(e),n),h=hF(u,e,{ease:Array.isArray(r)?r:mF(e,r)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}const gF=n=>n!==null;function yb(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter(gF),h=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!h||i===void 0?a[h]:i}const yF={decay:Tv,inertia:Tv,tween:kc,keyframes:kc,spring:Zd};function OI(n){typeof n.type=="string"&&(n.type=yF[n.type])}class vb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const vF=n=>n/100;class _b extends vb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OI(e);const{type:t=kc,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:u=0}=e;let{keyframes:h}=e;const f=t||kc;f!==kc&&typeof h[0]!="number"&&(this.mixKeyframes=vh(vF,PI(h[0],h[1])),h=[0,100]);const d=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=gb(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:E,type:C,onUpdate:A,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const P=this.currentTime-d*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?P<0:P>r;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let j=this.currentTime,G=i;if(v){const I=Math.min(this.currentTime,r)/h;let k=Math.floor(I),L=I%1;!L&&I>=1&&(L=1),L===1&&k--,k=Math.min(k,v+1),!!(k%2)&&(b==="reverse"?(L=1-L,E&&(L-=E/h)):b==="mirror"&&(G=u)),j=Ws(0,1,L)*h}const Z=B?{done:!1,value:g[0]}:G.next(j);a&&(Z.value=a(Z.value));let{done:ue}=Z;!B&&f!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return O&&C!==Tv&&(Z.value=yb(g,this.options,R,this.speed)),A&&A(Z.value),O&&this.finish(),Z}then(e,t){return this.finished.then(e,t)}get duration(){return cs(this.calculatedDuration)}get time(){return cs(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tF,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function _F(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Zo=n=>n*180/Math.PI,Ev=n=>{const e=Zo(Math.atan2(n[1],n[0]));return Sv(e)},bF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ev,rotateZ:Ev,skewX:n=>Zo(Math.atan(n[1])),skewY:n=>Zo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Sv=n=>(n=n%360,n<0&&(n+=360),n),mA=Ev,gA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),yA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),wF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gA,scaleY:yA,scale:n=>(gA(n)+yA(n))/2,rotateX:n=>Sv(Zo(Math.atan2(n[6],n[5]))),rotateY:n=>Sv(Zo(Math.atan2(-n[2],n[0]))),rotateZ:mA,rotate:mA,skewX:n=>Zo(Math.atan(n[4])),skewY:n=>Zo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Av(n){return n.includes("scale")?1:0}function xv(n,e){if(!n||n==="none")return Av(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=wF,r=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=bF,r=h}if(!r)return Av(e);const a=i[e],u=r[1].split(",").map(EF);return typeof a=="function"?a(u):u[a]}const TF=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return xv(t,e)};function EF(n){return parseFloat(n.trim())}const eu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tu=new Set(eu),vA=n=>n===Jl||n===Se,SF=new Set(["x","y","z"]),AF=eu.filter(n=>!SF.has(n));function xF(n){const e=[];return AF.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const na={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>xv(e,"x"),y:(n,{transform:e})=>xv(e,"y")};na.translateX=na.x;na.translateY=na.y;const ia=new Set;let Rv=!1,Cv=!1,Iv=!1;function NI(){if(Cv){const n=Array.from(ia).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=xF(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,u])=>{i.getValue(a)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Cv=!1,Rv=!1,ia.forEach(n=>n.complete(Iv)),ia.clear()}function VI(){ia.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Cv=!0)})}function RF(){Iv=!0,VI(),NI(),Iv=!1}class bb{constructor(e,t,i,r,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ia.add(this),Rv||(Rv=!0,ut.read(VI),ut.resolveKeyframes(NI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),r&&a===void 0&&r.set(e[0])}_F(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ia.delete(this)}cancel(){this.state==="scheduled"&&(ia.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CF=n=>n.startsWith("--");function IF(n,e,t){CF(e)?n.style.setProperty(e,t):n.style[e]=t}const DF=ab(()=>window.ScrollTimeline!==void 0),PF={};function kF(n,e){const t=ab(n);return()=>PF[e]??t()}const LI=kF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,_A={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wc([0,.65,.55,1]),circOut:wc([.55,0,1,.45]),backIn:wc([.31,.01,.66,-.59]),backOut:wc([.33,1.53,.69,.99])};function UI(n,e){if(n)return typeof n=="function"?LI()?kI(n,e):"ease-out":TI(n)?wc(n):Array.isArray(n)?n.map(t=>UI(t,e)||_A.easeOut):_A[n]}function MF(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:u="loop",ease:h="easeOut",times:f}={},d=void 0){const g={[e]:t};f&&(g.offset=f);const v=UI(h,r);Array.isArray(v)&&(g.easing=v);const b={delay:i,duration:r,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return d&&(b.pseudoElement=d),n.animate(g,b)}function zI(n){return typeof n=="function"&&"applyToOptions"in n}function OF({type:n,...e}){return zI(n)&&LI()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class NF extends vb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,ob(typeof e.type!="string");const d=OF(e);this.animation=MF(t,i,r,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=yb(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):IF(t,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return cs(Number(e))}get time(){return cs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=us(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&DF()?(this.animation.timeline=e,gi):t(this)}}const BI={anticipate:vI,backInOut:yI,circInOut:bI};function VF(n){return n in BI}function LF(n){typeof n.ease=="string"&&VF(n.ease)&&(n.ease=BI[n.ease])}const bA=10;class UF extends NF{constructor(e){LF(e),OI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new _b({...u,autoplay:!1}),f=us(this.finishedTime??this.time);t.setWithVelocity(h.sample(f-bA).value,h.sample(f).value,bA),h.stop()}}const wA=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(eo.test(n)||n==="0")&&!n.startsWith("url("));function zF(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function BF(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=wA(r,e),h=wA(a,e);return!u||!h?!1:zF(n)||(t==="spring"||zI(t))&&i}function Dv(n){n.duration=0,n.type}const jF=new Set(["opacity","clipPath","filter","transform"]),FF=ab(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qF(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return FF()&&t&&jF.has(t)&&(t!=="transform"||!d)&&!f&&!i&&r!=="mirror"&&a!==0&&u!=="inertia"}const HF=40;class GF extends vb{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:u="loop",keyframes:h,name:f,motionValue:d,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vn.now();const b={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:u,name:f,motionValue:d,element:g,...v},E=g?.KeyframeResolver||bb;this.keyframeResolver=new E(h,(C,A,R)=>this.onKeyframesResolved(C,A,b,!R),f,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:u,velocity:h,delay:f,isHandoff:d,onUpdate:g}=i;this.resolvedAt=Vn.now(),BF(e,a,u,h)||((Zs.instantAnimations||!f)&&g?.(yb(e,i,t)),e[0]=e[e.length-1],Dv(i),i.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>HF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},E=!d&&qF(b)?new UF({...b,element:b.motionValue.owner.current}):new _b(b);E.finished.then(()=>this.notifyFinished()).catch(gi),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),RF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $F=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KF(n){const e=$F.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function jI(n,e,t=1){const[i,r]=KF(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return uI(u)?parseFloat(u):u}return fb(r)?jI(r,e,t+1):r}function wb(n,e){return n?.[e]??n?.default??n}const FI=new Set(["width","height","top","left","right","bottom",...eu]),YF={test:n=>n==="auto",parse:n=>n},qI=n=>e=>e.test(n),HI=[Jl,Se,hs,Pr,z5,U5,YF],TA=n=>HI.find(qI(n));function XF(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||hI(n):!0}const QF=new Set(["brightness","contrast","saturate","opacity"]);function WF(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(db)||[];if(!i)return n;const r=t.replace(i,"");let a=QF.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const ZF=/\b([a-z-]*)\(.*?\)/gu,Pv={...eo,getAnimatableNone:n=>{const e=n.match(ZF);return e?e.map(WF).join(" "):n}},EA={...Jl,transform:Math.round},JF={rotate:Pr,rotateX:Pr,rotateY:Pr,rotateZ:Pr,scale:sd,scaleX:sd,scaleY:sd,scaleZ:sd,skew:Pr,skewX:Pr,skewY:Pr,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Zc,originX:cA,originY:cA,originZ:Se},Tb={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...JF,zIndex:EA,fillOpacity:Zc,strokeOpacity:Zc,numOctaves:EA},e8={...Tb,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Pv,WebkitFilter:Pv},GI=n=>e8[n];function $I(n,e){let t=GI(n);return t!==Pv&&(t=eo),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const t8=new Set(["auto","none","0"]);function n8(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!t8.has(a)&&Jc(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=$I(t,r)}class i8 extends bb{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),fb(d))){const g=jI(d,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!FI.has(i)||e.length!==2)return;const[r,a]=e,u=TA(r),h=TA(a);if(u!==h)if(vA(u)&&vA(h))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else na[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||XF(e[r]))&&i.push(r);i.length&&n8(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=na[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=na[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function s8(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=t?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const KI=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function r8(n){return cI(n)&&"offsetHeight"in n}const SA=30,o8=n=>!isNaN(parseFloat(n));class a8{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=Vn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=o8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new lb);const i=this.events[e].add(t);return e==="change"?()=>{i(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>SA)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,SA);return fI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fl(n,e){return new a8(n,e)}const{schedule:Eb}=EI(queueMicrotask,!1),Si={x:!1,y:!1};function YI(){return Si.x||Si.y}function l8(n){return n==="x"||n==="y"?Si[n]?null:(Si[n]=!0,()=>{Si[n]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function XI(n,e){const t=s8(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function AA(n){return!(n.pointerType==="touch"||YI())}function u8(n,e,t={}){const[i,r,a]=XI(n,t),u=h=>{if(!AA(h))return;const{target:f}=h,d=e(f,h);if(typeof d!="function"||!f)return;const g=v=>{AA(v)&&(d(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,r)};return i.forEach(h=>{h.addEventListener("pointerenter",u,r)}),a}const QI=(n,e)=>e?n===e?!0:QI(n,e.parentElement):!1,Sb=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,c8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function h8(n){return c8.has(n.tagName)||n.tabIndex!==-1}const Td=new WeakSet;function xA(n){return e=>{e.key==="Enter"&&n(e)}}function Sy(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const f8=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=xA(()=>{if(Td.has(t))return;Sy(t,"down");const r=xA(()=>{Sy(t,"up")}),a=()=>Sy(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function RA(n){return Sb(n)&&!YI()}function d8(n,e,t={}){const[i,r,a]=XI(n,t),u=h=>{const f=h.currentTarget;if(!RA(h))return;Td.add(f);const d=e(f,h),g=(E,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Td.has(f)&&Td.delete(f),RA(E)&&typeof d=="function"&&d(E,{success:C})},v=E=>{g(E,f===window||f===document||t.useGlobalTarget||QI(f,E.target))},b=E=>{g(E,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",b,r)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,r),r8(h)&&(h.addEventListener("focus",d=>f8(d,r)),!h8(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function WI(n){return cI(n)&&"ownerSVGElement"in n}function p8(n){return WI(n)&&n.tagName==="svg"}const vn=n=>!!(n&&n.getVelocity),m8=[...HI,Ot,eo],g8=n=>m8.find(qI(n)),ZI=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function y8(n=!0){const e=U.useContext(ib);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=U.useId();U.useEffect(()=>{if(n)return r(a)},[n]);const u=U.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,u]:[!0]}const JI=U.createContext({strict:!1}),CA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ql={};for(const n in CA)ql[n]={isEnabled:e=>CA[n].some(t=>!!e[t])};function v8(n){for(const e in n)ql[e]={...ql[e],...n[e]}}const _8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||_8.has(n)}let eD=n=>!Jd(n);function b8(n){typeof n=="function"&&(eD=e=>e.startsWith("on")?!Jd(e):n(e))}try{b8(require("@emotion/is-prop-valid").default)}catch{}function w8(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(eD(r)||t===!0&&Jd(r)||!e&&!Jd(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const kp=U.createContext({});function Mp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function eh(n){return typeof n=="string"||Array.isArray(n)}const Ab=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xb=["initial",...Ab];function Op(n){return Mp(n.animate)||xb.some(e=>eh(n[e]))}function tD(n){return!!(Op(n)||n.variants)}function T8(n,e){if(Op(n)){const{initial:t,animate:i}=n;return{initial:t===!1||eh(t)?t:void 0,animate:eh(i)?i:void 0}}return n.inherit!==!1?e:{}}function E8(n){const{initial:e,animate:t}=T8(n,U.useContext(kp));return U.useMemo(()=>({initial:e,animate:t}),[IA(e),IA(t)])}function IA(n){return Array.isArray(n)?n.join(" "):n}const th={};function S8(n){for(const e in n)th[e]=n[e],hb(e)&&(th[e].isCSSVariable=!0)}function nD(n,{layout:e,layoutId:t}){return tu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!th[n]||n==="opacity")}const A8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x8=eu.length;function R8(n,e,t){let i="",r=!0;for(let a=0;a<x8;a++){const u=eu[a],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const d=KI(h,Tb[u]);if(!f){r=!1;const g=A8[u]||u;i+=`${g}(${d}) `}t&&(e[u]=d)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function Rb(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let u=!1,h=!1;for(const f in e){const d=e[f];if(tu.has(f)){u=!0;continue}else if(hb(f)){r[f]=d;continue}else{const g=KI(d,Tb[f]);f.startsWith("origin")?(h=!0,a[f]=g):i[f]=g}}if(e.transform||(u||t?i.transform=R8(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${d} ${g}`}}const Cb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iD(n,e,t){for(const i in e)!vn(e[i])&&!nD(i,t)&&(n[i]=e[i])}function C8({transformTemplate:n},e){return U.useMemo(()=>{const t=Cb();return Rb(t,e,n),Object.assign({},t.vars,t.style)},[e])}function I8(n,e){const t=n.style||{},i={};return iD(i,t,n),Object.assign(i,C8(n,e)),i}function D8(n,e){const t={},i=I8(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const P8={offset:"stroke-dashoffset",array:"stroke-dasharray"},k8={offset:"strokeDashoffset",array:"strokeDasharray"};function M8(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?P8:k8;n[a.offset]=Se.transform(-i);const u=Se.transform(e),h=Se.transform(t);n[a.array]=`${u} ${h}`}function sD(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:u=0,...h},f,d,g){if(Rb(n,h,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),r!==void 0&&M8(v,r,a,u,!1)}const rD=()=>({...Cb(),attrs:{}}),oD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function O8(n,e,t,i){const r=U.useMemo(()=>{const a=rD();return sD(a,e,oD(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};iD(a,n.style,n),r.style={...a,...r.style}}return r}const N8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ib(n){return typeof n!="string"||n.includes("-")?!1:!!(N8.indexOf(n)>-1||/[A-Z]/u.test(n))}function V8(n,e,t,{latestValues:i},r,a=!1){const h=(Ib(n)?O8:D8)(e,i,r,n),f=w8(e,typeof n=="string",a),d=n!==U.Fragment?{...f,...h,ref:t}:{},{children:g}=e,v=U.useMemo(()=>vn(g)?g.get():g,[g]);return U.createElement(n,{...d,children:v})}function DA(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Db(n,e,t,i){if(typeof e=="function"){const[r,a]=DA(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=DA(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function Ed(n){return vn(n)?n.get():n}function L8({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:U8(t,i,r,n),renderState:e()}}function U8(n,e,t,i){const r={},a=i(n,{});for(const b in a)r[b]=Ed(a[b]);let{initial:u,animate:h}=n;const f=Op(n),d=tD(n);e&&d&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!Mp(v)){const b=Array.isArray(v)?v:[v];for(let E=0;E<b.length;E++){const C=Db(n,b[E]);if(C){const{transitionEnd:A,transition:R,...P}=C;for(const B in P){let j=P[B];if(Array.isArray(j)){const G=g?j.length-1:0;j=j[G]}j!==null&&(r[B]=j)}for(const B in A)r[B]=A[B]}}}return r}const aD=n=>(e,t)=>{const i=U.useContext(kp),r=U.useContext(ib),a=()=>L8(n,e,i,r);return t?a():v5(a)};function Pb(n,e,t){const{style:i}=n,r={};for(const a in i)(vn(i[a])||e.style&&vn(e.style[a])||nD(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(r[a]=i[a]);return r}const z8=aD({scrapeMotionValuesFromProps:Pb,createRenderState:Cb});function lD(n,e,t){const i=Pb(n,e,t);for(const r in n)if(vn(n[r])||vn(e[r])){const a=eu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const B8=aD({scrapeMotionValuesFromProps:lD,createRenderState:rD}),j8=Symbol.for("motionComponentSymbol");function Tl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function F8(n,e,t){return U.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Tl(t)&&(t.current=i))},[e])}const kb=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),q8="framerAppearId",uD="data-"+kb(q8),cD=U.createContext({});function H8(n,e,t,i,r){const{visualElement:a}=U.useContext(kp),u=U.useContext(JI),h=U.useContext(ib),f=U.useContext(ZI).reducedMotion,d=U.useRef(null);i=i||u.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:a,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=d.current,v=U.useContext(cD);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&G8(d.current,t,r,v);const b=U.useRef(!1);U.useInsertionEffect(()=>{g&&b.current&&g.update(t,h)});const E=t[uD],C=U.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return _5(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),U.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),C.current=!1),g.enteringChildren=void 0)}),g}function G8(n,e,t,i){const{layoutId:r,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:hD(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!u||h&&Tl(h),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:d})}function hD(n){if(n)return n.options.allowProjection!==!1?n.projection:hD(n.parent)}function Ay(n,{forwardMotionProps:e=!1}={},t,i){t&&v8(t);const r=Ib(n)?B8:z8;function a(h,f){let d;const g={...U.useContext(ZI),...h,layoutId:$8(h)},{isStatic:v}=g,b=E8(h),E=r(h,v);if(!v&&nb){K8();const C=Y8(g);d=C.MeasureLayout,b.visualElement=H8(n,E,g,i,C.ProjectionNode)}return D.jsxs(kp.Provider,{value:b,children:[d&&b.visualElement?D.jsx(d,{visualElement:b.visualElement,...g}):null,V8(n,h,F8(E,b.visualElement,f),E,v,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=U.forwardRef(a);return u[j8]=n,u}function $8({layoutId:n}){const e=U.useContext(lI).id;return e&&n!==void 0?e+"-"+n:n}function K8(n,e){U.useContext(JI).strict}function Y8(n){const{drag:e,layout:t}=ql;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function X8(n,e){if(typeof Proxy>"u")return Ay;const t=new Map,i=(a,u)=>Ay(a,u,n,e),r=(a,u)=>i(a,u);return new Proxy(r,{get:(a,u)=>u==="create"?i:(t.has(u)||t.set(u,Ay(u,void 0,n,e)),t.get(u))})}function fD({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Q8({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function W8(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function xy(n){return n===void 0||n===1}function kv({scale:n,scaleX:e,scaleY:t}){return!xy(n)||!xy(e)||!xy(t)}function Yo(n){return kv(n)||dD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function dD(n){return PA(n.x)||PA(n.y)}function PA(n){return n&&n!=="0%"}function ep(n,e,t){const i=n-t,r=e*i;return t+r}function kA(n,e,t,i,r){return r!==void 0&&(n=ep(n,r,i)),ep(n,t,i)+e}function Mv(n,e=0,t=1,i,r){n.min=kA(n.min,e,t,i,r),n.max=kA(n.max,e,t,i,r)}function pD(n,{x:e,y:t}){Mv(n.x,e.translate,e.scale,e.originPoint),Mv(n.y,t.translate,t.scale,t.originPoint)}const MA=.999999999999,OA=1.0000000000001;function Z8(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,u;for(let h=0;h<r;h++){a=t[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Sl(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,pD(n,u)),i&&Yo(a.latestValues)&&Sl(n,a.latestValues))}e.x<OA&&e.x>MA&&(e.x=1),e.y<OA&&e.y>MA&&(e.y=1)}function El(n,e){n.min=n.min+e,n.max=n.max+e}function NA(n,e,t,i,r=.5){const a=pt(n.min,n.max,r);Mv(n,e,t,a,i)}function Sl(n,e){NA(n.x,e.x,e.scaleX,e.scale,e.originX),NA(n.y,e.y,e.scaleY,e.scale,e.originY)}function mD(n,e){return fD(W8(n.getBoundingClientRect(),e))}function J8(n,e,t){const i=mD(n,t),{scroll:r}=e;return r&&(El(i.x,r.offset.x),El(i.y,r.offset.y)),i}const VA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Al=()=>({x:VA(),y:VA()}),LA=()=>({min:0,max:0}),At=()=>({x:LA(),y:LA()}),Ov={current:null},gD={current:!1};function eq(){if(gD.current=!0,!!nb)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ov.current=n.matches;n.addEventListener("change",e),e()}else Ov.current=!1}const tq=new WeakMap;function nq(n,e,t){for(const i in e){const r=e[i],a=t[i];if(vn(r))n.addValue(i,r);else if(vn(a))n.addValue(i,Fl(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(r):u.hasAnimated||u.set(r)}else{const u=n.getStaticValue(i);n.addValue(i,Fl(u!==void 0?u:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const UA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iq{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Vn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ut.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Op(t),this.isVariantNode=tD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in v){const E=v[b];f[b]!==void 0&&vn(E)&&E.set(f[b])}}mount(e){this.current=e,tq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),gD.current||eq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ov.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jr(this.notifyUpdate),Jr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=tu.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ql){const t=ql[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<UA.length;i++){const r=UA[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,u=e[a];u&&(this.propEventSubscriptions[r]=this.on(r,u))}this.prevMotionValues=nq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Fl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(uI(i)||hI(i))?i=parseFloat(i):!g8(i)&&eo.test(t)&&(i=$I(e,t)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=Db(this.props,t,this.presenceContext?.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!vn(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new lb),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Eb.render(this.render)}}class yD extends iq{constructor(){super(...arguments),this.KeyframeResolver=i8}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function vD(n,{style:e,vars:t},i,r){const a=n.style;let u;for(u in e)a[u]=e[u];r?.applyProjectionStyles(a,i);for(u in t)a.setProperty(u,t[u])}function sq(n){return window.getComputedStyle(n)}class rq extends yD{constructor(){super(...arguments),this.type="html",this.renderInstance=vD}readValueFromInstance(e,t){if(tu.has(t))return this.projection?.isProjecting?Av(t):TF(e,t);{const i=sq(e),r=(hb(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return mD(e,t)}build(e,t,i){Rb(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Pb(e,t,i)}}const _D=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oq(n,e,t,i){vD(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(_D.has(r)?r:kb(r),e.attrs[r])}class aq extends yD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(tu.has(t)){const i=GI(t);return i&&i.default||0}return t=_D.has(t)?t:kb(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return lD(e,t,i)}build(e,t,i){sD(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){oq(e,t,i,r)}mount(e){this.isSVGTag=oD(e.tagName),super.mount(e)}}const lq=(n,e)=>Ib(n)?new aq(e):new rq(e,{allowProjection:n!==U.Fragment});function Pl(n,e,t){const i=n.getProps();return Db(i,e,t!==void 0?t:i.custom,n)}const Nv=n=>Array.isArray(n);function uq(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Fl(t))}function cq(n){return Nv(n)?n[n.length-1]||0:n}function hq(n,e){const t=Pl(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const u in a){const h=cq(a[u]);uq(n,u,h)}}function fq(n){return!!(vn(n)&&n.add)}function Vv(n,e){const t=n.getValue("willChange");if(fq(t))return t.add(e);if(!t&&Zs.WillChange){const i=new Zs.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function bD(n){return n.props[uD]}const dq=n=>n!==null;function pq(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(dq),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const mq={type:"spring",stiffness:500,damping:25,restSpeed:10},gq=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),yq={type:"keyframes",duration:.8},vq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_q=(n,{keyframes:e})=>e.length>2?yq:tu.has(n)?n.startsWith("scale")?gq(e[1]):mq:vq;function bq({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const Mb=(n,e,t,i={},r,a)=>u=>{const h=wb(i,n)||{},f=h.delay||i.delay||0;let{elapsed:d=0}=i;d=d-us(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:a?void 0:r};bq(h)||Object.assign(g,_q(n,g)),g.duration&&(g.duration=us(g.duration)),g.repeatDelay&&(g.repeatDelay=us(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Dv(g),g.delay===0&&(v=!0)),(Zs.instantAnimations||Zs.skipAnimations)&&(v=!0,Dv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!a&&e.get()!==void 0){const b=pq(g.keyframes,h);if(b!==void 0){ut.update(()=>{g.onUpdate(b),g.onComplete()});return}}return h.isSync?new _b(g):new GF(g)};function wq({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function wD(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(a=i);const f=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const g in h){const v=n.getValue(g,n.latestValues[g]??null),b=h[g];if(b===void 0||d&&wq(d,g))continue;const E={delay:t,...wb(a||{},g)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===C&&!E.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const P=bD(n);if(P){const B=window.MotionHandoffAnimation(P,g,ut);B!==null&&(E.startTime=B,A=!0)}}Vv(n,g),v.start(Mb(g,v,b,n.shouldReduceMotion&&FI.has(g)?{type:!1}:E,n,A));const R=v.animation;R&&f.push(R)}return u&&Promise.all(f).then(()=>{ut.update(()=>{u&&hq(n,u)})}),f}function TD(n,e,t,i=0,r=1){const a=Array.from(n).sort((d,g)=>d.sortNodePosition(g)).indexOf(e),u=n.size,h=(u-1)*i;return typeof t=="function"?t(a,u):r===1?a*i:h-a*i}function Lv(n,e,t={}){const i=Pl(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(wD(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:v}=r;return Tq(n,e,f,d,g,v,t)}:()=>Promise.resolve(),{when:h}=r;if(h){const[f,d]=h==="beforeChildren"?[a,u]:[u,a];return f().then(()=>d())}else return Promise.all([a(),u(t.delay)])}function Tq(n,e,t=0,i=0,r=0,a=1,u){const h=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),h.push(Lv(f,e,{...u,delay:t+(typeof i=="function"?0:i)+TD(n.variantChildren,f,i,r,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function Eq(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>Lv(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=Lv(n,e,t);else{const r=typeof e=="function"?Pl(n,e,t.custom):e;i=Promise.all(wD(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function ED(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const Sq=xb.length;function SD(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?SD(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Sq;t++){const i=xb[t],r=n.props[i];(eh(r)||r===!1)&&(e[i]=r)}return e}const Aq=[...Ab].reverse(),xq=Ab.length;function Rq(n){return e=>Promise.all(e.map(({animation:t,options:i})=>Eq(n,t,i)))}function Cq(n){let e=Rq(n),t=zA(),i=!0;const r=f=>(d,g)=>{const v=Pl(n,g,f==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:E,...C}=v;d={...d,...C,...E}}return d};function a(f){e=f(n)}function u(f){const{props:d}=n,g=SD(n.parent)||{},v=[],b=new Set;let E={},C=1/0;for(let R=0;R<xq;R++){const P=Aq[R],B=t[P],j=d[P]!==void 0?d[P]:g[P],G=eh(j),Z=P===f?B.isActive:null;Z===!1&&(C=R);let ue=j===g[P]&&j!==d[P]&&G;if(ue&&i&&n.manuallyAnimateOnMount&&(ue=!1),B.protectedKeys={...E},!B.isActive&&Z===null||!j&&!B.prevProp||Mp(j)||typeof j=="boolean")continue;const O=Iq(B.prevProp,j);let I=O||P===f&&B.isActive&&!ue&&G||R>C&&G,k=!1;const L=Array.isArray(j)?j:[j];let F=L.reduce(r(P),{});Z===!1&&(F={});const{prevResolvedValues:q={}}=B,N={...q,...F},Ct=oe=>{I=!0,b.has(oe)&&(k=!0,b.delete(oe)),B.needsAnimating[oe]=!0;const fe=n.getValue(oe);fe&&(fe.liveStyle=!1)};for(const oe in N){const fe=F[oe],De=q[oe];if(E.hasOwnProperty(oe))continue;let V=!1;Nv(fe)&&Nv(De)?V=!ED(fe,De):V=fe!==De,V?fe!=null?Ct(oe):b.add(oe):fe!==void 0&&b.has(oe)?Ct(oe):B.protectedKeys[oe]=!0}B.prevProp=j,B.prevResolvedValues=F,B.isActive&&(E={...E,...F}),i&&n.blockInitialAnimation&&(I=!1);const st=ue&&O;I&&(!st||k)&&v.push(...L.map(oe=>{const fe={type:P};if(typeof oe=="string"&&i&&!st&&n.manuallyAnimateOnMount&&n.parent){const{parent:De}=n,V=Pl(De,oe);if(De.enteringChildren&&V){const{delayChildren:re}=V.transition||{};fe.delay=TD(De.enteringChildren,n,re)}}return{animation:oe,options:fe}}))}if(b.size){const R={};if(typeof d.initial!="boolean"){const P=Pl(n,Array.isArray(d.initial)?d.initial[0]:d.initial);P&&P.transition&&(R.transition=P.transition)}b.forEach(P=>{const B=n.getBaseTarget(P),j=n.getValue(P);j&&(j.liveStyle=!0),R[P]=B??null}),v.push({animation:R})}let A=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(v):Promise.resolve()}function h(f,d){if(t[f].isActive===d)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(f,d)),t[f].isActive=d;const g=u(f);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t,reset:()=>{t=zA(),i=!0}}}function Iq(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!ED(e,n):!1}function $o(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zA(){return{animate:$o(!0),whileInView:$o(),whileHover:$o(),whileTap:$o(),whileDrag:$o(),whileFocus:$o(),exit:$o()}}class ao{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Dq extends ao{constructor(e){super(e),e.animationState||(e.animationState=Cq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Pq=0;class kq extends ao{constructor(){super(...arguments),this.id=Pq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Mq={animation:{Feature:Dq},exit:{Feature:kq}};function nh(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function wh(n){return{point:{x:n.pageX,y:n.pageY}}}const Oq=n=>e=>Sb(e)&&n(e,wh(e));function Mc(n,e,t,i){return nh(n,e,Oq(t),i)}const AD=1e-4,Nq=1-AD,Vq=1+AD,xD=.01,Lq=0-xD,Uq=0+xD;function Rn(n){return n.max-n.min}function zq(n,e,t){return Math.abs(n-e)<=t}function BA(n,e,t,i=.5){n.origin=i,n.originPoint=pt(e.min,e.max,n.origin),n.scale=Rn(t)/Rn(e),n.translate=pt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Nq&&n.scale<=Vq||isNaN(n.scale))&&(n.scale=1),(n.translate>=Lq&&n.translate<=Uq||isNaN(n.translate))&&(n.translate=0)}function Oc(n,e,t,i){BA(n.x,e.x,t.x,i?i.originX:void 0),BA(n.y,e.y,t.y,i?i.originY:void 0)}function jA(n,e,t){n.min=t.min+e.min,n.max=n.min+Rn(e)}function Bq(n,e,t){jA(n.x,e.x,t.x),jA(n.y,e.y,t.y)}function FA(n,e,t){n.min=e.min-t.min,n.max=n.min+Rn(e)}function Nc(n,e,t){FA(n.x,e.x,t.x),FA(n.y,e.y,t.y)}function di(n){return[n("x"),n("y")]}const RD=({current:n})=>n?n.ownerDocument.defaultView:null,qA=(n,e)=>Math.abs(n-e);function jq(n,e){const t=qA(n.x,e.x),i=qA(n.y,e.y);return Math.sqrt(t**2+i**2)}class CD{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Cy(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,C=jq(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!C)return;const{point:A}=b,{timestamp:R}=rn;this.history.push({...A,timestamp:R});const{onStart:P,onMove:B}=this.handlers;E||(P&&P(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,b)},this.handlePointerMove=(b,E)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Ry(E,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(b,E)=>{this.end();const{onEnd:C,onSessionEnd:A,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Cy(b.type==="pointercancel"?this.lastMoveEventInfo:Ry(E,this.transformPagePoint),this.history);this.startEvent&&C&&C(b,P),A&&A(b,P)},!Sb(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=r||window;const h=wh(e),f=Ry(h,this.transformPagePoint),{point:d}=f,{timestamp:g}=rn;this.history=[{...d,timestamp:g}];const{onSessionStart:v}=t;v&&v(e,Cy(f,this.history)),this.removeListeners=vh(Mc(this.contextWindow,"pointermove",this.handlePointerMove),Mc(this.contextWindow,"pointerup",this.handlePointerUp),Mc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jr(this.updatePoint)}}function Ry(n,e){return e?{point:e(n.point)}:n}function HA(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Cy({point:n},e){return{point:n,delta:HA(n,ID(e)),offset:HA(n,Fq(e)),velocity:qq(e,.1)}}function Fq(n){return n[0]}function ID(n){return n[n.length-1]}function qq(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=ID(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>us(e)));)t--;if(!i)return{x:0,y:0};const a=cs(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Hq(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?pt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?pt(t,n,i.max):Math.min(n,t)),n}function GA(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Gq(n,{top:e,left:t,bottom:i,right:r}){return{x:GA(n.x,t,r),y:GA(n.y,e,i)}}function $A(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function $q(n,e){return{x:$A(n.x,e.x),y:$A(n.y,e.y)}}function Kq(n,e){let t=.5;const i=Rn(n),r=Rn(e);return r>i?t=Wc(e.min,e.max-i,n.min):i>r&&(t=Wc(n.min,n.max-r,e.min)),Ws(0,1,t)}function Yq(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Uv=.35;function Xq(n=Uv){return n===!1?n=0:n===!0&&(n=Uv),{x:KA(n,"left","right"),y:KA(n,"top","bottom")}}function KA(n,e,t){return{min:YA(n,e),max:YA(n,t)}}function YA(n,e){return typeof n=="number"?n:n[e]||0}const Qq=new WeakMap;class Wq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wh(v).point)},u=(v,b)=>{const{drag:E,dragPropagation:C,onDragStart:A}=this.getProps();if(E&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=l8(E),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),di(P=>{let B=this.getAxisMotionValue(P).get()||0;if(hs.test(B)){const{projection:j}=this.visualElement;if(j&&j.layout){const G=j.layout.layoutBox[P];G&&(B=Rn(G)*(parseFloat(B)/100))}}this.originPoint[P]=B}),A&&ut.postRender(()=>A(v,b)),Vv(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:E,dragDirectionLock:C,onDirectionLock:A,onDrag:R}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:P}=b;if(C&&this.currentDirection===null){this.currentDirection=Zq(P),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,P),this.updateAxis("y",b.point,P),this.visualElement.render(),R&&R(v,b)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>di(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new CD(e,{onSessionStart:a,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:RD(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:u}=r;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ut.postRender(()=>h(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!rd(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Hq(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Gq(i.layoutBox,e):this.constraints=!1,this.elastic=Xq(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&di(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Yq(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Tl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=J8(i,r.root,this.visualElement.getTransformPagePoint());let u=$q(r.layout.layoutBox,a);if(t){const h=t(Q8(u));this.hasMutatedConstraints=!!h,h&&(u=fD(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=di(g=>{if(!rd(g,t,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const b=r?200:1e6,E=r?40:1e7,C={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(d).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Vv(this.visualElement,e),i.start(Mb(e,i,0,t,this.visualElement,!1))}stopAnimation(){di(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){di(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){di(t=>{const{drag:i}=this.getProps();if(!rd(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:u,max:h}=r.layout.layoutBox[t];a.set(e[t]-pt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Tl(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};di(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();r[u]=Kq({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),di(u=>{if(!rd(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(pt(f,d,r[u]))})}addListeners(){if(!this.visualElement.current)return;Qq.set(this.visualElement,this);const e=this.visualElement.current,t=Mc(e,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Tl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ut.read(i);const u=nh(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(di(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:u=Uv,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function rd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Zq(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Jq extends ao{constructor(e){super(e),this.removeGroupControls=gi,this.removeListeners=gi,this.controls=new Wq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gi}unmount(){this.removeGroupControls(),this.removeListeners()}}const XA=n=>(e,t)=>{n&&ut.postRender(()=>n(e,t))};class eH extends ao{constructor(){super(...arguments),this.removePointerDownListener=gi}onPointerDown(e){this.session=new CD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:XA(e),onStart:XA(t),onMove:i,onEnd:(a,u)=>{delete this.session,r&&ut.postRender(()=>r(a,u))}}}mount(){this.removePointerDownListener=Mc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const pc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Se.test(n))n=parseFloat(n);else return n;const t=QA(n,e.target.x),i=QA(n,e.target.y);return`${t}% ${i}%`}},tH={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=eo.parse(n);if(r.length>5)return i;const a=eo.createTransformer(n),u=typeof r[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;r[0+u]/=h,r[1+u]/=f;const d=pt(h,f,.5);return typeof r[2+u]=="number"&&(r[2+u]/=d),typeof r[3+u]=="number"&&(r[3+u]/=d),a(r)}};let Iy=!1;class nH extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;S8(iH),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),Iy&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Sd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,Iy=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ut.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Eb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;Iy=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DD(n){const[e,t]=y8(),i=U.useContext(lI);return D.jsx(nH,{...n,layoutGroup:i,switchLayoutGroup:U.useContext(cD),isPresent:e,safeToRemove:t})}const iH={borderRadius:{...pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pc,borderTopRightRadius:pc,borderBottomLeftRadius:pc,borderBottomRightRadius:pc,boxShadow:tH};function sH(n,e,t){const i=vn(n)?n:Fl(n);return i.start(Mb("",i,e,t)),i.animation}const rH=(n,e)=>n.depth-e.depth;class oH{constructor(){this.children=[],this.isDirty=!1}add(e){sb(this.children,e),this.isDirty=!0}remove(e){rb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rH),this.isDirty=!1,this.children.forEach(e)}}function aH(n,e){const t=Vn.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(Jr(i),n(a-e))};return ut.setup(i,!0),()=>Jr(i)}const PD=["TopLeft","TopRight","BottomLeft","BottomRight"],lH=PD.length,WA=n=>typeof n=="string"?parseFloat(n):n,ZA=n=>typeof n=="number"||Se.test(n);function uH(n,e,t,i,r,a){r?(n.opacity=pt(0,t.opacity??1,cH(i)),n.opacityExit=pt(e.opacity??1,0,hH(i))):a&&(n.opacity=pt(e.opacity??1,t.opacity??1,i));for(let u=0;u<lH;u++){const h=`border${PD[u]}Radius`;let f=JA(e,h),d=JA(t,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||ZA(f)===ZA(d)?(n[h]=Math.max(pt(WA(f),WA(d),i),0),(hs.test(d)||hs.test(f))&&(n[h]+="%")):n[h]=d}(e.rotate||t.rotate)&&(n.rotate=pt(e.rotate||0,t.rotate||0,i))}function JA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const cH=kD(0,.5,_I),hH=kD(.5,.95,gi);function kD(n,e,t){return i=>i<n?0:i>e?1:t(Wc(n,e,i))}function ex(n,e){n.min=e.min,n.max=e.max}function fi(n,e){ex(n.x,e.x),ex(n.y,e.y)}function tx(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function nx(n,e,t,i,r){return n-=e,n=ep(n,1/t,i),r!==void 0&&(n=ep(n,1/r,i)),n}function fH(n,e=0,t=1,i=.5,r,a=n,u=n){if(hs.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=pt(a.min,a.max,i);n===a&&(h-=e),n.min=nx(n.min,e,t,h,r),n.max=nx(n.max,e,t,h,r)}function ix(n,e,[t,i,r],a,u){fH(n,e[t],e[i],e[r],e.scale,a,u)}const dH=["x","scaleX","originX"],pH=["y","scaleY","originY"];function sx(n,e,t,i){ix(n.x,e,dH,t?t.x:void 0,i?i.x:void 0),ix(n.y,e,pH,t?t.y:void 0,i?i.y:void 0)}function rx(n){return n.translate===0&&n.scale===1}function MD(n){return rx(n.x)&&rx(n.y)}function ox(n,e){return n.min===e.min&&n.max===e.max}function mH(n,e){return ox(n.x,e.x)&&ox(n.y,e.y)}function ax(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function OD(n,e){return ax(n.x,e.x)&&ax(n.y,e.y)}function lx(n){return Rn(n.x)/Rn(n.y)}function ux(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class gH{constructor(){this.members=[]}add(e){sb(this.members,e),e.scheduleRender()}remove(e){if(rb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yH(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((r||a||u)&&(i=`translate3d(${r}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:g,rotateX:v,rotateY:b,skewX:E,skewY:C}=t;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),E&&(i+=`skewX(${E}deg) `),C&&(i+=`skewY(${C}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Dy=["","X","Y","Z"],vH=1e3;let _H=0;function Py(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function ND(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=bD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ut,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&ND(i)}function VD({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(u={},h=e?.()){this.id=_H++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TH),this.nodes.forEach(xH),this.nodes.forEach(RH),this.nodes.forEach(EH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new oH)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new lb),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=WI(u)&&!p8(u),this.instance=u;const{layoutId:h,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{v=window.innerWidth}),n(u,()=>{const E=window.innerWidth;E!==v&&(v=E,this.root.updateBlockedByResize=!0,g&&g(),g=aH(b,250),Sd.hasAnimatedSinceResize&&(Sd.hasAnimatedSinceResize=!1,this.nodes.forEach(fx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&d&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||d.getDefaultTransition()||kH,{onLayoutAnimationStart:A,onLayoutAnimationComplete:R}=d.getProps(),P=!this.targetLayout||!OD(this.targetLayout,E),B=!v&&b;if(this.options.layoutRoot||this.resumeFrom||B||v&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...wb(C,"layout"),onPlay:A,onComplete:R};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(g,B)}else v||fx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CH),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ND(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AH),this.nodes.forEach(bH),this.nodes.forEach(wH)):this.nodes.forEach(hx),this.clearAllSnapshots();const h=Vn.now();rn.delta=Ws(0,1e3/60,h-rn.timestamp),rn.timestamp=h,rn.isProcessing=!0,_y.update.process(rn),_y.preRender.process(rn),_y.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Eb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SH),this.sharedNodes.forEach(IH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!MD(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&this.instance&&(h||Yo(this.latestValues)||g)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),MH(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return At();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(OH))){const{scroll:d}=this.root;d&&(El(h.x,d.offset.x),El(h.y,d.offset.y))}return h}removeElementScroll(u){const h=At();if(fi(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:g,options:v}=d;d!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&fi(h,u),El(h.x,g.offset.x),El(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=At();fi(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Sl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Yo(g.latestValues)&&Sl(f,g.latestValues)}return Yo(this.latestValues)&&Sl(f,this.latestValues),f}removeTransform(u){const h=At();fi(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Yo(d.latestValues))continue;kv(d.latestValues)&&d.updateSnapshot();const g=At(),v=d.measurePageBox();fi(g,v),sx(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return Yo(this.latestValues)&&sx(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Nc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Bq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),pD(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Nc(this.relativeTargetOrigin,this.target,b.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kv(this.parent.latestValues)||dD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(f=!1),f)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;fi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;Z8(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=At());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tx(this.prevProjectionDelta.x,this.projectionDelta.x),tx(this.prevProjectionDelta.y,this.projectionDelta.y)),Oc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!ux(this.projectionDelta.x,this.prevProjectionDelta.x)||!ux(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Al(),this.projectionDelta=Al(),this.projectionDeltaWithTransform=Al()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},v=Al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=At(),E=f?f.source:void 0,C=this.layout?this.layout.source:void 0,A=E!==C,R=this.getStack(),P=!R||R.members.length<=1,B=!!(A&&!P&&this.options.crossfade===!0&&!this.path.some(PH));this.animationProgress=0;let j;this.mixTargetDelta=G=>{const Z=G/1e3;dx(v.x,u.x,Z),dx(v.y,u.y,Z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DH(this.relativeTarget,this.relativeTargetOrigin,b,Z),j&&mH(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=At()),fi(j,this.relativeTarget)),A&&(this.animationValues=g,uH(g,d,this.latestValues,Z,B,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Sd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fl(0)),this.currentAnimation=sH(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&LD(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||At();const v=Rn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const b=Rn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+b}fi(h,f),Sl(h,g),Oc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gH),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&Py("z",u,d,this.animationValues);for(let g=0;g<Dy.length;g++)Py(`rotate${Dy[g]}`,u,d,this.animationValues),Py(`skew${Dy[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ed(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ed(h?.pointerEvents)||""),this.hasProjected&&!Yo(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=yH(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:b,y:E}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${E.origin*100}% 0`,d.animationValues?u.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in th){if(g[C]===void 0)continue;const{correct:A,applyTo:R,isCSSVariable:P}=th[C],B=v==="none"?g[C]:A(g[C],d);if(R){const j=R.length;for(let G=0;G<j;G++)u[R[G]]=B}else P?this.options.visualElement.renderState.vars[C]=B:u[C]=B}this.options.layoutId&&(u.pointerEvents=d===this?Ed(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(cx),this.root.sharedNodes.clear()}}}function bH(n){n.updateLayout()}function wH(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?di(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],b=Rn(v);v.min=t[g].min,v.max=v.min+b}):LD(r,e.layoutBox,t)&&di(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],b=Rn(t[g]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const u=Al();Oc(u,t,e.layoutBox);const h=Al();a?Oc(h,n.applyTransform(i,!0),e.measuredBox):Oc(h,t,e.layoutBox);const f=!MD(u);let d=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const E=At();Nc(E,e.layoutBox,v.layoutBox);const C=At();Nc(C,t,b.layoutBox),OD(E,C)||(d=!0),g.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function TH(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function EH(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function SH(n){n.clearSnapshot()}function cx(n){n.clearMeasurements()}function hx(n){n.isLayoutDirty=!1}function AH(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function fx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function xH(n){n.resolveTargetDelta()}function RH(n){n.calcProjection()}function CH(n){n.resetSkewAndRotation()}function IH(n){n.removeLeadSnapshot()}function dx(n,e,t){n.translate=pt(e.translate,0,t),n.scale=pt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function px(n,e,t,i){n.min=pt(e.min,t.min,i),n.max=pt(e.max,t.max,i)}function DH(n,e,t,i){px(n.x,e.x,t.x,i),px(n.y,e.y,t.y,i)}function PH(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const kH={duration:.45,ease:[.4,0,.1,1]},mx=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),gx=mx("applewebkit/")&&!mx("chrome/")?Math.round:gi;function yx(n){n.min=gx(n.min),n.max=gx(n.max)}function MH(n){yx(n.x),yx(n.y)}function LD(n,e,t){return n==="position"||n==="preserve-aspect"&&!zq(lx(e),lx(t),.2)}function OH(n){return n!==n.root&&n.scroll?.wasRoot}const NH=VD({attachResizeListener:(n,e)=>nh(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ky={current:void 0},UD=VD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ky.current){const n=new NH({});n.mount(window),n.setOptions({layoutScroll:!0}),ky.current=n}return ky.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),VH={pan:{Feature:eH},drag:{Feature:Jq,ProjectionNode:UD,MeasureLayout:DD}};function vx(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&ut.postRender(()=>a(e,wh(e)))}class LH extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=u8(e,(t,i)=>(vx(this.node,i,"Start"),r=>vx(this.node,r,"End"))))}unmount(){}}class UH extends ao{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vh(nh(this.node.current,"focus",()=>this.onFocus()),nh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _x(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&ut.postRender(()=>a(e,wh(e)))}class zH extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=d8(e,(t,i)=>(_x(this.node,i,"Start"),(r,{success:a})=>_x(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zv=new WeakMap,My=new WeakMap,BH=n=>{const e=zv.get(n.target);e&&e(n)},jH=n=>{n.forEach(BH)};function FH({root:n,...e}){const t=n||document;My.has(t)||My.set(t,{});const i=My.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(jH,{root:n,...e})),i[r]}function qH(n,e,t){const i=FH(e);return zv.set(n,t),i.observe(n),()=>{zv.delete(n),i.unobserve(n)}}const HH={some:0,all:1};class GH extends ao{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:HH[r]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=d?g:v;b&&b(f)};return qH(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some($H(e,t))&&this.startObserver()}unmount(){}}function $H({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const KH={inView:{Feature:GH},tap:{Feature:zH},focus:{Feature:UH},hover:{Feature:LH}},YH={layout:{ProjectionNode:UD,MeasureLayout:DD}},XH={...Mq,...KH,...VH,...YH},QH=X8(XH,lq);function WH(){const n=U.useRef(null),[e,t]=U.useState({sending:!1,ok:null,msg:""}),[i,r]=jM(),a=to(),u=i.get("plan")||"",h=["Starter Site","Business Site","E-commerce / Booking"],[f,d]=U.useState(!1),g="service_yh2nn3r",v="template_zh0pz1m",b="X9CRu7KD1qXDNtEnz";U.useEffect(()=>{const R=n.current;R&&u&&!R.message.value.trim()&&(R.message.value=`Hi! I'm interested in the ${u} package. A few details about my project:

• Business / project name:
• Goals for the site:
• Pages / features needed:
• Timeline:
`)},[u]);function E(R){const P=n.current,B=new URLSearchParams(i);if(R?B.set("plan",R):B.delete("plan"),r(B,{replace:!0}),d(!1),P){const j=P.message.value,G=/^Hi! I'm interested in the (.+) package\./;(!j.trim()||G.test(j))&&(P.message.value=R?`Hi! I'm interested in the ${R} package. A few details about my project:

• Business / project name:
• Goals for the site:
• Pages / features needed:
• Timeline:
`:"")}}function C(){a("/"),setTimeout(()=>document.getElementById("pricing")?.scrollIntoView({behavior:"smooth",block:"start"}),80)}async function A(R){if(R.preventDefault(),e.sending)return;const P=n.current,B=P.from_name.value.trim(),j=P.from_email.value.trim(),G=P.message.value.trim();if(!B||!j||!G){t({sending:!1,ok:!1,msg:"Please fill out all fields."});return}try{t({sending:!0,ok:null,msg:""}),await y5.send(g,v,{from_name:B,from_email:j,message:G,plan:u,reply_to:j},{publicKey:b}),t({sending:!1,ok:!0,msg:"Thanks! Your message was sent."}),P.reset()}catch{t({sending:!1,ok:!1,msg:"Could not send. Try again later."})}}return D.jsx("section",{className:"min-h-screen grid place-items-center bg-transparent px-4 pt-28",children:D.jsxs(QH.form,{ref:n,onSubmit:A,initial:{y:12},animate:{y:0,transition:{duration:.28,ease:"easeOut"}},className:`w-full max-w-xl bg-black/40 backdrop-blur-md border border-white/10\r
                   rounded-2xl p-6 text-white space-y-4 transform-gpu`,children:[D.jsx("h2",{className:"text-2xl font-semibold",children:"Contact"}),D.jsx("input",{type:"text",name:"company",className:"hidden",tabIndex:-1,autoComplete:"off"}),D.jsx("div",{className:"text-sm text-white/90",children:u?D.jsxs(D.Fragment,{children:["Interested in:"," ",D.jsx("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/10",children:u}),D.jsx("button",{type:"button",onClick:()=>d(R=>!R),className:"ml-2 text-white/70 hover:text-white underline",children:"change"}),D.jsx("button",{type:"button",onClick:C,className:"ml-3 text-white/70 hover:text-white underline",children:"view packages"}),D.jsx("input",{type:"hidden",name:"plan",value:u})]}):D.jsxs(D.Fragment,{children:["Not sure yet?"," ",D.jsx("button",{type:"button",onClick:()=>d(R=>!R),className:"text-white/70 hover:text-white underline",children:"choose a package"}),D.jsx("button",{type:"button",onClick:C,className:"ml-3 text-white/70 hover:text-white underline",children:"view packages"})]})}),f&&D.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/60 backdrop-blur-md p-2 w-full max-w-xs",children:[h.map(R=>D.jsx("button",{type:"button",onClick:()=>E(R),className:"block w-full text-left rounded-md px-3 py-2 hover:bg-white/10",children:R},R)),D.jsx("button",{type:"button",onClick:()=>E(""),className:"block w-full text-left rounded-md px-3 py-2 hover:bg-white/10 text-white/70",children:"No specific plan"})]}),D.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"text-sm text-white/80",children:"Your name"}),D.jsx("input",{name:"from_name",className:"mt-1 w-full rounded-lg bg-white/10 p-2 outline-none",placeholder:"Jane Doe"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"text-sm text-white/80",children:"Email"}),D.jsx("input",{name:"from_email",type:"email",className:"mt-1 w-full rounded-lg bg-white/10 p-2 outline-none",placeholder:"you@email.com"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"text-sm text-white/80",children:"Message"}),D.jsx("textarea",{name:"message",rows:"5",className:"mt-1 w-full rounded-lg bg-white/10 p-2 outline-none",placeholder:"How can I help?"})]}),D.jsx("button",{type:"submit",disabled:e.sending,className:"w-full rounded-xl bg-white/90 text-black font-semibold py-2 hover:bg-white disabled:opacity-60",children:e.sending?"Sending...":"Send"}),e.ok===!0&&D.jsx("p",{className:"text-green-300",children:e.msg}),e.ok===!1&&D.jsx("p",{className:"text-red-300",children:e.msg})]})})}function ZH(){const[n,e]=U.useState({email:"",pass:""}),[t,i]=U.useState(""),[r,a]=U.useState(!1),u=to(),h=async f=>{f.preventDefault(),a(!0),i("");try{await HU(da,n.email,n.pass),u("/admin")}catch(d){console.error(d),i("Invalid credentials")}finally{a(!1)}};return D.jsx("main",{className:"min-h-screen grid place-items-center p-6",children:D.jsxs("form",{onSubmit:h,className:"w-full max-w-sm rounded-2xl border border-white/10 bg-white/5 p-6 space-y-4",children:[D.jsx("h1",{className:"text-xl font-bold text-center",children:"Admin Login"}),t&&D.jsx("div",{className:"text-red-400 text-center",children:t}),D.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 rounded bg-white/10",value:n.email,onChange:f=>e({...n,email:f.target.value})}),D.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-2 rounded bg-white/10",value:n.pass,onChange:f=>e({...n,pass:f.target.value})}),D.jsx("button",{type:"submit",disabled:r,className:"w-full px-4 py-2 rounded-xl bg-white text-black",children:r?"Logging in…":"Log In"})]})})}const bx="".split(",").map(n=>n.trim()).filter(Boolean),JH=["7u3Uund1CKRrtf4Pw0ehaLCI7WR2"];function e7(){const n=U.useMemo(()=>bx.length?bx:JH,[]),[e,t]=U.useState({loading:!0,ok:!1,user:null});return U.useEffect(()=>cp(da,r=>{const a=!!r&&n.includes(r.uid);t({loading:!1,ok:a,user:r||null})}),[n]),e}function t7(n){return n.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function n7(n){return n.split(",").map(e=>e.trim()).filter(Boolean)}function Oy(n=""){const e=(n||"").trim();return e?/^https?:\/\//i.test(e)?e:`https://${e}`:""}function wx(){const n=e7(),[e,t]=U.useState(!1),[i,r]=U.useState(!1),[a,u]=U.useState([]),[h,f]=U.useState({title:"",href:"",summary:"",description:"",tags:"",order:1,published:!0,file:null,preview:""}),d=to();if(U.useEffect(()=>{const A=cp(da,R=>t(!!R));return()=>A()},[]),U.useEffect(()=>{const A=mv(Yd(Xo,"projects"),gv("order","asc")),R=yv(A,P=>{u(P.docs.map(B=>({id:B.id,...B.data()})))});return()=>R()},[]),n===null)return D.jsx("div",{className:"min-h-screen grid place-items-center p-6 text-white",children:"Checking access…"});if(n===!1)return D.jsx("main",{className:"min-h-screen grid place-items-center p-6 text-white",children:D.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 text-center space-y-3 text-white",children:[D.jsx("div",{children:"Not authorized"}),D.jsx(ts,{to:"/admin/login",className:"inline-flex px-4 py-2 rounded-xl bg-white text-black",children:"Go to Login"})]})});async function g(A){if(A.preventDefault(),i)return;const{title:R,href:P,file:B}=h,j=Oy(P);if(!R||!j||!B){alert("Title, Live link, and Image are required.");return}try{r(!0);const G=t7(R)+"-"+Date.now(),Z=(B.name.split(".").pop()||"jpg").toLowerCase(),ue=`projects/${G}.${Z}`,O=oA(aA,ue);await M9(O,B);const I=await O9(O);await Ej(Yd(Xo,"projects"),{title:h.title,href:j,summary:h.summary,description:h.description,tags:n7(h.tags),order:Number(h.order)||1,published:!!h.published,imagePath:ue,imageUrl:I,createdAt:ed(),updatedAt:ed()}),f({title:"",href:"",summary:"",description:"",tags:"",order:1,published:!0,file:null,preview:""}),A.target.reset?.()?.()}catch(G){console.error(G),alert("Could not add project. Check console for details.")}finally{r(!1)}}async function v(A){await eA(_d(Xo,"projects",A.id),{published:!A.published,updatedAt:ed()})}async function b(A,R){await eA(_d(Xo,"projects",A.id),{order:Number(R)||1,updatedAt:ed()})}async function E(A){if(confirm(`Delete "${A.title}"?`))try{await Tj(_d(Xo,"projects",A.id)),A.imagePath&&await N9(oA(aA,A.imagePath)).catch(()=>{})}catch(R){console.error(R),alert("Delete failed.")}}async function C(){await X1(da),d("/")}return D.jsxs("main",{className:"min-h-screen px-4 pt-28 pb-12 text-white",children:[D.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"Admin — Projects"}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(ts,{to:"/",className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"View site"}),e&&D.jsxs(D.Fragment,{children:[D.jsx(ts,{to:"/admin",className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"Admin"}),D.jsx("button",{onClick:C,className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"Sign out"})]})]})]}),D.jsxs("form",{onSubmit:g,className:"max-w-6xl mx-auto mt-6 grid gap-3 md:grid-cols-2 rounded-2xl border border-white/10 bg-white/5 p-6",children:[D.jsx("input",{className:"input md:col-span-1",placeholder:"Title",onChange:A=>f(R=>({...R,title:A.target.value}))}),D.jsx("input",{className:"input md:col-span-1",placeholder:"Live site URL (https://…)",value:h.href,onChange:A=>f(R=>({...R,href:A.target.value})),onBlur:A=>f(R=>({...R,href:Oy(A.target.value)}))}),D.jsx("input",{className:"input md:col-span-2",placeholder:"What is this? (short summary)",onChange:A=>f(R=>({...R,summary:A.target.value}))}),D.jsx("textarea",{className:"input md:col-span-2",rows:3,placeholder:"What does it do? (features, purpose)",onChange:A=>f(R=>({...R,description:A.target.value}))}),D.jsx("input",{className:"input md:col-span-1",placeholder:"tags (comma separated)",onChange:A=>f(R=>({...R,tags:A.target.value}))}),D.jsx("input",{className:"input md:col-span-1",type:"number",min:"1",placeholder:"Order (1 = top)",onChange:A=>f(R=>({...R,order:A.target.value}))}),D.jsxs("label",{className:"flex items-center gap-2 md:col-span-1 text-white/90",children:[D.jsx("input",{type:"checkbox",defaultChecked:!0,onChange:A=>f(R=>({...R,published:A.target.checked}))}),"Published"]}),D.jsxs("div",{className:"md:col-span-1 flex items-center gap-3",children:[D.jsx("input",{className:"input flex-1",type:"file",accept:"image/*",onChange:A=>{const R=A.target.files?.[0]||null;f(P=>({...P,file:R,preview:R?URL.createObjectURL(R):""}))}}),h.preview&&D.jsx("div",{className:"w-28 aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${h.preview}')`}})]}),D.jsx("button",{disabled:i,className:"btn md:col-span-2",children:i?"Saving…":"Add Project"})]}),D.jsxs("div",{className:"max-w-6xl mx-auto mt-8 space-y-3",children:[a.map(A=>{const R=Oy(A.href);return D.jsxs("div",{className:"grid md:grid-cols-[180px_1fr_auto] items-center gap-3 p-3 rounded-2xl border border-white/10 bg-white/5",children:[D.jsx("div",{className:"aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${A.imageUrl||""}')`}}),D.jsxs("div",{children:[D.jsx("div",{className:"font-semibold",children:A.title}),A.summary&&D.jsx("div",{className:"text-sm text-white/85",children:A.summary}),A.description&&D.jsx("div",{className:"text-xs text-white/70 mt-1",children:A.description}),D.jsx("a",{href:R,target:"_blank",rel:"noreferrer",className:"text-white/70 hover:text-white text-sm",children:R}),D.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(A.tags||[]).map(P=>D.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10",children:P},P))})]}),D.jsxs("div",{className:"flex flex-col items-end gap-2",children:[D.jsx("label",{className:"text-xs text-white/70",children:"Order"}),D.jsx("input",{defaultValue:A.order||1,onBlur:P=>b(A,P.target.value),className:"w-16 bg-white/10 rounded px-2 py-1 text-sm"}),D.jsx("button",{onClick:()=>v(A),className:"btn-subtle",children:A.published?"Unpublish":"Publish"}),D.jsx("button",{onClick:()=>E(A),className:"btn-subtle",children:"Delete"})]})]},A.id)}),a.length===0&&D.jsx("div",{className:"text-white/70",children:"No projects yet. Add your first one above."})]})]})}const i7="7u3Uund1CKRrtf4Pw0ehaLCI7WR2";function s7({children:n}){const[e,t]=U.useState(!0),[i,r]=U.useState(!1),a=In();return U.useEffect(()=>cp(da,h=>{r(!!h&&h.uid===i7),t(!1)}),[]),e?D.jsx("div",{className:"px-4 py-10 text-white/70",children:"Checking access…"}):i?n:D.jsx(cM,{to:"/admin/login",replace:!0,state:{from:a}})}function r7(){return D.jsx("div",{style:{padding:24,color:"#fff"},children:"Page not found."})}_k.createRoot(document.getElementById("root")).render(D.jsx(Ny.StrictMode,{children:D.jsx(LM,{children:D.jsx(dM,{children:D.jsxs(Ir,{path:"/",element:D.jsx(W9,{}),children:[D.jsx(Ir,{index:!0,element:D.jsx(s5,{})}),D.jsx(Ir,{path:"contact",element:D.jsx(WH,{})}),D.jsx(Ir,{path:"admin/login",element:D.jsx(ZH,{})}),D.jsx(Ir,{path:"admin",element:D.jsx(s7,{children:D.jsx(wx,{})})}),D.jsx(Ir,{path:"admin",element:D.jsx(wx,{})}),D.jsx(Ir,{path:"*",element:D.jsx(r7,{})})]})})})}));
