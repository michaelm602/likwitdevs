(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function E1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vg={exports:{}},ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function mM(){if(GT)return ac;GT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var h in r)h!=="key"&&(a[h]=r[h])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:a}}return ac.Fragment=e,ac.jsx=t,ac.jsxs=t,ac}var $T;function gM(){return $T||($T=1,Vg.exports=mM()),Vg.exports}var N=gM(),Lg={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function yM(){if(KT)return Ce;KT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function I(L,re,ce){this.props=L,this.context=re,this.refs=A,this.updater=ce||E}I.prototype.isReactComponent={},I.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},I.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function D(){}D.prototype=I.prototype;function j(L,re,ce){this.props=L,this.context=re,this.refs=A,this.updater=ce||E}var F=j.prototype=new D;F.constructor=j,x(F,I.prototype),F.isPureReactComponent=!0;var $=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function M(L,re,ce,le,ye,Me){return ce=Me.ref,{$$typeof:n,type:L,key:re,ref:ce!==void 0?ce:null,props:Me}}function C(L,re){return M(L.type,re,void 0,void 0,void 0,L.props)}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function V(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return re[ce]})}var B=/\/+/g;function q(L,re){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):re.toString(36)}function O(){}function Ct(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function st(L,re,ce,le,ye){var Me=typeof L;(Me==="undefined"||Me==="boolean")&&(L=null);var Ae=!1;if(L===null)Ae=!0;else switch(Me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(L.$$typeof){case n:case e:Ae=!0;break;case g:return Ae=L._init,st(Ae(L._payload),re,ce,le,ye)}}if(Ae)return ye=ye(L),Ae=le===""?"."+q(L,0):le,$(ye)?(ce="",Ae!=null&&(ce=Ae.replace(B,"$&/")+"/"),st(ye,re,ce,"",function(Mi){return Mi})):ye!=null&&(P(ye)&&(ye=C(ye,ce+(ye.key==null||L&&L.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+Ae)),re.push(ye)),1;Ae=0;var Ht=le===""?".":le+":";if($(L))for(var tt=0;tt<L.length;tt++)le=L[tt],Me=Ht+q(le,tt),Ae+=st(le,re,ce,Me,ye);else if(tt=b(L),typeof tt=="function")for(L=tt.call(L),tt=0;!(le=L.next()).done;)le=le.value,Me=Ht+q(le,tt++),Ae+=st(le,re,ce,Me,ye);else if(Me==="object"){if(typeof L.then=="function")return st(Ct(L),re,ce,le,ye);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function J(L,re,ce){if(L==null)return L;var le=[],ye=0;return st(L,le,"","",function(Me){return re.call(ce,Me,ye++)}),le}function oe(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function De(){}return Ce.Children={map:J,forEach:function(L,re,ce){J(L,function(){re.apply(this,arguments)},ce)},count:function(L){var re=0;return J(L,function(){re++}),re},toArray:function(L){return J(L,function(re){return re})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=I,Ce.Fragment=t,Ce.Profiler=r,Ce.PureComponent=j,Ce.StrictMode=i,Ce.Suspense=f,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(L){return Z.H.useMemoCache(L)}},Ce.cache=function(L){return function(){return L.apply(null,arguments)}},Ce.cloneElement=function(L,re,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=x({},L.props),ye=L.key,Me=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(Me=void 0),re.key!==void 0&&(ye=""+re.key),re)!ae.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(le[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=ce;else if(1<Ae){for(var Ht=Array(Ae),tt=0;tt<Ae;tt++)Ht[tt]=arguments[tt+2];le.children=Ht}return M(L.type,ye,void 0,void 0,Me,le)},Ce.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:a,_context:L},L},Ce.createElement=function(L,re,ce){var le,ye={},Me=null;if(re!=null)for(le in re.key!==void 0&&(Me=""+re.key),re)ae.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=re[le]);var Ae=arguments.length-2;if(Ae===1)ye.children=ce;else if(1<Ae){for(var Ht=Array(Ae),tt=0;tt<Ae;tt++)Ht[tt]=arguments[tt+2];ye.children=Ht}if(L&&L.defaultProps)for(le in Ae=L.defaultProps,Ae)ye[le]===void 0&&(ye[le]=Ae[le]);return M(L,Me,void 0,void 0,null,ye)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:h,render:L}},Ce.isValidElement=P,Ce.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:oe}},Ce.memo=function(L,re){return{$$typeof:d,type:L,compare:re===void 0?null:re}},Ce.startTransition=function(L){var re=Z.T,ce={};Z.T=ce;try{var le=L(),ye=Z.S;ye!==null&&ye(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(De,fe)}catch(Me){fe(Me)}finally{Z.T=re}},Ce.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ce.use=function(L){return Z.H.use(L)},Ce.useActionState=function(L,re,ce){return Z.H.useActionState(L,re,ce)},Ce.useCallback=function(L,re){return Z.H.useCallback(L,re)},Ce.useContext=function(L){return Z.H.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L,re){return Z.H.useDeferredValue(L,re)},Ce.useEffect=function(L,re,ce){var le=Z.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(L,re)},Ce.useId=function(){return Z.H.useId()},Ce.useImperativeHandle=function(L,re,ce){return Z.H.useImperativeHandle(L,re,ce)},Ce.useInsertionEffect=function(L,re){return Z.H.useInsertionEffect(L,re)},Ce.useLayoutEffect=function(L,re){return Z.H.useLayoutEffect(L,re)},Ce.useMemo=function(L,re){return Z.H.useMemo(L,re)},Ce.useOptimistic=function(L,re){return Z.H.useOptimistic(L,re)},Ce.useReducer=function(L,re,ce){return Z.H.useReducer(L,re,ce)},Ce.useRef=function(L){return Z.H.useRef(L)},Ce.useState=function(L){return Z.H.useState(L)},Ce.useSyncExternalStore=function(L,re,ce){return Z.H.useSyncExternalStore(L,re,ce)},Ce.useTransition=function(){return Z.H.useTransition()},Ce.version="19.1.1",Ce}var YT;function Bv(){return YT||(YT=1,Lg.exports=yM()),Lg.exports}var U=Bv();const Vy=E1(U);var Ug={exports:{}},lc={},zg={exports:{}},Bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function vM(){return XT||(XT=1,(function(n){function e(J,oe){var fe=J.length;J.push(oe);e:for(;0<fe;){var De=fe-1>>>1,L=J[De];if(0<r(L,oe))J[De]=oe,J[fe]=L,fe=De;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var oe=J[0],fe=J.pop();if(fe!==oe){J[0]=fe;e:for(var De=0,L=J.length,re=L>>>1;De<re;){var ce=2*(De+1)-1,le=J[ce],ye=ce+1,Me=J[ye];if(0>r(le,fe))ye<L&&0>r(Me,le)?(J[De]=Me,J[ye]=fe,De=ye):(J[De]=le,J[ce]=fe,De=ce);else if(ye<L&&0>r(Me,fe))J[De]=Me,J[ye]=fe,De=ye;else break e}}return oe}function r(J,oe){var fe=J.sortIndex-oe.sortIndex;return fe!==0?fe:J.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,v=null,b=3,E=!1,x=!1,A=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(J){for(var oe=t(d);oe!==null;){if(oe.callback===null)i(d);else if(oe.startTime<=J)i(d),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(d)}}function Z(J){if(A=!1,$(J),!x)if(t(f)!==null)x=!0,ae||(ae=!0,q());else{var oe=t(d);oe!==null&&st(Z,oe.startTime-J)}}var ae=!1,M=-1,C=5,P=-1;function V(){return I?!0:!(n.unstable_now()-P<C)}function B(){if(I=!1,ae){var J=n.unstable_now();P=J;var oe=!0;try{e:{x=!1,A&&(A=!1,j(M),M=-1),E=!0;var fe=b;try{t:{for($(J),v=t(f);v!==null&&!(v.expirationTime>J&&V());){var De=v.callback;if(typeof De=="function"){v.callback=null,b=v.priorityLevel;var L=De(v.expirationTime<=J);if(J=n.unstable_now(),typeof L=="function"){v.callback=L,$(J),oe=!0;break t}v===t(f)&&i(f),$(J)}else i(f);v=t(f)}if(v!==null)oe=!0;else{var re=t(d);re!==null&&st(Z,re.startTime-J),oe=!1}}break e}finally{v=null,b=fe,E=!1}oe=void 0}}finally{oe?q():ae=!1}}}var q;if(typeof F=="function")q=function(){F(B)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Ct=O.port2;O.port1.onmessage=B,q=function(){Ct.postMessage(null)}}else q=function(){D(B,0)};function st(J,oe){M=D(function(){J(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(J){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var fe=b;b=oe;try{return J()}finally{b=fe}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=b;b=J;try{return oe()}finally{b=fe}},n.unstable_scheduleCallback=function(J,oe,fe){var De=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?De+fe:De):fe=De,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,J={id:g++,callback:oe,priorityLevel:J,startTime:fe,expirationTime:L,sortIndex:-1},fe>De?(J.sortIndex=fe,e(d,J),t(f)===null&&J===t(d)&&(A?(j(M),M=-1):A=!0,st(Z,fe-De))):(J.sortIndex=L,e(f,J),x||E||(x=!0,ae||(ae=!0,q()))),J},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(J){var oe=b;return function(){var fe=b;b=oe;try{return J.apply(this,arguments)}finally{b=fe}}}})(Bg)),Bg}var QT;function _M(){return QT||(QT=1,zg.exports=vM()),zg.exports}var jg={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function bM(){if(WT)return dn;WT=1;var n=Bv();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,g)},dn.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},dn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},dn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},dn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):g==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},dn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},dn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},dn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},dn.requestFormReset=function(f){i.d.r(f)},dn.unstable_batchedUpdates=function(f,d){return f(d)},dn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},dn.useFormStatus=function(){return u.H.useHostTransitionStatus()},dn.version="19.1.1",dn}var ZT;function wM(){if(ZT)return jg.exports;ZT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jg.exports=bM(),jg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT;function TM(){if(JT)return lc;JT=1;var n=_M(),e=Bv(),t=wM();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(i(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,c=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),s;if(y===c)return h(m),o;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=y;else{for(var T=!1,S=m.child;S;){if(S===l){T=!0,l=m,c=y;break}if(S===c){T=!0,c=m,l=y;break}S=S.sibling}if(!T){for(S=y.child;S;){if(S===l){T=!0,l=y,c=m;break}if(S===c){T=!0,c=y,l=m;break}S=S.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function d(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=d(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Ct(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case Z:return"Suspense";case ae:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case F:return(s.displayName||"Context")+".Provider";case j:return(s._context.displayName||"Context")+".Consumer";case $:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return o=s.displayName||null,o!==null?o:Ct(s.type)||"Memo";case C:o=s._payload,s=s._init;try{return Ct(s(o))}catch{}}return null}var st=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},De=[],L=-1;function re(s){return{current:s}}function ce(s){0>L||(s.current=De[L],De[L]=null,L--)}function le(s,o){L++,De[L]=s.current,s.current=o}var ye=re(null),Me=re(null),Ae=re(null),Ht=re(null);function tt(s,o){switch(le(Ae,o),le(Me,s),le(ye,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?_T(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=_T(o),s=bT(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ce(ye),le(ye,s)}function Mi(){ce(ye),ce(Me),ce(Ae)}function Zs(s){s.memoizedState!==null&&le(Ht,s);var o=ye.current,l=bT(o,s.type);o!==l&&(le(Me,s),le(ye,l))}function fs(s){Me.current===s&&(ce(ye),ce(Me)),Ht.current===s&&(ce(Ht),nc._currentValue=fe)}var ro=Object.prototype.hasOwnProperty,oo=n.unstable_scheduleCallback,ao=n.unstable_cancelCallback,Jl=n.unstable_shouldYield,bh=n.unstable_requestPaint,Xn=n.unstable_now,Vp=n.unstable_getCurrentPriorityLevel,eu=n.unstable_ImmediatePriority,ya=n.unstable_UserBlockingPriority,lo=n.unstable_NormalPriority,Lp=n.unstable_LowPriority,va=n.unstable_IdlePriority,tu=n.log,wh=n.unstable_setDisableYieldValue,gt=null,Ke=null;function Nn(s){if(typeof tu=="function"&&wh(s),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(gt,s)}catch{}}var hn=Math.clz32?Math.clz32:uo,Th=Math.log,Up=Math.LN2;function uo(s){return s>>>=0,s===0?32:31-(Th(s)/Up|0)|0}var co=256,ho=4194304;function mi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function _a(s,o,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?m=mi(c):(T&=S,T!==0?m=mi(T):l||(l=S&~s,l!==0&&(m=mi(l))))):(S=c&~y,S!==0?m=mi(S):T!==0?m=mi(T):l||(l=c&~s,l!==0&&(m=mi(l)))),m===0?0:o!==0&&o!==m&&(o&y)===0&&(y=m&-m,l=o&-o,y>=l||y===32&&(l&4194048)!==0)?o:m}function fo(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function nu(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var s=co;return co<<=1,(co&4194048)===0&&(co=256),s}function su(){var s=ho;return ho<<=1,(ho&62914560)===0&&(ho=4194304),s}function ds(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function ps(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ru(s,o,l,c,m,y){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,k=s.expirationTimes,Y=s.hiddenUpdates;for(l=T&~l;0<l;){var ee=31-hn(l),ie=1<<ee;S[ee]=0,k[ee]=-1;var X=Y[ee];if(X!==null)for(Y[ee]=null,ee=0;ee<X.length;ee++){var Q=X[ee];Q!==null&&(Q.lane&=-536870913)}l&=~ie}c!==0&&ki(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~o))}function ki(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var c=31-hn(o);s.entangledLanes|=o,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function ou(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var c=31-hn(l),m=1<<c;m&o|s[c]&o&&(s[c]|=o),l&=~m}}function Js(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ba(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function er(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:zT(s.type))}function Eh(s,o){var l=oe.p;try{return oe.p=s,o()}finally{oe.p=l}}var at=Math.random().toString(36).slice(2),Ut="__reactFiber$"+at,It="__reactProps$"+at,Qn="__reactContainer$"+at,au="__reactEvents$"+at,zp="__reactListeners$"+at,tr="__reactHandles$"+at,Sh="__reactResources$"+at,po="__reactMarker$"+at;function nr(s){delete s[Ut],delete s[It],delete s[au],delete s[zp],delete s[tr]}function ms(s){var o=s[Ut];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Qn]||l[Ut]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=ST(s);s!==null;){if(l=s[Ut])return l;s=ST(s)}return o}s=l,l=s.parentNode}return null}function Oi(s){if(s=s[Ut]||s[Qn]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Ni(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function wn(s){var o=s[Sh];return o||(o=s[Sh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tt(s){s[po]=!0}var lu=new Set,wa={};function gi(s,o){gs(s,o),gs(s+"Capture",o)}function gs(s,o){for(wa[s]=o,s=0;s<o.length;s++)lu.add(o[s])}var Ah=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rh={},mo={};function xh(s){return ro.call(mo,s)?!0:ro.call(Rh,s)?!1:Ah.test(s)?mo[s]=!0:(Rh[s]=!0,!1)}function ir(s,o,l){if(xh(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function Vi(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function Jt(s,o,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+c)}}var go,Ch;function ys(s){if(go===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);go=o&&o[1]||"",Ch=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+go+s+Ch}var Ta=!1;function Ea(s,o){if(!s||Ta)return"";Ta=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var X=Q}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(Q){X=Q}s.call(ie.prototype)}}else{try{throw Error()}catch(Q){X=Q}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],S=y[1];if(T&&S){var k=T.split(`
`),Y=S.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===Y.length)for(c=k.length-1,m=Y.length-1;1<=c&&0<=m&&k[c]!==Y[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==Y[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==Y[m]){var ee=`
`+k[c].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=c&&0<=m);break}}}finally{Ta=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ys(l):""}function uu(s){switch(s.tag){case 26:case 27:case 5:return ys(s.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 15:return Ea(s.type,!1);case 11:return Ea(s.type.render,!1);case 1:return Ea(s.type,!0);case 31:return ys("Activity");default:return""}}function Sa(s){try{var o="";do o+=uu(s),s=s.return;while(s);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Tn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function cu(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Bp(s){var o=cu(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),c=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Aa(s){s._valueTracker||(s._valueTracker=Bp(s))}function hu(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return s&&(c=cu(s)?s.checked?"true":"false":s.value),s=c,s!==l?(o.setValue(s),!0):!1}function yo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var jp=/[\n"\\]/g;function Dt(s){return s.replace(jp,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Vn(s,o,l,c,m,y,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),o!=null?T==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Tn(o)):s.value!==""+Tn(o)&&(s.value=""+Tn(o)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),o!=null?sr(s,T,Tn(o)):l!=null?sr(s,T,Tn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Tn(S):s.removeAttribute("name")}function vo(s,o,l,c,m,y,T,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),o!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;l=l!=null?""+Tn(l):"",o=o!=null?""+Tn(o):l,S||o===s.value||(s.value=o),s.defaultValue=o}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function sr(s,o,l){o==="number"&&yo(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function vs(s,o,l,c){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Tn(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Qe(s,o,l){if(o!=null&&(o=""+Tn(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+Tn(l):""}function _o(s,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(i(92));if(st(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=Tn(o),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Wn(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ih(s,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":c?s.setProperty(o,l):typeof l!="number"||l===0||bo.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function fu(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in o)c=o[m],o.hasOwnProperty(m)&&l[m]!==c&&Ih(s,m,c)}else for(var y in o)o.hasOwnProperty(y)&&Ih(s,y,o[y])}function du(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(s){return qp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var _s=null;function Zn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var bs=null,ws=null;function pu(s){var o=Oi(s);if(o&&(s=o.stateNode)){var l=s[It]||null;e:switch(s=o.stateNode,o.type){case"input":if(Vn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dt(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==s&&c.form===s.form){var m=c[It]||null;if(!m)throw Error(i(90));Vn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===s.form&&hu(c)}break e;case"textarea":Qe(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&vs(s,!!l.multiple,o,!1)}}}var Li=!1;function Dh(s,o,l){if(Li)return s(o,l);Li=!0;try{var c=s(o);return c}finally{if(Li=!1,(bs!==null||ws!==null)&&(Sf(),bs&&(o=bs,s=ws,ws=bs=null,pu(o),s)))for(o=0;o<s.length;o++)pu(s[o])}}function wo(s,o){var l=s.stateNode;if(l===null)return null;var c=l[It]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jn=!1;if(yi)try{var To={};Object.defineProperty(To,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Jn=!1}var Ui=null,rr=null,Ts=null;function mu(){if(Ts)return Ts;var s,o=rr,l=o.length,c,m="value"in Ui?Ui.value:Ui.textContent,y=m.length;for(s=0;s<l&&o[s]===m[s];s++);var T=l-s;for(c=1;c<=T&&o[l-c]===m[y-c];c++);return Ts=m.slice(s,1<c?1-c:void 0)}function zi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Bi(){return!0}function gu(){return!1}function Gt(s){function o(l,c,m,y,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Bi:gu,this.isPropagationStopped=gu,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),o}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Gt(Ge),Eo=g({},Ge,{view:0,detail:0}),Ph=Gt(Eo),Ca,Ia,ji,So=g({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ji&&(ji&&s.type==="mousemove"?(Ca=s.screenX-ji.screenX,Ia=s.screenY-ji.screenY):Ia=Ca=0,ji=s),Ca)},movementY:function(s){return"movementY"in s?s.movementY:Ia}}),ei=Gt(So),Mh=g({},So,{dataTransfer:0}),Hp=Gt(Mh),Ao=g({},Eo,{relatedTarget:0}),Da=Gt(Ao),yu=g({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=Gt(yu),kh=g({},Ge,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ma=Gt(kh),Gp=g({},Ge,{data:0}),vu=Gt(Gp),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Nh[s])?!!o[s]:!1}function xo(){return _u}var Vh=g({},Eo,{key:function(s){if(s.key){var o=Ro[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=zi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Oh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(s){return s.type==="keypress"?zi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?zi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ka=Gt(Vh),Lh=g({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=Gt(Lh),Es=g({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),Uh=Gt(Es),zh=g({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bh=Gt(zh),jh=g({},So,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=Gt(jh),En=g({},Ge,{newState:0,oldState:0}),Fh=Gt(En),qh=[9,13,27,32],Fi=yi&&"CompositionEvent"in window,p=null;yi&&"documentMode"in document&&(p=document.documentMode);var _=yi&&"TextEvent"in window&&!p,w=yi&&(!Fi||p&&8<p&&11>=p),R=" ",G=!1;function W(s,o){switch(s){case"keyup":return qh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ze=!1;function zt(s,o){switch(s){case"compositionend":return ue(o);case"keypress":return o.which!==32?null:(G=!0,R);case"textInput":return s=o.data,s===R&&G?null:s;default:return null}}function Be(s,o){if(ze)return s==="compositionend"||!Fi&&W(s,o)?(s=mu(),Ts=rr=Ui=null,ze=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return w&&o.locale!=="ko"?null:o.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!$t[s.type]:o==="textarea"}function Ss(s,o,l,c){bs?ws?ws.push(c):ws=[c]:bs=c,o=Df(o,"onChange"),0<o.length&&(l=new xa("onChange","change",null,l,c),s.push({event:l,listeners:o}))}var en=null,qi=null;function wu(s){pT(s,0)}function Hh(s){var o=Ni(s);if(hu(o))return s}function Nb(s,o){if(s==="change")return o}var Vb=!1;if(yi){var $p;if(yi){var Kp="oninput"in document;if(!Kp){var Lb=document.createElement("div");Lb.setAttribute("oninput","return;"),Kp=typeof Lb.oninput=="function"}$p=Kp}else $p=!1;Vb=$p&&(!document.documentMode||9<document.documentMode)}function Ub(){en&&(en.detachEvent("onpropertychange",zb),qi=en=null)}function zb(s){if(s.propertyName==="value"&&Hh(qi)){var o=[];Ss(o,qi,s,Zn(s)),Dh(wu,o)}}function GD(s,o,l){s==="focusin"?(Ub(),en=o,qi=l,en.attachEvent("onpropertychange",zb)):s==="focusout"&&Ub()}function $D(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hh(qi)}function KD(s,o){if(s==="click")return Hh(o)}function YD(s,o){if(s==="input"||s==="change")return Hh(o)}function XD(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Ln=typeof Object.is=="function"?Object.is:XD;function Tu(s,o){if(Ln(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!ro.call(o,m)||!Ln(s[m],o[m]))return!1}return!0}function Bb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function jb(s,o){var l=Bb(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=o&&c>=o)return{node:l,offset:o-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Bb(l)}}function Fb(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Fb(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function qb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=yo(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=yo(s.document)}return o}function Yp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var QD=yi&&"documentMode"in document&&11>=document.documentMode,Na=null,Xp=null,Eu=null,Qp=!1;function Hb(s,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Qp||Na==null||Na!==yo(c)||(c=Na,"selectionStart"in c&&Yp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Eu&&Tu(Eu,c)||(Eu=c,c=Df(Xp,"onSelect"),0<c.length&&(o=new xa("onSelect","select",null,o,l),s.push({event:o,listeners:c}),o.target=Na)))}function Co(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Va={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionrun:Co("Transition","TransitionRun"),transitionstart:Co("Transition","TransitionStart"),transitioncancel:Co("Transition","TransitionCancel"),transitionend:Co("Transition","TransitionEnd")},Wp={},Gb={};yi&&(Gb=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Io(s){if(Wp[s])return Wp[s];if(!Va[s])return s;var o=Va[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Gb)return Wp[s]=o[l];return s}var $b=Io("animationend"),Kb=Io("animationiteration"),Yb=Io("animationstart"),WD=Io("transitionrun"),ZD=Io("transitionstart"),JD=Io("transitioncancel"),Xb=Io("transitionend"),Qb=new Map,Zp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zp.push("scrollEnd");function vi(s,o){Qb.set(s,o),gi(o,[s])}var Wb=new WeakMap;function ti(s,o){if(typeof s=="object"&&s!==null){var l=Wb.get(s);return l!==void 0?l:(o={value:s,source:o,stack:Sa(o)},Wb.set(s,o),o)}return{value:s,source:o,stack:Sa(o)}}var ni=[],La=0,Jp=0;function Gh(){for(var s=La,o=Jp=La=0;o<s;){var l=ni[o];ni[o++]=null;var c=ni[o];ni[o++]=null;var m=ni[o];ni[o++]=null;var y=ni[o];if(ni[o++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&Zb(l,m,y)}}function $h(s,o,l,c){ni[La++]=s,ni[La++]=o,ni[La++]=l,ni[La++]=c,Jp|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function em(s,o,l,c){return $h(s,o,l,c),Kh(s)}function Ua(s,o){return $h(s,null,null,o),Kh(s)}function Zb(s,o,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&o!==null&&(m=31-hn(l),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[o]:c.push(o),o.lane=l|536870912),y):null}function Kh(s){if(50<Yu)throw Yu=0,og=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var za={};function eP(s,o,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,o,l,c){return new eP(s,o,l,c)}function tm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function As(s,o){var l=s.alternate;return l===null?(l=Un(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Jb(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Yh(s,o,l,c,m,y){var T=0;if(c=s,typeof s=="function")tm(s)&&(T=1);else if(typeof s=="string")T=nM(s,l,ye.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=Un(31,l,o,m),s.elementType=P,s.lanes=y,s;case x:return Do(l.children,m,y,o);case A:T=8,m|=24;break;case I:return s=Un(12,l,o,m|2),s.elementType=I,s.lanes=y,s;case Z:return s=Un(13,l,o,m),s.elementType=Z,s.lanes=y,s;case ae:return s=Un(19,l,o,m),s.elementType=ae,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:case F:T=10;break e;case j:T=9;break e;case $:T=11;break e;case M:T=14;break e;case C:T=16,c=null;break e}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return o=Un(T,l,o,m),o.elementType=s,o.type=c,o.lanes=y,o}function Do(s,o,l,c){return s=Un(7,s,c,o),s.lanes=l,s}function nm(s,o,l){return s=Un(6,s,null,o),s.lanes=l,s}function im(s,o,l){return o=Un(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Ba=[],ja=0,Xh=null,Qh=0,ii=[],si=0,Po=null,Rs=1,xs="";function Mo(s,o){Ba[ja++]=Qh,Ba[ja++]=Xh,Xh=s,Qh=o}function e0(s,o,l){ii[si++]=Rs,ii[si++]=xs,ii[si++]=Po,Po=s;var c=Rs;s=xs;var m=32-hn(c)-1;c&=~(1<<m),l+=1;var y=32-hn(o)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Rs=1<<32-hn(o)+m|l<<m|c,xs=y+s}else Rs=1<<y|l<<m|c,xs=s}function sm(s){s.return!==null&&(Mo(s,1),e0(s,1,0))}function rm(s){for(;s===Xh;)Xh=Ba[--ja],Ba[ja]=null,Qh=Ba[--ja],Ba[ja]=null;for(;s===Po;)Po=ii[--si],ii[si]=null,xs=ii[--si],ii[si]=null,Rs=ii[--si],ii[si]=null}var Sn=null,yt=null,He=!1,ko=null,Hi=!1,om=Error(i(519));function Oo(s){var o=Error(i(418,""));throw Ru(ti(o,s)),om}function t0(s){var o=s.stateNode,l=s.type,c=s.memoizedProps;switch(o[Ut]=s,o[It]=c,l){case"dialog":Ne("cancel",o),Ne("close",o);break;case"iframe":case"object":case"embed":Ne("load",o);break;case"video":case"audio":for(l=0;l<Qu.length;l++)Ne(Qu[l],o);break;case"source":Ne("error",o);break;case"img":case"image":case"link":Ne("error",o),Ne("load",o);break;case"details":Ne("toggle",o);break;case"input":Ne("invalid",o),vo(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Aa(o);break;case"select":Ne("invalid",o);break;case"textarea":Ne("invalid",o),_o(o,c.value,c.defaultValue,c.children),Aa(o)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||vT(o.textContent,l)?(c.popover!=null&&(Ne("beforetoggle",o),Ne("toggle",o)),c.onScroll!=null&&Ne("scroll",o),c.onScrollEnd!=null&&Ne("scrollend",o),c.onClick!=null&&(o.onclick=Pf),o=!0):o=!1,o||Oo(s)}function n0(s){for(Sn=s.return;Sn;)switch(Sn.tag){case 5:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:Sn=Sn.return}}function Su(s){if(s!==Sn)return!1;if(!He)return n0(s),He=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Tg(s.type,s.memoizedProps)),l=!l),l&&yt&&Oo(s),n0(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(o===0){yt=bi(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;s=s.nextSibling}yt=null}}else o===27?(o=yt,wr(s.type)?(s=Rg,Rg=null,yt=s):yt=o):yt=Sn?bi(s.stateNode.nextSibling):null;return!0}function Au(){yt=Sn=null,He=!1}function i0(){var s=ko;return s!==null&&(Dn===null?Dn=s:Dn.push.apply(Dn,s),ko=null),s}function Ru(s){ko===null?ko=[s]:ko.push(s)}var am=re(null),No=null,Cs=null;function or(s,o,l){le(am,o._currentValue),o._currentValue=l}function Is(s){s._currentValue=am.current,ce(am)}function lm(s,o,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),s===l)break;s=s.return}}function um(s,o,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var k=0;k<o.length;k++)if(S.context===o[k]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),lm(y.return,l,s),c||(T=null);break e}y=S.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),lm(T,l,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function xu(s,o,l,c){s=null;for(var m=o,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=m.type;Ln(m.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(m===Ht.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(nc):s=[nc])}m=m.return}s!==null&&um(o,s,l,c),o.flags|=262144}function Wh(s){for(s=s.firstContext;s!==null;){if(!Ln(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Vo(s){No=s,Cs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fn(s){return s0(No,s)}function Zh(s,o){return No===null&&Vo(s),s0(s,o)}function s0(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Cs===null){if(s===null)throw Error(i(308));Cs=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Cs=Cs.next=o;return l}var tP=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},nP=n.unstable_scheduleCallback,iP=n.unstable_NormalPriority,jt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cm(){return{controller:new tP,data:new Map,refCount:0}}function Cu(s){s.refCount--,s.refCount===0&&nP(iP,function(){s.controller.abort()})}var Iu=null,hm=0,Fa=0,qa=null;function sP(s,o){if(Iu===null){var l=Iu=[];hm=0,Fa=dg(),qa={status:"pending",value:void 0,then:function(c){l.push(c)}}}return hm++,o.then(r0,r0),o}function r0(){if(--hm===0&&Iu!==null){qa!==null&&(qa.status="fulfilled");var s=Iu;Iu=null,Fa=0,qa=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function rP(s,o){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var o0=J.S;J.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&sP(s,o),o0!==null&&o0(s,o)};var Lo=re(null);function fm(){var s=Lo.current;return s!==null?s:nt.pooledCache}function Jh(s,o){o===null?le(Lo,Lo.current):le(Lo,o.pool)}function a0(){var s=fm();return s===null?null:{parent:jt._currentValue,pool:s}}var Du=Error(i(460)),l0=Error(i(474)),ef=Error(i(542)),dm={then:function(){}};function u0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function tf(){}function c0(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(tf,tf),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,f0(s),s;default:if(typeof o.status=="string")o.then(tf,tf);else{if(s=nt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(c){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=c}},function(c){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,f0(s),s}throw Pu=o,Du}}var Pu=null;function h0(){if(Pu===null)throw Error(i(459));var s=Pu;return Pu=null,s}function f0(s){if(s===Du||s===ef)throw Error(i(483))}var ar=!1;function pm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function lr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ur(s,o,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var m=c.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),c.pending=o,o=Kh(s),Zb(s,null,l),o}return $h(s,c,o,l),Kh(s)}function Mu(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,ou(s,l)}}function gm(s,o){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var ym=!1;function ku(){if(ym){var s=qa;if(s!==null)throw s}}function Ou(s,o,l,c){ym=!1;var m=s.updateQueue;ar=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var k=S,Y=k.next;k.next=null,T===null?y=Y:T.next=Y,T=k;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==T&&(S===null?ee.firstBaseUpdate=Y:S.next=Y,ee.lastBaseUpdate=k))}if(y!==null){var ie=m.baseState;T=0,ee=Y=k=null,S=y;do{var X=S.lane&-536870913,Q=X!==S.lane;if(Q?(je&X)===X:(c&X)===X){X!==0&&X===Fa&&(ym=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ee=s,ve=S;X=o;var Je=l;switch(ve.tag){case 1:if(Ee=ve.payload,typeof Ee=="function"){ie=Ee.call(Je,ie,X);break e}ie=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ve.payload,X=typeof Ee=="function"?Ee.call(Je,ie,X):Ee,X==null)break e;ie=g({},ie,X);break e;case 2:ar=!0}}X=S.callback,X!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(Y=ee=Q,k=ie):ee=ee.next=Q,T|=X;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);ee===null&&(k=ie),m.baseState=k,m.firstBaseUpdate=Y,m.lastBaseUpdate=ee,y===null&&(m.shared.lanes=0),yr|=T,s.lanes=T,s.memoizedState=ie}}function d0(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function p0(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)d0(l[s],o)}var Ha=re(null),nf=re(0);function m0(s,o){s=Vs,le(nf,s),le(Ha,o),Vs=s|o.baseLanes}function vm(){le(nf,Vs),le(Ha,Ha.current)}function _m(){Vs=nf.current,ce(Ha),ce(nf)}var cr=0,Pe=null,We=null,Pt=null,sf=!1,Ga=!1,Uo=!1,rf=0,Nu=0,$a=null,oP=0;function Et(){throw Error(i(321))}function bm(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Ln(s[l],o[l]))return!1;return!0}function wm(s,o,l,c,m,y){return cr=y,Pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,J.H=s===null||s.memoizedState===null?Z0:J0,Uo=!1,y=l(c,m),Uo=!1,Ga&&(y=y0(o,l,c,m)),g0(s),y}function g0(s){J.H=hf;var o=We!==null&&We.next!==null;if(cr=0,Pt=We=Pe=null,sf=!1,Nu=0,$a=null,o)throw Error(i(300));s===null||Kt||(s=s.dependencies,s!==null&&Wh(s)&&(Kt=!0))}function y0(s,o,l,c){Pe=s;var m=0;do{if(Ga&&($a=null),Nu=0,Ga=!1,25<=m)throw Error(i(301));if(m+=1,Pt=We=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=dP,y=o(l,c)}while(Ga);return y}function aP(){var s=J.H,o=s.useState()[0];return o=typeof o.then=="function"?Vu(o):o,s=s.useState()[0],(We!==null?We.memoizedState:null)!==s&&(Pe.flags|=1024),o}function Tm(){var s=rf!==0;return rf=0,s}function Em(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function Sm(s){if(sf){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}sf=!1}cr=0,Pt=We=Pe=null,Ga=!1,Nu=rf=0,$a=null}function Cn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function Mt(){if(We===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=We.next;var o=Pt===null?Pe.memoizedState:Pt.next;if(o!==null)Pt=o,We=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));We=s,s={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function Am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vu(s){var o=Nu;return Nu+=1,$a===null&&($a=[]),s=c0($a,s,o),o=Pe,(Pt===null?o.memoizedState:Pt.next)===null&&(o=o.alternate,J.H=o===null||o.memoizedState===null?Z0:J0),s}function of(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Vu(s);if(s.$$typeof===F)return fn(s)}throw Error(i(438,String(s)))}function Rm(s){var o=null,l=Pe.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Am(),Pe.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),c=0;c<s;c++)l[c]=V;return o.index++,l}function Ds(s,o){return typeof o=="function"?o(s):o}function af(s){var o=Mt();return xm(o,We,s)}function xm(s,o,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}o.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{o=m.next;var S=T=null,k=null,Y=o,ee=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(je&ie)===ie:(cr&ie)===ie){var X=Y.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===Fa&&(ee=!0);else if((cr&X)===X){Y=Y.next,X===Fa&&(ee=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=ie,T=y):k=k.next=ie,Pe.lanes|=X,yr|=X;ie=Y.action,Uo&&l(y,ie),y=Y.hasEagerState?Y.eagerState:l(y,ie)}else X={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=X,T=y):k=k.next=X,Pe.lanes|=ie,yr|=ie;Y=Y.next}while(Y!==null&&Y!==o);if(k===null?T=y:k.next=S,!Ln(y,s.memoizedState)&&(Kt=!0,ee&&(l=qa,l!==null)))throw l;s.memoizedState=y,s.baseState=T,s.baseQueue=k,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Cm(s){var o=Mt(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=s(y,T.action),T=T.next;while(T!==m);Ln(y,o.memoizedState)||(Kt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,c]}function v0(s,o,l){var c=Pe,m=Mt(),y=He;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=o();var T=!Ln((We||m).memoizedState,l);T&&(m.memoizedState=l,Kt=!0),m=m.queue;var S=w0.bind(null,c,m,s);if(Lu(2048,8,S,[s]),m.getSnapshot!==o||T||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,Ka(9,lf(),b0.bind(null,c,m,l,o),null),nt===null)throw Error(i(349));y||(cr&124)!==0||_0(c,o,l)}return l}function _0(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Pe.updateQueue,o===null?(o=Am(),Pe.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function b0(s,o,l,c){o.value=l,o.getSnapshot=c,T0(o)&&E0(s)}function w0(s,o,l){return l(function(){T0(o)&&E0(s)})}function T0(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Ln(s,l)}catch{return!0}}function E0(s){var o=Ua(s,2);o!==null&&qn(o,s,2)}function Im(s){var o=Cn();if(typeof s=="function"){var l=s;if(s=l(),Uo){Nn(!0);try{l()}finally{Nn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:s},o}function S0(s,o,l,c){return s.baseState=l,xm(s,We,typeof c=="function"?c:Ds)}function lP(s,o,l,c,m){if(cf(s))throw Error(i(485));if(s=o.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};J.T!==null?l(!0):y.isTransition=!1,c(y),l=o.pending,l===null?(y.next=o.pending=y,A0(o,y)):(y.next=l.next,o.pending=l.next=y)}}function A0(s,o){var l=o.action,c=o.payload,m=s.state;if(o.isTransition){var y=J.T,T={};J.T=T;try{var S=l(m,c),k=J.S;k!==null&&k(T,S),R0(s,o,S)}catch(Y){Dm(s,o,Y)}finally{J.T=y}}else try{y=l(m,c),R0(s,o,y)}catch(Y){Dm(s,o,Y)}}function R0(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){x0(s,o,c)},function(c){return Dm(s,o,c)}):x0(s,o,l)}function x0(s,o,l){o.status="fulfilled",o.value=l,C0(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,A0(s,l)))}function Dm(s,o,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,C0(o),o=o.next;while(o!==c)}s.action=null}function C0(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function I0(s,o){return o}function D0(s,o){if(He){var l=nt.formState;if(l!==null){e:{var c=Pe;if(He){if(yt){t:{for(var m=yt,y=Hi;m.nodeType!==8;){if(!y){m=null;break t}if(m=bi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){yt=bi(m.nextSibling),c=m.data==="F!";break e}}Oo(c)}c=!1}c&&(o=l[0])}}return l=Cn(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:o},l.queue=c,l=X0.bind(null,Pe,c),c.dispatch=l,c=Im(!1),y=Nm.bind(null,Pe,!1,c.queue),c=Cn(),m={state:o,dispatch:null,action:s,pending:null},c.queue=m,l=lP.bind(null,Pe,m,y,l),m.dispatch=l,c.memoizedState=s,[o,l,!1]}function P0(s){var o=Mt();return M0(o,We,s)}function M0(s,o,l){if(o=xm(s,o,I0)[0],s=af(Ds)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=Vu(o)}catch(T){throw T===Du?ef:T}else c=o;o=Mt();var m=o.queue,y=m.dispatch;return l!==o.memoizedState&&(Pe.flags|=2048,Ka(9,lf(),uP.bind(null,m,l),null)),[c,y,s]}function uP(s,o){s.action=o}function k0(s){var o=Mt(),l=We;if(l!==null)return M0(o,l,s);Mt(),o=o.memoizedState,l=Mt();var c=l.queue.dispatch;return l.memoizedState=s,[o,c,!1]}function Ka(s,o,l,c){return s={tag:s,create:l,deps:c,inst:o,next:null},o=Pe.updateQueue,o===null&&(o=Am(),Pe.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,o.lastEffect=s),s}function lf(){return{destroy:void 0,resource:void 0}}function O0(){return Mt().memoizedState}function uf(s,o,l,c){var m=Cn();c=c===void 0?null:c,Pe.flags|=s,m.memoizedState=Ka(1|o,lf(),l,c)}function Lu(s,o,l,c){var m=Mt();c=c===void 0?null:c;var y=m.memoizedState.inst;We!==null&&c!==null&&bm(c,We.memoizedState.deps)?m.memoizedState=Ka(o,y,l,c):(Pe.flags|=s,m.memoizedState=Ka(1|o,y,l,c))}function N0(s,o){uf(8390656,8,s,o)}function V0(s,o){Lu(2048,8,s,o)}function L0(s,o){return Lu(4,2,s,o)}function U0(s,o){return Lu(4,4,s,o)}function z0(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function B0(s,o,l){l=l!=null?l.concat([s]):null,Lu(4,4,z0.bind(null,o,s),l)}function Pm(){}function j0(s,o){var l=Mt();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&bm(o,c[1])?c[0]:(l.memoizedState=[s,o],s)}function F0(s,o){var l=Mt();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&bm(o,c[1]))return c[0];if(c=s(),Uo){Nn(!0);try{s()}finally{Nn(!1)}}return l.memoizedState=[c,o],c}function Mm(s,o,l){return l===void 0||(cr&1073741824)!==0?s.memoizedState=o:(s.memoizedState=l,s=Gw(),Pe.lanes|=s,yr|=s,l)}function q0(s,o,l,c){return Ln(l,o)?l:Ha.current!==null?(s=Mm(s,l,c),Ln(s,o)||(Kt=!0),s):(cr&42)===0?(Kt=!0,s.memoizedState=l):(s=Gw(),Pe.lanes|=s,yr|=s,o)}function H0(s,o,l,c,m){var y=oe.p;oe.p=y!==0&&8>y?y:8;var T=J.T,S={};J.T=S,Nm(s,!1,o,l);try{var k=m(),Y=J.S;if(Y!==null&&Y(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ee=rP(k,c);Uu(s,o,ee,Fn(s))}else Uu(s,o,c,Fn(s))}catch(ie){Uu(s,o,{then:function(){},status:"rejected",reason:ie},Fn())}finally{oe.p=y,J.T=T}}function cP(){}function km(s,o,l,c){if(s.tag!==5)throw Error(i(476));var m=G0(s).queue;H0(s,m,o,fe,l===null?cP:function(){return $0(s),l(c)})}function G0(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:fe},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function $0(s){var o=G0(s).next.queue;Uu(s,o,{},Fn())}function Om(){return fn(nc)}function K0(){return Mt().memoizedState}function Y0(){return Mt().memoizedState}function hP(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=Fn();s=lr(l);var c=ur(o,s,l);c!==null&&(qn(c,o,l),Mu(c,o,l)),o={cache:cm()},s.payload=o;return}o=o.return}}function fP(s,o,l){var c=Fn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},cf(s)?Q0(o,l):(l=em(s,o,l,c),l!==null&&(qn(l,s,c),W0(l,o,c)))}function X0(s,o,l){var c=Fn();Uu(s,o,l,c)}function Uu(s,o,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(cf(s))Q0(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,S=y(T,l);if(m.hasEagerState=!0,m.eagerState=S,Ln(S,T))return $h(s,o,m,0),nt===null&&Gh(),!1}catch{}finally{}if(l=em(s,o,m,c),l!==null)return qn(l,s,c),W0(l,o,c),!0}return!1}function Nm(s,o,l,c){if(c={lane:2,revertLane:dg(),action:c,hasEagerState:!1,eagerState:null,next:null},cf(s)){if(o)throw Error(i(479))}else o=em(s,l,c,2),o!==null&&qn(o,s,2)}function cf(s){var o=s.alternate;return s===Pe||o!==null&&o===Pe}function Q0(s,o){Ga=sf=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function W0(s,o,l){if((l&4194048)!==0){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,ou(s,l)}}var hf={readContext:fn,use:of,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},Z0={readContext:fn,use:of,useCallback:function(s,o){return Cn().memoizedState=[s,o===void 0?null:o],s},useContext:fn,useEffect:N0,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,uf(4194308,4,z0.bind(null,o,s),l)},useLayoutEffect:function(s,o){return uf(4194308,4,s,o)},useInsertionEffect:function(s,o){uf(4,2,s,o)},useMemo:function(s,o){var l=Cn();o=o===void 0?null:o;var c=s();if(Uo){Nn(!0);try{s()}finally{Nn(!1)}}return l.memoizedState=[c,o],c},useReducer:function(s,o,l){var c=Cn();if(l!==void 0){var m=l(o);if(Uo){Nn(!0);try{l(o)}finally{Nn(!1)}}}else m=o;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=fP.bind(null,Pe,s),[c.memoizedState,s]},useRef:function(s){var o=Cn();return s={current:s},o.memoizedState=s},useState:function(s){s=Im(s);var o=s.queue,l=X0.bind(null,Pe,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:Pm,useDeferredValue:function(s,o){var l=Cn();return Mm(l,s,o)},useTransition:function(){var s=Im(!1);return s=H0.bind(null,Pe,s.queue,!0,!1),Cn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var c=Pe,m=Cn();if(He){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),nt===null)throw Error(i(349));(je&124)!==0||_0(c,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,N0(w0.bind(null,c,y,s),[s]),c.flags|=2048,Ka(9,lf(),b0.bind(null,c,y,l,o),null),l},useId:function(){var s=Cn(),o=nt.identifierPrefix;if(He){var l=xs,c=Rs;l=(c&~(1<<32-hn(c)-1)).toString(32)+l,o="«"+o+"R"+l,l=rf++,0<l&&(o+="H"+l.toString(32)),o+="»"}else l=oP++,o="«"+o+"r"+l.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:Om,useFormState:D0,useActionState:D0,useOptimistic:function(s){var o=Cn();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Nm.bind(null,Pe,!0,l),l.dispatch=o,[s,o]},useMemoCache:Rm,useCacheRefresh:function(){return Cn().memoizedState=hP.bind(null,Pe)}},J0={readContext:fn,use:of,useCallback:j0,useContext:fn,useEffect:V0,useImperativeHandle:B0,useInsertionEffect:L0,useLayoutEffect:U0,useMemo:F0,useReducer:af,useRef:O0,useState:function(){return af(Ds)},useDebugValue:Pm,useDeferredValue:function(s,o){var l=Mt();return q0(l,We.memoizedState,s,o)},useTransition:function(){var s=af(Ds)[0],o=Mt().memoizedState;return[typeof s=="boolean"?s:Vu(s),o]},useSyncExternalStore:v0,useId:K0,useHostTransitionStatus:Om,useFormState:P0,useActionState:P0,useOptimistic:function(s,o){var l=Mt();return S0(l,We,s,o)},useMemoCache:Rm,useCacheRefresh:Y0},dP={readContext:fn,use:of,useCallback:j0,useContext:fn,useEffect:V0,useImperativeHandle:B0,useInsertionEffect:L0,useLayoutEffect:U0,useMemo:F0,useReducer:Cm,useRef:O0,useState:function(){return Cm(Ds)},useDebugValue:Pm,useDeferredValue:function(s,o){var l=Mt();return We===null?Mm(l,s,o):q0(l,We.memoizedState,s,o)},useTransition:function(){var s=Cm(Ds)[0],o=Mt().memoizedState;return[typeof s=="boolean"?s:Vu(s),o]},useSyncExternalStore:v0,useId:K0,useHostTransitionStatus:Om,useFormState:k0,useActionState:k0,useOptimistic:function(s,o){var l=Mt();return We!==null?S0(l,We,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Rm,useCacheRefresh:Y0},Ya=null,zu=0;function ff(s){var o=zu;return zu+=1,Ya===null&&(Ya=[]),c0(Ya,s,o)}function Bu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function df(s,o){throw o.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function ew(s){var o=s._init;return o(s._payload)}function tw(s){function o(H,z){if(s){var K=H.deletions;K===null?(H.deletions=[z],H.flags|=16):K.push(z)}}function l(H,z){if(!s)return null;for(;z!==null;)o(H,z),z=z.sibling;return null}function c(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function m(H,z){return H=As(H,z),H.index=0,H.sibling=null,H}function y(H,z,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<z?(H.flags|=67108866,z):K):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function T(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,K,te){return z===null||z.tag!==6?(z=nm(K,H.mode,te),z.return=H,z):(z=m(z,K),z.return=H,z)}function k(H,z,K,te){var pe=K.type;return pe===x?ee(H,z,K.props.children,te,K.key):z!==null&&(z.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===C&&ew(pe)===z.type)?(z=m(z,K.props),Bu(z,K),z.return=H,z):(z=Yh(K.type,K.key,K.props,null,H.mode,te),Bu(z,K),z.return=H,z)}function Y(H,z,K,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=im(K,H.mode,te),z.return=H,z):(z=m(z,K.children||[]),z.return=H,z)}function ee(H,z,K,te,pe){return z===null||z.tag!==7?(z=Do(K,H.mode,te,pe),z.return=H,z):(z=m(z,K),z.return=H,z)}function ie(H,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=nm(""+z,H.mode,K),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return K=Yh(z.type,z.key,z.props,null,H.mode,K),Bu(K,z),K.return=H,K;case E:return z=im(z,H.mode,K),z.return=H,z;case C:var te=z._init;return z=te(z._payload),ie(H,z,K)}if(st(z)||q(z))return z=Do(z,H.mode,K,null),z.return=H,z;if(typeof z.then=="function")return ie(H,ff(z),K);if(z.$$typeof===F)return ie(H,Zh(H,z),K);df(H,z)}return null}function X(H,z,K,te){var pe=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return pe!==null?null:S(H,z,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===pe?k(H,z,K,te):null;case E:return K.key===pe?Y(H,z,K,te):null;case C:return pe=K._init,K=pe(K._payload),X(H,z,K,te)}if(st(K)||q(K))return pe!==null?null:ee(H,z,K,te,null);if(typeof K.then=="function")return X(H,z,ff(K),te);if(K.$$typeof===F)return X(H,z,Zh(H,K),te);df(H,K)}return null}function Q(H,z,K,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(K)||null,S(z,H,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return H=H.get(te.key===null?K:te.key)||null,k(z,H,te,pe);case E:return H=H.get(te.key===null?K:te.key)||null,Y(z,H,te,pe);case C:var ke=te._init;return te=ke(te._payload),Q(H,z,K,te,pe)}if(st(te)||q(te))return H=H.get(K)||null,ee(z,H,te,pe,null);if(typeof te.then=="function")return Q(H,z,K,ff(te),pe);if(te.$$typeof===F)return Q(H,z,K,Zh(z,te),pe);df(z,te)}return null}function Ee(H,z,K,te){for(var pe=null,ke=null,me=z,be=z=0,Xt=null;me!==null&&be<K.length;be++){me.index>be?(Xt=me,me=null):Xt=me.sibling;var qe=X(H,me,K[be],te);if(qe===null){me===null&&(me=Xt);break}s&&me&&qe.alternate===null&&o(H,me),z=y(qe,z,be),ke===null?pe=qe:ke.sibling=qe,ke=qe,me=Xt}if(be===K.length)return l(H,me),He&&Mo(H,be),pe;if(me===null){for(;be<K.length;be++)me=ie(H,K[be],te),me!==null&&(z=y(me,z,be),ke===null?pe=me:ke.sibling=me,ke=me);return He&&Mo(H,be),pe}for(me=c(me);be<K.length;be++)Xt=Q(me,H,be,K[be],te),Xt!==null&&(s&&Xt.alternate!==null&&me.delete(Xt.key===null?be:Xt.key),z=y(Xt,z,be),ke===null?pe=Xt:ke.sibling=Xt,ke=Xt);return s&&me.forEach(function(Rr){return o(H,Rr)}),He&&Mo(H,be),pe}function ve(H,z,K,te){if(K==null)throw Error(i(151));for(var pe=null,ke=null,me=z,be=z=0,Xt=null,qe=K.next();me!==null&&!qe.done;be++,qe=K.next()){me.index>be?(Xt=me,me=null):Xt=me.sibling;var Rr=X(H,me,qe.value,te);if(Rr===null){me===null&&(me=Xt);break}s&&me&&Rr.alternate===null&&o(H,me),z=y(Rr,z,be),ke===null?pe=Rr:ke.sibling=Rr,ke=Rr,me=Xt}if(qe.done)return l(H,me),He&&Mo(H,be),pe;if(me===null){for(;!qe.done;be++,qe=K.next())qe=ie(H,qe.value,te),qe!==null&&(z=y(qe,z,be),ke===null?pe=qe:ke.sibling=qe,ke=qe);return He&&Mo(H,be),pe}for(me=c(me);!qe.done;be++,qe=K.next())qe=Q(me,H,be,qe.value,te),qe!==null&&(s&&qe.alternate!==null&&me.delete(qe.key===null?be:qe.key),z=y(qe,z,be),ke===null?pe=qe:ke.sibling=qe,ke=qe);return s&&me.forEach(function(pM){return o(H,pM)}),He&&Mo(H,be),pe}function Je(H,z,K,te){if(typeof K=="object"&&K!==null&&K.type===x&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var pe=K.key;z!==null;){if(z.key===pe){if(pe=K.type,pe===x){if(z.tag===7){l(H,z.sibling),te=m(z,K.props.children),te.return=H,H=te;break e}}else if(z.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===C&&ew(pe)===z.type){l(H,z.sibling),te=m(z,K.props),Bu(te,K),te.return=H,H=te;break e}l(H,z);break}else o(H,z);z=z.sibling}K.type===x?(te=Do(K.props.children,H.mode,te,K.key),te.return=H,H=te):(te=Yh(K.type,K.key,K.props,null,H.mode,te),Bu(te,K),te.return=H,H=te)}return T(H);case E:e:{for(pe=K.key;z!==null;){if(z.key===pe)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){l(H,z.sibling),te=m(z,K.children||[]),te.return=H,H=te;break e}else{l(H,z);break}else o(H,z);z=z.sibling}te=im(K,H.mode,te),te.return=H,H=te}return T(H);case C:return pe=K._init,K=pe(K._payload),Je(H,z,K,te)}if(st(K))return Ee(H,z,K,te);if(q(K)){if(pe=q(K),typeof pe!="function")throw Error(i(150));return K=pe.call(K),ve(H,z,K,te)}if(typeof K.then=="function")return Je(H,z,ff(K),te);if(K.$$typeof===F)return Je(H,z,Zh(H,K),te);df(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(l(H,z.sibling),te=m(z,K),te.return=H,H=te):(l(H,z),te=nm(K,H.mode,te),te.return=H,H=te),T(H)):l(H,z)}return function(H,z,K,te){try{zu=0;var pe=Je(H,z,K,te);return Ya=null,pe}catch(me){if(me===Du||me===ef)throw me;var ke=Un(29,me,null,H.mode);return ke.lanes=te,ke.return=H,ke}finally{}}}var Xa=tw(!0),nw=tw(!1),ri=re(null),Gi=null;function hr(s){var o=s.alternate;le(Ft,Ft.current&1),le(ri,s),Gi===null&&(o===null||Ha.current!==null||o.memoizedState!==null)&&(Gi=s)}function iw(s){if(s.tag===22){if(le(Ft,Ft.current),le(ri,s),Gi===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Gi=s)}}else fr()}function fr(){le(Ft,Ft.current),le(ri,ri.current)}function Ps(s){ce(ri),Gi===s&&(Gi=null),ce(Ft)}var Ft=re(0);function pf(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ag(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Vm(s,o,l,c){o=s.memoizedState,l=l(c,o),l=l==null?o:g({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Lm={enqueueSetState:function(s,o,l){s=s._reactInternals;var c=Fn(),m=lr(c);m.payload=o,l!=null&&(m.callback=l),o=ur(s,m,c),o!==null&&(qn(o,s,c),Mu(o,s,c))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var c=Fn(),m=lr(c);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=ur(s,m,c),o!==null&&(qn(o,s,c),Mu(o,s,c))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Fn(),c=lr(l);c.tag=2,o!=null&&(c.callback=o),o=ur(s,c,l),o!==null&&(qn(o,s,l),Mu(o,s,l))}};function sw(s,o,l,c,m,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,T):o.prototype&&o.prototype.isPureReactComponent?!Tu(l,c)||!Tu(m,y):!0}function rw(s,o,l,c){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==s&&Lm.enqueueReplaceState(o,o.state,null)}function zo(s,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(s=s.defaultProps){l===o&&(l=g({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var mf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ow(s){mf(s)}function aw(s){console.error(s)}function lw(s){mf(s)}function gf(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function uw(s,o,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Um(s,o,l){return l=lr(l),l.tag=3,l.payload={element:null},l.callback=function(){gf(s,o)},l}function cw(s){return s=lr(s),s.tag=3,s}function hw(s,o,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){uw(o,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){uw(o,l,c),typeof m!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function pP(s,o,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&xu(o,l,m,!0),l=ri.current,l!==null){switch(l.tag){case 13:return Gi===null?lg():l.alternate===null&&vt===0&&(vt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===dm?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),cg(s,c,m)),!1;case 22:return l.flags|=65536,c===dm?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),cg(s,c,m)),!1}throw Error(i(435,l.tag))}return cg(s,c,m),lg(),!1}if(He)return o=ri.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,c!==om&&(s=Error(i(422),{cause:c}),Ru(ti(s,l)))):(c!==om&&(o=Error(i(423),{cause:c}),Ru(ti(o,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=ti(c,l),m=Um(s.stateNode,c,m),gm(s,m),vt!==4&&(vt=2)),!1;var y=Error(i(520),{cause:c});if(y=ti(y,l),Ku===null?Ku=[y]:Ku.push(y),vt!==4&&(vt=2),o===null)return!0;c=ti(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Um(l.stateNode,c,s),gm(l,s),!1;case 1:if(o=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vr===null||!vr.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=cw(m),hw(m,s,l,c),gm(l,m),!1}l=l.return}while(l!==null);return!1}var fw=Error(i(461)),Kt=!1;function tn(s,o,l,c){o.child=s===null?nw(o,null,l,c):Xa(o,s.child,l,c)}function dw(s,o,l,c,m){l=l.render;var y=o.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Vo(o),c=wm(s,o,l,T,y,m),S=Tm(),s!==null&&!Kt?(Em(s,o,m),Ms(s,o,m)):(He&&S&&sm(o),o.flags|=1,tn(s,o,c,m),o.child)}function pw(s,o,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!tm(y)&&y.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=y,mw(s,o,y,c,m)):(s=Yh(l.type,null,c,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,!$m(s,m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Tu,l(T,c)&&s.ref===o.ref)return Ms(s,o,m)}return o.flags|=1,s=As(y,c),s.ref=o.ref,s.return=o,o.child=s}function mw(s,o,l,c,m){if(s!==null){var y=s.memoizedProps;if(Tu(y,c)&&s.ref===o.ref)if(Kt=!1,o.pendingProps=c=y,$m(s,m))(s.flags&131072)!==0&&(Kt=!0);else return o.lanes=s.lanes,Ms(s,o,m)}return zm(s,o,l,c,m)}function gw(s,o,l){var c=o.pendingProps,m=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(m=o.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~c}else o.childLanes=0,o.child=null;return yw(s,o,c,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Jh(o,y!==null?y.cachePool:null),y!==null?m0(o,y):vm(),iw(o);else return o.lanes=o.childLanes=536870912,yw(s,o,y!==null?y.baseLanes|l:l,l)}else y!==null?(Jh(o,y.cachePool),m0(o,y),fr(),o.memoizedState=null):(s!==null&&Jh(o,null),vm(),fr());return tn(s,o,m,l),o.child}function yw(s,o,l,c){var m=fm();return m=m===null?null:{parent:jt._currentValue,pool:m},o.memoizedState={baseLanes:l,cachePool:m},s!==null&&Jh(o,null),vm(),iw(o),s!==null&&xu(s,o,c,!0),null}function yf(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function zm(s,o,l,c,m){return Vo(o),l=wm(s,o,l,c,void 0,m),c=Tm(),s!==null&&!Kt?(Em(s,o,m),Ms(s,o,m)):(He&&c&&sm(o),o.flags|=1,tn(s,o,l,m),o.child)}function vw(s,o,l,c,m,y){return Vo(o),o.updateQueue=null,l=y0(o,c,l,m),g0(s),c=Tm(),s!==null&&!Kt?(Em(s,o,y),Ms(s,o,y)):(He&&c&&sm(o),o.flags|=1,tn(s,o,l,y),o.child)}function _w(s,o,l,c,m){if(Vo(o),o.stateNode===null){var y=za,T=l.contextType;typeof T=="object"&&T!==null&&(y=fn(T)),y=new l(c,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Lm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=c,y.state=o.memoizedState,y.refs={},pm(o),T=l.contextType,y.context=typeof T=="object"&&T!==null?fn(T):za,y.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Vm(o,l,T,c),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Lm.enqueueReplaceState(y,y.state,null),Ou(o,c,y,m),ku(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(s===null){y=o.stateNode;var S=o.memoizedProps,k=zo(l,S);y.props=k;var Y=y.context,ee=l.contextType;T=za,typeof ee=="object"&&ee!==null&&(T=fn(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=o.pendingProps!==S,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||Y!==T)&&rw(o,y,c,T),ar=!1;var X=o.memoizedState;y.state=X,Ou(o,c,y,m),ku(),Y=o.memoizedState,S||X!==Y||ar?(typeof ie=="function"&&(Vm(o,l,ie,c),Y=o.memoizedState),(k=ar||sw(o,l,k,c,X,Y,T))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=Y),y.props=c,y.state=Y,y.context=T,c=k):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{y=o.stateNode,mm(s,o),T=o.memoizedProps,ee=zo(l,T),y.props=ee,ie=o.pendingProps,X=y.context,Y=l.contextType,k=za,typeof Y=="object"&&Y!==null&&(k=fn(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==ie||X!==k)&&rw(o,y,c,k),ar=!1,X=o.memoizedState,y.state=X,Ou(o,c,y,m),ku();var Q=o.memoizedState;T!==ie||X!==Q||ar||s!==null&&s.dependencies!==null&&Wh(s.dependencies)?(typeof S=="function"&&(Vm(o,l,S,c),Q=o.memoizedState),(ee=ar||sw(o,l,ee,c,X,Q,k)||s!==null&&s.dependencies!==null&&Wh(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Q,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Q,k)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=Q),y.props=c,y.state=Q,y.context=k,c=ee):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),c=!1)}return y=c,yf(s,o),c=(o.flags&128)!==0,y||c?(y=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,s!==null&&c?(o.child=Xa(o,s.child,null,m),o.child=Xa(o,null,l,m)):tn(s,o,l,m),o.memoizedState=y.state,s=o.child):s=Ms(s,o,m),s}function bw(s,o,l,c){return Au(),o.flags|=256,tn(s,o,l,c),o.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(s){return{baseLanes:s,cachePool:a0()}}function Fm(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=oi),s}function ww(s,o,l){var c=o.pendingProps,m=!1,y=(o.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(Ft.current&2)!==0),T&&(m=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,s===null){if(He){if(m?hr(o):fr(),He){var S=yt,k;if(k=S){e:{for(k=S,S=Hi;k.nodeType!==8;){if(!S){S=null;break e}if(k=bi(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(o.memoizedState={dehydrated:S,treeContext:Po!==null?{id:Rs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},k=Un(18,null,null,0),k.stateNode=S,k.return=o,o.child=k,Sn=o,yt=null,k=!0):k=!1}k||Oo(o)}if(S=o.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Ag(S)?o.lanes=32:o.lanes=536870912,null;Ps(o)}return S=c.children,c=c.fallback,m?(fr(),m=o.mode,S=vf({mode:"hidden",children:S},m),c=Do(c,m,l,null),S.return=o,c.return=o,S.sibling=c,o.child=S,m=o.child,m.memoizedState=jm(l),m.childLanes=Fm(s,T,l),o.memoizedState=Bm,c):(hr(o),qm(o,S))}if(k=s.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(y)o.flags&256?(hr(o),o.flags&=-257,o=Hm(s,o,l)):o.memoizedState!==null?(fr(),o.child=s.child,o.flags|=128,o=null):(fr(),m=c.fallback,S=o.mode,c=vf({mode:"visible",children:c.children},S),m=Do(m,S,l,null),m.flags|=2,c.return=o,m.return=o,c.sibling=m,o.child=c,Xa(o,s.child,null,l),c=o.child,c.memoizedState=jm(l),c.childLanes=Fm(s,T,l),o.memoizedState=Bm,o=m);else if(hr(o),Ag(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,Ru({value:c,source:null,stack:null}),o=Hm(s,o,l)}else if(Kt||xu(s,o,l,!1),T=(l&s.childLanes)!==0,Kt||T){if(T=nt,T!==null&&(c=l&-l,c=(c&42)!==0?1:Js(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,Ua(s,c),qn(T,s,c),fw;S.data==="$?"||lg(),o=Hm(s,o,l)}else S.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=k.treeContext,yt=bi(S.nextSibling),Sn=o,He=!0,ko=null,Hi=!1,s!==null&&(ii[si++]=Rs,ii[si++]=xs,ii[si++]=Po,Rs=s.id,xs=s.overflow,Po=o),o=qm(o,c.children),o.flags|=4096);return o}return m?(fr(),m=c.fallback,S=o.mode,k=s.child,Y=k.sibling,c=As(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,Y!==null?m=As(Y,m):(m=Do(m,S,l,null),m.flags|=2),m.return=o,c.return=o,c.sibling=m,o.child=c,c=m,m=o.child,S=s.child.memoizedState,S===null?S=jm(l):(k=S.cachePool,k!==null?(Y=jt._currentValue,k=k.parent!==Y?{parent:Y,pool:Y}:k):k=a0(),S={baseLanes:S.baseLanes|l,cachePool:k}),m.memoizedState=S,m.childLanes=Fm(s,T,l),o.memoizedState=Bm,c):(hr(o),l=s.child,s=l.sibling,l=As(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,s!==null&&(T=o.deletions,T===null?(o.deletions=[s],o.flags|=16):T.push(s)),o.child=l,o.memoizedState=null,l)}function qm(s,o){return o=vf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function vf(s,o){return s=Un(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Hm(s,o,l){return Xa(o,s.child,null,l),s=qm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Tw(s,o,l){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o),lm(s.return,o,l)}function Gm(s,o,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function Ew(s,o,l){var c=o.pendingProps,m=c.revealOrder,y=c.tail;if(tn(s,o,c.children,l),c=Ft.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Tw(s,l,o);else if(s.tag===19)Tw(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(le(Ft,c),m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&pf(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Gm(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&pf(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Gm(o,!0,l,null,y);break;case"together":Gm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ms(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),yr|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(xu(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=As(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=As(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function $m(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Wh(s)))}function mP(s,o,l){switch(o.tag){case 3:tt(o,o.stateNode.containerInfo),or(o,jt,s.memoizedState.cache),Au();break;case 27:case 5:Zs(o);break;case 4:tt(o,o.stateNode.containerInfo);break;case 10:or(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(hr(o),o.flags|=128,null):(l&o.child.childLanes)!==0?ww(s,o,l):(hr(o),s=Ms(s,o,l),s!==null?s.sibling:null);hr(o);break;case 19:var m=(s.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(xu(s,o,l,!1),c=(l&o.childLanes)!==0),m){if(c)return Ew(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(Ft,Ft.current),c)break;return null;case 22:case 23:return o.lanes=0,gw(s,o,l);case 24:or(o,jt,s.memoizedState.cache)}return Ms(s,o,l)}function Sw(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)Kt=!0;else{if(!$m(s,l)&&(o.flags&128)===0)return Kt=!1,mP(s,o,l);Kt=(s.flags&131072)!==0}else Kt=!1,He&&(o.flags&1048576)!==0&&e0(o,Qh,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var c=o.elementType,m=c._init;if(c=m(c._payload),o.type=c,typeof c=="function")tm(c)?(s=zo(c,s),o.tag=1,o=_w(null,o,c,s,l)):(o.tag=0,o=zm(null,o,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===$){o.tag=11,o=dw(null,o,c,s,l);break e}else if(m===M){o.tag=14,o=pw(null,o,c,s,l);break e}}throw o=Ct(c)||c,Error(i(306,o,""))}}return o;case 0:return zm(s,o,o.type,o.pendingProps,l);case 1:return c=o.type,m=zo(c,o.pendingProps),_w(s,o,c,m,l);case 3:e:{if(tt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));c=o.pendingProps;var y=o.memoizedState;m=y.element,mm(s,o),Ou(o,c,null,l);var T=o.memoizedState;if(c=T.cache,or(o,jt,c),c!==y.cache&&um(o,[jt],l,!0),ku(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=bw(s,o,c,l);break e}else if(c!==m){m=ti(Error(i(424)),o),Ru(m),o=bw(s,o,c,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yt=bi(s.firstChild),Sn=o,He=!0,ko=null,Hi=!0,l=nw(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Au(),c===m){o=Ms(s,o,l);break e}tn(s,o,c,l)}o=o.child}return o;case 26:return yf(s,o),s===null?(l=CT(o.type,null,o.pendingProps,null))?o.memoizedState=l:He||(l=o.type,s=o.pendingProps,c=Mf(Ae.current).createElement(l),c[Ut]=o,c[It]=s,sn(c,l,s),Tt(c),o.stateNode=c):o.memoizedState=CT(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Zs(o),s===null&&He&&(c=o.stateNode=AT(o.type,o.pendingProps,Ae.current),Sn=o,Hi=!0,m=yt,wr(o.type)?(Rg=m,yt=bi(c.firstChild)):yt=m),tn(s,o,o.pendingProps.children,l),yf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&He&&((m=c=yt)&&(c=qP(c,o.type,o.pendingProps,Hi),c!==null?(o.stateNode=c,Sn=o,yt=bi(c.firstChild),Hi=!1,m=!0):m=!1),m||Oo(o)),Zs(o),m=o.type,y=o.pendingProps,T=s!==null?s.memoizedProps:null,c=y.children,Tg(m,y)?c=null:T!==null&&Tg(m,T)&&(o.flags|=32),o.memoizedState!==null&&(m=wm(s,o,aP,null,null,l),nc._currentValue=m),yf(s,o),tn(s,o,c,l),o.child;case 6:return s===null&&He&&((s=l=yt)&&(l=HP(l,o.pendingProps,Hi),l!==null?(o.stateNode=l,Sn=o,yt=null,s=!0):s=!1),s||Oo(o)),null;case 13:return ww(s,o,l);case 4:return tt(o,o.stateNode.containerInfo),c=o.pendingProps,s===null?o.child=Xa(o,null,c,l):tn(s,o,c,l),o.child;case 11:return dw(s,o,o.type,o.pendingProps,l);case 7:return tn(s,o,o.pendingProps,l),o.child;case 8:return tn(s,o,o.pendingProps.children,l),o.child;case 12:return tn(s,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,or(o,o.type,c.value),tn(s,o,c.children,l),o.child;case 9:return m=o.type._context,c=o.pendingProps.children,Vo(o),m=fn(m),c=c(m),o.flags|=1,tn(s,o,c,l),o.child;case 14:return pw(s,o,o.type,o.pendingProps,l);case 15:return mw(s,o,o.type,o.pendingProps,l);case 19:return Ew(s,o,l);case 31:return c=o.pendingProps,l=o.mode,c={mode:c.mode,children:c.children},s===null?(l=vf(c,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=As(s.child,c),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return gw(s,o,l);case 24:return Vo(o),c=fn(jt),s===null?(m=fm(),m===null&&(m=nt,y=cm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),o.memoizedState={parent:c,cache:m},pm(o),or(o,jt,m)):((s.lanes&l)!==0&&(mm(s,o),Ou(o,null,null,l),ku()),m=s.memoizedState,y=o.memoizedState,m.parent!==c?(m={parent:c,cache:c},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),or(o,jt,c)):(c=y.cache,or(o,jt,c),c!==m.cache&&um(o,[jt],l,!0))),tn(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function ks(s){s.flags|=4}function Aw(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!kT(o)){if(o=ri.current,o!==null&&((je&4194048)===je?Gi!==null:(je&62914560)!==je&&(je&536870912)===0||o!==Gi))throw Pu=dm,l0;s.flags|=8192}}function _f(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?su():536870912,s.lanes|=o,Ja|=o)}function ju(s,o){if(!He)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ht(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,o}function gP(s,o,l){var c=o.pendingProps;switch(rm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(o),null;case 1:return ht(o),null;case 3:return l=o.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Is(jt),Mi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Su(o)?ks(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,i0())),ht(o),null;case 26:return l=o.memoizedState,s===null?(ks(o),l!==null?(ht(o),Aw(o,l)):(ht(o),o.flags&=-16777217)):l?l!==s.memoizedState?(ks(o),ht(o),Aw(o,l)):(ht(o),o.flags&=-16777217):(s.memoizedProps!==c&&ks(o),ht(o),o.flags&=-16777217),null;case 27:fs(o),l=Ae.current;var m=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==c&&ks(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return ht(o),null}s=ye.current,Su(o)?t0(o):(s=AT(m,c,l),o.stateNode=s,ks(o))}return ht(o),null;case 5:if(fs(o),l=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&ks(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return ht(o),null}if(s=ye.current,Su(o))t0(o);else{switch(m=Mf(Ae.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[Ut]=o,s[It]=c;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=s;e:switch(sn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ks(o)}}return ht(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==c&&ks(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(i(166));if(s=Ae.current,Su(o)){if(s=o.stateNode,l=o.memoizedProps,c=null,m=Sn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Ut]=o,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||vT(s.nodeValue,l)),s||Oo(o)}else s=Mf(s).createTextNode(c),s[Ut]=o,o.stateNode=s}return ht(o),null;case 13:if(c=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Su(o),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ut]=o}else Au(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ht(o),m=!1}else m=i0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Ps(o),o):(Ps(o),null)}if(Ps(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=o.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(o.child.flags|=8192),_f(o,o.updateQueue),ht(o),null;case 4:return Mi(),s===null&&yg(o.stateNode.containerInfo),ht(o),null;case 10:return Is(o.type),ht(o),null;case 19:if(ce(Ft),m=o.memoizedState,m===null)return ht(o),null;if(c=(o.flags&128)!==0,y=m.rendering,y===null)if(c)ju(m,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(y=pf(s),y!==null){for(o.flags|=128,ju(m,!1),s=y.updateQueue,o.updateQueue=s,_f(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)Jb(l,s),l=l.sibling;return le(Ft,Ft.current&1|2),o.child}s=s.sibling}m.tail!==null&&Xn()>Tf&&(o.flags|=128,c=!0,ju(m,!1),o.lanes=4194304)}else{if(!c)if(s=pf(y),s!==null){if(o.flags|=128,c=!0,s=s.updateQueue,o.updateQueue=s,_f(o,s),ju(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!He)return ht(o),null}else 2*Xn()-m.renderingStartTime>Tf&&l!==536870912&&(o.flags|=128,c=!0,ju(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(s=m.last,s!==null?s.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Xn(),o.sibling=null,s=Ft.current,le(Ft,c?s&1|2:s&1),o):(ht(o),null);case 22:case 23:return Ps(o),_m(),c=o.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(ht(o),o.subtreeFlags&6&&(o.flags|=8192)):ht(o),l=o.updateQueue,l!==null&&_f(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),s!==null&&ce(Lo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Is(jt),ht(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function yP(s,o){switch(rm(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Is(jt),Mi(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return fs(o),null;case 13:if(Ps(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Au()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ce(Ft),null;case 4:return Mi(),null;case 10:return Is(o.type),null;case 22:case 23:return Ps(o),_m(),s!==null&&ce(Lo),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Is(jt),null;case 25:return null;default:return null}}function Rw(s,o){switch(rm(o),o.tag){case 3:Is(jt),Mi();break;case 26:case 27:case 5:fs(o);break;case 4:Mi();break;case 13:Ps(o);break;case 19:ce(Ft);break;case 10:Is(o.type);break;case 22:case 23:Ps(o),_m(),s!==null&&ce(Lo);break;case 24:Is(jt)}}function Fu(s,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==m)}}catch(S){et(o,o.return,S)}}function dr(s,o,l){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,m=o;var k=l,Y=S;try{Y()}catch(ee){et(m,k,ee)}}}c=c.next}while(c!==y)}}catch(ee){et(o,o.return,ee)}}function xw(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{p0(o,l)}catch(c){et(s,s.return,c)}}}function Cw(s,o,l){l.props=zo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){et(s,o,c)}}function qu(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){et(s,o,m)}}function $i(s,o){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){et(s,o,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){et(s,o,m)}else l.current=null}function Iw(s){var o=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){et(s,s.return,m)}}function Km(s,o,l){try{var c=s.stateNode;UP(c,s.type,l,o),c[It]=o}catch(m){et(s,s.return,m)}}function Dw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&wr(s.type)||s.tag===4}function Ym(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Dw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&wr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xm(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Pf));else if(c!==4&&(c===27&&wr(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(Xm(s,o,l),s=s.sibling;s!==null;)Xm(s,o,l),s=s.sibling}function bf(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(c!==4&&(c===27&&wr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(bf(s,o,l),s=s.sibling;s!==null;)bf(s,o,l),s=s.sibling}function Pw(s){var o=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);sn(o,c,l),o[Ut]=s,o[It]=l}catch(y){et(s,s.return,y)}}var Os=!1,St=!1,Qm=!1,Mw=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function vP(s,o){if(s=s.containerInfo,bg=Uf,s=qb(s),Yp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,S=-1,k=-1,Y=0,ee=0,ie=s,X=null;t:for(;;){for(var Q;ie!==l||m!==0&&ie.nodeType!==3||(S=T+m),ie!==y||c!==0&&ie.nodeType!==3||(k=T+c),ie.nodeType===3&&(T+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)X=ie,ie=Q;for(;;){if(ie===s)break t;if(X===l&&++Y===m&&(S=T),X===y&&++ee===c&&(k=T),(Q=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Q}l=S===-1||k===-1?null:{start:S,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(wg={focusedElem:s,selectionRange:l},Uf=!1,Yt=o;Yt!==null;)if(o=Yt,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Yt=s;else for(;Yt!==null;){switch(o=Yt,y=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=o,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ee=zo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ee,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(ve){et(l,l.return,ve)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)Sg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Sg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Yt=s;break}Yt=o.return}}function kw(s,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:pr(s,l),c&4&&Fu(5,l);break;case 1:if(pr(s,l),c&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(T){et(l,l.return,T)}else{var m=zo(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(m,o,s.__reactInternalSnapshotBeforeUpdate)}catch(T){et(l,l.return,T)}}c&64&&xw(l),c&512&&qu(l,l.return);break;case 3:if(pr(s,l),c&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{p0(s,o)}catch(T){et(l,l.return,T)}}break;case 27:o===null&&c&4&&Pw(l);case 26:case 5:pr(s,l),o===null&&c&4&&Iw(l),c&512&&qu(l,l.return);break;case 12:pr(s,l);break;case 13:pr(s,l),c&4&&Vw(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=xP.bind(null,l),GP(s,l))));break;case 22:if(c=l.memoizedState!==null||Os,!c){o=o!==null&&o.memoizedState!==null||St,m=Os;var y=St;Os=c,(St=o)&&!y?mr(s,l,(l.subtreeFlags&8772)!==0):pr(s,l),Os=m,St=y}break;case 30:break;default:pr(s,l)}}function Ow(s){var o=s.alternate;o!==null&&(s.alternate=null,Ow(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&nr(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var lt=null,In=!1;function Ns(s,o,l){for(l=l.child;l!==null;)Nw(s,o,l),l=l.sibling}function Nw(s,o,l){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(gt,l)}catch{}switch(l.tag){case 26:St||$i(l,o),Ns(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:St||$i(l,o);var c=lt,m=In;wr(l.type)&&(lt=l.stateNode,In=!1),Ns(s,o,l),Zu(l.stateNode),lt=c,In=m;break;case 5:St||$i(l,o);case 6:if(c=lt,m=In,lt=null,Ns(s,o,l),lt=c,In=m,lt!==null)if(In)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(y){et(l,o,y)}else try{lt.removeChild(l.stateNode)}catch(y){et(l,o,y)}break;case 18:lt!==null&&(In?(s=lt,ET(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),oc(s)):ET(lt,l.stateNode));break;case 4:c=lt,m=In,lt=l.stateNode.containerInfo,In=!0,Ns(s,o,l),lt=c,In=m;break;case 0:case 11:case 14:case 15:St||dr(2,l,o),St||dr(4,l,o),Ns(s,o,l);break;case 1:St||($i(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Cw(l,o,c)),Ns(s,o,l);break;case 21:Ns(s,o,l);break;case 22:St=(c=St)||l.memoizedState!==null,Ns(s,o,l),St=c;break;default:Ns(s,o,l)}}function Vw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{oc(s)}catch(l){et(o,o.return,l)}}function _P(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Mw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Mw),o;default:throw Error(i(435,s.tag))}}function Wm(s,o){var l=_P(s);o.forEach(function(c){var m=CP.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function zn(s,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,T=o,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(wr(S.type)){lt=S.stateNode,In=!1;break e}break;case 5:lt=S.stateNode,In=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(lt===null)throw Error(i(160));Nw(y,T,m),lt=null,In=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Lw(o,s),o=o.sibling}var _i=null;function Lw(s,o){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zn(o,s),Bn(s),c&4&&(dr(3,s,s.return),Fu(3,s),dr(5,s,s.return));break;case 1:zn(o,s),Bn(s),c&512&&(St||l===null||$i(l,l.return)),c&64&&Os&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=_i;if(zn(o,s),Bn(s),c&512&&(St||l===null||$i(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[po]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),sn(y,c,l),y[Ut]=s,Tt(y),c=y;break e;case"link":var T=PT("link","href",m).get(c+(l.href||""));if(T){for(var S=0;S<T.length;S++)if(y=T[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(S,1);break t}}y=m.createElement(c),sn(y,c,l),m.head.appendChild(y);break;case"meta":if(T=PT("meta","content",m).get(c+(l.content||""))){for(S=0;S<T.length;S++)if(y=T[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(S,1);break t}}y=m.createElement(c),sn(y,c,l),m.head.appendChild(y);break;default:throw Error(i(468,c))}y[Ut]=s,Tt(y),c=y}s.stateNode=c}else MT(m,s.type,s.stateNode);else s.stateNode=DT(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?MT(m,s.type,s.stateNode):DT(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Km(s,s.memoizedProps,l.memoizedProps)}break;case 27:zn(o,s),Bn(s),c&512&&(St||l===null||$i(l,l.return)),l!==null&&c&4&&Km(s,s.memoizedProps,l.memoizedProps);break;case 5:if(zn(o,s),Bn(s),c&512&&(St||l===null||$i(l,l.return)),s.flags&32){m=s.stateNode;try{Wn(m,"")}catch(Q){et(s,s.return,Q)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,Km(s,m,l!==null?l.memoizedProps:m)),c&1024&&(Qm=!0);break;case 6:if(zn(o,s),Bn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Q){et(s,s.return,Q)}}break;case 3:if(Nf=null,m=_i,_i=kf(o.containerInfo),zn(o,s),_i=m,Bn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{oc(o.containerInfo)}catch(Q){et(s,s.return,Q)}Qm&&(Qm=!1,Uw(s));break;case 4:c=_i,_i=kf(s.stateNode.containerInfo),zn(o,s),Bn(s),_i=c;break;case 12:zn(o,s),Bn(s);break;case 13:zn(o,s),Bn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ig=Xn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Wm(s,c)));break;case 22:m=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,Y=Os,ee=St;if(Os=Y||m,St=ee||k,zn(o,s),St=ee,Os=Y,Bn(s),c&8192)e:for(o=s.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||k||Os||St||Bo(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){k=l=o;try{if(y=k.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=k.stateNode;var ie=k.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){et(k,k.return,Q)}}}else if(o.tag===6){if(l===null){k=o;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(Q){et(k,k.return,Q)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Wm(s,l))));break;case 19:zn(o,s),Bn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Wm(s,c)));break;case 30:break;case 21:break;default:zn(o,s),Bn(s)}}function Bn(s){var o=s.flags;if(o&2){try{for(var l,c=s.return;c!==null;){if(Dw(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,y=Ym(s);bf(s,y,m);break;case 5:var T=l.stateNode;l.flags&32&&(Wn(T,""),l.flags&=-33);var S=Ym(s);bf(s,S,T);break;case 3:case 4:var k=l.stateNode.containerInfo,Y=Ym(s);Xm(s,Y,k);break;default:throw Error(i(161))}}catch(ee){et(s,s.return,ee)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Uw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Uw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function pr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kw(s,o.alternate,o),o=o.sibling}function Bo(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:dr(4,o,o.return),Bo(o);break;case 1:$i(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Cw(o,o.return,l),Bo(o);break;case 27:Zu(o.stateNode);case 26:case 5:$i(o,o.return),Bo(o);break;case 22:o.memoizedState===null&&Bo(o);break;case 30:Bo(o);break;default:Bo(o)}s=s.sibling}}function mr(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,m=s,y=o,T=y.flags;switch(y.tag){case 0:case 11:case 15:mr(m,y,l),Fu(4,y);break;case 1:if(mr(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){et(c,c.return,Y)}if(c=y,m=c.updateQueue,m!==null){var S=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)d0(k[m],S)}catch(Y){et(c,c.return,Y)}}l&&T&64&&xw(y),qu(y,y.return);break;case 27:Pw(y);case 26:case 5:mr(m,y,l),l&&c===null&&T&4&&Iw(y),qu(y,y.return);break;case 12:mr(m,y,l);break;case 13:mr(m,y,l),l&&T&4&&Vw(m,y);break;case 22:y.memoizedState===null&&mr(m,y,l),qu(y,y.return);break;case 30:break;default:mr(m,y,l)}o=o.sibling}}function Zm(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Cu(l))}function Jm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Cu(s))}function Ki(s,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)zw(s,o,l,c),o=o.sibling}function zw(s,o,l,c){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(s,o,l,c),m&2048&&Fu(9,o);break;case 1:Ki(s,o,l,c);break;case 3:Ki(s,o,l,c),m&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Cu(s)));break;case 12:if(m&2048){Ki(s,o,l,c),s=o.stateNode;try{var y=o.memoizedProps,T=y.id,S=y.onPostCommit;typeof S=="function"&&S(T,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){et(o,o.return,k)}}else Ki(s,o,l,c);break;case 13:Ki(s,o,l,c);break;case 23:break;case 22:y=o.stateNode,T=o.alternate,o.memoizedState!==null?y._visibility&2?Ki(s,o,l,c):Hu(s,o):y._visibility&2?Ki(s,o,l,c):(y._visibility|=2,Qa(s,o,l,c,(o.subtreeFlags&10256)!==0)),m&2048&&Zm(T,o);break;case 24:Ki(s,o,l,c),m&2048&&Jm(o.alternate,o);break;default:Ki(s,o,l,c)}}function Qa(s,o,l,c,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=s,T=o,S=l,k=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Qa(y,T,S,k,m),Fu(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&2?Qa(y,T,S,k,m):Hu(y,T):(ee._visibility|=2,Qa(y,T,S,k,m)),m&&Y&2048&&Zm(T.alternate,T);break;case 24:Qa(y,T,S,k,m),m&&Y&2048&&Jm(T.alternate,T);break;default:Qa(y,T,S,k,m)}o=o.sibling}}function Hu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,c=o,m=c.flags;switch(c.tag){case 22:Hu(l,c),m&2048&&Zm(c.alternate,c);break;case 24:Hu(l,c),m&2048&&Jm(c.alternate,c);break;default:Hu(l,c)}o=o.sibling}}var Gu=8192;function Wa(s){if(s.subtreeFlags&Gu)for(s=s.child;s!==null;)Bw(s),s=s.sibling}function Bw(s){switch(s.tag){case 26:Wa(s),s.flags&Gu&&s.memoizedState!==null&&sM(_i,s.memoizedState,s.memoizedProps);break;case 5:Wa(s);break;case 3:case 4:var o=_i;_i=kf(s.stateNode.containerInfo),Wa(s),_i=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Gu,Gu=16777216,Wa(s),Gu=o):Wa(s));break;default:Wa(s)}}function jw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function $u(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];Yt=c,qw(c,s)}jw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Fw(s),s=s.sibling}function Fw(s){switch(s.tag){case 0:case 11:case 15:$u(s),s.flags&2048&&dr(9,s,s.return);break;case 3:$u(s);break;case 12:$u(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,wf(s)):$u(s);break;default:$u(s)}}function wf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];Yt=c,qw(c,s)}jw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:dr(8,o,o.return),wf(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,wf(o));break;default:wf(o)}s=s.sibling}}function qw(s,o){for(;Yt!==null;){var l=Yt;switch(l.tag){case 0:case 11:case 15:dr(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Yt=c;else e:for(l=s;Yt!==null;){c=Yt;var m=c.sibling,y=c.return;if(Ow(c),c===l){Yt=null;break e}if(m!==null){m.return=y,Yt=m;break e}Yt=y}}}var bP={getCacheForType:function(s){var o=fn(jt),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l}},wP=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Oe=null,je=0,Xe=0,jn=null,gr=!1,Za=!1,eg=!1,Vs=0,vt=0,yr=0,jo=0,tg=0,oi=0,Ja=0,Ku=null,Dn=null,ng=!1,ig=0,Tf=1/0,Ef=null,vr=null,nn=0,_r=null,el=null,tl=0,sg=0,rg=null,Hw=null,Yu=0,og=null;function Fn(){if((Ye&2)!==0&&je!==0)return je&-je;if(J.T!==null){var s=Fa;return s!==0?s:dg()}return er()}function Gw(){oi===0&&(oi=(je&536870912)===0||He?iu():536870912);var s=ri.current;return s!==null&&(s.flags|=32),oi}function qn(s,o,l){(s===nt&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)&&(nl(s,0),br(s,je,oi,!1)),ps(s,l),((Ye&2)===0||s!==nt)&&(s===nt&&((Ye&2)===0&&(jo|=l),vt===4&&br(s,je,oi,!1)),Yi(s))}function $w(s,o,l){if((Ye&6)!==0)throw Error(i(327));var c=!l&&(o&124)===0&&(o&s.expiredLanes)===0||fo(s,o),m=c?SP(s,o):ug(s,o,!0),y=c;do{if(m===0){Za&&!c&&br(s,o,0,!1);break}else{if(l=s.current.alternate,y&&!TP(l)){m=ug(s,o,!1),y=!1;continue}if(m===2){if(y=o,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var S=s;m=Ku;var k=S.current.memoizedState.isDehydrated;if(k&&(nl(S,T).flags|=256),T=ug(S,T,!1),T!==2){if(eg&&!k){S.errorRecoveryDisabledLanes|=y,jo|=y,m=4;break e}y=Dn,Dn=m,y!==null&&(Dn===null?Dn=y:Dn.push.apply(Dn,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){nl(s,0),br(s,o,0,!0);break}e:{switch(c=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:br(c,o,oi,!gr);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=ig+300-Xn(),10<m)){if(br(c,o,oi,!gr),_a(c,0,!0)!==0)break e;c.timeoutHandle=wT(Kw.bind(null,c,l,Dn,Ef,ng,o,oi,jo,Ja,gr,y,2,-0,0),m);break e}Kw(c,l,Dn,Ef,ng,o,oi,jo,Ja,gr,y,0,-0,0)}}break}while(!0);Yi(s)}function Kw(s,o,l,c,m,y,T,S,k,Y,ee,ie,X,Q){if(s.timeoutHandle=-1,ie=o.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(tc={stylesheets:null,count:0,unsuspend:iM},Bw(o),ie=rM(),ie!==null)){s.cancelPendingCommit=ie(eT.bind(null,s,o,y,l,c,m,T,S,k,ee,1,X,Q)),br(s,y,T,!Y);return}eT(s,o,y,l,c,m,T,S,k)}function TP(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!Ln(y(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function br(s,o,l,c){o&=~tg,o&=~jo,s.suspendedLanes|=o,s.pingedLanes&=~o,c&&(s.warmLanes|=o),c=s.expirationTimes;for(var m=o;0<m;){var y=31-hn(m),T=1<<y;c[y]=-1,m&=~T}l!==0&&ki(s,l,o)}function Sf(){return(Ye&6)===0?(Xu(0),!1):!0}function ag(){if(Oe!==null){if(Xe===0)var s=Oe.return;else s=Oe,Cs=No=null,Sm(s),Ya=null,zu=0,s=Oe;for(;s!==null;)Rw(s.alternate,s),s=s.return;Oe=null}}function nl(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,BP(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ag(),nt=s,Oe=l=As(s.current,null),je=o,Xe=0,jn=null,gr=!1,Za=fo(s,o),eg=!1,Ja=oi=tg=jo=yr=vt=0,Dn=Ku=null,ng=!1,(o&8)!==0&&(o|=o&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=o;0<c;){var m=31-hn(c),y=1<<m;o|=s[m],c&=~y}return Vs=o,Gh(),l}function Yw(s,o){Pe=null,J.H=hf,o===Du||o===ef?(o=h0(),Xe=3):o===l0?(o=h0(),Xe=4):Xe=o===fw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,jn=o,Oe===null&&(vt=1,gf(s,ti(o,s.current)))}function Xw(){var s=J.H;return J.H=hf,s===null?hf:s}function Qw(){var s=J.A;return J.A=bP,s}function lg(){vt=4,gr||(je&4194048)!==je&&ri.current!==null||(Za=!0),(yr&134217727)===0&&(jo&134217727)===0||nt===null||br(nt,je,oi,!1)}function ug(s,o,l){var c=Ye;Ye|=2;var m=Xw(),y=Qw();(nt!==s||je!==o)&&(Ef=null,nl(s,o)),o=!1;var T=vt;e:do try{if(Xe!==0&&Oe!==null){var S=Oe,k=jn;switch(Xe){case 8:ag(),T=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(o=!0);var Y=Xe;if(Xe=0,jn=null,il(s,S,k,Y),l&&Za){T=0;break e}break;default:Y=Xe,Xe=0,jn=null,il(s,S,k,Y)}}EP(),T=vt;break}catch(ee){Yw(s,ee)}while(!0);return o&&s.shellSuspendCounter++,Cs=No=null,Ye=c,J.H=m,J.A=y,Oe===null&&(nt=null,je=0,Gh()),T}function EP(){for(;Oe!==null;)Ww(Oe)}function SP(s,o){var l=Ye;Ye|=2;var c=Xw(),m=Qw();nt!==s||je!==o?(Ef=null,Tf=Xn()+500,nl(s,o)):Za=fo(s,o);e:do try{if(Xe!==0&&Oe!==null){o=Oe;var y=jn;t:switch(Xe){case 1:Xe=0,jn=null,il(s,o,y,1);break;case 2:case 9:if(u0(y)){Xe=0,jn=null,Zw(o);break}o=function(){Xe!==2&&Xe!==9||nt!==s||(Xe=7),Yi(s)},y.then(o,o);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:u0(y)?(Xe=0,jn=null,Zw(o)):(Xe=0,jn=null,il(s,o,y,7));break;case 5:var T=null;switch(Oe.tag){case 26:T=Oe.memoizedState;case 5:case 27:var S=Oe;if(!T||kT(T)){Xe=0,jn=null;var k=S.sibling;if(k!==null)Oe=k;else{var Y=S.return;Y!==null?(Oe=Y,Af(Y)):Oe=null}break t}}Xe=0,jn=null,il(s,o,y,5);break;case 6:Xe=0,jn=null,il(s,o,y,6);break;case 8:ag(),vt=6;break e;default:throw Error(i(462))}}AP();break}catch(ee){Yw(s,ee)}while(!0);return Cs=No=null,J.H=c,J.A=m,Ye=l,Oe!==null?0:(nt=null,je=0,Gh(),vt)}function AP(){for(;Oe!==null&&!Jl();)Ww(Oe)}function Ww(s){var o=Sw(s.alternate,s,Vs);s.memoizedProps=s.pendingProps,o===null?Af(s):Oe=o}function Zw(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=vw(l,o,o.pendingProps,o.type,void 0,je);break;case 11:o=vw(l,o,o.pendingProps,o.type.render,o.ref,je);break;case 5:Sm(o);default:Rw(l,o),o=Oe=Jb(o,Vs),o=Sw(l,o,Vs)}s.memoizedProps=s.pendingProps,o===null?Af(s):Oe=o}function il(s,o,l,c){Cs=No=null,Sm(o),Ya=null,zu=0;var m=o.return;try{if(pP(s,m,o,l,je)){vt=1,gf(s,ti(l,s.current)),Oe=null;return}}catch(y){if(m!==null)throw Oe=m,y;vt=1,gf(s,ti(l,s.current)),Oe=null;return}o.flags&32768?(He||c===1?s=!0:Za||(je&536870912)!==0?s=!1:(gr=s=!0,(c===2||c===9||c===3||c===6)&&(c=ri.current,c!==null&&c.tag===13&&(c.flags|=16384))),Jw(o,s)):Af(o)}function Af(s){var o=s;do{if((o.flags&32768)!==0){Jw(o,gr);return}s=o.return;var l=gP(o.alternate,o,Vs);if(l!==null){Oe=l;return}if(o=o.sibling,o!==null){Oe=o;return}Oe=o=s}while(o!==null);vt===0&&(vt=5)}function Jw(s,o){do{var l=yP(s.alternate,s);if(l!==null){l.flags&=32767,Oe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){Oe=s;return}Oe=s=l}while(s!==null);vt=6,Oe=null}function eT(s,o,l,c,m,y,T,S,k){s.cancelPendingCommit=null;do Rf();while(nn!==0);if((Ye&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(y=o.lanes|o.childLanes,y|=Jp,ru(s,l,y,T,S,k),s===nt&&(Oe=nt=null,je=0),el=o,_r=s,tl=l,sg=y,rg=m,Hw=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,IP(lo,function(){return rT(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,m=oe.p,oe.p=2,T=Ye,Ye|=4;try{vP(s,o,l)}finally{Ye=T,oe.p=m,J.T=c}}nn=1,tT(),nT(),iT()}}function tT(){if(nn===1){nn=0;var s=_r,o=el,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var c=oe.p;oe.p=2;var m=Ye;Ye|=4;try{Lw(o,s);var y=wg,T=qb(s.containerInfo),S=y.focusedElem,k=y.selectionRange;if(T!==S&&S&&S.ownerDocument&&Fb(S.ownerDocument.documentElement,S)){if(k!==null&&Yp(S)){var Y=k.start,ee=k.end;if(ee===void 0&&(ee=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ee,S.value.length);else{var ie=S.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Q=X.getSelection(),Ee=S.textContent.length,ve=Math.min(k.start,Ee),Je=k.end===void 0?ve:Math.min(k.end,Ee);!Q.extend&&ve>Je&&(T=Je,Je=ve,ve=T);var H=jb(S,ve),z=jb(S,Je);if(H&&z&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var K=ie.createRange();K.setStart(H.node,H.offset),Q.removeAllRanges(),ve>Je?(Q.addRange(K),Q.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),Q.addRange(K))}}}}for(ie=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Uf=!!bg,wg=bg=null}finally{Ye=m,oe.p=c,J.T=l}}s.current=o,nn=2}}function nT(){if(nn===2){nn=0;var s=_r,o=el,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var c=oe.p;oe.p=2;var m=Ye;Ye|=4;try{kw(s,o.alternate,o)}finally{Ye=m,oe.p=c,J.T=l}}nn=3}}function iT(){if(nn===4||nn===3){nn=0,bh();var s=_r,o=el,l=tl,c=Hw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?nn=5:(nn=0,el=_r=null,sT(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(vr=null),ba(l),o=o.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(gt,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=J.T,m=oe.p,oe.p=2,J.T=null;try{for(var y=s.onRecoverableError,T=0;T<c.length;T++){var S=c[T];y(S.value,{componentStack:S.stack})}}finally{J.T=o,oe.p=m}}(tl&3)!==0&&Rf(),Yi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===og?Yu++:(Yu=0,og=s):Yu=0,Xu(0)}}function sT(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Cu(o)))}function Rf(s){return tT(),nT(),iT(),rT()}function rT(){if(nn!==5)return!1;var s=_r,o=sg;sg=0;var l=ba(tl),c=J.T,m=oe.p;try{oe.p=32>l?32:l,J.T=null,l=rg,rg=null;var y=_r,T=tl;if(nn=0,el=_r=null,tl=0,(Ye&6)!==0)throw Error(i(331));var S=Ye;if(Ye|=4,Fw(y.current),zw(y,y.current,T,l),Ye=S,Xu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(gt,y)}catch{}return!0}finally{oe.p=m,J.T=c,sT(s,o)}}function oT(s,o,l){o=ti(l,o),o=Um(s.stateNode,o,2),s=ur(s,o,2),s!==null&&(ps(s,2),Yi(s))}function et(s,o,l){if(s.tag===3)oT(s,s,l);else for(;o!==null;){if(o.tag===3){oT(o,s,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(vr===null||!vr.has(c))){s=ti(l,s),l=cw(2),c=ur(o,l,2),c!==null&&(hw(l,c,o,s),ps(c,2),Yi(c));break}}o=o.return}}function cg(s,o,l){var c=s.pingCache;if(c===null){c=s.pingCache=new wP;var m=new Set;c.set(o,m)}else m=c.get(o),m===void 0&&(m=new Set,c.set(o,m));m.has(l)||(eg=!0,m.add(l),s=RP.bind(null,s,o,l),o.then(s,s))}function RP(s,o,l){var c=s.pingCache;c!==null&&c.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,nt===s&&(je&l)===l&&(vt===4||vt===3&&(je&62914560)===je&&300>Xn()-ig?(Ye&2)===0&&nl(s,0):tg|=l,Ja===je&&(Ja=0)),Yi(s)}function aT(s,o){o===0&&(o=su()),s=Ua(s,o),s!==null&&(ps(s,o),Yi(s))}function xP(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),aT(s,l)}function CP(s,o){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(o),aT(s,l)}function IP(s,o){return oo(s,o)}var xf=null,sl=null,hg=!1,Cf=!1,fg=!1,Fo=0;function Yi(s){s!==sl&&s.next===null&&(sl===null?xf=sl=s:sl=sl.next=s),Cf=!0,hg||(hg=!0,PP())}function Xu(s,o){if(!fg&&Cf){fg=!0;do for(var l=!1,c=xf;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-hn(42|s)+1)-1,y&=m&~(T&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,hT(c,y))}else y=je,y=_a(c,c===nt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||fo(c,y)||(l=!0,hT(c,y));c=c.next}while(l);fg=!1}}function DP(){lT()}function lT(){Cf=hg=!1;var s=0;Fo!==0&&(zP()&&(s=Fo),Fo=0);for(var o=Xn(),l=null,c=xf;c!==null;){var m=c.next,y=uT(c,o);y===0?(c.next=null,l===null?xf=m:l.next=m,m===null&&(sl=l)):(l=c,(s!==0||(y&3)!==0)&&(Cf=!0)),c=m}Xu(s)}function uT(s,o){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-hn(y),S=1<<T,k=m[T];k===-1?((S&l)===0||(S&c)!==0)&&(m[T]=nu(S,o)):k<=o&&(s.expiredLanes|=S),y&=~S}if(o=nt,l=je,l=_a(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===o&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&ao(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||fo(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(c!==null&&ao(c),ba(l)){case 2:case 8:l=ya;break;case 32:l=lo;break;case 268435456:l=va;break;default:l=lo}return c=cT.bind(null,s),l=oo(l,c),s.callbackPriority=o,s.callbackNode=l,o}return c!==null&&c!==null&&ao(c),s.callbackPriority=2,s.callbackNode=null,2}function cT(s,o){if(nn!==0&&nn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Rf()&&s.callbackNode!==l)return null;var c=je;return c=_a(s,s===nt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:($w(s,c,o),uT(s,Xn()),s.callbackNode!=null&&s.callbackNode===l?cT.bind(null,s):null)}function hT(s,o){if(Rf())return null;$w(s,o,!0)}function PP(){jP(function(){(Ye&6)!==0?oo(eu,DP):lT()})}function dg(){return Fo===0&&(Fo=iu()),Fo}function fT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ra(""+s)}function dT(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function MP(s,o,l,c,m){if(o==="submit"&&l&&l.stateNode===m){var y=fT((m[It]||null).action),T=c.submitter;T&&(o=(o=T[It]||null)?fT(o.formAction):T.getAttribute("formAction"),o!==null&&(y=o,T=null));var S=new xa("action","action",null,c,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fo!==0){var k=T?dT(m,T):new FormData(m);km(l,{pending:!0,data:k,method:m.method,action:y},null,k)}}else typeof y=="function"&&(S.preventDefault(),k=T?dT(m,T):new FormData(m),km(l,{pending:!0,data:k,method:m.method,action:y},y,k))},currentTarget:m}]})}}for(var pg=0;pg<Zp.length;pg++){var mg=Zp[pg],kP=mg.toLowerCase(),OP=mg[0].toUpperCase()+mg.slice(1);vi(kP,"on"+OP)}vi($b,"onAnimationEnd"),vi(Kb,"onAnimationIteration"),vi(Yb,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(WD,"onTransitionRun"),vi(ZD,"onTransitionStart"),vi(JD,"onTransitionCancel"),vi(Xb,"onTransitionEnd"),gs("onMouseEnter",["mouseout","mouseover"]),gs("onMouseLeave",["mouseout","mouseover"]),gs("onPointerEnter",["pointerout","pointerover"]),gs("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function pT(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(o)for(var T=c.length-1;0<=T;T--){var S=c[T],k=S.instance,Y=S.currentTarget;if(S=S.listener,k!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=Y;try{y(m)}catch(ee){mf(ee)}m.currentTarget=null,y=k}else for(T=0;T<c.length;T++){if(S=c[T],k=S.instance,Y=S.currentTarget,S=S.listener,k!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=Y;try{y(m)}catch(ee){mf(ee)}m.currentTarget=null,y=k}}}}function Ne(s,o){var l=o[au];l===void 0&&(l=o[au]=new Set);var c=s+"__bubble";l.has(c)||(mT(o,s,2,!1),l.add(c))}function gg(s,o,l){var c=0;o&&(c|=4),mT(l,s,c,o)}var If="_reactListening"+Math.random().toString(36).slice(2);function yg(s){if(!s[If]){s[If]=!0,lu.forEach(function(l){l!=="selectionchange"&&(NP.has(l)||gg(l,!1,s),gg(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[If]||(o[If]=!0,gg("selectionchange",!1,o))}}function mT(s,o,l,c){switch(zT(o)){case 2:var m=lM;break;case 8:m=uM;break;default:m=Pg}l=m.bind(null,o,l,s),m=void 0,!Jn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function vg(s,o,l,c,m){var y=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===m)break;if(T===4)for(T=c.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;S!==null;){if(T=ms(S),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){c=y=T;continue e}S=S.parentNode}}c=c.return}Dh(function(){var Y=y,ee=Zn(l),ie=[];e:{var X=Qb.get(s);if(X!==void 0){var Q=xa,Ee=s;switch(s){case"keypress":if(zi(l)===0)break e;case"keydown":case"keyup":Q=ka;break;case"focusin":Ee="focus",Q=Da;break;case"focusout":Ee="blur",Q=Da;break;case"beforeblur":case"afterblur":Q=Da;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Uh;break;case $b:case Kb:case Yb:Q=Pa;break;case Xb:Q=Bh;break;case"scroll":case"scrollend":Q=Ph;break;case"wheel":Q=Oa;break;case"copy":case"cut":case"paste":Q=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=bu;break;case"toggle":case"beforetoggle":Q=Fh}var ve=(o&4)!==0,Je=!ve&&(s==="scroll"||s==="scrollend"),H=ve?X!==null?X+"Capture":null:X;ve=[];for(var z=Y,K;z!==null;){var te=z;if(K=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||K===null||H===null||(te=wo(z,H),te!=null&&ve.push(Wu(z,te,K))),Je)break;z=z.return}0<ve.length&&(X=new Q(X,Ee,null,l,ee),ie.push({event:X,listeners:ve}))}}if((o&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",X&&l!==_s&&(Ee=l.relatedTarget||l.fromElement)&&(ms(Ee)||Ee[Qn]))break e;if((Q||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(Ee=l.relatedTarget||l.toElement,Q=Y,Ee=Ee?ms(Ee):null,Ee!==null&&(Je=a(Ee),ve=Ee.tag,Ee!==Je||ve!==5&&ve!==27&&ve!==6)&&(Ee=null)):(Q=null,Ee=Y),Q!==Ee)){if(ve=ei,te="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(ve=bu,te="onPointerLeave",H="onPointerEnter",z="pointer"),Je=Q==null?X:Ni(Q),K=Ee==null?X:Ni(Ee),X=new ve(te,z+"leave",Q,l,ee),X.target=Je,X.relatedTarget=K,te=null,ms(ee)===Y&&(ve=new ve(H,z+"enter",Ee,l,ee),ve.target=K,ve.relatedTarget=Je,te=ve),Je=te,Q&&Ee)t:{for(ve=Q,H=Ee,z=0,K=ve;K;K=rl(K))z++;for(K=0,te=H;te;te=rl(te))K++;for(;0<z-K;)ve=rl(ve),z--;for(;0<K-z;)H=rl(H),K--;for(;z--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=rl(ve),H=rl(H)}ve=null}else ve=null;Q!==null&&gT(ie,X,Q,ve,!1),Ee!==null&&Je!==null&&gT(ie,Je,Ee,ve,!0)}}e:{if(X=Y?Ni(Y):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var pe=Nb;else if(Bt(X))if(Vb)pe=YD;else{pe=$D;var ke=GD}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&du(Y.elementType)&&(pe=Nb):pe=KD;if(pe&&(pe=pe(s,Y))){Ss(ie,pe,l,ee);break e}ke&&ke(s,X,Y),s==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&sr(X,"number",X.value)}switch(ke=Y?Ni(Y):window,s){case"focusin":(Bt(ke)||ke.contentEditable==="true")&&(Na=ke,Xp=Y,Eu=null);break;case"focusout":Eu=Xp=Na=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,Hb(ie,l,ee);break;case"selectionchange":if(QD)break;case"keydown":case"keyup":Hb(ie,l,ee)}var me;if(Fi)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ze?W(s,l)&&(be="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(w&&l.locale!=="ko"&&(ze||be!=="onCompositionStart"?be==="onCompositionEnd"&&ze&&(me=mu()):(Ui=ee,rr="value"in Ui?Ui.value:Ui.textContent,ze=!0)),ke=Df(Y,be),0<ke.length&&(be=new vu(be,s,null,l,ee),ie.push({event:be,listeners:ke}),me?be.data=me:(me=ue(l),me!==null&&(be.data=me)))),(me=_?zt(s,l):Be(s,l))&&(be=Df(Y,"onBeforeInput"),0<be.length&&(ke=new vu("onBeforeInput","beforeinput",null,l,ee),ie.push({event:ke,listeners:be}),ke.data=me)),MP(ie,s,Y,l,ee)}pT(ie,o)})}function Wu(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Df(s,o){for(var l=o+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=wo(s,l),m!=null&&c.unshift(Wu(s,m,y)),m=wo(s,o),m!=null&&c.push(Wu(s,m,y))),s.tag===3)return c;s=s.return}return[]}function rl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function gT(s,o,l,c,m){for(var y=o._reactName,T=[];l!==null&&l!==c;){var S=l,k=S.alternate,Y=S.stateNode;if(S=S.tag,k!==null&&k===c)break;S!==5&&S!==26&&S!==27||Y===null||(k=Y,m?(Y=wo(l,y),Y!=null&&T.unshift(Wu(l,Y,k))):m||(Y=wo(l,y),Y!=null&&T.push(Wu(l,Y,k)))),l=l.return}T.length!==0&&s.push({event:o,listeners:T})}var VP=/\r\n?/g,LP=/\u0000|\uFFFD/g;function yT(s){return(typeof s=="string"?s:""+s).replace(VP,`
`).replace(LP,"")}function vT(s,o){return o=yT(o),yT(s)===o}function Pf(){}function Ze(s,o,l,c,m,y){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||Wn(s,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&Wn(s,""+c);break;case"className":Vi(s,"class",c);break;case"tabIndex":Vi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(s,l,c);break;case"style":fu(s,c,y);break;case"data":if(o!=="object"){Vi(s,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ra(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(o!=="input"&&Ze(s,o,"name",m.name,m,null),Ze(s,o,"formEncType",m.formEncType,m,null),Ze(s,o,"formMethod",m.formMethod,m,null),Ze(s,o,"formTarget",m.formTarget,m,null)):(Ze(s,o,"encType",m.encType,m,null),Ze(s,o,"method",m.method,m,null),Ze(s,o,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ra(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Pf);break;case"onScroll":c!=null&&Ne("scroll",s);break;case"onScrollEnd":c!=null&&Ne("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ra(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ne("beforetoggle",s),Ne("toggle",s),ir(s,"popover",c);break;case"xlinkActuate":Jt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Jt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Jt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Jt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Jt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Jt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ir(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fp.get(l)||l,ir(s,l,c))}}function _g(s,o,l,c,m,y){switch(l){case"style":fu(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Wn(s,c):(typeof c=="number"||typeof c=="bigint")&&Wn(s,""+c);break;case"onScroll":c!=null&&Ne("scroll",s);break;case"onScrollEnd":c!=null&&Ne("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),y=s[It]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(o,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):ir(s,l,c)}}}function sn(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",s),Ne("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ze(s,o,y,T,l,null)}}m&&Ze(s,o,"srcSet",l.srcSet,l,null),c&&Ze(s,o,"src",l.src,l,null);return;case"input":Ne("invalid",s);var S=y=T=m=null,k=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":m=ee;break;case"type":T=ee;break;case"checked":k=ee;break;case"defaultChecked":Y=ee;break;case"value":y=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:Ze(s,o,c,ee,l,null)}}vo(s,y,S,k,Y,T,m,!1),Aa(s);return;case"select":Ne("invalid",s),c=T=y=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:Ze(s,o,m,S,l,null)}o=y,l=T,s.multiple=!!c,o!=null?vs(s,!!c,o,!1):l!=null&&vs(s,!!c,l,!0);return;case"textarea":Ne("invalid",s),y=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(S=l[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Ze(s,o,T,S,l,null)}_o(s,c,m,y),Aa(s);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(s,o,k,c,l,null)}return;case"dialog":Ne("beforetoggle",s),Ne("toggle",s),Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":Ne("load",s);break;case"video":case"audio":for(c=0;c<Qu.length;c++)Ne(Qu[c],s);break;case"image":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"embed":case"source":case"link":Ne("error",s),Ne("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ze(s,o,Y,c,l,null)}return;default:if(du(o)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&_g(s,o,ee,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&Ze(s,o,S,c,l,null))}function UP(s,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,S=null,k=null,Y=null,ee=null;for(Q in l){var ie=l[Q];if(l.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=ie;default:c.hasOwnProperty(Q)||Ze(s,o,Q,null,c,ie)}}for(var X in c){var Q=c[X];if(ie=l[X],c.hasOwnProperty(X)&&(Q!=null||ie!=null))switch(X){case"type":y=Q;break;case"name":m=Q;break;case"checked":Y=Q;break;case"defaultChecked":ee=Q;break;case"value":T=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,o));break;default:Q!==ie&&Ze(s,o,X,Q,c,ie)}}Vn(s,T,S,k,Y,ee,y,m);return;case"select":Q=T=S=X=null;for(y in l)if(k=l[y],l.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":Q=k;default:c.hasOwnProperty(y)||Ze(s,o,y,null,c,k)}for(m in c)if(y=c[m],k=l[m],c.hasOwnProperty(m)&&(y!=null||k!=null))switch(m){case"value":X=y;break;case"defaultValue":S=y;break;case"multiple":T=y;default:y!==k&&Ze(s,o,m,y,c,k)}o=S,l=T,c=Q,X!=null?vs(s,!!l,X,!1):!!c!=!!l&&(o!=null?vs(s,!!l,o,!0):vs(s,!!l,l?[]:"",!1));return;case"textarea":Q=X=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(s,o,S,null,c,m)}for(T in c)if(m=c[T],y=l[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":X=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&Ze(s,o,T,m,c,y)}Qe(s,X,Q);return;case"option":for(var Ee in l)if(X=l[Ee],l.hasOwnProperty(Ee)&&X!=null&&!c.hasOwnProperty(Ee))switch(Ee){case"selected":s.selected=!1;break;default:Ze(s,o,Ee,null,c,X)}for(k in c)if(X=c[k],Q=l[k],c.hasOwnProperty(k)&&X!==Q&&(X!=null||Q!=null))switch(k){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ze(s,o,k,X,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)X=l[ve],l.hasOwnProperty(ve)&&X!=null&&!c.hasOwnProperty(ve)&&Ze(s,o,ve,null,c,X);for(Y in c)if(X=c[Y],Q=l[Y],c.hasOwnProperty(Y)&&X!==Q&&(X!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,o));break;default:Ze(s,o,Y,X,c,Q)}return;default:if(du(o)){for(var Je in l)X=l[Je],l.hasOwnProperty(Je)&&X!==void 0&&!c.hasOwnProperty(Je)&&_g(s,o,Je,void 0,c,X);for(ee in c)X=c[ee],Q=l[ee],!c.hasOwnProperty(ee)||X===Q||X===void 0&&Q===void 0||_g(s,o,ee,X,c,Q);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!c.hasOwnProperty(H)&&Ze(s,o,H,null,c,X);for(ie in c)X=c[ie],Q=l[ie],!c.hasOwnProperty(ie)||X===Q||X==null&&Q==null||Ze(s,o,ie,X,c,Q)}var bg=null,wg=null;function Mf(s){return s.nodeType===9?s:s.ownerDocument}function _T(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bT(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Tg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Eg=null;function zP(){var s=window.event;return s&&s.type==="popstate"?s===Eg?!1:(Eg=s,!0):(Eg=null,!1)}var wT=typeof setTimeout=="function"?setTimeout:void 0,BP=typeof clearTimeout=="function"?clearTimeout:void 0,TT=typeof Promise=="function"?Promise:void 0,jP=typeof queueMicrotask=="function"?queueMicrotask:typeof TT<"u"?function(s){return TT.resolve(null).then(s).catch(FP)}:wT;function FP(s){setTimeout(function(){throw s})}function wr(s){return s==="head"}function ET(s,o){var l=o,c=0,m=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=s.ownerDocument;if(l&1&&Zu(T.documentElement),l&2&&Zu(T.body),l&4)for(l=T.head,Zu(l),T=l.firstChild;T;){var S=T.nextSibling,k=T.nodeName;T[po]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=S}}if(m===0){s.removeChild(y),oc(o);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);oc(o)}function Sg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Sg(l),nr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function qP(s,o,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[po])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=bi(s.nextSibling),s===null)break}return null}function HP(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=bi(s.nextSibling),s===null))return null;return s}function Ag(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function GP(s,o){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function bi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Rg=null;function ST(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}function AT(s,o,l){switch(o=Mf(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Zu(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);nr(s)}var ai=new Map,RT=new Set;function kf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ls=oe.d;oe.d={f:$P,r:KP,D:YP,C:XP,L:QP,m:WP,X:JP,S:ZP,M:eM};function $P(){var s=Ls.f(),o=Sf();return s||o}function KP(s){var o=Oi(s);o!==null&&o.tag===5&&o.type==="form"?$0(o):Ls.r(s)}var ol=typeof document>"u"?null:document;function xT(s,o,l){var c=ol;if(c&&typeof o=="string"&&o){var m=Dt(o);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),RT.has(m)||(RT.add(m),s={rel:s,crossOrigin:l,href:o},c.querySelector(m)===null&&(o=c.createElement("link"),sn(o,"link",s),Tt(o),c.head.appendChild(o)))}}function YP(s){Ls.D(s),xT("dns-prefetch",s,null)}function XP(s,o){Ls.C(s,o),xT("preconnect",s,o)}function QP(s,o,l){Ls.L(s,o,l);var c=ol;if(c&&s&&o){var m='link[rel="preload"][as="'+Dt(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Dt(l.imageSizes)+'"]')):m+='[href="'+Dt(s)+'"]';var y=m;switch(o){case"style":y=al(s);break;case"script":y=ll(s)}ai.has(y)||(s=g({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),ai.set(y,s),c.querySelector(m)!==null||o==="style"&&c.querySelector(Ju(y))||o==="script"&&c.querySelector(ec(y))||(o=c.createElement("link"),sn(o,"link",s),Tt(o),c.head.appendChild(o)))}}function WP(s,o){Ls.m(s,o);var l=ol;if(l&&s){var c=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Dt(c)+'"][href="'+Dt(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ll(s)}if(!ai.has(y)&&(s=g({rel:"modulepreload",href:s},o),ai.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ec(y)))return}c=l.createElement("link"),sn(c,"link",s),Tt(c),l.head.appendChild(c)}}}function ZP(s,o,l){Ls.S(s,o,l);var c=ol;if(c&&s){var m=wn(c).hoistableStyles,y=al(s);o=o||"default";var T=m.get(y);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Ju(y)))S.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},l),(l=ai.get(y))&&xg(s,l);var k=T=c.createElement("link");Tt(k),sn(k,"link",s),k._p=new Promise(function(Y,ee){k.onload=Y,k.onerror=ee}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Of(T,o,c)}T={type:"stylesheet",instance:T,count:1,state:S},m.set(y,T)}}}function JP(s,o){Ls.X(s,o);var l=ol;if(l&&s){var c=wn(l).hoistableScripts,m=ll(s),y=c.get(m);y||(y=l.querySelector(ec(m)),y||(s=g({src:s,async:!0},o),(o=ai.get(m))&&Cg(s,o),y=l.createElement("script"),Tt(y),sn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function eM(s,o){Ls.M(s,o);var l=ol;if(l&&s){var c=wn(l).hoistableScripts,m=ll(s),y=c.get(m);y||(y=l.querySelector(ec(m)),y||(s=g({src:s,async:!0,type:"module"},o),(o=ai.get(m))&&Cg(s,o),y=l.createElement("script"),Tt(y),sn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function CT(s,o,l,c){var m=(m=Ae.current)?kf(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=al(l.href),l=wn(m).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=al(l.href);var y=wn(m).hoistableStyles,T=y.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=m.querySelector(Ju(s)))&&!y._p&&(T.instance=y,T.state.loading=5),ai.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ai.set(s,l),y||tM(m,s,l,T.state))),o&&c===null)throw Error(i(528,""));return T}if(o&&c!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ll(l),l=wn(m).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function al(s){return'href="'+Dt(s)+'"'}function Ju(s){return'link[rel="stylesheet"]['+s+"]"}function IT(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function tM(s,o,l,c){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=s.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),sn(o,"link",l),Tt(o),s.head.appendChild(o))}function ll(s){return'[src="'+Dt(s)+'"]'}function ec(s){return"script[async]"+s}function DT(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=s.querySelector('style[data-href~="'+Dt(l.href)+'"]');if(c)return o.instance=c,Tt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Tt(c),sn(c,"style",m),Of(c,l.precedence,s),o.instance=c;case"stylesheet":m=al(l.href);var y=s.querySelector(Ju(m));if(y)return o.state.loading|=4,o.instance=y,Tt(y),y;c=IT(l),(m=ai.get(m))&&xg(c,m),y=(s.ownerDocument||s).createElement("link"),Tt(y);var T=y;return T._p=new Promise(function(S,k){T.onload=S,T.onerror=k}),sn(y,"link",c),o.state.loading|=4,Of(y,l.precedence,s),o.instance=y;case"script":return y=ll(l.src),(m=s.querySelector(ec(y)))?(o.instance=m,Tt(m),m):(c=l,(m=ai.get(y))&&(c=g({},l),Cg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Tt(m),sn(m,"link",c),s.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,Of(c,l.precedence,s));return o.instance}function Of(s,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===o)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function xg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Cg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Nf=null;function PT(s,o,l){if(Nf===null){var c=new Map,m=Nf=new Map;m.set(l,c)}else m=Nf,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[po]||y[Ut]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(o)||"";T=s+T;var S=c.get(T);S?S.push(y):c.set(T,[y])}}return c}function MT(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function nM(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var tc=null;function iM(){}function sM(s,o,l){if(tc===null)throw Error(i(475));var c=tc;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=al(l.href),y=s.querySelector(Ju(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Vf.bind(c),s.then(c,c)),o.state.loading|=4,o.instance=y,Tt(y);return}y=s.ownerDocument||s,l=IT(l),(m=ai.get(m))&&xg(l,m),y=y.createElement("link"),Tt(y);var T=y;T._p=new Promise(function(S,k){T.onload=S,T.onerror=k}),sn(y,"link",l),o.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=Vf.bind(c),s.addEventListener("load",o),s.addEventListener("error",o))}}function rM(){if(tc===null)throw Error(i(475));var s=tc;return s.stylesheets&&s.count===0&&Ig(s,s.stylesheets),0<s.count?function(o){var l=setTimeout(function(){if(s.stylesheets&&Ig(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Vf(){if(this.count--,this.count===0){if(this.stylesheets)Ig(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Lf=null;function Ig(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Lf=new Map,o.forEach(oM,s),Lf=null,Vf.call(s))}function oM(s,o){if(!(o.state.loading&4)){var l=Lf.get(s);if(l)var c=l.get(null);else{l=new Map,Lf.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=o.instance,T=m.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,m),l.set(T,m),this.count++,c=Vf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),o.state.loading|=4}}var nc={$$typeof:F,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function aM(s,o,l,c,m,y,T,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function OT(s,o,l,c,m,y,T,S,k,Y,ee,ie){return s=new aM(s,o,l,T,S,k,Y,ie),o=1,y===!0&&(o|=24),y=Un(3,null,null,o),s.current=y,y.stateNode=s,o=cm(),o.refCount++,s.pooledCache=o,o.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:o},pm(y),s}function NT(s){return s?(s=za,s):za}function VT(s,o,l,c,m,y){m=NT(m),c.context===null?c.context=m:c.pendingContext=m,c=lr(o),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=ur(s,c,o),l!==null&&(qn(l,s,o),Mu(l,s,o))}function LT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Dg(s,o){LT(s,o),(s=s.alternate)&&LT(s,o)}function UT(s){if(s.tag===13){var o=Ua(s,67108864);o!==null&&qn(o,s,67108864),Dg(s,67108864)}}var Uf=!0;function lM(s,o,l,c){var m=J.T;J.T=null;var y=oe.p;try{oe.p=2,Pg(s,o,l,c)}finally{oe.p=y,J.T=m}}function uM(s,o,l,c){var m=J.T;J.T=null;var y=oe.p;try{oe.p=8,Pg(s,o,l,c)}finally{oe.p=y,J.T=m}}function Pg(s,o,l,c){if(Uf){var m=Mg(c);if(m===null)vg(s,o,c,zf,l),BT(s,c);else if(hM(m,s,o,l,c))c.stopPropagation();else if(BT(s,c),o&4&&-1<cM.indexOf(s)){for(;m!==null;){var y=Oi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=mi(y.pendingLanes);if(T!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var k=1<<31-hn(T);S.entanglements[1]|=k,T&=~k}Yi(y),(Ye&6)===0&&(Tf=Xn()+500,Xu(0))}}break;case 13:S=Ua(y,2),S!==null&&qn(S,y,2),Sf(),Dg(y,2)}if(y=Mg(c),y===null&&vg(s,o,c,zf,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else vg(s,o,c,null,l)}}function Mg(s){return s=Zn(s),kg(s)}var zf=null;function kg(s){if(zf=null,s=ms(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=u(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return zf=s,null}function zT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vp()){case eu:return 2;case ya:return 8;case lo:case Lp:return 32;case va:return 268435456;default:return 32}default:return 32}}var Og=!1,Tr=null,Er=null,Sr=null,ic=new Map,sc=new Map,Ar=[],cM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BT(s,o){switch(s){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":ic.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(o.pointerId)}}function rc(s,o,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Oi(o),o!==null&&UT(o)),s):(s.eventSystemFlags|=c,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function hM(s,o,l,c,m){switch(o){case"focusin":return Tr=rc(Tr,s,o,l,c,m),!0;case"dragenter":return Er=rc(Er,s,o,l,c,m),!0;case"mouseover":return Sr=rc(Sr,s,o,l,c,m),!0;case"pointerover":var y=m.pointerId;return ic.set(y,rc(ic.get(y)||null,s,o,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,sc.set(y,rc(sc.get(y)||null,s,o,l,c,m)),!0}return!1}function jT(s){var o=ms(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){s.blockedOn=o,Eh(s.priority,function(){if(l.tag===13){var c=Fn();c=Js(c);var m=Ua(l,c);m!==null&&qn(m,l,c),Dg(l,c)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Bf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Mg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);_s=c,l.target.dispatchEvent(c),_s=null}else return o=Oi(l),o!==null&&UT(o),s.blockedOn=l,!1;o.shift()}return!0}function FT(s,o,l){Bf(s)&&l.delete(o)}function fM(){Og=!1,Tr!==null&&Bf(Tr)&&(Tr=null),Er!==null&&Bf(Er)&&(Er=null),Sr!==null&&Bf(Sr)&&(Sr=null),ic.forEach(FT),sc.forEach(FT)}function jf(s,o){s.blockedOn===o&&(s.blockedOn=null,Og||(Og=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fM)))}var Ff=null;function qT(s){Ff!==s&&(Ff=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ff===s&&(Ff=null);for(var o=0;o<s.length;o+=3){var l=s[o],c=s[o+1],m=s[o+2];if(typeof c!="function"){if(kg(c||l)===null)continue;break}var y=Oi(l);y!==null&&(s.splice(o,3),o-=3,km(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function oc(s){function o(k){return jf(k,s)}Tr!==null&&jf(Tr,s),Er!==null&&jf(Er,s),Sr!==null&&jf(Sr,s),ic.forEach(o),sc.forEach(o);for(var l=0;l<Ar.length;l++){var c=Ar[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ar.length&&(l=Ar[0],l.blockedOn===null);)jT(l),l.blockedOn===null&&Ar.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],T=m[It]||null;if(typeof y=="function")T||qT(l);else if(T){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[It]||null)S=T.formAction;else if(kg(m)!==null)continue}else S=T.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),qT(l)}}}function Ng(s){this._internalRoot=s}qf.prototype.render=Ng.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,c=Fn();VT(l,c,s,o,null,null)},qf.prototype.unmount=Ng.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;VT(s.current,2,null,s,null,null),Sf(),o[Qn]=null}};function qf(s){this._internalRoot=s}qf.prototype.unstable_scheduleHydration=function(s){if(s){var o=er();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Ar.length&&o!==0&&o<Ar[l].priority;l++);Ar.splice(l,0,s),l===0&&jT(s)}};var HT=e.version;if(HT!=="19.1.1")throw Error(i(527,HT,"19.1.1"));oe.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(o),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var dM={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{gt=Hf.inject(dM),Ke=Hf}catch{}}return lc.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,c="",m=ow,y=aw,T=lw,S=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(S=o.unstable_transitionCallbacks)),o=OT(s,1,!1,null,null,l,c,m,y,T,S,null),s[Qn]=o.current,yg(s),new Ng(o)},lc.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var c=!1,m="",y=ow,T=aw,S=lw,k=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),o=OT(s,1,!0,o,l??null,c,m,y,T,S,k,Y),o.context=NT(null),l=o.current,c=Fn(),c=Js(c),m=lr(c),m.callback=null,ur(l,m,c),l=c,o.current.lanes=l,ps(o,l),Yi(o),s[Qn]=o.current,yg(s),new qf(o)},lc.version="19.1.1",lc}var eE;function EM(){if(eE)return Ug.exports;eE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ug.exports=TM(),Ug.exports}var SM=EM();const AM=E1(SM);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tE="popstate";function RM(n={}){function e(r,a){let{pathname:u="/",search:h="",hash:f=""}=ha(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Ly("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let u=r.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=r.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof a=="string"?a:kc(a))}function i(r,a){xi(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return CM(e,t,i,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xM(){return Math.random().toString(36).substring(2,10)}function nE(n,e){return{usr:n.state,key:n.key,idx:e}}function Ly(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:t,key:e&&e.key||i||xM()}}function kc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ha(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function CM(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,u=r.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let I=g(),D=I==null?null:I-d;d=I,f&&f({action:h,location:A.location,delta:D})}function b(I,D){h="PUSH";let j=Ly(A.location,I,D);t&&t(j,I),d=g()+1;let F=nE(j,d),$=A.createHref(j);try{u.pushState(F,"",$)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;r.location.assign($)}a&&f&&f({action:h,location:A.location,delta:1})}function E(I,D){h="REPLACE";let j=Ly(A.location,I,D);t&&t(j,I),d=g();let F=nE(j,d),$=A.createHref(j);u.replaceState(F,"",$),a&&f&&f({action:h,location:A.location,delta:0})}function x(I){return IM(I)}let A={get action(){return h},get location(){return n(r,u)},listen(I){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(tE,v),f=I,()=>{r.removeEventListener(tE,v),f=null}},createHref(I){return e(r,I)},createURL:x,encodeLocation(I){let D=x(I);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:E,go(I){return u.go(I)}};return A}function IM(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:kc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function S1(n,e,t="/"){return DM(n,e,t,!1)}function DM(n,e,t,i){let r=typeof e=="string"?ha(e):e,a=Hs(r.pathname||"/",t);if(a==null)return null;let u=A1(n);PM(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=FM(a);h=BM(u[f],d,i)}return h}function A1(n,e=[],t=[],i="",r=!1){let a=(u,h,f=r,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;pt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=Bs([i,g.relativePath]),b=t.concat(g);u.children&&u.children.length>0&&(pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),A1(u.children,e,b,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:UM(v,u.index),routesMeta:b})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of R1(u.path))a(u,h,!0,f)}),e}function R1(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let u=R1(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),r&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function PM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var MM=/^:[\w-]+$/,kM=3,OM=2,NM=1,VM=10,LM=-2,iE=n=>n==="*";function UM(n,e){let t=n.split("/"),i=t.length;return t.some(iE)&&(i+=LM),e&&(i+=OM),t.filter(r=>!iE(r)).reduce((r,a)=>r+(MM.test(a)?kM:a===""?NM:VM),i)}function zM(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function BM(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Sd({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),b=f.route;if(!v&&d&&t&&!i[i.length-1].route.index&&(v=Sd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:Bs([a,v.pathname]),pathnameBase:$M(Bs([a,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(a=Bs([a,v.pathnameBase]))}return u}function Sd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=jM(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],u=a.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:v},b)=>{if(g==="*"){let x=h[b]||"";u=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const E=h[b];return v&&!E?d[g]=void 0:d[g]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:u,pattern:n}}function jM(n,e=!1,t=!0){xi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function FM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function qM(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ha(n):n;return{pathname:t?t.startsWith("/")?t:HM(t,e):e,search:KM(i),hash:YM(r)}}function HM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Fg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function x1(n){let e=GM(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function C1(n,e,t,i=!1){let r;typeof n=="string"?r=ha(n):(r={...n},pt(!r.pathname||!r.pathname.includes("?"),Fg("?","pathname","search",r)),pt(!r.pathname||!r.pathname.includes("#"),Fg("#","pathname","hash",r)),pt(!r.search||!r.search.includes("#"),Fg("#","search","hash",r)));let a=n===""||r.pathname==="",u=a?"/":r.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}h=v>=0?e[v]:"/"}let f=qM(r,h),d=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Bs=n=>n.join("/").replace(/\/\/+/g,"/"),$M=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,YM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function XM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var I1=["POST","PUT","PATCH","DELETE"];new Set(I1);var QM=["GET",...I1];new Set(QM);var Fl=U.createContext(null);Fl.displayName="DataRouter";var ep=U.createContext(null);ep.displayName="DataRouterState";U.createContext(!1);var D1=U.createContext({isTransitioning:!1});D1.displayName="ViewTransition";var WM=U.createContext(new Map);WM.displayName="Fetchers";var ZM=U.createContext(null);ZM.displayName="Await";var ls=U.createContext(null);ls.displayName="Navigation";var eh=U.createContext(null);eh.displayName="Location";var us=U.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var jv=U.createContext(null);jv.displayName="RouteError";function JM(n,{relative:e}={}){pt(th(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(ls),{hash:r,pathname:a,search:u}=nh(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Bs([t,a])),i.createHref({pathname:h,search:u,hash:r})}function th(){return U.useContext(eh)!=null}function Ws(){return pt(th(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(eh).location}var P1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M1(n){U.useContext(ls).static||U.useLayoutEffect(n)}function tp(){let{isDataRoute:n}=U.useContext(us);return n?pk():ek()}function ek(){pt(th(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(Fl),{basename:e,navigator:t}=U.useContext(ls),{matches:i}=U.useContext(us),{pathname:r}=Ws(),a=JSON.stringify(x1(i)),u=U.useRef(!1);return M1(()=>{u.current=!0}),U.useCallback((f,d={})=>{if(xi(u.current,P1),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=C1(f,JSON.parse(a),r,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Bs([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,a,r,n])}var tk=U.createContext(null);function nk(n){let e=U.useContext(us).outlet;return e&&U.createElement(tk.Provider,{value:n},e)}function nh(n,{relative:e}={}){let{matches:t}=U.useContext(us),{pathname:i}=Ws(),r=JSON.stringify(x1(t));return U.useMemo(()=>C1(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function ik(n,e){return k1(n,e)}function k1(n,e,t,i){pt(th(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=U.useContext(ls),{matches:a}=U.useContext(us),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",d=u?u.pathnameBase:"/",g=u&&u.route;{let D=g&&g.path||"";O1(f,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=Ws(),b;if(e){let D=typeof e=="string"?ha(e):e;pt(d==="/"||D.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=v;let E=b.pathname||"/",x=E;if(d!=="/"){let D=d.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let A=S1(n,{pathname:x});xi(g||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),xi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=lk(A&&A.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:Bs([d,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?d:Bs([d,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,i);return e&&I?U.createElement(eh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},I):I}function sk(){let n=dk(),e=XM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:r},t):null,u)}var rk=U.createElement(sk,null),ok=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(us.Provider,{value:this.props.routeContext},U.createElement(jv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ak({routeContext:n,match:e,children:t}){let i=U.useContext(Fl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(us.Provider,{value:n},t)}function lk(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t?.errors;if(a!=null){let f=r.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);pt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<r.length;f++){let d=r[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:v}=t,b=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,d,g)=>{let v,b=!1,E=null,x=null;t&&(v=a&&d.route.id?a[d.route.id]:void 0,E=d.route.errorElement||rk,u&&(h<0&&g===0?(O1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):h===g&&(b=!0,x=d.route.hydrateFallbackElement||null)));let A=e.concat(r.slice(0,g+1)),I=()=>{let D;return v?D=E:b?D=x:d.route.Component?D=U.createElement(d.route.Component,null):d.route.element?D=d.route.element:D=f,U.createElement(ak,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:D})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?U.createElement(ok,{location:t.location,revalidation:t.revalidation,component:E,error:v,children:I(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):I()},null)}function Fv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uk(n){let e=U.useContext(Fl);return pt(e,Fv(n)),e}function ck(n){let e=U.useContext(ep);return pt(e,Fv(n)),e}function hk(n){let e=U.useContext(us);return pt(e,Fv(n)),e}function qv(n){let e=hk(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function fk(){return qv("useRouteId")}function dk(){let n=U.useContext(jv),e=ck("useRouteError"),t=qv("useRouteError");return n!==void 0?n:e.errors?.[t]}function pk(){let{router:n}=uk("useNavigate"),e=qv("useNavigate"),t=U.useRef(!1);return M1(()=>{t.current=!0}),U.useCallback(async(r,a={})=>{xi(t.current,P1),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var sE={};function O1(n,e,t){!e&&!sE[n]&&(sE[n]=!0,xi(!1,t))}U.memo(mk);function mk({routes:n,future:e,state:t}){return k1(n,void 0,t,e)}function gk(n){return nk(n.context)}function Ho(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yk({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){pt(!th(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:u,navigator:r,static:a,future:{}}),[u,r,a]);typeof t=="string"&&(t=ha(t));let{pathname:f="/",search:d="",hash:g="",state:v=null,key:b="default"}=t,E=U.useMemo(()=>{let x=Hs(f,u);return x==null?null:{location:{pathname:x,search:d,hash:g,state:v,key:b},navigationType:i}},[u,f,d,g,v,b,i]);return xi(E!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:U.createElement(ls.Provider,{value:h},U.createElement(eh.Provider,{children:e,value:E}))}function vk({children:n,location:e}){return ik(Uy(n),e)}function Uy(n,e=[]){let t=[];return U.Children.forEach(n,(i,r)=>{if(!U.isValidElement(i))return;let a=[...e,r];if(i.type===U.Fragment){t.push.apply(t,Uy(i.props.children,a));return}pt(i.type===Ho,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Uy(i.props.children,a)),t.push(u)}),t}var rd="get",od="application/x-www-form-urlencoded";function np(n){return n!=null&&typeof n.tagName=="string"}function _k(n){return np(n)&&n.tagName.toLowerCase()==="button"}function bk(n){return np(n)&&n.tagName.toLowerCase()==="form"}function wk(n){return np(n)&&n.tagName.toLowerCase()==="input"}function Tk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ek(n,e){return n.button===0&&(!e||e==="_self")&&!Tk(n)}var Gf=null;function Sk(){if(Gf===null)try{new FormData(document.createElement("form"),0),Gf=!1}catch{Gf=!0}return Gf}var Ak=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qg(n){return n!=null&&!Ak.has(n)?(xi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${od}"`),null):n}function Rk(n,e){let t,i,r,a,u;if(bk(n)){let h=n.getAttribute("action");i=h?Hs(h,e):null,t=n.getAttribute("method")||rd,r=qg(n.getAttribute("enctype"))||od,a=new FormData(n)}else if(_k(n)||wk(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Hs(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||rd,r=qg(n.getAttribute("formenctype"))||qg(h.getAttribute("enctype"))||od,a=new FormData(h,n),!Sk()){let{name:d,type:g,value:v}=n;if(g==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,v)}}else{if(np(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rd,i=null,r=od,u=n}return a&&r==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xk(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Hs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function Ck(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ik(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Dk(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let u=await Ck(a,t);return u.links?u.links():[]}return[]}));return Ok(i.flat(1).filter(Ik).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function rE(n,e,t,i,r,a){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):a==="data"?e.filter((f,d)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Pk(n,e,{includeHydrateFallback:t}={}){return Mk(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function Mk(n){return[...new Set(n)]}function kk(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Ok(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(kk(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function N1(){let n=U.useContext(Fl);return Hv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Nk(){let n=U.useContext(ep);return Hv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gv=U.createContext(void 0);Gv.displayName="FrameworkContext";function V1(){let n=U.useContext(Gv);return Hv(n,"You must render this element inside a <HydratedRouter> element"),n}function Vk(n,e){let t=U.useContext(Gv),[i,r]=U.useState(!1),[a,u]=U.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=e,b=U.useRef(null);U.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=D=>{D.forEach(j=>{u(j.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[n]),U.useEffect(()=>{if(i){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},x=()=>{r(!1),u(!1)};return t?n!=="intent"?[a,b,{}]:[a,b,{onFocus:uc(h,E),onBlur:uc(f,x),onMouseEnter:uc(d,E),onMouseLeave:uc(g,x),onTouchStart:uc(v,E)}]:[!1,b,{}]}function uc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Lk({page:n,...e}){let{router:t}=N1(),i=U.useMemo(()=>S1(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(zk,{page:n,matches:i,...e}):null}function Uk(n){let{manifest:e,routeModules:t}=V1(),[i,r]=U.useState([]);return U.useEffect(()=>{let a=!1;return Dk(n,e,t).then(u=>{a||r(u)}),()=>{a=!0}},[n,e,t]),i}function zk({page:n,matches:e,...t}){let i=Ws(),{manifest:r,routeModules:a}=V1(),{basename:u}=N1(),{loaderData:h,matches:f}=Nk(),d=U.useMemo(()=>rE(n,e,f,r,i,"data"),[n,e,f,r,i]),g=U.useMemo(()=>rE(n,e,f,r,i,"assets"),[n,e,f,r,i]),v=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,A=!1;if(e.forEach(D=>{let j=r.routes[D.route.id];!j||!j.hasLoader||(!d.some(F=>F.route.id===D.route.id)&&D.route.id in h&&a[D.route.id]?.shouldRevalidate||j.hasClientLoader?A=!0:x.add(D.route.id))}),x.size===0)return[];let I=xk(n,u,"data");return A&&x.size>0&&I.searchParams.set("_routes",e.filter(D=>x.has(D.route.id)).map(D=>D.route.id).join(",")),[I.pathname+I.search]},[u,h,i,r,d,e,n,a]),b=U.useMemo(()=>Pk(g,r),[g,r]),E=Uk(g);return U.createElement(U.Fragment,null,v.map(x=>U.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>U.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),E.map(({key:x,link:A})=>U.createElement("link",{key:x,nonce:t.nonce,...A})))}function Bk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var L1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L1&&(window.__reactRouterVersion="7.8.1")}catch{}function jk({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=RM({window:t,v5Compat:!0}));let r=i.current,[a,u]=U.useState({action:r.action,location:r.location}),h=U.useCallback(f=>{U.startTransition(()=>u(f))},[u]);return U.useLayoutEffect(()=>r.listen(h),[r,h]),U.createElement(yk,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var U1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,js=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:v,...b},E){let{basename:x}=U.useContext(ls),A=typeof d=="string"&&U1.test(d),I,D=!1;if(typeof d=="string"&&A&&(I=d,L1))try{let P=new URL(window.location.href),V=d.startsWith("//")?new URL(P.protocol+d):new URL(d),B=Hs(V.pathname,x);V.origin===P.origin&&B!=null?d=B+V.search+V.hash:D=!0}catch{xi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=JM(d,{relative:r}),[F,$,Z]=Vk(i,b),ae=Hk(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:r,viewTransition:v});function M(P){e&&e(P),P.defaultPrevented||ae(P)}let C=U.createElement("a",{...b,...Z,href:I||j,onClick:D||a?e:M,ref:Bk(E,$),target:f,"data-discover":!A&&t==="render"?"true":void 0});return F&&!A?U.createElement(U.Fragment,null,C,U.createElement(Lk,{page:j})):C});js.displayName="Link";var Cr=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:u,viewTransition:h,children:f,...d},g){let v=nh(u,{relative:d.relative}),b=Ws(),E=U.useContext(ep),{navigator:x,basename:A}=U.useContext(ls),I=E!=null&&Xk(v)&&h===!0,D=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,j=b.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(j=j.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&A&&(F=Hs(F,A)||F);const $=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Z=j===D||!r&&j.startsWith(D)&&j.charAt($)==="/",ae=F!=null&&(F===D||!r&&F.startsWith(D)&&F.charAt(D.length)==="/"),M={isActive:Z,isPending:ae,isTransitioning:I},C=Z?e:void 0,P;typeof i=="function"?P=i(M):P=[i,Z?"active":null,ae?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(M):a;return U.createElement(js,{...d,"aria-current":C,className:P,ref:g,style:V,to:u,viewTransition:h},typeof f=="function"?f(M):f)});Cr.displayName="NavLink";var Fk=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:u=rd,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:v,...b},E)=>{let x=Kk(),A=Yk(h,{relative:d}),I=u.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&U1.test(h),j=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let $=F.nativeEvent.submitter,Z=$?.getAttribute("formmethod")||u;x($||F.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:r,state:a,relative:d,preventScrollReset:g,viewTransition:v})};return U.createElement("form",{ref:E,method:I,action:A,onSubmit:i?f:j,...b,"data-discover":!D&&n==="render"?"true":void 0})});Fk.displayName="Form";function qk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(n){let e=U.useContext(Fl);return pt(e,qk(n)),e}function Hk(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:u}={}){let h=tp(),f=Ws(),d=nh(n,{relative:a});return U.useCallback(g=>{if(Ek(g,e)){g.preventDefault();let v=t!==void 0?t:kc(f)===kc(d);h(n,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:u})}},[f,h,d,t,i,e,n,r,a,u])}var Gk=0,$k=()=>`__${String(++Gk)}__`;function Kk(){let{router:n}=z1("useSubmit"),{basename:e}=U.useContext(ls),t=fk();return U.useCallback(async(i,r={})=>{let{action:a,method:u,encType:h,formData:f,body:d}=Rk(i,e);if(r.navigate===!1){let g=r.fetcherKey||$k();await n.fetch(g,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function Yk(n,{relative:e}={}){let{basename:t}=U.useContext(ls),i=U.useContext(us);pt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...nh(n||".",{relative:e})},u=Ws();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Bs([t,a.pathname])),kc(a)}function Xk(n,{relative:e}={}){let t=U.useContext(D1);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=z1("useViewTransitionState"),r=nh(n,{relative:e});if(!t.isTransitioning)return!1;let a=Hs(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Hs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Sd(r.pathname,u)!=null||Sd(r.pathname,a)!=null}const $v=U.createContext({});function Kv(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const Yv=typeof window<"u",B1=Yv?U.useLayoutEffect:U.useEffect,ip=U.createContext(null);function Xv(n,e){n.indexOf(e)===-1&&n.push(e)}function Qv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Gs=(n,e,t)=>t>e?e:t<n?n:t;let Wv=()=>{};const $s={},j1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function F1(n){return typeof n=="object"&&n!==null}const q1=n=>/^0[^.\s]+$/u.test(n);function Zv(n){let e;return()=>(e===void 0&&(e=n()),e)}const di=n=>n,Qk=(n,e)=>t=>e(n(t)),ih=(...n)=>n.reduce(Qk),Oc=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class Jv{constructor(){this.subscriptions=[]}add(e){return Xv(this.subscriptions,e),()=>Qv(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const u=this.subscriptions[a];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wi=n=>n*1e3,Zi=n=>n/1e3;function H1(n,e){return e?n*(1e3/e):0}const G1=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Wk=1e-7,Zk=12;function Jk(n,e,t,i,r){let a,u,h=0;do u=e+(t-e)/2,a=G1(u,i,r)-n,a>0?t=u:e=u;while(Math.abs(a)>Wk&&++h<Zk);return u}function sh(n,e,t,i){if(n===e&&t===i)return di;const r=a=>Jk(a,0,1,n,t);return a=>a===0||a===1?a:G1(r(a),e,i)}const $1=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,K1=n=>e=>1-n(1-e),Y1=sh(.33,1.53,.69,.99),e_=K1(Y1),X1=$1(e_),Q1=n=>(n*=2)<1?.5*e_(n):.5*(2-Math.pow(2,-10*(n-1))),t_=n=>1-Math.sin(Math.acos(n)),W1=K1(t_),Z1=$1(t_),e2=sh(.42,0,1,1),t2=sh(0,0,.58,1),J1=sh(.42,0,.58,1),n2=n=>Array.isArray(n)&&typeof n[0]!="number",eR=n=>Array.isArray(n)&&typeof n[0]=="number",i2={linear:di,easeIn:e2,easeInOut:J1,easeOut:t2,circIn:t_,circInOut:Z1,circOut:W1,backIn:e_,backInOut:X1,backOut:Y1,anticipate:Q1},s2=n=>typeof n=="string",oE=n=>{if(eR(n)){Wv(n.length===4);const[e,t,i,r]=n;return sh(e,t,i,r)}else if(s2(n))return i2[n];return n},$f=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function r2(n,e){let t=new Set,i=new Set,r=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(d.schedule(g),n()),g(h)}const d={schedule:(g,v=!1,b=!1)=>{const x=b&&r?t:i;return v&&u.add(g),x.has(g)||x.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(f),t.clear(),r=!1,a&&(a=!1,d.process(g))}};return d}const o2=40;function tR(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=$f.reduce((F,$)=>(F[$]=r2(a),F),{}),{setup:h,read:f,resolveKeyframes:d,preUpdate:g,update:v,preRender:b,render:E,postRender:x}=u,A=()=>{const F=$s.useManualTiming?r.timestamp:performance.now();t=!1,$s.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(F-r.timestamp,o2),1)),r.timestamp=F,r.isProcessing=!0,h.process(r),f.process(r),d.process(r),g.process(r),v.process(r),b.process(r),E.process(r),x.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(A))},I=()=>{t=!0,i=!0,r.isProcessing||n(A)};return{schedule:$f.reduce((F,$)=>{const Z=u[$];return F[$]=(ae,M=!1,C=!1)=>(t||I(),Z.schedule(ae,M,C)),F},{}),cancel:F=>{for(let $=0;$<$f.length;$++)u[$f[$]].cancel(F)},state:r,steps:u}}const{schedule:ut,cancel:Hr,state:rn,steps:Hg}=tR(typeof requestAnimationFrame<"u"?requestAnimationFrame:di,!0);let ad;function a2(){ad=void 0}const kn={now:()=>(ad===void 0&&kn.set(rn.isProcessing||$s.useManualTiming?rn.timestamp:performance.now()),ad),set:n=>{ad=n,queueMicrotask(a2)}},nR=n=>e=>typeof e=="string"&&e.startsWith(n),n_=nR("--"),l2=nR("var(--"),i_=n=>l2(n)?u2.test(n.split("/*")[0].trim()):!1,u2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ql={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Nc={...ql,transform:n=>Gs(0,1,n)},Kf={...ql,default:1},_c=n=>Math.round(n*1e5)/1e5,s_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function c2(n){return n==null}const h2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r_=(n,e)=>t=>!!(typeof t=="string"&&h2.test(t)&&t.startsWith(n)||e&&!c2(t)&&Object.prototype.hasOwnProperty.call(t,e)),iR=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,u,h]=i.match(s_);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},f2=n=>Gs(0,255,n),Gg={...ql,transform:n=>Math.round(f2(n))},Yo={test:r_("rgb","red"),parse:iR("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Gg.transform(n)+", "+Gg.transform(e)+", "+Gg.transform(t)+", "+_c(Nc.transform(i))+")"};function d2(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const zy={test:r_("#"),parse:d2,transform:Yo.transform},rh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ir=rh("deg"),Ji=rh("%"),Se=rh("px"),p2=rh("vh"),m2=rh("vw"),aE={...Ji,parse:n=>Ji.parse(n)/100,transform:n=>Ji.transform(n*100)},ml={test:r_("hsl","hue"),parse:iR("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ji.transform(_c(e))+", "+Ji.transform(_c(t))+", "+_c(Nc.transform(i))+")"},Ot={test:n=>Yo.test(n)||zy.test(n)||ml.test(n),parse:n=>Yo.test(n)?Yo.parse(n):ml.test(n)?ml.parse(n):zy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Yo.transform(n):ml.transform(n),getAnimatableNone:n=>{const e=Ot.parse(n);return e.alpha=0,Ot.transform(e)}},g2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function y2(n){return isNaN(n)&&typeof n=="string"&&(n.match(s_)?.length||0)+(n.match(g2)?.length||0)>0}const sR="number",rR="color",v2="var",_2="var(",lE="${}",b2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vc(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const h=e.replace(b2,f=>(Ot.test(f)?(i.color.push(a),r.push(rR),t.push(Ot.parse(f))):f.startsWith(_2)?(i.var.push(a),r.push(v2),t.push(f)):(i.number.push(a),r.push(sR),t.push(parseFloat(f))),++a,lE)).split(lE);return{values:t,split:h,indexes:i,types:r}}function oR(n){return Vc(n).values}function aR(n){const{split:e,types:t}=Vc(n),i=e.length;return r=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],r[u]!==void 0){const h=t[u];h===sR?a+=_c(r[u]):h===rR?a+=Ot.transform(r[u]):a+=r[u]}return a}}const w2=n=>typeof n=="number"?0:Ot.test(n)?Ot.getAnimatableNone(n):n;function T2(n){const e=oR(n);return aR(n)(e.map(w2))}const Gr={test:y2,parse:oR,createTransformer:aR,getAnimatableNone:T2};function $g(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function E2({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,u=0;if(!e)r=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;r=$g(f,h,n+1/3),a=$g(f,h,n),u=$g(f,h,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Ad(n,e){return t=>t>0?e:n}const dt=(n,e,t)=>n+(e-n)*t,Kg=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},S2=[zy,Yo,ml],A2=n=>S2.find(e=>e.test(n));function uE(n){const e=A2(n);if(!e)return!1;let t=e.parse(n);return e===ml&&(t=E2(t)),t}const cE=(n,e)=>{const t=uE(n),i=uE(e);if(!t||!i)return Ad(n,e);const r={...t};return a=>(r.red=Kg(t.red,i.red,a),r.green=Kg(t.green,i.green,a),r.blue=Kg(t.blue,i.blue,a),r.alpha=dt(t.alpha,i.alpha,a),Yo.transform(r))},By=new Set(["none","hidden"]);function R2(n,e){return By.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function x2(n,e){return t=>dt(n,e,t)}function o_(n){return typeof n=="number"?x2:typeof n=="string"?i_(n)?Ad:Ot.test(n)?cE:D2:Array.isArray(n)?lR:typeof n=="object"?Ot.test(n)?cE:C2:Ad}function lR(n,e){const t=[...n],i=t.length,r=n.map((a,u)=>o_(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)t[u]=r[u](a);return t}}function C2(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=o_(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function I2(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],u=n.indexes[a][i[a]],h=n.values[u]??0;t[r]=h,i[a]++}return t}const D2=(n,e)=>{const t=Gr.createTransformer(e),i=Vc(n),r=Vc(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?By.has(n)&&!r.values.length||By.has(e)&&!i.values.length?R2(n,e):ih(lR(I2(i,r),r.values),t):Ad(n,e)};function uR(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?dt(n,e,t):o_(n)(n,e)}const P2=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ut.update(e,t),stop:()=>Hr(e),now:()=>rn.isProcessing?rn.timestamp:kn.now()}},cR=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Rd=2e4;function a_(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Rd;)e+=t,i=n.next(e);return e>=Rd?1/0:e}function M2(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(a_(i),Rd);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:Zi(r)}}const k2=5;function hR(n,e,t){const i=Math.max(e-k2,0);return H1(t-n(i),e-i)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yg=.001;function O2({duration:n=_t.duration,bounce:e=_t.bounce,velocity:t=_t.velocity,mass:i=_t.mass}){let r,a,u=1-e;u=Gs(_t.minDamping,_t.maxDamping,u),n=Gs(_t.minDuration,_t.maxDuration,Zi(n)),u<1?(r=d=>{const g=d*u,v=g*n,b=g-t,E=jy(d,u),x=Math.exp(-v);return Yg-b/E*x},a=d=>{const v=d*u*n,b=v*t+t,E=Math.pow(u,2)*Math.pow(d,2)*n,x=Math.exp(-v),A=jy(Math.pow(d,2),u);return(-r(d)+Yg>0?-1:1)*((b-E)*x)/A}):(r=d=>{const g=Math.exp(-d*n),v=(d-t)*n+1;return-Yg+g*v},a=d=>{const g=Math.exp(-d*n),v=(t-d)*(n*n);return g*v});const h=5/n,f=V2(r,a,h);if(n=Wi(n),isNaN(f))return{stiffness:_t.stiffness,damping:_t.damping,duration:n};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:u*2*Math.sqrt(i*d),duration:n}}}const N2=12;function V2(n,e,t){let i=t;for(let r=1;r<N2;r++)i=i-n(i)/e(i);return i}function jy(n,e){return n*Math.sqrt(1-e*e)}const L2=["duration","bounce"],U2=["stiffness","damping","mass"];function hE(n,e){return e.some(t=>n[t]!==void 0)}function z2(n){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...n};if(!hE(n,U2)&&hE(n,L2))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*Gs(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:_t.mass,stiffness:r,damping:a}}else{const t=O2(n);e={...e,...t,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function xd(n=_t.visualDuration,e=_t.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:d,mass:g,duration:v,velocity:b,isResolvedFromDuration:E}=z2({...t,velocity:-Zi(t.velocity||0)}),x=b||0,A=d/(2*Math.sqrt(f*g)),I=u-a,D=Zi(Math.sqrt(f/g)),j=Math.abs(I)<5;i||(i=j?_t.restSpeed.granular:_t.restSpeed.default),r||(r=j?_t.restDelta.granular:_t.restDelta.default);let F;if(A<1){const Z=jy(D,A);F=ae=>{const M=Math.exp(-A*D*ae);return u-M*((x+A*D*I)/Z*Math.sin(Z*ae)+I*Math.cos(Z*ae))}}else if(A===1)F=Z=>u-Math.exp(-D*Z)*(I+(x+D*I)*Z);else{const Z=D*Math.sqrt(A*A-1);F=ae=>{const M=Math.exp(-A*D*ae),C=Math.min(Z*ae,300);return u-M*((x+A*D*I)*Math.sinh(C)+Z*I*Math.cosh(C))/Z}}const $={calculatedDuration:E&&v||null,next:Z=>{const ae=F(Z);if(E)h.done=Z>=v;else{let M=Z===0?x:0;A<1&&(M=Z===0?Wi(x):hR(F,Z,ae));const C=Math.abs(M)<=i,P=Math.abs(u-ae)<=r;h.done=C&&P}return h.value=h.done?u:ae,h},toString:()=>{const Z=Math.min(a_($),Rd),ae=cR(M=>$.next(Z*M).value,Z,30);return Z+"ms "+ae},toTransition:()=>{}};return $}xd.applyToOptions=n=>{const e=M2(n,100,xd);return n.ease=e.ease,n.duration=Wi(e.duration),n.type="keyframes",n};function Fy({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const v=n[0],b={done:!1,value:v},E=C=>h!==void 0&&C<h||f!==void 0&&C>f,x=C=>h===void 0?f:f===void 0||Math.abs(h-C)<Math.abs(f-C)?h:f;let A=t*e;const I=v+A,D=u===void 0?I:u(I);D!==I&&(A=D-v);const j=C=>-A*Math.exp(-C/i),F=C=>D+j(C),$=C=>{const P=j(C),V=F(C);b.done=Math.abs(P)<=d,b.value=b.done?D:V};let Z,ae;const M=C=>{E(b.value)&&(Z=C,ae=xd({keyframes:[b.value,x(b.value)],velocity:hR(F,C,b.value),damping:r,stiffness:a,restDelta:d,restSpeed:g}))};return M(0),{calculatedDuration:null,next:C=>{let P=!1;return!ae&&Z===void 0&&(P=!0,$(C),M(C)),Z!==void 0&&C>=Z?ae.next(C-Z):(!P&&$(C),b)}}}function B2(n,e,t){const i=[],r=t||$s.mix||uR,a=n.length-1;for(let u=0;u<a;u++){let h=r(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||di:e;h=ih(f,h)}i.push(h)}return i}function j2(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(Wv(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=B2(e,i,r),f=h.length,d=g=>{if(u&&g<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const b=Oc(n[v],n[v+1],g);return h[v](b)};return t?g=>d(Gs(n[0],n[a-1],g)):d}function F2(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Oc(0,e,i);n.push(dt(t,1,r))}}function q2(n){const e=[0];return F2(e,n.length-1),e}function H2(n,e){return n.map(t=>t*e)}function G2(n,e){return n.map(()=>e||J1).splice(0,n.length-1)}function bc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=n2(i)?i.map(oE):oE(i),a={done:!1,value:e[0]},u=H2(t&&t.length===e.length?t:q2(e),n),h=j2(u,e,{ease:Array.isArray(r)?r:G2(e,r)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}const $2=n=>n!==null;function l_(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter($2),h=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!h||i===void 0?a[h]:i}const K2={decay:Fy,inertia:Fy,tween:bc,keyframes:bc,spring:xd};function fR(n){typeof n.type=="string"&&(n.type=K2[n.type])}class u_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Y2=n=>n/100;class c_ extends u_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==kn.now()&&this.tick(kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;fR(e);const{type:t=bc,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:u=0}=e;let{keyframes:h}=e;const f=t||bc;f!==bc&&typeof h[0]!="number"&&(this.mixKeyframes=ih(Y2,uR(h[0],h[1])),h=[0,100]);const d=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=a_(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:E,type:x,onUpdate:A,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const D=this.currentTime-d*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?D<0:D>r;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let F=this.currentTime,$=i;if(v){const C=Math.min(this.currentTime,r)/h;let P=Math.floor(C),V=C%1;!V&&C>=1&&(V=1),V===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(b==="reverse"?(V=1-V,E&&(V-=E/h)):b==="mirror"&&($=u)),F=Gs(0,1,V)*h}const Z=j?{done:!1,value:g[0]}:$.next(F);a&&(Z.value=a(Z.value));let{done:ae}=Z;!j&&f!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return M&&x!==Fy&&(Z.value=l_(g,this.options,I,this.speed)),A&&A(Z.value),M&&this.finish(),Z}then(e,t){return this.finished.then(e,t)}get duration(){return Zi(this.calculatedDuration)}get time(){return Zi(this.currentTime)}set time(e){e=Wi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(kn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Zi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=P2,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function X2(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Xo=n=>n*180/Math.PI,qy=n=>{const e=Xo(Math.atan2(n[1],n[0]));return Hy(e)},Q2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:qy,rotateZ:qy,skewX:n=>Xo(Math.atan(n[1])),skewY:n=>Xo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Hy=n=>(n=n%360,n<0&&(n+=360),n),fE=qy,dE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),pE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),W2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dE,scaleY:pE,scale:n=>(dE(n)+pE(n))/2,rotateX:n=>Hy(Xo(Math.atan2(n[6],n[5]))),rotateY:n=>Hy(Xo(Math.atan2(-n[2],n[0]))),rotateZ:fE,rotate:fE,skewX:n=>Xo(Math.atan(n[4])),skewY:n=>Xo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Gy(n){return n.includes("scale")?1:0}function $y(n,e){if(!n||n==="none")return Gy(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=W2,r=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Q2,r=h}if(!r)return Gy(e);const a=i[e],u=r[1].split(",").map(J2);return typeof a=="function"?a(u):u[a]}const Z2=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return $y(t,e)};function J2(n){return parseFloat(n.trim())}const Hl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gl=new Set(Hl),mE=n=>n===ql||n===Se,eO=new Set(["x","y","z"]),tO=Hl.filter(n=>!eO.has(n));function nO(n){const e=[];return tO.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Wo={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>$y(e,"x"),y:(n,{transform:e})=>$y(e,"y")};Wo.translateX=Wo.x;Wo.translateY=Wo.y;const Zo=new Set;let Ky=!1,Yy=!1,Xy=!1;function dR(){if(Yy){const n=Array.from(Zo).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=nO(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,u])=>{i.getValue(a)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Yy=!1,Ky=!1,Zo.forEach(n=>n.complete(Xy)),Zo.clear()}function pR(){Zo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Yy=!0)})}function iO(){Xy=!0,pR(),dR(),Xy=!1}class h_{constructor(e,t,i,r,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Zo.add(this),Ky||(Ky=!0,ut.read(pR),ut.resolveKeyframes(dR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),r&&a===void 0&&r.set(e[0])}X2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Zo.delete(this)}cancel(){this.state==="scheduled"&&(Zo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sO=n=>n.startsWith("--");function rO(n,e,t){sO(e)?n.style.setProperty(e,t):n.style[e]=t}const oO=Zv(()=>window.ScrollTimeline!==void 0),aO={};function lO(n,e){const t=Zv(n);return()=>aO[e]??t()}const mR=lO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,gE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fc([0,.65,.55,1]),circOut:fc([.55,0,1,.45]),backIn:fc([.31,.01,.66,-.59]),backOut:fc([.33,1.53,.69,.99])};function gR(n,e){if(n)return typeof n=="function"?mR()?cR(n,e):"ease-out":eR(n)?fc(n):Array.isArray(n)?n.map(t=>gR(t,e)||gE.easeOut):gE[n]}function uO(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:u="loop",ease:h="easeOut",times:f}={},d=void 0){const g={[e]:t};f&&(g.offset=f);const v=gR(h,r);Array.isArray(v)&&(g.easing=v);const b={delay:i,duration:r,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return d&&(b.pseudoElement=d),n.animate(g,b)}function yR(n){return typeof n=="function"&&"applyToOptions"in n}function cO({type:n,...e}){return yR(n)&&mR()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hO extends u_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Wv(typeof e.type!="string");const d=cO(e);this.animation=uO(t,i,r,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=l_(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):rO(t,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zi(Number(e))}get time(){return Zi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Wi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&oO()?(this.animation.timeline=e,di):t(this)}}const vR={anticipate:Q1,backInOut:X1,circInOut:Z1};function fO(n){return n in vR}function dO(n){typeof n.ease=="string"&&fO(n.ease)&&(n.ease=vR[n.ease])}const yE=10;class pO extends hO{constructor(e){dO(e),fR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new c_({...u,autoplay:!1}),f=Wi(this.finishedTime??this.time);t.setWithVelocity(h.sample(f-yE).value,h.sample(f).value,yE),h.stop()}}const vE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Gr.test(n)||n==="0")&&!n.startsWith("url("));function mO(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function gO(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=vE(r,e),h=vE(a,e);return!u||!h?!1:mO(n)||(t==="spring"||yR(t))&&i}function Qy(n){n.duration=0,n.type}const yO=new Set(["opacity","clipPath","filter","transform"]),vO=Zv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _O(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return vO()&&t&&yO.has(t)&&(t!=="transform"||!d)&&!f&&!i&&r!=="mirror"&&a!==0&&u!=="inertia"}const bO=40;class wO extends u_{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:u="loop",keyframes:h,name:f,motionValue:d,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=kn.now();const b={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:u,name:f,motionValue:d,element:g,...v},E=g?.KeyframeResolver||h_;this.keyframeResolver=new E(h,(x,A,I)=>this.onKeyframesResolved(x,A,b,!I),f,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:u,velocity:h,delay:f,isHandoff:d,onUpdate:g}=i;this.resolvedAt=kn.now(),gO(e,a,u,h)||(($s.instantAnimations||!f)&&g?.(l_(e,i,t)),e[0]=e[e.length-1],Qy(i),i.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>bO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},E=!d&&_O(b)?new pO({...b,element:b.motionValue.owner.current}):new c_(b);E.finished.then(()=>this.notifyFinished()).catch(di),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),iO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const TO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EO(n){const e=TO.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function _R(n,e,t=1){const[i,r]=EO(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return j1(u)?parseFloat(u):u}return i_(r)?_R(r,e,t+1):r}function f_(n,e){return n?.[e]??n?.default??n}const bR=new Set(["width","height","top","left","right","bottom",...Hl]),SO={test:n=>n==="auto",parse:n=>n},wR=n=>e=>e.test(n),TR=[ql,Se,Ji,Ir,m2,p2,SO],_E=n=>TR.find(wR(n));function AO(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||q1(n):!0}const RO=new Set(["brightness","contrast","saturate","opacity"]);function xO(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(s_)||[];if(!i)return n;const r=t.replace(i,"");let a=RO.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const CO=/\b([a-z-]*)\(.*?\)/gu,Wy={...Gr,getAnimatableNone:n=>{const e=n.match(CO);return e?e.map(xO).join(" "):n}},bE={...ql,transform:Math.round},IO={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:Kf,scaleX:Kf,scaleY:Kf,scaleZ:Kf,skew:Ir,skewX:Ir,skewY:Ir,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Nc,originX:aE,originY:aE,originZ:Se},d_={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...IO,zIndex:bE,fillOpacity:Nc,strokeOpacity:Nc,numOctaves:bE},DO={...d_,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Wy,WebkitFilter:Wy},ER=n=>DO[n];function SR(n,e){let t=ER(n);return t!==Wy&&(t=Gr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const PO=new Set(["auto","none","0"]);function MO(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!PO.has(a)&&Vc(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=SR(t,r)}class kO extends h_{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),i_(d))){const g=_R(d,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!bR.has(i)||e.length!==2)return;const[r,a]=e,u=_E(r),h=_E(a);if(u!==h)if(mE(u)&&mE(h))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else Wo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||AO(e[r]))&&i.push(r);i.length&&MO(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=Wo[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function OO(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=t?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const AR=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function RR(n){return F1(n)&&"offsetHeight"in n}const wE=30,NO=n=>!isNaN(parseFloat(n));class VO{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=kn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=NO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Jv);const i=this.events[e].add(t);return e==="change"?()=>{i(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>wE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,wE);return H1(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Il(n,e){return new VO(n,e)}const{schedule:p_}=tR(queueMicrotask,!1),wi={x:!1,y:!1};function xR(){return wi.x||wi.y}function LO(n){return n==="x"||n==="y"?wi[n]?null:(wi[n]=!0,()=>{wi[n]=!1}):wi.x||wi.y?null:(wi.x=wi.y=!0,()=>{wi.x=wi.y=!1})}function CR(n,e){const t=OO(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function TE(n){return!(n.pointerType==="touch"||xR())}function UO(n,e,t={}){const[i,r,a]=CR(n,t),u=h=>{if(!TE(h))return;const{target:f}=h,d=e(f,h);if(typeof d!="function"||!f)return;const g=v=>{TE(v)&&(d(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,r)};return i.forEach(h=>{h.addEventListener("pointerenter",u,r)}),a}const IR=(n,e)=>e?n===e?!0:IR(n,e.parentElement):!1,m_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,zO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BO(n){return zO.has(n.tagName)||n.tabIndex!==-1}const ld=new WeakSet;function EE(n){return e=>{e.key==="Enter"&&n(e)}}function Xg(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jO=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=EE(()=>{if(ld.has(t))return;Xg(t,"down");const r=EE(()=>{Xg(t,"up")}),a=()=>Xg(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function SE(n){return m_(n)&&!xR()}function FO(n,e,t={}){const[i,r,a]=CR(n,t),u=h=>{const f=h.currentTarget;if(!SE(h))return;ld.add(f);const d=e(f,h),g=(E,x)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),ld.has(f)&&ld.delete(f),SE(E)&&typeof d=="function"&&d(E,{success:x})},v=E=>{g(E,f===window||f===document||t.useGlobalTarget||IR(f,E.target))},b=E=>{g(E,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",b,r)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,r),RR(h)&&(h.addEventListener("focus",d=>jO(d,r)),!BO(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function DR(n){return F1(n)&&"ownerSVGElement"in n}function qO(n){return DR(n)&&n.tagName==="svg"}const yn=n=>!!(n&&n.getVelocity),HO=[...TR,Ot,Gr],GO=n=>HO.find(wR(n)),g_=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class $O extends U.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=RR(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KO({children:n,isPresent:e,anchorX:t,root:i}){const r=U.useId(),a=U.useRef(null),u=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=U.useContext(g_);return U.useInsertionEffect(()=>{const{width:f,height:d,top:g,left:v,right:b}=u.current;if(e||!a.current||!f||!d)return;const E=t==="left"?`left: ${v}`:`right: ${b}`;a.current.dataset.motionPopId=r;const x=document.createElement("style");h&&(x.nonce=h);const A=i??document.head;return A.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${E}px !important;
            top: ${g}px !important;
          }
        `),()=>{A.contains(x)&&A.removeChild(x)}},[e]),N.jsx($O,{isPresent:e,childRef:a,sizeRef:u,children:U.cloneElement(n,{ref:a})})}const YO=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:u,anchorX:h,root:f})=>{const d=Kv(XO),g=U.useId();let v=!0,b=U.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:t,custom:r,onExitComplete:E=>{d.set(E,!0);for(const x of d.values())if(!x)return;i&&i()},register:E=>(d.set(E,!1),()=>d.delete(E))}),[t,d,i]);return a&&v&&(b={...b}),U.useMemo(()=>{d.forEach((E,x)=>d.set(x,!1))},[t]),U.useEffect(()=>{!t&&!d.size&&i&&i()},[t]),u==="popLayout"&&(n=N.jsx(KO,{isPresent:t,anchorX:h,root:f,children:n})),N.jsx(ip.Provider,{value:b,children:n})};function XO(){return new Map}function PR(n=!0){const e=U.useContext(ip);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=U.useId();U.useEffect(()=>{if(n)return r(a)},[n]);const u=U.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,u]:[!0]}const Yf=n=>n.key||"";function AE(n){const e=[];return U.Children.forEach(n,t=>{U.isValidElement(t)&&e.push(t)}),e}const QO=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[d,g]=PR(u),v=U.useMemo(()=>AE(n),[n]),b=u&&!d?[]:v.map(Yf),E=U.useRef(!0),x=U.useRef(v),A=Kv(()=>new Map),[I,D]=U.useState(v),[j,F]=U.useState(v);B1(()=>{E.current=!1,x.current=v;for(let ae=0;ae<j.length;ae++){const M=Yf(j[ae]);b.includes(M)?A.delete(M):A.get(M)!==!0&&A.set(M,!1)}},[j,b.length,b.join("-")]);const $=[];if(v!==I){let ae=[...v];for(let M=0;M<j.length;M++){const C=j[M],P=Yf(C);b.includes(P)||(ae.splice(M,0,C),$.push(C))}return a==="wait"&&$.length&&(ae=$),F(AE(ae)),D(v),null}const{forceRender:Z}=U.useContext($v);return N.jsx(N.Fragment,{children:j.map(ae=>{const M=Yf(ae),C=u&&!d?!1:v===j||b.includes(M),P=()=>{if(A.has(M))A.set(M,!0);else return;let V=!0;A.forEach(B=>{B||(V=!1)}),V&&(Z?.(),F(x.current),u&&g?.(),i&&i())};return N.jsx(YO,{isPresent:C,initial:!E.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:f,onExitComplete:C?void 0:P,anchorX:h,children:ae},M)})})},MR=U.createContext({strict:!1}),RE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dl={};for(const n in RE)Dl[n]={isEnabled:e=>RE[n].some(t=>!!e[t])};function WO(n){for(const e in n)Dl[e]={...Dl[e],...n[e]}}const ZO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||ZO.has(n)}let kR=n=>!Cd(n);function JO(n){typeof n=="function"&&(kR=e=>e.startsWith("on")?!Cd(e):n(e))}try{JO(require("@emotion/is-prop-valid").default)}catch{}function eN(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(kR(r)||t===!0&&Cd(r)||!e&&!Cd(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const sp=U.createContext({});function rp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Lc(n){return typeof n=="string"||Array.isArray(n)}const y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v_=["initial",...y_];function op(n){return rp(n.animate)||v_.some(e=>Lc(n[e]))}function OR(n){return!!(op(n)||n.variants)}function tN(n,e){if(op(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Lc(t)?t:void 0,animate:Lc(i)?i:void 0}}return n.inherit!==!1?e:{}}function nN(n){const{initial:e,animate:t}=tN(n,U.useContext(sp));return U.useMemo(()=>({initial:e,animate:t}),[xE(e),xE(t)])}function xE(n){return Array.isArray(n)?n.join(" "):n}const Uc={};function iN(n){for(const e in n)Uc[e]=n[e],n_(e)&&(Uc[e].isCSSVariable=!0)}function NR(n,{layout:e,layoutId:t}){return Gl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Uc[n]||n==="opacity")}const sN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rN=Hl.length;function oN(n,e,t){let i="",r=!0;for(let a=0;a<rN;a++){const u=Hl[a],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const d=AR(h,d_[u]);if(!f){r=!1;const g=sN[u]||u;i+=`${g}(${d}) `}t&&(e[u]=d)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function __(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let u=!1,h=!1;for(const f in e){const d=e[f];if(Gl.has(f)){u=!0;continue}else if(n_(f)){r[f]=d;continue}else{const g=AR(d,d_[f]);f.startsWith("origin")?(h=!0,a[f]=g):i[f]=g}}if(e.transform||(u||t?i.transform=oN(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${d} ${g}`}}const b_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VR(n,e,t){for(const i in e)!yn(e[i])&&!NR(i,t)&&(n[i]=e[i])}function aN({transformTemplate:n},e){return U.useMemo(()=>{const t=b_();return __(t,e,n),Object.assign({},t.vars,t.style)},[e])}function lN(n,e){const t=n.style||{},i={};return VR(i,t,n),Object.assign(i,aN(n,e)),i}function uN(n,e){const t={},i=lN(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const cN={offset:"stroke-dashoffset",array:"stroke-dasharray"},hN={offset:"strokeDashoffset",array:"strokeDasharray"};function fN(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?cN:hN;n[a.offset]=Se.transform(-i);const u=Se.transform(e),h=Se.transform(t);n[a.array]=`${u} ${h}`}function LR(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:u=0,...h},f,d,g){if(__(n,h,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),r!==void 0&&fN(v,r,a,u,!1)}const UR=()=>({...b_(),attrs:{}}),zR=n=>typeof n=="string"&&n.toLowerCase()==="svg";function dN(n,e,t,i){const r=U.useMemo(()=>{const a=UR();return LR(a,e,zR(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};VR(a,n.style,n),r.style={...a,...r.style}}return r}const pN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function w_(n){return typeof n!="string"||n.includes("-")?!1:!!(pN.indexOf(n)>-1||/[A-Z]/u.test(n))}function mN(n,e,t,{latestValues:i},r,a=!1){const h=(w_(n)?dN:uN)(e,i,r,n),f=eN(e,typeof n=="string",a),d=n!==U.Fragment?{...f,...h,ref:t}:{},{children:g}=e,v=U.useMemo(()=>yn(g)?g.get():g,[g]);return U.createElement(n,{...d,children:v})}function CE(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function T_(n,e,t,i){if(typeof e=="function"){const[r,a]=CE(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=CE(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function ud(n){return yn(n)?n.get():n}function gN({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:yN(t,i,r,n),renderState:e()}}function yN(n,e,t,i){const r={},a=i(n,{});for(const b in a)r[b]=ud(a[b]);let{initial:u,animate:h}=n;const f=op(n),d=OR(n);e&&d&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!rp(v)){const b=Array.isArray(v)?v:[v];for(let E=0;E<b.length;E++){const x=T_(n,b[E]);if(x){const{transitionEnd:A,transition:I,...D}=x;for(const j in D){let F=D[j];if(Array.isArray(F)){const $=g?F.length-1:0;F=F[$]}F!==null&&(r[j]=F)}for(const j in A)r[j]=A[j]}}}return r}const BR=n=>(e,t)=>{const i=U.useContext(sp),r=U.useContext(ip),a=()=>gN(n,e,i,r);return t?a():Kv(a)};function E_(n,e,t){const{style:i}=n,r={};for(const a in i)(yn(i[a])||e.style&&yn(e.style[a])||NR(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(r[a]=i[a]);return r}const vN=BR({scrapeMotionValuesFromProps:E_,createRenderState:b_});function jR(n,e,t){const i=E_(n,e,t);for(const r in n)if(yn(n[r])||yn(e[r])){const a=Hl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const _N=BR({scrapeMotionValuesFromProps:jR,createRenderState:UR}),bN=Symbol.for("motionComponentSymbol");function gl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function wN(n,e,t){return U.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):gl(t)&&(t.current=i))},[e])}const S_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TN="framerAppearId",FR="data-"+S_(TN),qR=U.createContext({});function EN(n,e,t,i,r){const{visualElement:a}=U.useContext(sp),u=U.useContext(MR),h=U.useContext(ip),f=U.useContext(g_).reducedMotion,d=U.useRef(null);i=i||u.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:a,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=d.current,v=U.useContext(qR);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&SN(d.current,t,r,v);const b=U.useRef(!1);U.useInsertionEffect(()=>{g&&b.current&&g.update(t,h)});const E=t[FR],x=U.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return B1(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),x.current&&g.animationState&&g.animationState.animateChanges())}),U.useEffect(()=>{g&&(!x.current&&g.animationState&&g.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),x.current=!1),g.enteringChildren=void 0)}),g}function SN(n,e,t,i){const{layoutId:r,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:HR(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!u||h&&gl(h),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:d})}function HR(n){if(n)return n.options.allowProjection!==!1?n.projection:HR(n.parent)}function Qg(n,{forwardMotionProps:e=!1}={},t,i){t&&WO(t);const r=w_(n)?_N:vN;function a(h,f){let d;const g={...U.useContext(g_),...h,layoutId:AN(h)},{isStatic:v}=g,b=nN(h),E=r(h,v);if(!v&&Yv){RN();const x=xN(g);d=x.MeasureLayout,b.visualElement=EN(n,E,g,i,x.ProjectionNode)}return N.jsxs(sp.Provider,{value:b,children:[d&&b.visualElement?N.jsx(d,{visualElement:b.visualElement,...g}):null,mN(n,h,wN(E,b.visualElement,f),E,v,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=U.forwardRef(a);return u[bN]=n,u}function AN({layoutId:n}){const e=U.useContext($v).id;return e&&n!==void 0?e+"-"+n:n}function RN(n,e){U.useContext(MR).strict}function xN(n){const{drag:e,layout:t}=Dl;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function CN(n,e){if(typeof Proxy>"u")return Qg;const t=new Map,i=(a,u)=>Qg(a,u,n,e),r=(a,u)=>i(a,u);return new Proxy(r,{get:(a,u)=>u==="create"?i:(t.has(u)||t.set(u,Qg(u,void 0,n,e)),t.get(u))})}function GR({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function IN({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function DN(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Wg(n){return n===void 0||n===1}function Zy({scale:n,scaleX:e,scaleY:t}){return!Wg(n)||!Wg(e)||!Wg(t)}function Go(n){return Zy(n)||$R(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function $R(n){return IE(n.x)||IE(n.y)}function IE(n){return n&&n!=="0%"}function Id(n,e,t){const i=n-t,r=e*i;return t+r}function DE(n,e,t,i,r){return r!==void 0&&(n=Id(n,r,i)),Id(n,t,i)+e}function Jy(n,e=0,t=1,i,r){n.min=DE(n.min,e,t,i,r),n.max=DE(n.max,e,t,i,r)}function KR(n,{x:e,y:t}){Jy(n.x,e.translate,e.scale,e.originPoint),Jy(n.y,t.translate,t.scale,t.originPoint)}const PE=.999999999999,ME=1.0000000000001;function PN(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,u;for(let h=0;h<r;h++){a=t[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vl(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,KR(n,u)),i&&Go(a.latestValues)&&vl(n,a.latestValues))}e.x<ME&&e.x>PE&&(e.x=1),e.y<ME&&e.y>PE&&(e.y=1)}function yl(n,e){n.min=n.min+e,n.max=n.max+e}function kE(n,e,t,i,r=.5){const a=dt(n.min,n.max,r);Jy(n,e,t,a,i)}function vl(n,e){kE(n.x,e.x,e.scaleX,e.scale,e.originX),kE(n.y,e.y,e.scaleY,e.scale,e.originY)}function YR(n,e){return GR(DN(n.getBoundingClientRect(),e))}function MN(n,e,t){const i=YR(n,t),{scroll:r}=e;return r&&(yl(i.x,r.offset.x),yl(i.y,r.offset.y)),i}const OE=()=>({translate:0,scale:1,origin:0,originPoint:0}),_l=()=>({x:OE(),y:OE()}),NE=()=>({min:0,max:0}),At=()=>({x:NE(),y:NE()}),ev={current:null},XR={current:!1};function kN(){if(XR.current=!0,!!Yv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ev.current=n.matches;n.addEventListener("change",e),e()}else ev.current=!1}const ON=new WeakMap;function NN(n,e,t){for(const i in e){const r=e[i],a=t[i];if(yn(r))n.addValue(i,r);else if(yn(a))n.addValue(i,Il(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(r):u.hasAnimated||u.set(r)}else{const u=n.getStaticValue(i);n.addValue(i,Il(u!==void 0?u:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const VE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VN{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=kn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ut.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=op(t),this.isVariantNode=OR(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in v){const E=v[b];f[b]!==void 0&&yn(E)&&E.set(f[b])}}mount(e){this.current=e,ON.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),XR.current||kN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ev.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hr(this.notifyUpdate),Hr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Gl.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dl){const t=Dl[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<VE.length;i++){const r=VE[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,u=e[a];u&&(this.propEventSubscriptions[r]=this.on(r,u))}this.prevMotionValues=NN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Il(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(j1(i)||q1(i))?i=parseFloat(i):!GO(i)&&Gr.test(t)&&(i=SR(e,t)),this.setBaseTarget(e,yn(i)?i.get():i)),yn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=T_(this.props,t,this.presenceContext?.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!yn(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Jv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){p_.render(this.render)}}class QR extends VN{constructor(){super(...arguments),this.KeyframeResolver=kO}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function WR(n,{style:e,vars:t},i,r){const a=n.style;let u;for(u in e)a[u]=e[u];r?.applyProjectionStyles(a,i);for(u in t)a.setProperty(u,t[u])}function LN(n){return window.getComputedStyle(n)}class UN extends QR{constructor(){super(...arguments),this.type="html",this.renderInstance=WR}readValueFromInstance(e,t){if(Gl.has(t))return this.projection?.isProjecting?Gy(t):Z2(e,t);{const i=LN(e),r=(n_(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return YR(e,t)}build(e,t,i){__(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return E_(e,t,i)}}const ZR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zN(n,e,t,i){WR(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(ZR.has(r)?r:S_(r),e.attrs[r])}class BN extends QR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Gl.has(t)){const i=ER(t);return i&&i.default||0}return t=ZR.has(t)?t:S_(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return jR(e,t,i)}build(e,t,i){LR(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){zN(e,t,i,r)}mount(e){this.isSVGTag=zR(e.tagName),super.mount(e)}}const jN=(n,e)=>w_(n)?new BN(e):new UN(e,{allowProjection:n!==U.Fragment});function El(n,e,t){const i=n.getProps();return T_(i,e,t!==void 0?t:i.custom,n)}const tv=n=>Array.isArray(n);function FN(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Il(t))}function qN(n){return tv(n)?n[n.length-1]||0:n}function HN(n,e){const t=El(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const u in a){const h=qN(a[u]);FN(n,u,h)}}function GN(n){return!!(yn(n)&&n.add)}function nv(n,e){const t=n.getValue("willChange");if(GN(t))return t.add(e);if(!t&&$s.WillChange){const i=new $s.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function JR(n){return n.props[FR]}const $N=n=>n!==null;function KN(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter($N),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const YN={type:"spring",stiffness:500,damping:25,restSpeed:10},XN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),QN={type:"keyframes",duration:.8},WN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZN=(n,{keyframes:e})=>e.length>2?QN:Gl.has(n)?n.startsWith("scale")?XN(e[1]):YN:WN;function JN({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const A_=(n,e,t,i={},r,a)=>u=>{const h=f_(i,n)||{},f=h.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Wi(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:a?void 0:r};JN(h)||Object.assign(g,ZN(n,g)),g.duration&&(g.duration=Wi(g.duration)),g.repeatDelay&&(g.repeatDelay=Wi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Qy(g),g.delay===0&&(v=!0)),($s.instantAnimations||$s.skipAnimations)&&(v=!0,Qy(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!a&&e.get()!==void 0){const b=KN(g.keyframes,h);if(b!==void 0){ut.update(()=>{g.onUpdate(b),g.onComplete()});return}}return h.isSync?new c_(g):new wO(g)};function eV({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function ex(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(a=i);const f=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const g in h){const v=n.getValue(g,n.latestValues[g]??null),b=h[g];if(b===void 0||d&&eV(d,g))continue;const E={delay:t,...f_(a||{},g)},x=v.get();if(x!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===x&&!E.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const D=JR(n);if(D){const j=window.MotionHandoffAnimation(D,g,ut);j!==null&&(E.startTime=j,A=!0)}}nv(n,g),v.start(A_(g,v,b,n.shouldReduceMotion&&bR.has(g)?{type:!1}:E,n,A));const I=v.animation;I&&f.push(I)}return u&&Promise.all(f).then(()=>{ut.update(()=>{u&&HN(n,u)})}),f}function tx(n,e,t,i=0,r=1){const a=Array.from(n).sort((d,g)=>d.sortNodePosition(g)).indexOf(e),u=n.size,h=(u-1)*i;return typeof t=="function"?t(a,u):r===1?a*i:h-a*i}function iv(n,e,t={}){const i=El(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(ex(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:v}=r;return tV(n,e,f,d,g,v,t)}:()=>Promise.resolve(),{when:h}=r;if(h){const[f,d]=h==="beforeChildren"?[a,u]:[u,a];return f().then(()=>d())}else return Promise.all([a(),u(t.delay)])}function tV(n,e,t=0,i=0,r=0,a=1,u){const h=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),h.push(iv(f,e,{...u,delay:t+(typeof i=="function"?0:i)+tx(n.variantChildren,f,i,r,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function nV(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>iv(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=iv(n,e,t);else{const r=typeof e=="function"?El(n,e,t.custom):e;i=Promise.all(ex(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function nx(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const iV=v_.length;function ix(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?ix(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<iV;t++){const i=v_[t],r=n.props[i];(Lc(r)||r===!1)&&(e[i]=r)}return e}const sV=[...y_].reverse(),rV=y_.length;function oV(n){return e=>Promise.all(e.map(({animation:t,options:i})=>nV(n,t,i)))}function aV(n){let e=oV(n),t=LE(),i=!0;const r=f=>(d,g)=>{const v=El(n,g,f==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:E,...x}=v;d={...d,...x,...E}}return d};function a(f){e=f(n)}function u(f){const{props:d}=n,g=ix(n.parent)||{},v=[],b=new Set;let E={},x=1/0;for(let I=0;I<rV;I++){const D=sV[I],j=t[D],F=d[D]!==void 0?d[D]:g[D],$=Lc(F),Z=D===f?j.isActive:null;Z===!1&&(x=I);let ae=F===g[D]&&F!==d[D]&&$;if(ae&&i&&n.manuallyAnimateOnMount&&(ae=!1),j.protectedKeys={...E},!j.isActive&&Z===null||!F&&!j.prevProp||rp(F)||typeof F=="boolean")continue;const M=lV(j.prevProp,F);let C=M||D===f&&j.isActive&&!ae&&$||I>x&&$,P=!1;const V=Array.isArray(F)?F:[F];let B=V.reduce(r(D),{});Z===!1&&(B={});const{prevResolvedValues:q={}}=j,O={...q,...B},Ct=oe=>{C=!0,b.has(oe)&&(P=!0,b.delete(oe)),j.needsAnimating[oe]=!0;const fe=n.getValue(oe);fe&&(fe.liveStyle=!1)};for(const oe in O){const fe=B[oe],De=q[oe];if(E.hasOwnProperty(oe))continue;let L=!1;tv(fe)&&tv(De)?L=!nx(fe,De):L=fe!==De,L?fe!=null?Ct(oe):b.add(oe):fe!==void 0&&b.has(oe)?Ct(oe):j.protectedKeys[oe]=!0}j.prevProp=F,j.prevResolvedValues=B,j.isActive&&(E={...E,...B}),i&&n.blockInitialAnimation&&(C=!1);const st=ae&&M;C&&(!st||P)&&v.push(...V.map(oe=>{const fe={type:D};if(typeof oe=="string"&&i&&!st&&n.manuallyAnimateOnMount&&n.parent){const{parent:De}=n,L=El(De,oe);if(De.enteringChildren&&L){const{delayChildren:re}=L.transition||{};fe.delay=tx(De.enteringChildren,n,re)}}return{animation:oe,options:fe}}))}if(b.size){const I={};if(typeof d.initial!="boolean"){const D=El(n,Array.isArray(d.initial)?d.initial[0]:d.initial);D&&D.transition&&(I.transition=D.transition)}b.forEach(D=>{const j=n.getBaseTarget(D),F=n.getValue(D);F&&(F.liveStyle=!0),I[D]=j??null}),v.push({animation:I})}let A=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(v):Promise.resolve()}function h(f,d){if(t[f].isActive===d)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(f,d)),t[f].isActive=d;const g=u(f);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t,reset:()=>{t=LE(),i=!0}}}function lV(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!nx(e,n):!1}function qo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LE(){return{animate:qo(!0),whileInView:qo(),whileHover:qo(),whileTap:qo(),whileDrag:qo(),whileFocus:qo(),exit:qo()}}class Jr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uV extends Jr{constructor(e){super(e),e.animationState||(e.animationState=aV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let cV=0;class hV extends Jr{constructor(){super(...arguments),this.id=cV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const fV={animation:{Feature:uV},exit:{Feature:hV}};function zc(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function oh(n){return{point:{x:n.pageX,y:n.pageY}}}const dV=n=>e=>m_(e)&&n(e,oh(e));function wc(n,e,t,i){return zc(n,e,dV(t),i)}const sx=1e-4,pV=1-sx,mV=1+sx,rx=.01,gV=0-rx,yV=0+rx;function Rn(n){return n.max-n.min}function vV(n,e,t){return Math.abs(n-e)<=t}function UE(n,e,t,i=.5){n.origin=i,n.originPoint=dt(e.min,e.max,n.origin),n.scale=Rn(t)/Rn(e),n.translate=dt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=pV&&n.scale<=mV||isNaN(n.scale))&&(n.scale=1),(n.translate>=gV&&n.translate<=yV||isNaN(n.translate))&&(n.translate=0)}function Tc(n,e,t,i){UE(n.x,e.x,t.x,i?i.originX:void 0),UE(n.y,e.y,t.y,i?i.originY:void 0)}function zE(n,e,t){n.min=t.min+e.min,n.max=n.min+Rn(e)}function _V(n,e,t){zE(n.x,e.x,t.x),zE(n.y,e.y,t.y)}function BE(n,e,t){n.min=e.min-t.min,n.max=n.min+Rn(e)}function Ec(n,e,t){BE(n.x,e.x,t.x),BE(n.y,e.y,t.y)}function ci(n){return[n("x"),n("y")]}const ox=({current:n})=>n?n.ownerDocument.defaultView:null,jE=(n,e)=>Math.abs(n-e);function bV(n,e){const t=jE(n.x,e.x),i=jE(n.y,e.y);return Math.sqrt(t**2+i**2)}class ax{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Jg(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,x=bV(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!x)return;const{point:A}=b,{timestamp:I}=rn;this.history.push({...A,timestamp:I});const{onStart:D,onMove:j}=this.handlers;E||(D&&D(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,b)},this.handlePointerMove=(b,E)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Zg(E,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(b,E)=>{this.end();const{onEnd:x,onSessionEnd:A,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Jg(b.type==="pointercancel"?this.lastMoveEventInfo:Zg(E,this.transformPagePoint),this.history);this.startEvent&&x&&x(b,D),A&&A(b,D)},!m_(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=r||window;const h=oh(e),f=Zg(h,this.transformPagePoint),{point:d}=f,{timestamp:g}=rn;this.history=[{...d,timestamp:g}];const{onSessionStart:v}=t;v&&v(e,Jg(f,this.history)),this.removeListeners=ih(wc(this.contextWindow,"pointermove",this.handlePointerMove),wc(this.contextWindow,"pointerup",this.handlePointerUp),wc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hr(this.updatePoint)}}function Zg(n,e){return e?{point:e(n.point)}:n}function FE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Jg({point:n},e){return{point:n,delta:FE(n,lx(e)),offset:FE(n,wV(e)),velocity:TV(e,.1)}}function wV(n){return n[0]}function lx(n){return n[n.length-1]}function TV(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=lx(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Wi(e)));)t--;if(!i)return{x:0,y:0};const a=Zi(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function EV(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?dt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?dt(t,n,i.max):Math.min(n,t)),n}function qE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function SV(n,{top:e,left:t,bottom:i,right:r}){return{x:qE(n.x,t,r),y:qE(n.y,e,i)}}function HE(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function AV(n,e){return{x:HE(n.x,e.x),y:HE(n.y,e.y)}}function RV(n,e){let t=.5;const i=Rn(n),r=Rn(e);return r>i?t=Oc(e.min,e.max-i,n.min):i>r&&(t=Oc(n.min,n.max-r,e.min)),Gs(0,1,t)}function xV(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const sv=.35;function CV(n=sv){return n===!1?n=0:n===!0&&(n=sv),{x:GE(n,"left","right"),y:GE(n,"top","bottom")}}function GE(n,e,t){return{min:$E(n,e),max:$E(n,t)}}function $E(n,e){return typeof n=="number"?n:n[e]||0}const IV=new WeakMap;class DV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(oh(v).point)},u=(v,b)=>{const{drag:E,dragPropagation:x,onDragStart:A}=this.getProps();if(E&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LO(E),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(D=>{let j=this.getAxisMotionValue(D).get()||0;if(Ji.test(j)){const{projection:F}=this.visualElement;if(F&&F.layout){const $=F.layout.layoutBox[D];$&&(j=Rn($)*(parseFloat(j)/100))}}this.originPoint[D]=j}),A&&ut.postRender(()=>A(v,b)),nv(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:E,dragDirectionLock:x,onDirectionLock:A,onDrag:I}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:D}=b;if(x&&this.currentDirection===null){this.currentDirection=PV(D),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,D),this.updateAxis("y",b.point,D),this.visualElement.render(),I&&I(v,b)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ci(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new ax(e,{onSessionStart:a,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:ox(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:u}=r;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ut.postRender(()=>h(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Xf(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=EV(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&gl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=SV(i.layoutBox,e):this.constraints=!1,this.elastic=CV(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ci(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=xV(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!gl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=MN(i,r.root,this.visualElement.getTransformPagePoint());let u=AV(r.layout.layoutBox,a);if(t){const h=t(IN(u));this.hasMutatedConstraints=!!h,h&&(u=GR(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=ci(g=>{if(!Xf(g,t,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const b=r?200:1e6,E=r?40:1e7,x={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,x)});return Promise.all(d).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return nv(this.visualElement,e),i.start(A_(e,i,0,t,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ci(t=>{const{drag:i}=this.getProps();if(!Xf(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:u,max:h}=r.layout.layoutBox[t];a.set(e[t]-dt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!gl(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ci(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();r[u]=RV({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ci(u=>{if(!Xf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(dt(f,d,r[u]))})}addListeners(){if(!this.visualElement.current)return;IV.set(this.visualElement,this);const e=this.visualElement.current,t=wc(e,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();gl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ut.read(i);const u=zc(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(ci(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:u=sv,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function Xf(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function PV(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class MV extends Jr{constructor(e){super(e),this.removeGroupControls=di,this.removeListeners=di,this.controls=new DV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||di}unmount(){this.removeGroupControls(),this.removeListeners()}}const KE=n=>(e,t)=>{n&&ut.postRender(()=>n(e,t))};class kV extends Jr{constructor(){super(...arguments),this.removePointerDownListener=di}onPointerDown(e){this.session=new ax(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ox(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:KE(e),onStart:KE(t),onMove:i,onEnd:(a,u)=>{delete this.session,r&&ut.postRender(()=>r(a,u))}}}mount(){this.removePointerDownListener=wc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const cc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Se.test(n))n=parseFloat(n);else return n;const t=YE(n,e.target.x),i=YE(n,e.target.y);return`${t}% ${i}%`}},OV={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Gr.parse(n);if(r.length>5)return i;const a=Gr.createTransformer(n),u=typeof r[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;r[0+u]/=h,r[1+u]/=f;const d=dt(h,f,.5);return typeof r[2+u]=="number"&&(r[2+u]/=d),typeof r[3+u]=="number"&&(r[3+u]/=d),a(r)}};let ey=!1;class NV extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;iN(VV),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),ey&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),cd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,ey=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ut.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),p_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;ey=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ux(n){const[e,t]=PR(),i=U.useContext($v);return N.jsx(NV,{...n,layoutGroup:i,switchLayoutGroup:U.useContext(qR),isPresent:e,safeToRemove:t})}const VV={borderRadius:{...cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cc,borderTopRightRadius:cc,borderBottomLeftRadius:cc,borderBottomRightRadius:cc,boxShadow:OV};function LV(n,e,t){const i=yn(n)?n:Il(n);return i.start(A_("",i,e,t)),i.animation}const UV=(n,e)=>n.depth-e.depth;class zV{constructor(){this.children=[],this.isDirty=!1}add(e){Xv(this.children,e),this.isDirty=!0}remove(e){Qv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UV),this.isDirty=!1,this.children.forEach(e)}}function BV(n,e){const t=kn.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(Hr(i),n(a-e))};return ut.setup(i,!0),()=>Hr(i)}const cx=["TopLeft","TopRight","BottomLeft","BottomRight"],jV=cx.length,XE=n=>typeof n=="string"?parseFloat(n):n,QE=n=>typeof n=="number"||Se.test(n);function FV(n,e,t,i,r,a){r?(n.opacity=dt(0,t.opacity??1,qV(i)),n.opacityExit=dt(e.opacity??1,0,HV(i))):a&&(n.opacity=dt(e.opacity??1,t.opacity??1,i));for(let u=0;u<jV;u++){const h=`border${cx[u]}Radius`;let f=WE(e,h),d=WE(t,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||QE(f)===QE(d)?(n[h]=Math.max(dt(XE(f),XE(d),i),0),(Ji.test(d)||Ji.test(f))&&(n[h]+="%")):n[h]=d}(e.rotate||t.rotate)&&(n.rotate=dt(e.rotate||0,t.rotate||0,i))}function WE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const qV=hx(0,.5,W1),HV=hx(.5,.95,di);function hx(n,e,t){return i=>i<n?0:i>e?1:t(Oc(n,e,i))}function ZE(n,e){n.min=e.min,n.max=e.max}function li(n,e){ZE(n.x,e.x),ZE(n.y,e.y)}function JE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function eS(n,e,t,i,r){return n-=e,n=Id(n,1/t,i),r!==void 0&&(n=Id(n,1/r,i)),n}function GV(n,e=0,t=1,i=.5,r,a=n,u=n){if(Ji.test(e)&&(e=parseFloat(e),e=dt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=dt(a.min,a.max,i);n===a&&(h-=e),n.min=eS(n.min,e,t,h,r),n.max=eS(n.max,e,t,h,r)}function tS(n,e,[t,i,r],a,u){GV(n,e[t],e[i],e[r],e.scale,a,u)}const $V=["x","scaleX","originX"],KV=["y","scaleY","originY"];function nS(n,e,t,i){tS(n.x,e,$V,t?t.x:void 0,i?i.x:void 0),tS(n.y,e,KV,t?t.y:void 0,i?i.y:void 0)}function iS(n){return n.translate===0&&n.scale===1}function fx(n){return iS(n.x)&&iS(n.y)}function sS(n,e){return n.min===e.min&&n.max===e.max}function YV(n,e){return sS(n.x,e.x)&&sS(n.y,e.y)}function rS(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function dx(n,e){return rS(n.x,e.x)&&rS(n.y,e.y)}function oS(n){return Rn(n.x)/Rn(n.y)}function aS(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class XV{constructor(){this.members=[]}add(e){Xv(this.members,e),e.scheduleRender()}remove(e){if(Qv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QV(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((r||a||u)&&(i=`translate3d(${r}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:g,rotateX:v,rotateY:b,skewX:E,skewY:x}=t;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),E&&(i+=`skewX(${E}deg) `),x&&(i+=`skewY(${x}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const ty=["","X","Y","Z"],WV=1e3;let ZV=0;function ny(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function px(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=JR(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ut,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&px(i)}function mx({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(u={},h=e?.()){this.id=ZV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tL),this.nodes.forEach(rL),this.nodes.forEach(oL),this.nodes.forEach(nL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new zV)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Jv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=DR(u)&&!qO(u),this.instance=u;const{layoutId:h,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{v=window.innerWidth}),n(u,()=>{const E=window.innerWidth;E!==v&&(v=E,this.root.updateBlockedByResize=!0,g&&g(),g=BV(b,250),cd.hasAnimatedSinceResize&&(cd.hasAnimatedSinceResize=!1,this.nodes.forEach(cS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&d&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||hL,{onLayoutAnimationStart:A,onLayoutAnimationComplete:I}=d.getProps(),D=!this.targetLayout||!dx(this.targetLayout,E),j=!v&&b;if(this.options.layoutRoot||this.resumeFrom||j||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...f_(x,"layout"),onPlay:A,onComplete:I};(d.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,j)}else v||cS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aL),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&px(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sL),this.nodes.forEach(JV),this.nodes.forEach(eL)):this.nodes.forEach(uS),this.clearAllSnapshots();const h=kn.now();rn.delta=Gs(0,1e3/60,h-rn.timestamp),rn.timestamp=h,rn.isProcessing=!0,Hg.update.process(rn),Hg.preRender.process(rn),Hg.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,p_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iL),this.sharedNodes.forEach(lL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!fx(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&this.instance&&(h||Go(this.latestValues)||g)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),fL(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return At();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(dL))){const{scroll:d}=this.root;d&&(yl(h.x,d.offset.x),yl(h.y,d.offset.y))}return h}removeElementScroll(u){const h=At();if(li(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:g,options:v}=d;d!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&li(h,u),yl(h.x,g.offset.x),yl(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=At();li(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&vl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Go(g.latestValues)&&vl(f,g.latestValues)}return Go(this.latestValues)&&vl(f,this.latestValues),f}removeTransform(u){const h=At();li(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Go(d.latestValues))continue;Zy(d.latestValues)&&d.updateSnapshot();const g=At(),v=d.measurePageBox();li(g,v),nS(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return Go(this.latestValues)&&nS(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Ec(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_V(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),KR(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Ec(this.relativeTargetOrigin,this.target,b.target),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zy(this.parent.latestValues)||$R(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(f=!1),f)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;li(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;PN(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=At());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JE(this.prevProjectionDelta.x,this.projectionDelta.x),JE(this.prevProjectionDelta.y,this.projectionDelta.y)),Tc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!aS(this.projectionDelta.x,this.prevProjectionDelta.x)||!aS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_l(),this.projectionDelta=_l(),this.projectionDeltaWithTransform=_l()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},v=_l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=At(),E=f?f.source:void 0,x=this.layout?this.layout.source:void 0,A=E!==x,I=this.getStack(),D=!I||I.members.length<=1,j=!!(A&&!D&&this.options.crossfade===!0&&!this.path.some(cL));this.animationProgress=0;let F;this.mixTargetDelta=$=>{const Z=$/1e3;hS(v.x,u.x,Z),hS(v.y,u.y,Z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ec(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uL(this.relativeTarget,this.relativeTargetOrigin,b,Z),F&&YV(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=At()),li(F,this.relativeTarget)),A&&(this.animationValues=g,FV(g,d,this.latestValues,Z,j,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{cd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Il(0)),this.currentAnimation=LV(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&gx(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||At();const v=Rn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const b=Rn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+b}li(h,f),vl(h,g),Tc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new XV),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&ny("z",u,d,this.animationValues);for(let g=0;g<ty.length;g++)ny(`rotate${ty[g]}`,u,d,this.animationValues),ny(`skew${ty[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=ud(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=ud(h?.pointerEvents)||""),this.hasProjected&&!Go(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=QV(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:b,y:E}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${E.origin*100}% 0`,d.animationValues?u.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in Uc){if(g[x]===void 0)continue;const{correct:A,applyTo:I,isCSSVariable:D}=Uc[x],j=v==="none"?g[x]:A(g[x],d);if(I){const F=I.length;for(let $=0;$<F;$++)u[I[$]]=j}else D?this.options.visualElement.renderState.vars[x]=j:u[x]=j}this.options.layoutId&&(u.pointerEvents=d===this?ud(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(lS),this.root.sharedNodes.clear()}}}function JV(n){n.updateLayout()}function eL(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?ci(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],b=Rn(v);v.min=t[g].min,v.max=v.min+b}):gx(r,e.layoutBox,t)&&ci(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],b=Rn(t[g]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const u=_l();Tc(u,t,e.layoutBox);const h=_l();a?Tc(h,n.applyTransform(i,!0),e.measuredBox):Tc(h,t,e.layoutBox);const f=!fx(u);let d=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const E=At();Ec(E,e.layoutBox,v.layoutBox);const x=At();Ec(x,t,b.layoutBox),dx(E,x)||(d=!0),g.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function tL(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function nL(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function iL(n){n.clearSnapshot()}function lS(n){n.clearMeasurements()}function uS(n){n.isLayoutDirty=!1}function sL(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function cS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function rL(n){n.resolveTargetDelta()}function oL(n){n.calcProjection()}function aL(n){n.resetSkewAndRotation()}function lL(n){n.removeLeadSnapshot()}function hS(n,e,t){n.translate=dt(e.translate,0,t),n.scale=dt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function fS(n,e,t,i){n.min=dt(e.min,t.min,i),n.max=dt(e.max,t.max,i)}function uL(n,e,t,i){fS(n.x,e.x,t.x,i),fS(n.y,e.y,t.y,i)}function cL(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const hL={duration:.45,ease:[.4,0,.1,1]},dS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),pS=dS("applewebkit/")&&!dS("chrome/")?Math.round:di;function mS(n){n.min=pS(n.min),n.max=pS(n.max)}function fL(n){mS(n.x),mS(n.y)}function gx(n,e,t){return n==="position"||n==="preserve-aspect"&&!vV(oS(e),oS(t),.2)}function dL(n){return n!==n.root&&n.scroll?.wasRoot}const pL=mx({attachResizeListener:(n,e)=>zc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iy={current:void 0},yx=mx({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!iy.current){const n=new pL({});n.mount(window),n.setOptions({layoutScroll:!0}),iy.current=n}return iy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),mL={pan:{Feature:kV},drag:{Feature:MV,ProjectionNode:yx,MeasureLayout:ux}};function gS(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&ut.postRender(()=>a(e,oh(e)))}class gL extends Jr{mount(){const{current:e}=this.node;e&&(this.unmount=UO(e,(t,i)=>(gS(this.node,i,"Start"),r=>gS(this.node,r,"End"))))}unmount(){}}class yL extends Jr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ih(zc(this.node.current,"focus",()=>this.onFocus()),zc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yS(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&ut.postRender(()=>a(e,oh(e)))}class vL extends Jr{mount(){const{current:e}=this.node;e&&(this.unmount=FO(e,(t,i)=>(yS(this.node,i,"Start"),(r,{success:a})=>yS(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rv=new WeakMap,sy=new WeakMap,_L=n=>{const e=rv.get(n.target);e&&e(n)},bL=n=>{n.forEach(_L)};function wL({root:n,...e}){const t=n||document;sy.has(t)||sy.set(t,{});const i=sy.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(bL,{root:n,...e})),i[r]}function TL(n,e,t){const i=wL(e);return rv.set(n,t),i.observe(n),()=>{rv.delete(n),i.unobserve(n)}}const EL={some:0,all:1};class SL extends Jr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:EL[r]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=d?g:v;b&&b(f)};return TL(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(AL(e,t))&&this.startObserver()}unmount(){}}function AL({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const RL={inView:{Feature:SL},tap:{Feature:vL},focus:{Feature:yL},hover:{Feature:gL}},xL={layout:{ProjectionNode:yx,MeasureLayout:ux}},CL={...fV,...RL,...mL,...xL},vx=CN(CL,jN),Sc="generated",IL="pointerdown",DL="pointerup",ov="pointerleave",PL="pointerout",na="pointermove",ML="touchstart",vS="touchend",kL="touchmove",OL="touchcancel",NL="resize",VL="visibilitychange",pi="tsParticles - Error";class Hn{constructor(e,t,i){if(this._updateFromAngle=(r,a)=>{this.x=Math.cos(r)*a,this.y=Math.sin(r)*a},!Si(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${pi} Vector3d not initialized correctly`)}static get origin(){return Hn.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Hn.create(e.x,e.y,e.z)}static create(e,t,i){return new Hn(e,t,i)}add(e){return Hn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Hn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Hn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Hn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Hn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return Hn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Wt extends Hn{constructor(e,t){super(e,t,0)}static get origin(){return Wt.create(0,0)}static clone(e){return Wt.create(e.x,e.y)}static create(e,t){return new Wt(e,t)}}let LL=Math.random;const av=new Map;function ry(n,e){av.get(n)||av.set(n,e)}function _x(n){return av.get(n)||(e=>e)}function ot(){return Ci(LL(),0,1-1e-16)}function Ci(n,e,t){return Math.min(Math.max(n,e),t)}function oy(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function On(n){const e=Nr(n);let t=R_(n);return e===t&&(t=0),ot()*(e-t)+t}function _e(n){return Si(n)?n:On(n)}function R_(n){return Si(n)?n:n.min}function Nr(n){return Si(n)?n:n.max}function Ie(n,e){if(n===e||e===void 0&&Si(n))return n;const t=R_(n),i=Nr(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Ie(t,i)}function ia(n){const e=n.random,{enable:t,minimumValue:i}=Lr(e)?{enable:e,minimumValue:0}:e;return _e(t?Ie(n.value,i):n.value)}function xn(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function Kn(n,e){return xn(n,e).distance}function UL(n,e,t){if(Si(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return ot()*Math.PI*2}}function zL(n){const e=Wt.origin;return e.length=1,e.angle=n,e}function _S(n,e,t,i){return Wt.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function BL(n){return{x:n.position?.x??ot()*n.size.width,y:n.position?.y??ot()*n.size.height}}function bx(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const jL={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function sa(){return jL}function bS(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:a,velocity:u,factor:h}=n;return i.min<a.min||i.min>a.max||i.max<a.min||i.max>a.max||(t.max>=r.min&&t.max<=(r.max+r.min)/2&&u>0||t.min<=r.max&&t.min>(r.max+r.min)/2&&u<0)&&(e.velocity=u*-h,e.bounced=!0),e}function FL(n,e){const t=Zt(e,i=>n.matches(i));return Yn(t)?t.some(i=>i):t}function Pl(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function qL(){return!Pl()&&typeof matchMedia<"u"}function wx(n){if(qL())return matchMedia(n)}function HL(n){if(!(Pl()||typeof MutationObserver>"u"))return new MutationObserver(n)}function xt(n,e){return n===e||Yn(e)&&e.indexOf(n)>-1}async function GL(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function $L(n){return Math.floor(ot()*n.length)}function ap(n,e,t=!0){return n[e!==void 0&&t?e%n.length:$L(n)]}function x_(n,e,t,i,r){return KL(ah(n,i??0),e,t,r)}function KL(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function ah(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function vn(n,...e){for(const t of e){if(t==null)continue;if(!bl(t)){n=t;continue}const i=Array.isArray(t);i&&(bl(n)||!n||!Array.isArray(n))?n=[]:!i&&(bl(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const a=t,u=a[r],h=n;h[r]=bl(u)&&Array.isArray(u)?u.map(f=>vn(h[r],f)):vn(h[r],u)}}return n}function C_(n,e){return!!Sx(e,t=>t.enable&&xt(n,t.mode))}function I_(n,e,t){Zt(e,i=>{const r=i.mode;i.enable&&xt(n,r)&&YL(i,t)})}function YL(n,e){const t=n.selectors;Zt(t,i=>{e(i,n)})}function Tx(n,e){if(!(!e||!n))return Sx(n,t=>FL(e,t.selectors))}function lv(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:Wt.create(ia(n.options.bounce.horizontal),ia(n.options.bounce.vertical))}}function Ex(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,a]=[n.position,e.position],{dx:u,dy:h}=xn(a,r);if(t*u+i*h<0)return;const f=-Math.atan2(h,u),d=n.mass,g=e.mass,v=n.velocity.rotate(f),b=e.velocity.rotate(f),E=_S(v,b,d,g),x=_S(b,v,d,g),A=E.rotate(-f),I=x.rotate(-f);n.velocity.x=A.x*n.factor.x,n.velocity.y=A.y*n.factor.y,e.velocity.x=I.x*e.factor.x,e.velocity.y=I.y*e.factor.y}function XL(n,e){const t=n.getPosition(),i=n.getRadius(),r=ah(t,i),a=bS({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:ia(n.options.bounce.horizontal)});a.bounced&&(a.velocity!==void 0&&(n.velocity.x=a.velocity),a.position!==void 0&&(n.position.x=a.position));const u=bS({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:ia(n.options.bounce.vertical)});u.bounced&&(u.velocity!==void 0&&(n.velocity.y=u.velocity),u.position!==void 0&&(n.position.y=u.position))}function Zt(n,e){return Yn(n)?n.map((t,i)=>e(t,i)):e(n,0)}function Fs(n,e,t){return Yn(n)?ap(n,e,t):n}function Sx(n,e){return Yn(n)?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}function Ax(n,e){const t=n.value,i=n.animation,r={delayTime:_e(i.delay)*1e3,enable:i.enable,value:_e(n.value)*e,max:Nr(t)*e,min:R_(t)*e,loops:0,maxLoops:_e(i.count),time:0};if(i.enable){switch(r.decay=1-_e(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=ot()>=.5?"increasing":"decreasing";break}const a=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,a&&(r.status="increasing");break;case"max":r.value=r.max,a&&(r.status="decreasing");break;case"random":default:r.value=On(r),a&&(r.status=ot()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function QL(n,e){if(!(n.mode==="percent")){const{mode:r,...a}=n;return a}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function Rx(n,e){return QL(n,e)}function Lr(n){return typeof n=="boolean"}function Ei(n){return typeof n=="string"}function Si(n){return typeof n=="number"}function xx(n){return typeof n=="function"}function bl(n){return typeof n=="object"&&n!==null}function Yn(n){return Array.isArray(n)}const Dd="random",hd="mid",lp=new Map;function wS(n){lp.set(n.key,n)}function ay(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function WL(n){for(const[,a]of lp)if(n.startsWith(a.stringPrefix))return a.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(a,u,h,f,d)=>u+u+h+h+f+f+(d!==void 0?d+d:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Ai(n,e,t=!0){if(!n)return;const i=Ei(n)?{value:n}:n;if(Ei(i.value))return Cx(i.value,e,t);if(Yn(i.value))return Ai({value:ap(i.value,e,t)});for(const[,r]of lp){const a=r.handleRangeColor(i);if(a)return a}}function Cx(n,e,t=!0){if(!n)return;const i=Ei(n)?{value:n}:n;if(Ei(i.value))return i.value===Dd?Dx():ZL(i.value);if(Yn(i.value))return Cx({value:ap(i.value,e,t)});for(const[,r]of lp){const a=r.handleColor(i);if(a)return a}}function Bc(n,e,t=!0){const i=Ai(n,e,t);return i?Ix(i):void 0}function Ix(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),a=Math.min(e,t,i),u={h:0,l:(r+a)/2,s:0};return r!==a&&(u.s=u.l<.5?(r-a)/(r+a):(r-a)/(2-r-a),u.h=e===r?(t-i)/(r-a):u.h=t===r?2+(i-e)/(r-a):4+(e-t)/(r-a)),u.l*=100,u.s*=100,u.h*=60,u.h<0&&(u.h+=360),u.h>=360&&(u.h-=360),u}function ZL(n){return WL(n)}function Ml(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=ay(r,i,t.h+1/3),e.g=ay(r,i,t.h),e.b=ay(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function JL(n){const e=Ml(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function Dx(n){return{b:Math.floor(On(Ie(0,256))),g:Math.floor(On(Ie(0,256))),r:Math.floor(On(Ie(0,256)))}}function qs(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function jc(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function D_(n,e,t,i){let r=n,a=e;return r.r===void 0&&(r=Ml(n)),a.r===void 0&&(a=Ml(e)),{b:oy(r.b,a.b,t,i),g:oy(r.g,a.g,t,i),r:oy(r.r,a.r,t,i)}}function uv(n,e,t){if(t===Dd)return Dx();if(t===hd){const i=n.getFillColor()??n.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return D_(i,r,n.getRadius(),e.getRadius());{const a=i??r;if(a)return Ml(a)}}else return t}function Px(n,e,t){const i=Ei(n)?n:n.value;return i===Dd?t?Ai({value:i}):e?Dd:hd:i===hd?hd:Ai({value:i})}function TS(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function Mx(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(ly(i.h,e.h,t),ly(i.s,e.s,t),ly(i.l,e.l,t)),i}function ly(n,e,t){n.enable=e.enable,n.enable?(n.velocity=_e(e.speed)/100*t,n.decay=1-_e(e.decay),n.status="increasing",n.loops=0,n.maxLoops=_e(e.count),n.time=0,n.delayTime=_e(e.delay)*1e3,e.sync||(n.velocity*=ot(),n.value*=ot()),n.initialValue=n.value):n.velocity=0}function Ac(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function e4(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function t4(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function n4(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function uy(n,e){n.clearRect(0,0,e.width,e.height)}function i4(n){const{container:e,context:t,particle:i,delta:r,colorStyles:a,backgroundMask:u,composite:h,radius:f,opacity:d,shadow:g,transform:v}=n,b=i.getPosition(),E=i.rotation+(i.pathRotation?i.velocity.angle:0),x={sin:Math.sin(E),cos:Math.cos(E)},A={a:x.cos*(v.a??1),b:x.sin*(v.b??1),c:-x.sin*(v.c??1),d:x.cos*(v.d??1)};t.setTransform(A.a,A.b,A.c,A.d,b.x,b.y),t.beginPath(),u&&(t.globalCompositeOperation=h);const I=i.shadowColor;g.enable&&I&&(t.shadowBlur=g.blur,t.shadowColor=qs(I),t.shadowOffsetX=g.offset.x,t.shadowOffsetY=g.offset.y),a.fill&&(t.fillStyle=a.fill);const D=i.strokeWidth??0;t.lineWidth=D,a.stroke&&(t.strokeStyle=a.stroke),s4(e,t,i,f,d,r),D>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),r4(e,t,i,f,d,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function s4(n,e,t,i,r,a){if(!t.shape)return;const u=n.drawers.get(t.shape);u&&u.draw(e,t,i,r,a,n.retina.pixelRatio)}function r4(n,e,t,i,r,a){if(!t.shape)return;const u=n.drawers.get(t.shape);!u||!u.afterEffect||u.afterEffect(e,t,i,r,a,n.retina.pixelRatio)}function o4(n,e,t){e.draw&&e.draw(n,t)}function a4(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function l4(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function u4(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}class c4{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,a,u,h)=>{for(const f of this._preDrawUpdaters){if(f.getColorStyles){const{fill:d,stroke:g}=f.getColorStyles(i,t,r,a);d&&(u.fill=d),g&&(u.stroke=g)}if(f.getTransformValues){const d=f.getTransformValues(i);for(const g in d)u4(h,d,g)}f.beforeDraw&&f.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const a of this._colorPlugins)if(!i&&a.particleFillColor&&(i=Bc(a.particleFillColor(t))),!r&&a.particleStrokeColor&&(r=Bc(a.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,a=Ai(r);if(a){const u={...a,a:i.opacity};this._coverColorStyle=qs(u,u.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=vn({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const a=i.style[r];a&&t.style.setProperty(r,a,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const a=Ai(r.color);if(!a)return;const u=t.particles.move.trail;this._trailFill={color:{...a},opacity:1/u.length}}else await new Promise((a,u)=>{if(!r.image)return;const h=document.createElement("img");h.addEventListener("load",()=>{this._trailFill={image:h,opacity:1/i.length},a()}),h.addEventListener("error",f=>{u(f.error)}),h.src=r.image})},this._paintBase=t=>{this.draw(i=>t4(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>n4(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(qs(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{uy(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),a=e.getStrokeColor()??r;let[u,h]=this._getPluginParticleColors(e);u||(u=r),h||(h=a),!(!u&&!h)&&this.draw(f=>{const d=this.container,g=d.actualOptions,v=e.options.zIndex,b=(1-e.zIndexFactor)**v.opacityRate,E=e.bubble.opacity??e.opacity?.value??1,x=e.strokeOpacity??E,A=E*b,I=x*b,D={},j={fill:u?jc(u,A):void 0};j.stroke=h?jc(h,I):j.fill,this._applyPreDrawUpdaters(f,e,i,A,j,D),i4({container:d,context:f,particle:e,delta:t,colorStyles:j,backgroundMask:g.backgroundMask.enable,composite:g.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**v.sizeRate,opacity:A,shadow:e.options.shadow,transform:D}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>a4(r,e,t,i))}drawPlugin(e,t){this.draw(i=>o4(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=HL(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){sa().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const a=Ai(t.color);r.backgroundColor=a?qs(a,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Sc in e.dataset?e.dataset[Sc]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=vn({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(uy(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const a={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/a.width,height:i.height/a.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>uy(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function ui(n,e,t,i,r){if(i){let a={passive:!0};Lr(r)?a.capture=r:r!==void 0&&(a=r),n.addEventListener(e,t,a)}else{const a=r;n.removeEventListener(e,t,a)}}class h4{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const a=i.interactivity.mouse,u=a.position;if(!u)return;a.clickPosition={...u},a.clickTime=new Date().getTime();const h=r.interactivity.events.onClick;Zt(h.mode,f=>this.container.handleClickMode(f))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,a=r.options,u=a.defaultThemes,h=i.matches?u.dark:u.light,f=a.themes.find(d=>d.name===h);f&&f.default.auto&&r.loadTheme(h)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,a=this.container,u=a.actualOptions,h=a.interactivity.element;if(!h)return;const f=h,d=a.canvas.element;d&&(d.style.pointerEvents=f===d?"initial":"none"),(u.interactivity.events.onHover.enable||u.interactivity.events.onClick.enable)&&(ui(h,na,r.mouseMove,i),ui(h,ML,r.touchStart,i),ui(h,kL,r.touchMove,i),u.interactivity.events.onClick.enable?(ui(h,vS,r.touchEndClick,i),ui(h,DL,r.mouseUp,i),ui(h,IL,r.mouseDown,i)):ui(h,vS,r.touchEnd,i),ui(h,t,r.mouseLeave,i),ui(h,OL,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,a=r.actualOptions,u=a.interactivity.detectsOn,h=r.canvas.element;let f=ov;u==="window"?(r.interactivity.element=window,f=PL):u==="parent"&&h?r.interactivity.element=h.parentElement??h.parentNode:r.interactivity.element=h,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(f,t),document&&ui(document,VL,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=wx("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){ui(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){ui(window,NL,i.resize,t);return}const u=r.canvas.element;this._resizeObserver&&!t?(u&&this._resizeObserver.unobserve(u),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&u&&(this._resizeObserver=new ResizeObserver(async h=>{h.find(d=>d.target===u)&&await this._handleWindowResize()}),this._resizeObserver.observe(u))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:a}=i.interactivity;a.inside=!0;let u=!1;const h=a.position;if(!(!h||!r.interactivity.events.onClick.enable)){for(const[,f]of i.plugins)if(f.clickPositionValid&&(u=f.clickPositionValid(h),u))break;u||this._doMouseTouchClick(t),a.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=ov,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,a=i.interactivity,u=i.canvas.element;if(!a||!a.element)return;a.mouse.inside=!0;let h;if(t.type.startsWith("pointer")){this._canPush=!0;const d=t;if(a.element===window){if(u){const g=u.getBoundingClientRect();h={x:d.clientX-g.left,y:d.clientY-g.top}}}else if(r.interactivity.detectsOn==="parent"){const g=d.target,v=d.currentTarget;if(g&&v&&u){const b=g.getBoundingClientRect(),E=v.getBoundingClientRect(),x=u.getBoundingClientRect();h={x:d.offsetX+2*b.left-(E.left+x.left),y:d.offsetY+2*b.top-(E.top+x.top)}}else h={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY}}else d.target===u&&(h={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY})}else if(this._canPush=t.type!=="touchmove",u){const d=t,g=d.touches[d.touches.length-1],v=u.getBoundingClientRect();h={x:g.clientX-(v.left??0),y:g.clientY-(v.top??0)}}const f=i.retina.pixelRatio;h&&(h.x*=f,h.y*=f),a.mouse.position=h,a.status=na},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.set(a.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class un{constructor(){this.value=""}static create(e,t){const i=new un;return i.load(e),t!==void 0&&(Ei(t)||Yn(t)?i.load({value:t}):i.load(t)),i}load(e){e?.value!==void 0&&(this.value=e.value)}}class f4{constructor(){this.color=new un,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class d4{constructor(){this.color=new un,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class p4{constructor(){this.composite="destination-out",this.cover=new d4,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Ei(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class m4{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class g4{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class ES{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Zt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Zt(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class y4{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class v4{constructor(){this.enable=!1,this.mode=[],this.parallax=new y4}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class _4{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class b4{constructor(){this.onClick=new g4,this.onDiv=new ES,this.onHover=new v4,this.resize=new _4}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=Zt(t,i=>{const r=new ES;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),Lr(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class w4{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class kx{constructor(e,t){this.detectsOn="window",this.events=new b4,this.modes=new w4(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class T4{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=vn({},e.options)))}}class E4{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=vn({},e.options)))}}class S4{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class A4{constructor(){this.name="",this.default=new S4}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=vn({},e.options)))}}class cy{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Ie(e.offset)),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.delay!==void 0&&(this.delay=Ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class R4{constructor(){this.h=new cy,this.s=new cy,this.l=new cy}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Fc extends un{constructor(){super(),this.animation=new R4}static create(e,t){const i=new Fc;return i.load(e),t!==void 0&&(Ei(t)||Yn(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class x4{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class C4{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class I4{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.delay!==void 0&&(this.delay=Ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Ox extends I4{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class D4{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class eo{constructor(){this.random=new D4,this.value=0}load(e){e&&(Lr(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Ie(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class SS extends eo{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class Nx{constructor(){this.horizontal=new SS,this.vertical=new SS}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class P4{constructor(){this.absorb=new x4,this.bounce=new Nx,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new C4}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Ie(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class M4{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Ie(e.offset)),e.value!==void 0&&(this.value=Ie(e.value)))}}class k4{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){if(!e)return;e.distance!==void 0&&(this.distance=Ie(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=e.rotate?.x??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=e.rotate?.y??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class O4{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class N4{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Ie(e.maxSpeed)))}}class V4{constructor(){this.clamp=!0,this.delay=new eo,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=vn(this.options,e.options)))}}class L4{load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class U4{constructor(){this.enable=!1,this.length=10,this.fill=new L4}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class z4{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class B4{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=vn({},e.position)))}}class j4{constructor(){this.angle=new M4,this.attract=new k4,this.center=new O4,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new N4,this.path=new V4,this.outModes=new z4,this.random=!1,this.size=!1,this.speed=2,this.spin=new B4,this.straight=!1,this.trail=new U4,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Si(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Si(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Ie(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(bl(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Ie(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class F4 extends Ox{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){e?.opacity_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class q4 extends eo{constructor(){super(),this.animation=new F4,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class H4{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class G4{constructor(){this.density=new H4,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class $4{constructor(){this.blur=0,this.color=new un,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=un.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const hy="character",fy="char",dy="image",py="images",my="polygon",gy="star";class K4{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const a=Yn(e),u=a?[]:{},h=a!==Yn(this.options[t]),f=a!==Yn(this.options[i]);h&&(this.options[t]=u),f&&r&&(this.options[i]=u),this.options[t]=vn(this.options[t]??u,e),(!this.options[i]||r)&&(this.options[i]=vn(this.options[i]??u,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[hy]??this.options[fy]}set character(e){this.options[fy]=this.options[hy]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[dy]??this.options[py]}set image(e){this.options[py]=this.options[dy]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[my]??this.options[gy]}set polygon(e){this.options[gy]=this.options[my]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=vn(this.options[i]??{},r))}this.loadShape(e.character,hy,fy,!0),this.loadShape(e.polygon,my,gy,!1),this.loadShape(e.image??e.images,dy,py,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Y4 extends Ox{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){e?.size_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class X4 extends eo{constructor(){super(),this.animation=new Y4,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class AS{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Fc.create(this.color,e.color)),e.width!==void 0&&(this.width=Ie(e.width)),e.opacity!==void 0&&(this.opacity=Ie(e.opacity)))}}class Q4 extends eo{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class W4{constructor(e,t){this._engine=e,this._container=t,this.bounce=new Nx,this.collisions=new P4,this.color=new Fc,this.color.value="#fff",this.groups={},this.move=new j4,this.number=new G4,this.opacity=new q4,this.reduceDuplicates=!1,this.shadow=new $4,this.shape=new K4,this.size=new X4,this.stroke=new AS,this.zIndex=new Q4}load(e){if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Fc.create(this.color,e.color)),e.groups!==void 0)for(const r in e.groups){const a=e.groups[r];a!==void 0&&(this.groups[r]=vn(this.groups[r]??{},a))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=e.move?.collisions??e.move?.bounce;t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=vn({},e.interactivity));const i=e.stroke??e.shape?.stroke;if(i&&(this.stroke=Zt(i,r=>{const a=new AS;return a.load(r),a})),this._container){const r=this._engine.plugins.updaters.get(this._container);if(r)for(const u of r)u.loadOptions&&u.loadOptions(this,e);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const u of a)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}}function Vx(n,...e){for(const t of e)n.load(t)}function Lx(n,e,...t){const i=new W4(n,e);return Vx(i,...t),i}class Z4{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new f4,this.backgroundMask=new p4,this.defaultThemes={},this.delay=0,this.fullScreen=new m4,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new kx(e,t),this.manualParticles=[],this.particles=Lx(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){if(!e)return;e.preset!==void 0&&Zt(e.preset,u=>this._importPreset(u)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Ie(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Ie(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;Lr(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(u=>{const h=new T4;return h.load(u),h})),this.particles.load(e.particles),this.style=vn(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const u of a)u.loadOptions&&u.loadOptions(this,e);if(e.responsive!==void 0)for(const u of e.responsive){const h=new E4;h.load(u),this.responsive.push(h)}if(this.responsive.sort((u,h)=>u.maxWidth-h.maxWidth),e.themes!==void 0)for(const u of e.themes){const h=this.themes.find(f=>f.name===u.name);if(h)h.load(u);else{const f=new A4;f.load(u),this.themes.push(f)}}this.defaultThemes.dark=this._findDefaultTheme("dark")?.name,this.defaultThemes.light=this._findDefaultTheme("light")?.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(a=>a.mode==="screen"&&screen?a.maxWidth>screen.availWidth:a.maxWidth*t>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=wx("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class J4{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const RS=n=>{if(!xt(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class eU{constructor(e,t,i,r,a,u){this.container=i,this._calcPosition=(h,f,d,g=0)=>{for(const[,j]of h.plugins){const F=j.particlePosition!==void 0?j.particlePosition(f,this):void 0;if(F)return Hn.create(F.x,F.y,d)}const v=h.canvas.size,b=BL({size:v,position:f}),E=Hn.create(b.x,b.y,d),x=this.getRadius(),A=this.options.move.outModes,I=j=>{RS({outMode:j,checkModes:["bounce","bounce-horizontal"],coord:E.x,maxCoord:h.canvas.size.width,setCb:F=>E.x+=F,radius:x})},D=j=>{RS({outMode:j,checkModes:["bounce","bounce-vertical"],coord:E.y,maxCoord:h.canvas.size.height,setCb:F=>E.y+=F,radius:x})};return I(A.left??A.default),I(A.right??A.default),D(A.top??A.default),D(A.bottom??A.default),this._checkOverlap(E,g)?this._calcPosition(h,void 0,d,g+1):E},this._calculateVelocity=()=>{const h=zL(this.direction),f=h.copy(),d=this.options.move;if(d.direction==="inside"||d.direction==="outside")return f;const g=Math.PI/180*_e(d.angle.value),v=Math.PI/180*_e(d.angle.offset),b={left:v-g/2,right:v+g/2};return d.straight||(f.angle+=On(Ie(b.left,b.right))),d.random&&typeof d.speed=="number"&&(f.length*=ot()),f},this._checkOverlap=(h,f=0)=>{const d=this.options.collisions,g=this.getRadius();if(!d.enable)return!1;const v=d.overlap;if(v.enable)return!1;const b=v.retries;if(b>=0&&f>b)throw new Error(`${pi} particle is overlapping and can't be placed`);return!!this.container.particles.find(E=>Kn(h,E.position)<g+E.getRadius())},this._getRollColor=h=>{if(!h||!this.roll||!this.backColor&&!this.roll.alter)return h;const f=this.roll.horizontal&&this.roll.vertical?2:1,d=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+d)/(Math.PI/f))%2?this.backColor?this.backColor:this.roll.alter?l4(h,this.roll.alter.type,this.roll.alter.value):h:h},this._initPosition=h=>{const f=this.container,d=_e(this.options.zIndex.value);this.position=this._calcPosition(f,h,Ci(d,0,f.zLayers)),this.initialPosition=this.position.copy();const g=f.canvas.size;switch(this.moveCenter={...Rx(this.options.move.center,g),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=UL(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Wt.origin},this._loadShapeData=(h,f)=>{const d=h.options[this.shape];if(d)return vn({close:h.close,fill:h.fill},Fs(d,this.id,f))},this._engine=e,this.init(t,r,a,u)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??TS(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??TS(this.strokeColor))}init(e,t,i,r){const a=this.container,u=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const h=a.retina.pixelRatio,f=a.actualOptions,d=Lx(this._engine,a,f.particles),g=d.shape.type,{reduceDuplicates:v}=d;this.shape=Fs(g,this.id,v);const b=d.shape;if(i&&i.shape&&i.shape.type){const F=i.shape.type,$=Fs(F,this.id,v);$&&(this.shape=$,b.load(i.shape))}this.shapeData=this._loadShapeData(b,v),d.load(i);const E=this.shapeData;E&&d.load(E.particles);const x=new kx(u,a);x.load(a.actualOptions.interactivity),x.load(d.interactivity),this.interactivity=x,this.fill=E?.fill??d.shape.fill,this.close=E?.close??d.shape.close,this.options=d;const A=this.options.move.path;this.pathDelay=ia(A.delay)*1e3,A.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(A.generator),this.pathGenerator&&a.addPath(A.generator,this.pathGenerator)&&this.pathGenerator.init(a)),a.retina.initParticle(this),this.size=Ax(this.options.size,h),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-_e(this.options.move.decay);const I=a.particles;I.needsSort=I.needsSort||I.lastZIndex<this.position.z,I.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/a.zLayers,this.sides=24;let D=a.drawers.get(this.shape);D||(D=this._engine.plugins.getShapeDrawer(this.shape),D&&a.drawers.set(this.shape,D)),D&&D.loadShape&&D.loadShape(this);const j=D?.getSidesCount;j&&(this.sides=j(this)),this.spawning=!1,this.shadowColor=Ai(this.options.shadow.color);for(const F of a.particles.updaters)F.init(this);for(const F of a.particles.movers)F.init&&F.init(this);D&&D.particleInit&&D.particleInit(a,this);for(const[,F]of a.plugins)F.particleCreated&&F.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class tU{constructor(e,t){this.position=e,this.particle=t}}class Ux{constructor(e,t){this.position={x:e,y:t}}}class Ii extends Ux{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof _n&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,a=e.position,u=e instanceof Ii?e.size:{width:0,height:0},h=u.width,f=u.height;return a.x<r.x+t&&a.x+h>r.x&&a.y<r.y+i&&a.y+f>r.y}}class _n extends Ux{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return Kn(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},a=this.radius;if(e instanceof _n){const u=a+e.radius,h=Math.sqrt(r.x**2+r.y**2);return u>h}else if(e instanceof Ii){const{width:u,height:h}=e.size;return Math.pow(r.x-u,2)+Math.pow(r.y-h,2)<=a**2||r.x<=a+u&&r.y<=a+h||r.x<=u||r.y<=h}return!1}}class Pd{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:a,height:u}=this.rectangle.size,{capacity:h}=this;for(let f=0;f<4;f++)this._subs.push(new Pd(new Ii(i+a/2*(f%2),r+u/2*(Math.round(f/2)-f%2),a/2,u/2),h));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const a of this._points)!e.contains(a.position)&&Kn(e.position,a.position)>a.particle.getRadius()&&(!t||t(a.particle))||r.push(a.particle);if(this._divided)for(const a of this._subs)a.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new _n(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Ii(e.x,e.y,t.width,t.height),i)}}const xS=4,CS=n=>new Ii(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let nU=class{constructor(e,t){this._applyDensity=(r,a,u)=>{if(!r.number.density?.enable)return;const h=r.number,f=this._initDensityFactor(h.density),d=h.value,g=h.limit>0?h.limit:d,v=Math.min(d,g)*f+a,b=Math.min(this.count,this.filter(E=>E.group===u).length);this.limit=h.limit*f,b<v?this.push(Math.abs(v-b),void 0,r,u):b>v&&this.removeQuantity(b-v,u)},this._initDensityFactor=r=>{const a=this._container;if(!a.canvas.element||!r.enable)return 1;const u=a.canvas.element,h=a.retina.pixelRatio;return u.width*u.height/(r.factor*h**2*r.area)},this._pushParticle=(r,a,u,h)=>{try{let f=this.pool.pop();f?f.init(this._nextId,r,a,u):f=new eU(this._engine,this._nextId,this._container,r,a,u);let d=!0;return h&&(d=h(f)),d?(this._array.push(f),this._zArray.push(f),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:f}}),f):void 0}catch(f){sa().warning(`${pi} adding particle: ${f}`);return}},this._removeParticle=(r,a,u)=>{const h=this._array[r];if(!h||h.group!==a)return!1;h.destroy(u);const f=this._zArray.indexOf(h);return this._array.splice(r,1),this._zArray.splice(f,1),this.pool.push(h),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:h}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new J4(e,t);const i=t.canvas.size;this.quadTree=new Pd(CS(i),xS),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?Rx(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const a=this._container,u=a.actualOptions,h=u.particles.number.limit;if(h>0){const f=this.count+1-h;f>0&&this.removeQuantity(f)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,r]of e.plugins)if(r.particlesInitialization!==void 0&&(i=r.particlesInitialization()),i)break;this._interactionManager.init();for(const[,r]of e.pathGenerators)r.init(e);if(this.addManualParticles(),!i){for(const r in t.particles.groups){const a=t.particles.groups[r];for(let u=this.count,h=0;h<a.number?.value&&u<t.particles.number.value;u++,h++)this.addParticle(void 0,a,r)}for(let r=this.count;r<t.particles.number.value;r++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let a=0;a<e;a++)this.addParticle(t?.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let a=0;for(let u=e;a<t&&u<this.count;u++)this._removeParticle(u--,i,r)&&a++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new Pd(CS(t.canvas.size),xS);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const a=t.canvas.resizeFactor;a&&!r.ignoresResizeRatio&&(r.position.x*=a.width,r.position.y*=a.height,r.initialPosition.x*=a.width,r.initialPosition.y*=a.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,u]of this._container.plugins){if(r.destroyed)break;u.particleUpdate&&u.particleUpdate(r,e)}for(const u of this.movers)u.isEnabled(r)&&u.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new tU(r.getPosition(),r))}if(i.size){const r=a=>!i.has(a);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const a of this.updaters)a.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((a,u)=>u.position.z-a.position.z||a.id-u.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class iU{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Pl()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const u=e.canvas.element;e.canvas.size.width=u.offsetWidth*i,e.canvas.size.height=u.offsetHeight*i}const r=t.particles,a=r.move;this.attractDistance=_e(a.attract.distance)*i,this.maxSpeed=_e(a.gravity.maxSpeed)*i,this.sizeAnimationSpeed=_e(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,a=r.distance,u=e.retina;u.attractDistance=_e(r.attract.distance)*i,u.moveDrift=_e(r.drift)*i,u.moveSpeed=_e(r.speed)*i,u.sizeAnimationSpeed=_e(t.size.animation.speed)*i;const h=u.maxDistance;h.horizontal=a.horizontal!==void 0?a.horizontal*i:void 0,h.vertical=a.vertical!==void 0?a.vertical*i:void 0,u.maxSpeed=_e(r.gravity.maxSpeed)*i}}function ft(n){return n&&!n.destroyed}function sU(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function ul(n,e,...t){const i=new Z4(n,e);return Vx(i,...t),i}const rU="default",IS={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class oU{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!ft(this)||!this.actualOptions.pauseOnOutsideViewport))for(const a of r)a.target===this.interactivity.element&&(a.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??=r;const a=sU(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(a.value),this.lastFrameTime=r,a.value>1e3){this.draw(!1);return}if(await this.particles.draw(a),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(a){sa().error(`${pi} in animation loop`,a)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new iU(this),this.canvas=new c4(this),this.particles=new nU(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=ul(this._engine,this),this.actualOptions=ul(this._engine,this),this._eventListeners=new h4(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!ft(this))return;const t=this.interactivity.element;if(!t)return;const i=(v,b,E)=>{if(!ft(this))return;const x=this.retina.pixelRatio,A={x:b.x*x,y:b.y*x},I=this.particles.quadTree.queryCircle(A,E*x);e(v,I)},r=v=>{if(!ft(this))return;const b=v,E={x:b.offsetX||b.clientX,y:b.offsetY||b.clientY};i(v,E,1)},a=()=>{ft(this)&&(d=!0,g=!1)},u=()=>{ft(this)&&(g=!0)},h=v=>{if(ft(this)){if(d&&!g){const b=v;let E=b.touches[b.touches.length-1];if(!E&&(E=b.changedTouches[b.changedTouches.length-1],!E))return;const x=this.canvas.element,A=x?x.getBoundingClientRect():void 0,I={x:E.clientX-(A?A.left:0),y:E.clientY-(A?A.top:0)};i(v,I,Math.max(E.radiusX,E.radiusY))}d=!1,g=!1}},f=()=>{ft(this)&&(d=!1,g=!1)};let d=!1,g=!1;t.addEventListener("click",r),t.addEventListener("touchstart",a),t.addEventListener("touchmove",u),t.addEventListener("touchend",h),t.addEventListener("touchcancel",f)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!ft(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??IS),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!ft(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!ft(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}sa().error(`${pi} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&ft(this)}handleClickMode(e){if(ft(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!ft(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=ul(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ul(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=_e(this.actualOptions.duration)*1e3,this._delay=_e(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){ft(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(ft(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!ft(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(ft(this))return this.stop(),this.start()}async reset(){if(ft(this))return this._initialSourceOptions=void 0,this._options=ul(this._engine,this),this.actualOptions=ul(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){ft(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!ft(this))return;const r={...IS};if(xx(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const a=r;r.generate=e.generate||a.generate,r.init=e.init||a.init,r.update=e.update||a.update}this.addPath(rU,r,!0)}async start(){!ft(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!ft(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class aU{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,a=i.indexOf(t);a<0||(r===1?this._listeners.delete(e):i.splice(a,1))}}function yy(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(a=>a(n)),e.set(n,r)),r}class lU{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){Zt(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return yy(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return yy(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return yy(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const a of r)a.loadOptions&&a.loadOptions(t,...i)}}async function uU(n){const e=Fs(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(sa().error(`${pi} ${t.status} while retrieving config file`),n.fallback)}function cU(n){return!n.id&&!n.element&&!n.url&&!n.options}function hU(n){return!cU(n)}class fU{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new aU,this._initialized=!1,this.plugins=new lU(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){Ei(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,a,u=!0){let h,f=u,d,g,v;Lr(i)?(f=i,d=void 0):d=i,Lr(r)?(f=r,g=void 0):g=r,Lr(a)?(f=a,v=void 0):v=a,xx(t)?h={afterEffect:g,destroy:v,draw:t,init:d}:h=t,this.plugins.addShapeDrawer(e,h),await this.refresh(f)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return hU(e)?r=e:(r={},Ei(e)?r.id=e:r.options=e,Si(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,a;return Si(t)||t===void 0?r=e:(a=e,r=t),this._loadParams({id:a,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const a={index:r};return Ei(e)?a.id=e:a.element=e,t instanceof HTMLElement?a.element=t:a.options=t,Si(i)?a.index=i:a.options=i??a.options,this._loadParams(a)}async setJSON(e,t,i,r){const a={};return e instanceof HTMLElement?(a.element=e,a.url=t,a.index=i):(a.id=e,a.element=t,a.url=i,a.index=r),this._loadParams(a)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${pi} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(ot()*1e4)}`,{index:i,url:r}=e,a=r?await uU({fallback:e.options,url:r,index:i}):e.options;let u=e.element??document.getElementById(t);u||(u=document.createElement("div"),u.id=t,document.body.append(u));const h=Fs(a,i),f=this.dom(),d=f.findIndex(b=>b.id===t);if(d>=0){const b=this.domItem(d);b&&!b.destroyed&&(b.destroy(),f.splice(d,1))}let g;if(u.tagName.toLowerCase()==="canvas")g=u,g.dataset[Sc]="false";else{const b=u.getElementsByTagName("canvas");b.length?(g=b[0],g.dataset[Sc]="false"):(g=document.createElement("canvas"),g.dataset[Sc]="true",u.appendChild(g))}g.style.width||(g.style.width="100%"),g.style.height||(g.style.height="100%");const v=new oU(this,t,h);return d>=0?f.splice(d,0,v):f.push(v),v.canvas.loadCanvas(g),await v.start(),v}}class dU{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Ml(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Ml({h:_e(i.h),l:_e(i.l),s:_e(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?JL({a:i.length>4?bx(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class pU{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:_e(i.r),g:_e(i.g),b:_e(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?bx(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function mU(){const n=new pU,e=new dU;wS(n),wS(e);const t=new fU;return t.init(),t}class cs{constructor(e){this.container=e,this.type="external"}}class P_{constructor(e){this.container=e,this.type="particles"}}const Md=mU();Pl()||(window.tsParticles=Md);const wl=n=>typeof n=="object"&&n!==null;function kd(n,e,t=()=>!1){if(!wl(n)||!wl(e))return n===e;const i=Object.keys(n).filter(a=>!t(a)),r=Object.keys(e).filter(a=>!t(a));if(i.length!==r.length)return!1;for(const a of i){const u=n[a],h=e[a];if(wl(u)&&wl(h)){if(u===e&&h===n)continue;if(!kd(u,h,t))return!1}else if(Array.isArray(u)&&Array.isArray(h)){if(!zx(u,h,t))return!1}else if(u!==h)return!1}return!0}function zx(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],a=e[i];if(Array.isArray(r)&&Array.isArray(a)){if(!zx(r,a,t))return!1}else if(wl(r)&&wl(a)){if(!kd(r,a,t))return!1}else if(r!==a)return!1}return!0}const Bx="tsparticles";let jx=class Fx extends U.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!kd(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!kd(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Md),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:a}=this.props;return Vy.createElement("div",{className:i,id:a},Vy.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??Fx.defaultProps.id??Bx,t=await Md.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}};jx.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:Bx};class Od{static init(e){const t=new Od,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return Md.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:e.responsive?.map(a=>({maxWidth:a.breakpoint,options:{particles:{color:{value:a.options?.color},links:{distance:a.options?.minDistance,enable:a.options?.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:a.options?.speed},size:{value:a.options?.sizeVariations}}}}))}).then(a=>{t._container=a}),t}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const gU=n=>{const e=(i,r)=>n.load(i,r);e.load=(i,r,a)=>{n.loadJSON(i,r).then(u=>{u&&a(u)}).catch(()=>{a(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},yU=n=>{const{particlesJS:e,pJSDom:t}=gU(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=Od,{particlesJS:e,pJSDom:t,Particles:Od}};function vU(n){const e=n.initialPosition,{dx:t,dy:i}=xn(e,n.position),r=Math.abs(t),a=Math.abs(i),{maxDistance:u}=n.retina,h=u.horizontal,f=u.vertical;if(!(!h&&!f)){if((h&&r>=h||f&&a>=f)&&!n.misplaced)n.misplaced=!!h&&r>h||!!f&&a>f,h&&(n.velocity.x=n.velocity.y/2-n.velocity.x),f&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!h||r<h)&&(!f||a<f)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const d=n.position,g=n.velocity;h&&(d.x<e.x&&g.x<0||d.x>e.x&&g.x>0)&&(g.x*=-ot()),f&&(d.y<e.y&&g.y<0||d.y>e.y&&g.y>0)&&(g.y*=-ot())}}}function _U(n,e,t,i,r,a){wU(n,a);const u=n.gravity,h=u?.enable&&u.inverse?-1:1;r&&t&&(n.velocity.x+=r*a.factor/(60*t)),u?.enable&&t&&(n.velocity.y+=h*(u.acceleration*a.factor)/(60*t));const f=n.moveDecay;n.velocity.multTo(f);const d=n.velocity.mult(t);u?.enable&&i>0&&(!u.inverse&&d.y>=0&&d.y>=i||u.inverse&&d.y<=0&&d.y<=-i)&&(d.y=h*i,t&&(n.velocity.y=d.y/t));const g=n.options.zIndex,v=(1-n.zIndexFactor)**g.velocityRate;d.multTo(v);const{position:b}=n;b.addTo(d),e.vibrate&&(b.x+=Math.sin(b.x*Math.cos(b.y)),b.y+=Math.cos(b.y*Math.sin(b.x)))}function bU(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}function wU(n,e){const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const a=n.pathGenerator?.generate(n,e);a&&n.velocity.addTo(a),i.clamp&&(n.velocity.x=Ci(n.velocity.x,-1,1),n.velocity.y=Ci(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function TU(n){return n.slow.inRange?n.slow.factor:1}const EU=2;class SU{constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const a=r.position??{x:50,y:50},u={x:a.x/100*t.canvas.size.width,y:a.y/100*t.canvas.size.height},h=e.getPosition(),f=Kn(h,u),d=_e(r.acceleration);e.retina.spinAcceleration=d*t.retina.pixelRatio,e.spin={center:u,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:f,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:_e(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const i=e.options,r=i.move;if(!r.enable)return;const a=e.container,u=a.retina.pixelRatio,h=TU(e),f=(e.retina.moveSpeed??=_e(r.speed)*u)*a.retina.reduceFactor,d=e.retina.moveDrift??=_e(e.options.move.drift)*u,g=Nr(i.size.value)*u,v=r.size?e.getRadius()/g:1,b=f*v*h*(t.factor||1)/EU,E=e.retina.maxSpeed??a.retina.maxSpeed;r.spin.enable?bU(e,b):_U(e,r,b,E,d,t),vU(e)}}async function AU(n,e=!0){await n.addMover("base",()=>new SU,e)}class RU{draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:Math.PI*2});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=i?.angle??{max:360,min:0};t.circleRange=bl(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function xU(n,e=!0){await n.addShape("circle",new RU,e)}function vy(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const a=On(t.offset),u=(e.velocity??0)*n.factor+a*3.6,h=e.decay??1;!r||e.status==="increasing"?(e.value+=u,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=u,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&h!==1&&(e.velocity*=h),e.value>i&&(e.value%=i)}function CU(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:a}=n;if(!a)return;const{h:u,s:h,l:f}=a;u&&vy(e,u,t,360,!1),h&&vy(e,h,i,100,!0),f&&vy(e,f,r,100,!0)}class IU{constructor(e){this.container=e}init(e){const t=Bc(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=Mx(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:a}=e;return!e.destroyed&&!e.spawning&&(a?.h.value!==void 0&&t.enable||a?.s.value!==void 0&&i.enable||a?.l.value!==void 0&&r.enable)}update(e,t){CU(e,t)}}async function DU(n,e=!0){await n.addParticleUpdater("color",t=>new IU(t),e)}function PU(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function MU(n,e){const t=n.opacity;if(n.destroyed||!t?.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,a=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=a),PU(n,t.value,i,r),n.destroyed||(t.value=Ci(t.value,i,r))}}class kU{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=Ax(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=_e(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=ot()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&MU(e,t)}}async function OU(n,e=!0){await n.addParticleUpdater("opacity",t=>new kU(t),e)}function NU(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=ia(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function VU(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=ia(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class LU{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;let u=!1;for(const[,b]of a.plugins)if(b.particleBounce!==void 0&&(u=b.particleBounce(e,i,t)),u)break;if(u)return;const h=e.getPosition(),f=e.offset,d=e.getRadius(),g=ah(h,d),v=a.canvas.size;NU({particle:e,outMode:r,direction:t,bounds:g,canvasSize:v,offset:f,size:d}),VU({particle:e,outMode:r,direction:t,bounds:g,canvasSize:v,offset:f,size:d})}}class UU{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case"normal":case"outside":if(x_(e.position,a.canvas.size,Wt.origin,e.getRadius(),t))return;break;case"inside":{const{dx:u,dy:h}=xn(e.position,e.moveCenter),{x:f,y:d}=e.velocity;if(f<0&&u>e.moveCenter.radius||d<0&&h>e.moveCenter.radius||f>=0&&u<-e.moveCenter.radius||d>=0&&h<-e.moveCenter.radius)return;break}}a.particles.remove(e,void 0,!0)}}class zU{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const a=e.options.move.gravity,u=this.container,h=u.canvas.size,f=e.getRadius();if(a.enable){const d=e.position;(!a.inverse&&d.y>h.height+f&&t==="bottom"||a.inverse&&d.y<-f&&t==="top")&&u.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=h.height+f||e.velocity.y<0&&e.position.y>=-f||e.velocity.x>0&&e.position.x<=h.width+f||e.velocity.x<0&&e.position.x>=-f)return;x_(e.position,u.canvas.size,Wt.origin,f,t)||u.particles.remove(e)}}}class BU{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case"inside":{const{x:u,y:h}=e.velocity,f=Wt.origin;f.length=e.moveCenter.radius,f.angle=e.velocity.angle+Math.PI,f.addTo(Wt.create(e.moveCenter));const{dx:d,dy:g}=xn(e.position,f);if(u<=0&&d>=0||h<=0&&g>=0||u>=0&&d<=0||h>=0&&g<=0)return;e.position.x=Math.floor(On({min:0,max:a.canvas.size.width})),e.position.y=Math.floor(On({min:0,max:a.canvas.size.height}));const{dx:v,dy:b}=xn(e.position,e.moveCenter);e.direction=Math.atan2(-b,-v),e.velocity.angle=e.direction;break}default:{if(x_(e.position,a.canvas.size,Wt.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(On({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(On({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:u,dy:h}=xn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(h,u),e.velocity.angle=e.direction);break}case"normal":{const u=e.options.move.warp,h=a.canvas.size,f={bottom:h.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:h.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},d=e.getRadius(),g=ah(e.position,d);t==="right"&&g.left>h.width+e.offset.x?(e.position.x=f.left,e.initialPosition.x=e.position.x,u||(e.position.y=ot()*h.height,e.initialPosition.y=e.position.y)):t==="left"&&g.right<-e.offset.x&&(e.position.x=f.right,e.initialPosition.x=e.position.x,u||(e.position.y=ot()*h.height,e.initialPosition.y=e.position.y)),t==="bottom"&&g.top>h.height+e.offset.y?(u||(e.position.x=ot()*h.width,e.initialPosition.x=e.position.x),e.position.y=f.top,e.initialPosition.y=e.position.y):t==="top"&&g.bottom<-e.offset.y&&(u||(e.position.x=ot()*h.width,e.initialPosition.x=e.position.x),e.position.y=f.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class jU{constructor(e){this.container=e,this._updateOutMode=(t,i,r,a)=>{for(const u of this.updaters)u.update(t,a,i,r)},this.updaters=[new LU(e),new UU(e),new BU(e),new zU(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function FU(n,e=!0){await n.addParticleUpdater("outModes",t=>new jU(t),e)}function qU(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function HU(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,a=t.max,u=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=a?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&u!==1&&(t.velocity*=u),qU(n,t.value,r,a),n.destroyed||(t.value=Ci(t.value,r,a))}}class GU{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=ot()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&HU(e,t)}}async function $U(n,e=!0){await n.addParticleUpdater("size",()=>new GU,e)}async function KU(n,e=!0){await AU(n,!1),await xU(n,!1),await DU(n,!1),await OU(n,!1),await FU(n,!1),await $U(n,!1),await n.refresh(e)}async function YU(){ry("ease-in-quad",n=>n**2),ry("ease-out-quad",n=>1-(1-n)**2),ry("ease-in-out-quad",n=>n<.5?2*n**2:1-(-2*n+2)**2/2)}class XU{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let QU=class extends cs{constructor(e,t){super(t),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const a=i.interactivity.mouse.clickPosition,u=i.retina.attractModeDistance;if(!u||u<0||!a)return;this._processAttract(a,u,new _n(a.x,a.y,u))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.attractModeDistance;!a||a<0||!r||this._processAttract(r,a,new _n(r.x,r.y,a))},this._processAttract=(i,r,a)=>{const u=this.container,h=u.actualOptions.interactivity.modes.attract;if(!h)return;const f=u.particles.quadTree.query(a,d=>this.isEnabled(d));for(const d of f){const{dx:g,dy:v,distance:b}=xn(d.position,i),E=h.speed*h.factor,x=Ci(_x(h.easing)(1-b/r)*E,0,h.maxSpeed),A=Wt.create(b===0?E:g/b*x,b===0?E:v/b*x);d.position.subFrom(A)}},this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.attract;if(!(!a||i!=="attract")){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const u of t.attract.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},a.duration*1e3)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===na,r=t.interactivity.events,a=r.onHover.enable,u=r.onHover.mode,h=r.onClick.enable,f=r.onClick.mode;i&&a&&xt("attract",u)?this._hoverAttract():h&&xt("attract",f)&&this._clickAttract()}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events;if((!r.position||!a.onHover.enable)&&(!r.clickPosition||!a.onClick.enable))return!1;const u=a.onHover.mode,h=a.onClick.mode;return xt("attract",u)||xt("attract",h)}loadModeOptions(e,...t){e.attract||(e.attract=new XU);for(const i of t)e.attract.load(i?.attract)}reset(){}};async function WU(n,e=!0){await n.addInteractor("externalAttract",t=>new QU(n,t),e)}class ZU{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class JU extends cs{constructor(e){super(e),this._processBounce=(t,i,r)=>{const a=this.container.particles.quadTree.query(r,u=>this.isEnabled(u));for(const u of a)r instanceof _n?Ex(lv(u),{position:t,mass:i**2*Math.PI/2,velocity:Wt.origin,factor:Wt.origin}):r instanceof Ii&&XL(u,ah(t,i))},this._processMouseBounce=()=>{const t=this.container,i=t.retina.pixelRatio,r=10*i,a=t.interactivity.mouse.position,u=t.retina.bounceModeDistance;!u||u<0||!a||this._processBounce(a,u,new _n(a.x,a.y,u+r))},this._singleSelectorBounce=(t,i)=>{const r=this.container,a=document.querySelectorAll(t);a.length&&a.forEach(u=>{const h=u,f=r.retina.pixelRatio,d={x:(h.offsetLeft+h.offsetWidth/2)*f,y:(h.offsetTop+h.offsetHeight/2)*f},g=h.offsetWidth/2*f,v=10*f,b=i.type==="circle"?new _n(d.x,d.y,g+v):new Ii(h.offsetLeft*f-v,h.offsetTop*f-v,h.offsetWidth*f+v*2,h.offsetHeight*f+v*2);this._processBounce(d,g,b)})}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===na,a=i.onHover.enable,u=i.onHover.mode,h=i.onDiv;r&&a&&xt("bounce",u)?this._processMouseBounce():I_("bounce",h,(f,d)=>this._singleSelectorBounce(f,d))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,u=a.onDiv;return r.position&&a.onHover.enable&&xt("bounce",a.onHover.mode)||C_("bounce",u)}loadModeOptions(e,...t){e.bounce||(e.bounce=new ZU);for(const i of t)e.bounce.load(i?.bounce)}reset(){}}async function e3(n,e=!0){await n.addInteractor("externalBounce",t=>new JU(t),e)}class qx{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=Yn(this.color)?void 0:this.color;this.color=Zt(e.color,i=>un.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class t3 extends qx{constructor(){super(),this.selectors=[]}get ids(){return Zt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Zt(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class n3 extends qx{load(e){super.load(e),e&&(this.divs=Zt(e.divs,t=>{const i=new t3;return i.load(t),i}))}}function DS(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Ci(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Ci(r,e,n)}}class i3 extends cs{constructor(e){super(e),this._clickBubble=()=>{const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.clickPosition,a=i.interactivity.modes.bubble;if(!a||!r)return;t.bubble||(t.bubble={});const u=t.retina.bubbleModeDistance;if(!u||u<0)return;const h=t.particles.quadTree.queryCircle(r,u,d=>this.isEnabled(d)),{bubble:f}=t;for(const d of h){if(!f.clicking)continue;d.bubble.inRange=!f.durationEnd;const g=d.getPosition(),v=Kn(g,r),b=(new Date().getTime()-(t.interactivity.mouse.clickTime||0))/1e3;b>a.duration&&(f.durationEnd=!0),b>a.duration*2&&(f.clicking=!1,f.durationEnd=!1);const E={bubbleObj:{optValue:t.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Nr(d.options.size.value)*t.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,v,b,E);const x={bubbleObj:{optValue:a.opacity,value:d.bubble.opacity},particlesObj:{optValue:Nr(d.options.opacity.value),value:d.opacity?.value??1},type:"opacity"};this._process(d,v,b,x),!f.durationEnd&&v<=u?this._hoverBubbleColor(d,v):delete d.bubble.color}},this._hoverBubble=()=>{const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const a=t.particles.quadTree.queryCircle(i,r,u=>this.isEnabled(u));for(const u of a){u.bubble.inRange=!0;const h=u.getPosition(),f=Kn(h,i),d=1-f/r;f<=r?d>=0&&t.interactivity.status===na&&(this._hoverBubbleSize(u,d),this._hoverBubbleOpacity(u,d),this._hoverBubbleColor(u,d)):this.reset(u),t.interactivity.status===ov&&this.reset(u)}},this._hoverBubbleColor=(t,i,r)=>{const a=this.container.actualOptions,u=r??a.interactivity.modes.bubble;if(u){if(!t.bubble.finalColor){const h=u.color;if(!h)return;const f=Fs(h);t.bubble.finalColor=Bc(f)}if(t.bubble.finalColor)if(u.mix){t.bubble.color=void 0;const h=t.getFillColor();t.bubble.color=h?Ix(D_(h,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,i,r)=>{const a=this.container,u=a.actualOptions,h=r?.opacity??u.interactivity.modes.bubble?.opacity;if(!h)return;const f=t.options.opacity.value,d=t.opacity?.value??1,g=DS(d,h,Nr(f),i);g!==void 0&&(t.bubble.opacity=g)},this._hoverBubbleSize=(t,i,r)=>{const a=this.container,u=r?.size?r.size*a.retina.pixelRatio:a.retina.bubbleModeSize;if(u===void 0)return;const h=Nr(t.options.size.value)*a.retina.pixelRatio,f=t.size.value,d=DS(f,u,h,i);d!==void 0&&(t.bubble.radius=d)},this._process=(t,i,r,a)=>{const u=this.container,h=a.bubbleObj.optValue,f=u.actualOptions,d=f.interactivity.modes.bubble;if(!d||h===void 0)return;const g=d.duration,v=u.retina.bubbleModeDistance,b=a.particlesObj.optValue,E=a.bubbleObj.value,x=a.particlesObj.value||0,A=a.type;if(!(!v||v<0||h===b))if(u.bubble||(u.bubble={}),u.bubble.durationEnd)E&&(A==="size"&&delete t.bubble.radius,A==="opacity"&&delete t.bubble.opacity);else if(i<=v){if((E??x)!==h){const D=x-r*(x-h)/g;A==="size"&&(t.bubble.radius=D),A==="opacity"&&(t.bubble.opacity=D)}}else A==="size"&&delete t.bubble.radius,A==="opacity"&&delete t.bubble.opacity},this._singleSelectorHover=(t,i,r)=>{const a=this.container,u=document.querySelectorAll(i),h=a.actualOptions.interactivity.modes.bubble;!h||!u.length||u.forEach(f=>{const d=f,g=a.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth/2)*g,y:(d.offsetTop+d.offsetHeight/2)*g},b=d.offsetWidth/2*g,E=r.type==="circle"?new _n(v.x,v.y,b):new Ii(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),x=a.particles.quadTree.query(E,A=>this.isEnabled(A));for(const A of x){if(!E.contains(A.getPosition()))continue;A.bubble.inRange=!0;const I=h.divs,D=Tx(I,d);(!A.bubble.div||A.bubble.div!==d)&&(this.clear(A,t,!0),A.bubble.div=d),this._hoverBubbleSize(A,1,D),this._hoverBubbleOpacity(A,1,D),this._hoverBubbleColor(A,1,D)}})},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,a=i.onClick,u=r.enable,h=r.mode,f=a.enable,d=a.mode,g=i.onDiv;u&&xt("bubble",h)?this._hoverBubble():f&&xt("bubble",d)?this._clickBubble():I_("bubble",g,(v,b)=>this._singleSelectorHover(e,v,b))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,{onClick:u,onDiv:h,onHover:f}=a,d=C_("bubble",h);return d||f.enable&&r.position||u.enable&&r.clickPosition?xt("bubble",f.mode)||xt("bubble",u.mode)||d:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new n3);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function s3(n,e=!0){await n.addInteractor("externalBubble",t=>new i3(t),e)}class r3{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class o3{constructor(){this.distance=80,this.links=new r3,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function a3(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),a=e.getFillColor(),u=t.getFillColor();if(!a||!u)return;const h=e.getPosition(),f=t.getPosition(),d=D_(a,u,e.getRadius(),t.getRadius()),g=n.createLinearGradient(h.x,h.y,f.x,f.y);return g.addColorStop(0,jc(a,i)),g.addColorStop(r>1?1:r,qs(d,i)),g.addColorStop(1,jc(u,i)),g}function l3(n,e,t,i,r){Ac(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function u3(n,e,t,i){const r=n.actualOptions,a=r.interactivity.modes.connect;if(a)return a3(e,t,i,a.links.opacity)}function c3(n,e,t){n.canvas.draw(i=>{const r=u3(n,i,e,t);if(!r)return;const a=e.getPosition(),u=t.getPosition();l3(i,e.retina.linksWidth??0,r,a,u)})}class h3 extends cs{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),a=e.particles.quadTree.queryCircle(i,r,h=>this.isEnabled(h));let u=0;for(const h of a){const f=h.getPosition();for(const d of a.slice(u+1)){const g=d.getPosition(),v=Math.abs(e.retina.connectModeDistance),b=Math.abs(f.x-g.x),E=Math.abs(f.y-g.y);b<v&&E<v&&c3(e,h,d)}++u}}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?xt("connect",r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new o3);for(const i of t)e.connect.load(i?.connect)}reset(){}}async function f3(n,e=!0){await n.addInteractor("externalConnect",t=>new h3(t),e)}class d3{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class p3{constructor(){this.distance=100,this.links=new d3}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function m3(n,e,t,i,r,a){Ac(n,t,i),n.strokeStyle=qs(r,a),n.lineWidth=e,n.stroke()}function g3(n,e,t,i,r){n.canvas.draw(a=>{const u=e.getPosition();m3(a,e.retina.linksWidth??0,u,r,t,i)})}class y3 extends cs{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==na)return;const r=e.interactivity.mouse.position;if(!r)return;const a=e.retina.grabModeDistance;if(!a||a<0)return;const u=e.particles.quadTree.queryCircle(r,a,h=>this.isEnabled(h));for(const h of u){const f=h.getPosition(),d=Kn(f,r);if(d>a)continue;const g=i.modes.grab.links,v=g.opacity,b=v-d*v/a;if(b<=0)continue;const E=g.color??h.options.links?.color;if(!e.particles.grabLineColor&&E){const A=i.modes.grab.links;e.particles.grabLineColor=Px(E,A.blink,A.consent)}const x=uv(h,void 0,e.particles.grabLineColor);x&&g3(e,h,x,b,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&xt("grab",r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new p3);for(const i of t)e.grab.load(i?.grab)}reset(){}}async function v3(n,e=!0){await n.addInteractor("externalGrab",t=>new y3(t),e)}class _3 extends cs{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function b3(n,e=!0){await n.addInteractor("externalPause",t=>new _3(t),e)}class w3{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Ie(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Ie(t))}}class T3 extends cs{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="push")return;const i=this.container,r=i.actualOptions,a=r.interactivity.modes.push;if(!a)return;const u=_e(a.quantity);if(u<=0)return;const h=ap([void 0,...a.groups]),f=h!==void 0?i.actualOptions.particles.groups[h]:void 0;i.particles.push(u,i.interactivity.mouse,f,h)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new w3);for(const i of t)e.push.load(i?.push)}reset(){}}async function E3(n,e=!0){await n.addInteractor("externalPush",t=>new T3(t),e)}class S3{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Ie(e)}load(e){if(!e)return;const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Ie(t))}}class A3 extends cs{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!=="remove")return;const a=_e(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new S3);for(const i of t)e.remove.load(i?.remove)}reset(){}}async function R3(n,e=!0){await n.addInteractor("externalRemove",t=>new A3(t),e)}class Hx{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class x3 extends Hx{constructor(){super(),this.selectors=[]}get ids(){return Zt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Zt(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class C3 extends Hx{load(e){super.load(e),e&&(this.divs=Zt(e.divs,t=>{const i=new x3;return i.load(t),i}))}}class I3 extends cs{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const a=i.repulse||{particles:[]};if(a.finish||(a.count||(a.count=0),a.count++,a.count===i.particles.count&&(a.finish=!0)),a.clicking){const u=i.retina.repulseModeDistance;if(!u||u<0)return;const h=Math.pow(u/6,3),f=i.interactivity.mouse.clickPosition;if(f===void 0)return;const d=new _n(f.x,f.y,h),g=i.particles.quadTree.query(d,v=>this.isEnabled(v));for(const v of g){const{dx:b,dy:E,distance:x}=xn(f,v.position),A=x**2,I=r.speed,D=-h*I/A;if(A<=h){a.particles.push(v);const j=Wt.create(b,E);j.length=D,v.velocity.setTo(j)}}}else if(a.clicking===!1){for(const u of a.particles)u.velocity.setTo(u.initialVelocity);a.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.repulseModeDistance;!a||a<0||!r||this._processRepulse(r,a,new _n(r.x,r.y,a))},this._processRepulse=(i,r,a,u)=>{const h=this.container,f=h.particles.quadTree.query(a,g=>this.isEnabled(g)),d=h.actualOptions.interactivity.modes.repulse;if(d)for(const g of f){const{dx:v,dy:b,distance:E}=xn(g.position,i),x=(u?.speed??d.speed)*d.factor,A=Ci(_x(d.easing)(1-E/r)*x,0,d.maxSpeed),I=Wt.create(E===0?x:v/E*A,E===0?x:b/E*A);g.position.addTo(I)}},this._singleSelectorRepulse=(i,r)=>{const a=this.container,u=a.actualOptions.interactivity.modes.repulse;if(!u)return;const h=document.querySelectorAll(i);h.length&&h.forEach(f=>{const d=f,g=a.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth/2)*g,y:(d.offsetTop+d.offsetHeight/2)*g},b=d.offsetWidth/2*g,E=r.type==="circle"?new _n(v.x,v.y,b):new Ii(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),x=u.divs,A=Tx(x,d);this._processRepulse(v,b,E,A)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.repulse;if(!a||i!=="repulse")return;t.repulse||(t.repulse={particles:[]});const u=t.repulse;u.clicking=!0,u.count=0;for(const h of t.repulse.particles)this.isEnabled(h)&&h.velocity.setTo(h.initialVelocity);u.particles=[],u.finish=!1,setTimeout(()=>{t.destroyed||(u.clicking=!1)},a.duration*1e3)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===na,r=t.interactivity.events,a=r.onHover,u=a.enable,h=a.mode,f=r.onClick,d=f.enable,g=f.mode,v=r.onDiv;i&&u&&xt("repulse",h)?this._hoverRepulse():d&&xt("repulse",g)?this._clickRepulse():I_("repulse",v,(b,E)=>this._singleSelectorRepulse(b,E))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,u=a.onDiv,h=a.onHover,f=a.onClick,d=C_("repulse",u);if(!(d||h.enable&&r.position||f.enable&&r.clickPosition))return!1;const g=h.mode,v=f.mode;return xt("repulse",g)||xt("repulse",v)||d}loadModeOptions(e,...t){e.repulse||(e.repulse=new C3);for(const i of t)e.repulse.load(i?.repulse)}reset(){}}async function D3(n,e=!0){await n.addInteractor("externalRepulse",t=>new I3(n,t),e)}class P3{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class M3 extends cs{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&xt("slow",r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new P3);for(const i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,a=t.retina.slowModeRadius,u=i.interactivity.modes.slow;if(!u||!a||a<0||!r)return;const h=e.getPosition(),f=Kn(r,h),d=f/a,g=u.factor,{slow:v}=e;f>a||(v.inRange=!0,v.factor=d/g)}}async function k3(n,e=!0){await n.addInteractor("externalSlow",t=>new M3(t),e)}const _y=[0,4,2,1],PS=[8,8,4,2];class O3{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let i=t;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==0);return e}readSubBlocksBin(){let e=0,t=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)t+=e;const i=new Uint8Array(t);for(let r=0;(e=this.data[this.pos++])!==0;)for(let a=e;--a>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function Gx(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}async function N3(n,e,t,i){switch(n.nextByte()){case 249:{const r=e.frames[t(!1)];n.pos++;const a=n.nextByte();r.GCreserved=(a&224)>>>5,r.disposalMethod=(a&28)>>>2,r.userInputDelayFlag=(a&2)===2;const u=(a&1)===1;r.delayTime=n.nextTwoBytes()*10;const h=n.nextByte();u&&i(h),n.pos++;break}case 255:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([t(!1),n.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function V3(n,e,t,i,r,a){const u=e.frames[i(!0)];u.left=n.nextTwoBytes(),u.top=n.nextTwoBytes(),u.width=n.nextTwoBytes(),u.height=n.nextTwoBytes();const h=n.nextByte(),f=(h&128)===128,d=(h&64)===64;u.sortFlag=(h&32)===32,u.reserved=(h&24)>>>3;const g=1<<(h&7)+1;f&&(u.localColorTable=Gx(n,g));const v=D=>{const{r:j,g:F,b:$}=(f?u.localColorTable:e.globalColorTable)[D];return{r:j,g:F,b:$,a:D===r(null)?t?~~((j+F+$)/3):0:255}},b=(()=>{try{return new ImageData(u.width,u.height,{colorSpace:"srgb"})}catch(D){if(D instanceof DOMException&&D.name==="IndexSizeError")return null;throw D}})();if(b==null)throw new EvalError("GIF frame size is to large");const E=n.nextByte(),x=n.readSubBlocksBin(),A=1<<E,I=(D,j)=>{const F=D>>>3,$=D&7;return(x[F]+(x[F+1]<<8)+(x[F+2]<<16)&(1<<j)-1<<$)>>>$};if(d){for(let D=0,j=E+1,F=0,$=[[0]],Z=0;Z<4;Z++)if(_y[Z]<u.height)for(let ae=0,M=0;;){const C=D;if(D=I(F,j),F+=j+1,D===A){j=E+1,$.length=A+2;for(let P=0;P<$.length;P++)$[P]=P<A?[P]:[]}else{D>=$.length?$.push($[C].concat($[C][0])):C!==A&&$.push($[C].concat($[D][0]));for(let P=0;P<$[D].length;P++){const{r:V,g:B,b:q,a:O}=v($[D][P]);b.data.set([V,B,q,O],_y[Z]*u.width+PS[Z]*M+ae%(u.width*4)),ae+=4}$.length===1<<j&&j<12&&j++}if(ae===u.width*4*(M+1)&&(M++,_y[Z]+PS[Z]*M>=u.height))break}u.image=b,u.bitmap=await createImageBitmap(b)}else{for(let D=0,j=E+1,F=0,$=[[0]],Z=-4;;){const ae=D;if(D=I(F,j),F+=j,D===A){j=E+1,$.length=A+2;for(let M=0;M<$.length;M++)$[M]=M<A?[M]:[]}else{if(D===A+1)break;D>=$.length?$.push($[ae].concat($[ae][0])):ae!==A&&$.push($[ae].concat($[D][0]));for(let M=0;M<$[D].length;M++){const{r:C,g:P,b:V,a:B}=v($[D][M]);b.data.set([C,P,V,B],Z+=4)}$.length>=1<<j&&j<12&&j++}}u.image=b,u.bitmap=await createImageBitmap(b)}}async function L3(n,e,t,i,r,a){switch(n.nextByte()){case 59:return!0;case 44:await V3(n,e,t,i,r);break;case 33:await N3(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function U3(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function z3(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),a={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},u=new O3(new Uint8ClampedArray(r));if(u.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");a.width=u.nextTwoBytes(),a.height=u.nextTwoBytes();const h=u.nextByte(),f=(h&128)===128;a.colorRes=(h&112)>>>4,a.sortFlag=(h&8)===8;const d=1<<(h&7)+1,g=u.nextByte();a.pixelAspectRatio=u.nextByte(),a.pixelAspectRatio!==0&&(a.pixelAspectRatio=(a.pixelAspectRatio+15)/64),f&&(a.globalColorTable=Gx(u,d));const v=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch($){if($ instanceof DOMException&&$.name==="IndexSizeError")return null;throw $}})();if(v==null)throw new Error("GIF frame size is to large");const{r:b,g:E,b:x}=a.globalColorTable[g];v.data.set(f?[b,E,x,255]:[0,0,0,0]);for(let $=4;$<v.data.length;$*=2)v.data.copyWithin($,0,$);a.backgroundImage=v;let A=-1,I=!0,D=-1;const j=$=>($&&(I=!0),A),F=$=>($!=null&&(D=$),D);try{do I&&(a.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),A++,D=-1,I=!1);while(!await L3(u,a,t,j,F,e));a.frames.length--;for(const $ of a.frames){if($.userInputDelayFlag&&$.delayTime===0){a.totalTime=1/0;break}a.totalTime+=$.delayTime}return a}catch($){throw $ instanceof EvalError?new Error(`error while parsing frame ${A} "${$.message}"`):$}}const B3=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function j3(n,e,t){const{svgData:i}=n;if(!i)return"";const r=jc(e,t);if(i.includes("fill"))return i.replace(B3,()=>r);const a=i.indexOf(">");return`${i.substring(0,a)} fill="${r}"${i.substring(a)}`}async function up(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,sa().error(`${pi} loading image: ${n.source}`),e()}),t.src=n.source})}async function F3(n){if(n.type!=="gif"){await up(n);return}n.loading=!0;try{n.gifData=await z3(n.source),n.gifLoopCount=U3(n.gifData)??0,n.gifLoopCount===0&&(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}async function q3(n){if(n.type!=="svg"){await up(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(sa().error(`${pi} Image not found`),n.error=!0),n.loading=!1}function H3(n,e,t,i){const r=j3(n,t,i.opacity?.value??1),a={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(u=>{const h=new Blob([r],{type:"image/svg+xml"}),f=URL||window.URL||window.webkitURL||window,d=f.createObjectURL(h),g=new Image;g.addEventListener("load",()=>{a.loaded=!0,a.element=g,u(a),f.revokeObjectURL(d)}),g.addEventListener("error",async()=>{f.revokeObjectURL(d);const v={...n,error:!1,loading:!0};await up(v),a.loaded=!0,a.element=v.element,u(a)}),g.src=d})}class G3{constructor(e){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${pi} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??t.replace_color??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,t,i,r,a){const u=t.image,h=u?.element;if(u){if(e.globalAlpha=r,u.gif&&u.gifData){const f=new OffscreenCanvas(u.gifData.width,u.gifData.height),d=f.getContext("2d");if(!d)throw new Error("could not create offscreen canvas context");d.imageSmoothingQuality="low",d.imageSmoothingEnabled=!1,d.clearRect(0,0,f.width,f.height),t.gifLoopCount===void 0&&(t.gifLoopCount=u.gifLoopCount??0);let g=t.gifFrame??0;const v={x:-u.gifData.width*.5,y:-u.gifData.height*.5},b=u.gifData.frames[g];if(t.gifTime===void 0&&(t.gifTime=0),!b.bitmap)return;switch(e.scale(i/u.gifData.width,i/u.gifData.height),b.disposalMethod){case 4:case 5:case 6:case 7:case 0:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height);break;case 1:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y);break;case 2:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height),u.gifData.globalColorTable.length===0?d.putImageData(u.gifData.frames[0].image,v.x+b.left,v.y+b.top):d.putImageData(u.gifData.backgroundImage,v.x,v.y);break;case 3:{const E=d.getImageData(0,0,f.width,f.height);d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height),d.putImageData(E,0,0)}break}if(t.gifTime+=a.value,t.gifTime>b.delayTime){if(t.gifTime-=b.delayTime,++g>=u.gifData.frames.length){if(--t.gifLoopCount<=0)return;g=0,d.clearRect(0,0,f.width,f.height)}t.gifFrame=g}e.scale(u.gifData.width/i,u.gifData.height/i)}else if(h){const f=u.ratio,d={x:-i,y:-i};e.drawImage(h,d.x,d.y,i*2,i*2/f)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData,a=t.getFillColor(),u=i.find(f=>f.name===r.name||f.source===r.src);if(!u)return;const h=r.replaceColor??r.replace_color??u.replaceColor;if(u.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let f;u.svgData&&a?f=await H3(u,r,a,t):f={color:a,data:u,element:u.element,gif:u.gif,gifData:u.gifData,gifLoopCount:u.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:u.ratio??1,replaceColor:h,source:r.src},f.ratio||(f.ratio=1);const d=r.fill??t.fill,g=r.close??t.close,v={image:f,fill:d,close:g};t.image=v.image,t.fill=v.fill,t.close=v.close})()}}class $3{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class K3{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,t){if(!t||!t.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const a=i.find(u=>u.name===r.name||u.src===r.src);if(a)a.load(r);else{const u=new $3;u.load(r),i.push(u)}}}needsPlugin(){return!0}}function Y3(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${pi} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t),await(e.gif?F3:e.replaceColor?q3:up)(t)}catch{throw new Error(`${pi} ${e.name??e.src} not found`)}})}async function X3(n,e=!0){Y3(n);const t=new K3(n);await n.addPlugin(t,e),await n.addShape(["image","images"],new G3(n),e)}class Q3 extends eo{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class W3 extends eo{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Z3{constructor(){this.count=0,this.delay=new Q3,this.duration=new W3}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class J3{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?_e(r.delay.value)*(r.delay.sync?1:ot())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?_e(r.duration.value)*(r.duration.sync?1:ot())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new Z3);for(const i of t)e.life.load(i?.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=t.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const a=this.container.canvas.size,u=Ie(0,a.width),h=Ie(0,a.width);e.position.x=On(u),e.position.y=On(h),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const f=e.options.life;f&&(i.delay=_e(f.delay.value)*1e3,i.duration=_e(f.duration.value)*1e3)}}async function e6(n,e=!0){await n.addParticleUpdater("life",t=>new J3(t),e)}class t6{draw(e,t,i){const r=t.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=r?.cap??"butt"}getSidesCount(){return 1}}async function n6(n,e=!0){await n.addShape("line",new t6,e)}class i6{init(){}isEnabled(e){return!Pl()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(Pl()||!r.enable)return;const a=r.force,u=t.interactivity.mouse.position;if(!u)return;const h=t.canvas.size,f={x:h.width/2,y:h.height/2},d=r.smooth,g=e.getRadius()/a,v={x:(u.x-f.x)*g,y:(u.y-f.y)*g},{offset:b}=e;b.x+=(v.x-b.x)/d,b.y+=(v.y-b.y)/d}}async function s6(n,e=!0){await n.addMover("parallax",()=>new i6,e)}class r6 extends P_{constructor(e){super(e)}clear(){}init(){}async interact(e){const t=this.container,i=e.retina.attractDistance??t.retina.attractDistance,r=e.getPosition(),a=t.particles.quadTree.queryCircle(r,i);for(const u of a){if(e===u||!u.options.move.attract.enable||u.destroyed||u.spawning)continue;const h=u.getPosition(),{dx:f,dy:d}=xn(r,h),g=e.options.move.attract.rotate,v=f/(g.x*1e3),b=d/(g.y*1e3),E=u.size.value/e.size.value,x=1/E;e.velocity.x-=v*E,e.velocity.y-=b*E,u.velocity.x+=v*x,u.velocity.y+=b*x}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function o6(n,e=!0){await n.addInteractor("particlesAttract",t=>new r6(t),e)}function MS(n,e,t,i,r,a){const u=Ci(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=u/2,t.size.value-=u,i<=a&&(t.size.value=0,t.destroy())}function a6(n,e,t,i){const r=n.getRadius(),a=e.getRadius();r===void 0&&a!==void 0?n.destroy():r!==void 0&&a===void 0?e.destroy():r!==void 0&&a!==void 0&&(r>=a?MS(n,r,e,a,t,i):MS(e,a,n,r,t,i))}const kS=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=_e(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function $x(n,e){Ex(lv(n),lv(e)),kS(n),kS(e)}function l6(n,e){!n.unbreakable&&!e.unbreakable&&$x(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function u6(n,e,t,i){switch(n.options.collisions.mode){case"absorb":{a6(n,e,t,i);break}case"bounce":{$x(n,e);break}case"destroy":{l6(n,e);break}}}class c6 extends P_{constructor(e){super(e)}clear(){}init(){}async interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),a=e.getRadius(),u=i.particles.quadTree.queryCircle(r,a*2);for(const h of u){if(e===h||!h.options.collisions.enable||e.options.collisions.mode!==h.options.collisions.mode||h.destroyed||h.spawning)continue;const f=h.getPosition(),d=h.getRadius();if(Math.abs(Math.round(r.z)-Math.round(f.z))>a+d)continue;const g=Kn(r,f),v=a+d;g>v||u6(e,h,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function h6(n,e=!0){await n.addInteractor("particlesCollisions",t=>new c6(t),e)}class f6 extends _n{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:a}=e;return super.contains(e)||super.contains({x:r-t,y:a})||super.contains({x:r-t,y:a-i})||super.contains({x:r,y:a-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const a=new _n(r.x,r.y,i.radius*2);return super.intersects(a)}else if(t.size!==void 0){const a=new Ii(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(a)}return!1}}class d6{constructor(){this.blur=5,this.color=new un,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=un.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class p6{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=un.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class m6{constructor(){this.blink=!1,this.color=new un,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new d6,this.triangles=new p6,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=un.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function g6(n,e,t,i,r){const{dx:a,dy:u,distance:h}=xn(n,e);if(!r||h<=t)return h;const f={x:Math.abs(a),y:Math.abs(u)},d={x:Math.min(f.x,i.width-f.x),y:Math.min(f.y,i.height-f.y)};return Math.sqrt(d.x**2+d.y**2)}class y6 extends P_{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let a=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(a)return;const u=r.color;a=Px(u,r.blink,r.consent),r.id===void 0?i.particles.linksColor=a:i.particles.linksColors.set(r.id,a)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const a=e.options.links,u=a.opacity,h=e.retina.linksDistance??0,f=a.warp,d=f?new f6(t.x,t.y,h,r):new _n(t.x,t.y,h),g=i.particles.quadTree.query(d);for(const v of g){const b=v.options.links;if(e===v||!b?.enable||a.id!==b.id||v.spawning||v.destroyed||!v.links||e.links.some(I=>I.destination===v)||v.links.some(I=>I.destination===e))continue;const E=v.getPosition();if(E.x<0||E.y<0||E.x>r.width||E.y>r.height)continue;const x=g6(t,E,h,r,f&&b.warp);if(x>h)continue;const A=(1-x/h)*u;this._setColor(e),e.links.push({destination:v,opacity:A})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new m6);for(const i of t)e.links.load(i?.links??i?.lineLinked??i?.line_linked)}reset(){}}async function v6(n,e=!0){await n.addInteractor("particlesLinks",t=>new y6(t),e)}function _6(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:a,canvasSize:u,width:h,backgroundMask:f,colorLine:d,opacity:g,links:v}=n;if(Kn(t,i)<=r)Ac(a,t,i),e=!0;else if(v.warp){let E,x;const A={x:i.x-u.width,y:i.y},I=xn(t,A);if(I.distance<=r){const D=t.y-I.dy/I.dx*t.x;E={x:0,y:D},x={x:u.width,y:D}}else{const D={x:i.x,y:i.y-u.height},j=xn(t,D);if(j.distance<=r){const $=-(t.y-j.dy/j.dx*t.x)/(j.dy/j.dx);E={x:$,y:0},x={x:$,y:u.height}}else{const F={x:i.x-u.width,y:i.y-u.height},$=xn(t,F);if($.distance<=r){const Z=t.y-$.dy/$.dx*t.x;E={x:-Z/($.dy/$.dx),y:Z},x={x:E.x+u.width,y:E.y+u.height}}}}E&&x&&(Ac(a,t,E),Ac(a,i,x),e=!0)}if(!e)return;a.lineWidth=h,f.enable&&(a.globalCompositeOperation=f.composite),a.strokeStyle=qs(d,g);const{shadow:b}=v;if(b.enable){const E=Ai(b.color);E&&(a.shadowBlur=b.blur,a.shadowColor=qs(E))}a.stroke()}function b6(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:a,colorTriangle:u,opacityTriangle:h}=n;e4(e,t,i,r),a.enable&&(e.globalCompositeOperation=a.composite),e.fillStyle=qs(u,h),e.fill()}function w6(n){return n.sort((e,t)=>e-t),n.join("_")}function OS(n,e){const t=w6(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=ot(),e.set(t,i)),i}class T6{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=t.options.links;if(!r?.enable)return;const a=this.container,u=a.actualOptions,h=i.destination,f=t.getPosition(),d=h.getPosition();let g=i.opacity;a.canvas.draw(v=>{let b;const E=t.options.twinkle?.lines;if(E?.enable){const D=E.frequency,j=Ai(E.color);ot()<D&&j&&(b=j,g=_e(E.opacity))}if(!b){const D=r.id!==void 0?a.particles.linksColors.get(r.id):a.particles.linksColor;b=uv(t,h,D)}if(!b)return;const x=t.retina.linksWidth??0,A=t.retina.linksDistance??0,{backgroundMask:I}=u;_6({context:v,width:x,begin:f,end:d,maxDistance:A,canvasSize:a.canvas.size,links:r,backgroundMask:I,colorLine:b,opacity:g})})},this._drawLinkTriangle=(t,i,r)=>{const a=t.options.links;if(!a?.enable)return;const u=a.triangles;if(!u.enable)return;const h=this.container,f=h.actualOptions,d=i.destination,g=r.destination,v=u.opacity??(i.opacity+r.opacity)/2;v<=0||h.canvas.draw(b=>{const E=t.getPosition(),x=d.getPosition(),A=g.getPosition(),I=t.retina.linksDistance??0;if(Kn(E,x)>I||Kn(A,x)>I||Kn(A,E)>I)return;let D=Ai(u.color);if(!D){const j=a.id!==void 0?h.particles.linksColors.get(a.id):h.particles.linksColor;D=uv(t,d,j)}D&&b6({context:b,pos1:E,pos2:x,pos3:A,backgroundMask:f.backgroundMask,colorTriangle:D,opacityTriangle:v})})},this._drawTriangles=(t,i,r,a)=>{const u=r.destination;if(!(t.links?.triangles.enable&&u.options.links?.triangles.enable))return;const h=u.links?.filter(f=>{const d=this._getLinkFrequency(u,f.destination);return u.options.links&&d<=u.options.links.frequency&&a.findIndex(g=>g.destination===f.destination)>=0});if(h?.length)for(const f of h){const d=f.destination;this._getTriangleFrequency(i,u,d)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(t,i)=>OS([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>OS([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const a=i.filter(u=>r.links&&this._getLinkFrequency(t,u.destination)<=r.links.frequency);for(const u of a)this._drawTriangles(r,t,u,a),u.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,u)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:a}=e.options.links;i.linksDistance=r*t,i.linksWidth=a*t}particleDestroyed(e){e.links=[]}}class E6{constructor(){this.id="links"}getPlugin(e){return new T6(e)}loadOptions(){}needsPlugin(){return!0}}async function S6(n,e=!0){const t=new E6;await n.addPlugin(t,e)}async function A6(n,e=!0){await v6(n,e),await S6(n,e)}class Kx{draw(e,t,i){const r=this.getCenter(t,i),a=this.getSidesData(t,i),u=a.count.numerator*a.count.denominator,h=a.count.numerator/a.count.denominator,f=180*(h-2)/h,d=Math.PI-Math.PI*f/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let g=0;g<u;g++)e.lineTo(a.length,0),e.translate(a.length,0),e.rotate(d)}}getSidesCount(e){const t=e.shapeData;return Math.round(_e(t?.sides??t?.nb_sides??5))}}class R6 extends Kx{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/(2.66/3.5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*2.66/(i/3)}}}class x6 extends Kx{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:t*2}}}async function C6(n,e=!0){await n.addShape("polygon",new R6,e)}async function I6(n,e=!0){await n.addShape("triangle",new x6,e)}async function D6(n,e=!0){await C6(n,e),await I6(n,e)}class P6{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ie(e.speed)),e.decay!==void 0&&(this.decay=Ie(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class M6 extends eo{constructor(){super(),this.animation=new P6,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function k6(n,e){const t=n.rotate,i=n.options.rotate;if(!t||!i)return;const r=i.animation,a=(t.velocity??0)*e.factor,u=2*Math.PI,h=t.decay??1;if(r.enable){switch(t.status){case"increasing":t.value+=a,t.value>u&&(t.value-=u);break;case"decreasing":default:t.value-=a,t.value<0&&(t.value+=u);break}t.velocity&&h!==1&&(t.velocity*=h)}}class O6{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:_e(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch(i==="random"&&(i=Math.floor(ot()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=t.animation;r.enable&&(e.rotate.decay=1-_e(r.decay),e.rotate.velocity=_e(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=ot())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path:!1}loadOptions(e,...t){e.rotate||(e.rotate=new M6);for(const i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(k6(e,t),e.rotation=e.rotate?.value??0)}}async function N6(n,e=!0){await n.addParticleUpdater("rotate",t=>new O6(t),e)}const V6=Math.sqrt(2);class L6{draw(e,t,i){const r=i/V6,a=r*2;e.rect(-r,-r,a,a)}getSidesCount(){return 4}}async function U6(n,e=!0){await n.addShape(["edge","square"],new L6,e)}class z6{draw(e,t,i){const r=t.sides,a=t.starInset??2;e.moveTo(0,0-i);for(let u=0;u<r;u++)e.rotate(Math.PI/r),e.lineTo(0,0-i*a),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const t=e.shapeData;return Math.round(_e(t?.sides??t?.nb_sides??5))}particleInit(e,t){const i=t.shapeData,r=_e(i?.inset??2);t.starInset=r}}async function B6(n,e=!0){await n.addShape("star",new z6,e)}function by(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const a=On(t.offset),u=(e.velocity??0)*n.factor+a*3.6,h=e.decay??1;!r||e.status==="increasing"?(e.value+=u,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=u,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&h!==1&&(e.velocity*=h),e.value>i&&(e.value%=i)}function j6(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const{h:t,s:i,l:r}=n.strokeColor,{h:a,s:u,l:h}=n.strokeAnimation;t&&by(e,t,a,360,!1),i&&by(e,i,u,100,!0),r&&by(e,r,h,100,!0)}class F6{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=Fs(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=_e(r.width)*t.retina.pixelRatio,e.strokeOpacity=_e(r.opacity??1),e.strokeAnimation=r.color?.animation;const a=Bc(r.color)??e.getFillColor();a&&(e.strokeColor=Mx(a,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&j6(e,t)}}async function q6(n,e=!0){await n.addParticleUpdater("strokeColor",t=>new F6(t),e)}const fd=["text","character","char"];class H6{draw(e,t,i,r){const a=t.shapeData;if(a===void 0)return;const u=a.value;if(u===void 0)return;t.text===void 0&&(t.text=Fs(u,t.randomIndexData));const h=t.text,f=a.style??"",d=a.weight??"400",g=Math.round(i)*2,v=a.font??"Verdana",b=t.fill,E=h.length*i/2;e.font=`${f} ${d} ${g}px "${v}"`;const x={x:-E,y:i/2};e.globalAlpha=r,b?e.fillText(h,x.x,x.y):e.strokeText(h,x.x,x.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(fd.find(i=>xt(i,t.particles.shape.type))){const i=fd.map(a=>t.particles.shape.options[a]).find(a=>!!a),r=[];Zt(i,a=>{r.push(GL(a.font,a.weight))}),await Promise.all(r)}}particleInit(e,t){if(!t.shape||!fd.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=Fs(r,t.randomIndexData))}}async function G6(n,e=!0){await n.addShape(fd,new H6,e)}async function $6(n,e=!0){yU(n),await s6(n,!1),await WU(n,!1),await e3(n,!1),await s3(n,!1),await f3(n,!1),await v3(n,!1),await b3(n,!1),await E3(n,!1),await R3(n,!1),await D3(n,!1),await k3(n,!1),await o6(n,!1),await h6(n,!1),await A6(n,!1),await YU(),await X3(n,!1),await n6(n,!1),await D6(n,!1),await U6(n,!1),await B6(n,!1),await G6(n,!1),await e6(n,!1),await N6(n,!1),await q6(n,!1),await KU(n,e)}function Yx({className:n=""}){const e=U.useCallback(async t=>{await $6(t)},[]);return N.jsx(jx,{id:"tsparticles",init:e,className:n,style:{position:"absolute",inset:0},options:{fpsLimit:60,detectRetina:!0,background:{color:"transparent"},fullScreen:{enable:!1},pauseOnBlur:!0,smooth:!0,reduceDuplicates:!0,particles:{number:{value:60,density:{enable:!0,area:900}},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5},size:{value:{min:1,max:3}},links:{enable:!0,distance:130,color:"#ffffff",opacity:.2,width:1},move:{enable:!0,speed:.6,direction:"none",outModes:{default:"out"},random:!1,straight:!1}},interactivity:{detectsOn:"window",events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!1,mode:"push"},resize:!0},modes:{repulse:{distance:80,duration:.3},push:{quantity:2}}}}})}function K6(){const{pathname:n}=Ws();return N.jsxs(N.Fragment,{children:[N.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-30 bg-center bg-cover md:bg-fixed",style:{backgroundImage:"url(/likwitdevs/images/computerbg.jpg)"}}),N.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-20 bg-black/30 pointer-events-none"}),N.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-10 pointer-events-none",children:N.jsx(Yx,{},n)})]})}const Y6=()=>{};var NS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},X6=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],u=n[t++],h=n[t++],f=((r&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Qx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],u=r+1<n.length,h=u?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,g=a>>2,v=(a&3)<<4|h>>4;let b=(h&15)<<2|d>>6,E=d&63;f||(E=64,u||(b=64)),i.push(t[g],t[v],t[b],t[E])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Xx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):X6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||h==null||d==null||v==null)throw new Q6;const b=a<<2|h>>4;if(i.push(b),d!==64){const E=h<<4&240|d>>2;if(i.push(E),v!==64){const x=d<<6&192|v;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Q6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W6=function(n){const e=Xx(n);return Qx.encodeByteArray(e,!0)},Nd=function(n){return W6(n).replace(/\./g,"")},Wx=function(n){try{return Qx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=()=>Z6().__FIREBASE_DEFAULTS__,ez=()=>{if(typeof process>"u"||typeof NS>"u")return;const n=NS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Wx(n[1]);return e&&JSON.parse(e)},cp=()=>{try{return Y6()||J6()||ez()||tz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Zx=n=>cp()?.emulatorHosts?.[n],Jx=n=>{const e=Zx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},eC=()=>cp()?.config,tC=n=>cp()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Nd(JSON.stringify(t)),Nd(JSON.stringify(u)),""].join(".")}const Rc={};function iz(){const n={prod:[],emulator:[]};for(const e of Object.keys(Rc))Rc[e]?n.emulator.push(e):n.prod.push(e);return n}function sz(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let VS=!1;function k_(n,e){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||Rc[n]===e||Rc[n]||VS)return;Rc[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",a=iz().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{VS=!0,u()},b}function g(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=sz(i),E=t("text"),x=document.getElementById(E)||document.createElement("span"),A=t("learnmore"),I=document.getElementById(A)||document.createElement("a"),D=t("preprendIcon"),j=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;h(F),g(I,A);const $=d();f(j,D),F.append(j,x,I,$),document.body.appendChild(F)}a?(x.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function oz(){const n=cp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function az(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lz(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cz(){const n=bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hz(){return!oz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fz(){try{return typeof indexedDB=="object"}catch{return!1}}function dz(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz="FirebaseError";class hs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=pz,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lh.prototype.create)}}class lh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],u=a?mz(a,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new hs(r,h,i)}}function mz(n,e){return n.replace(gz,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const gz=/\{\$([^}]+)}/g;function yz(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ra(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],u=e[r];if(LS(a)&&LS(u)){if(!ra(a,u))return!1}else if(a!==u)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function LS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function dc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function pc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function vz(n,e){const t=new _z(n,e);return t.subscribe.bind(t)}class _z{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");bz(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=wy),r.error===void 0&&(r.error=wy),r.complete===void 0&&(r.complete=wy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bz(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n){return n&&n._delegate?n._delegate:n}class $r{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new nz;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ez(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Tz(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tz(n){return n===$o?void 0:n}function Ez(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wz(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const Az={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Rz=Ve.INFO,xz={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Cz=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=xz[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O_{constructor(e){this.name=e,this._logLevel=Rz,this._logHandler=Cz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Az[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Iz=(n,e)=>e.some(t=>n instanceof t);let US,zS;function Dz(){return US||(US=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pz(){return zS||(zS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iC=new WeakMap,cv=new WeakMap,sC=new WeakMap,Ty=new WeakMap,N_=new WeakMap;function Mz(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ur(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&iC.set(t,n)}).catch(()=>{}),N_.set(e,n),e}function kz(n){if(cv.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});cv.set(n,e)}let hv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ur(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Oz(n){hv=n(hv)}function Nz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ey(this),e,...t);return sC.set(i,e.sort?e.sort():[e]),Ur(i)}:Pz().includes(n)?function(...e){return n.apply(Ey(this),e),Ur(iC.get(this))}:function(...e){return Ur(n.apply(Ey(this),e))}}function Vz(n){return typeof n=="function"?Nz(n):(n instanceof IDBTransaction&&kz(n),Iz(n,Dz())?new Proxy(n,hv):n)}function Ur(n){if(n instanceof IDBRequest)return Mz(n);if(Ty.has(n))return Ty.get(n);const e=Vz(n);return e!==n&&(Ty.set(n,e),N_.set(e,n)),e}const Ey=n=>N_.get(n);function Lz(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(n,e),h=Ur(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Ur(u.result),f.oldVersion,f.newVersion,Ur(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const Uz=["get","getKey","getAll","getAllKeys","count"],zz=["put","add","delete","clear"],Sy=new Map;function BS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sy.get(e))return Sy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=zz.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Uz.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),r&&f.done]))[0]};return Sy.set(e,a),a}Oz(n=>({...n,get:(e,t,i)=>BS(e,t)||n.get(e,t,i),has:(e,t)=>!!BS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jz(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function jz(n){return n.getComponent()?.type==="VERSION"}const fv="@firebase/app",jS="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new O_("@firebase/app"),Fz="@firebase/app-compat",qz="@firebase/analytics-compat",Hz="@firebase/analytics",Gz="@firebase/app-check-compat",$z="@firebase/app-check",Kz="@firebase/auth",Yz="@firebase/auth-compat",Xz="@firebase/database",Qz="@firebase/data-connect",Wz="@firebase/database-compat",Zz="@firebase/functions",Jz="@firebase/functions-compat",eB="@firebase/installations",tB="@firebase/installations-compat",nB="@firebase/messaging",iB="@firebase/messaging-compat",sB="@firebase/performance",rB="@firebase/performance-compat",oB="@firebase/remote-config",aB="@firebase/remote-config-compat",lB="@firebase/storage",uB="@firebase/storage-compat",cB="@firebase/firestore",hB="@firebase/ai",fB="@firebase/firestore-compat",dB="firebase",pB="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="[DEFAULT]",mB={[fv]:"fire-core",[Fz]:"fire-core-compat",[Hz]:"fire-analytics",[qz]:"fire-analytics-compat",[$z]:"fire-app-check",[Gz]:"fire-app-check-compat",[Kz]:"fire-auth",[Yz]:"fire-auth-compat",[Xz]:"fire-rtdb",[Qz]:"fire-data-connect",[Wz]:"fire-rtdb-compat",[Zz]:"fire-fn",[Jz]:"fire-fn-compat",[eB]:"fire-iid",[tB]:"fire-iid-compat",[nB]:"fire-fcm",[iB]:"fire-fcm-compat",[sB]:"fire-perf",[rB]:"fire-perf-compat",[oB]:"fire-rc",[aB]:"fire-rc-compat",[lB]:"fire-gcs",[uB]:"fire-gcs-compat",[cB]:"fire-fst",[fB]:"fire-fst-compat",[hB]:"fire-vertex","fire-js":"fire-js",[dB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map,gB=new Map,pv=new Map;function FS(n,e){try{n.container.addComponent(e)}catch(t){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oa(n){const e=n.name;if(pv.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;pv.set(e,n);for(const t of Vd.values())FS(t,n);for(const t of gB.values())FS(t,n);return!0}function hp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new lh("app","Firebase",yB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=pB;function rC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:dv,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw zr.create("bad-app-name",{appName:String(r)});if(t||(t=eC()),!t)throw zr.create("no-options");const a=Vd.get(r);if(a){if(ra(t,a.options)&&ra(i,a.config))return a;throw zr.create("duplicate-app",{appName:r})}const u=new Sz(r);for(const f of pv.values())u.addComponent(f);const h=new vB(t,i,u);return Vd.set(r,h),h}function V_(n=dv){const e=Vd.get(n);if(!e&&n===dv&&eC())return rC();if(!e)throw zr.create("no-app",{appName:n});return e}function es(n,e,t){let i=mB[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const u=[`Unable to register library "${i}" with version "${e}":`];r&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(u.join(" "));return}oa(new $r(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B="firebase-heartbeat-database",bB=1,qc="firebase-heartbeat-store";let Ay=null;function oC(){return Ay||(Ay=Lz(_B,bB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw zr.create("idb-open",{originalErrorMessage:n.message})})),Ay}async function wB(n){try{const t=(await oC()).transaction(qc),i=await t.objectStore(qc).get(aC(n));return await t.done,i}catch(e){if(e instanceof hs)Ks.warn(e.message);else{const t=zr.create("idb-get",{originalErrorMessage:e?.message});Ks.warn(t.message)}}}async function qS(n,e){try{const i=(await oC()).transaction(qc,"readwrite");await i.objectStore(qc).put(e,aC(n)),await i.done}catch(t){if(t instanceof hs)Ks.warn(t.message);else{const i=zr.create("idb-set",{originalErrorMessage:t?.message});Ks.warn(i.message)}}}function aC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=1024,EB=30;class SB{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RB(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=HS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>EB){const r=xB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HS(),{heartbeatsToSend:t,unsentEntries:i}=AB(this._heartbeatsCache.heartbeats),r=Nd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Ks.warn(e),""}}}function HS(){return new Date().toISOString().substring(0,10)}function AB(n,e=TB){const t=[];let i=n.slice();for(const r of n){const a=t.find(u=>u.agent===r.agent);if(a){if(a.dates.push(r.date),GS(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),GS(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class RB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fz()?dz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return qS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return qS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function GS(n){return Nd(JSON.stringify({version:2,heartbeats:n})).length}function xB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(n){oa(new $r("platform-logger",e=>new Bz(e),"PRIVATE")),oa(new $r("heartbeat",e=>new SB(e),"PRIVATE")),es(fv,jS,n),es(fv,jS,"esm2020"),es("fire-js","")}CB("");function lC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IB=lC,uC=new lh("auth","Firebase",lC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new O_("@firebase/auth");function DB(n,...e){Ld.logLevel<=Ve.WARN&&Ld.warn(`Auth (${fa}): ${n}`,...e)}function dd(n,...e){Ld.logLevel<=Ve.ERROR&&Ld.error(`Auth (${fa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n,...e){throw L_(n,...e)}function ts(n,...e){return L_(n,...e)}function cC(n,e,t){const i={...IB(),[e]:t};return new lh("auth","Firebase",i).create(e,{appName:n.name})}function Br(n){return cC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return uC.create(n,...e)}function we(n,e,...t){if(!n)throw L_(e,...t)}function Us(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dd(e),new Error(e)}function Ys(n,e){n||Us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(){return typeof self<"u"&&self.location?.href||""}function PB(){return $S()==="http:"||$S()==="https:"}function $S(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PB()||lz()||"connection"in navigator)?navigator.onLine:!0}function kB(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ys(t>e,"Short delay should be less than long delay!"),this.isMobile=rz()||uz()}get(){return MB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n,e){Ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VB=new ch(3e4,6e4);function da(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function no(n,e,t,i,r={}){return fC(n,r,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=uh({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...a};return az()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&to(n.emulatorConfig.host)&&(d.credentials="include"),hC.fetch()(await dC(n,n.config.apiHost,t,h),d)})}async function fC(n,e,t){n._canInitEmulator=!1;const i={...OB,...e};try{const r=new UB(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Qf(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Qf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Qf(n,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw cC(n,g,d);Di(n,g)}}catch(r){if(r instanceof hs)throw r;Di(n,"network-request-failed",{message:String(r)})}}async function fp(n,e,t,i,r={}){const a=await no(n,e,t,i,r);return"mfaPendingCredential"in a&&Di(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function dC(n,e,t,i){const r=`${e}${t}?${i}`,a=n,u=a.config.emulator?U_(n.config,r):`${n.config.apiScheme}://${r}`;return NB.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function LB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ts(this.auth,"network-request-failed")),VB.get())})}}function Qf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ts(n,e,i);return r.customData._tokenResponse=t,r}function KS(n){return n!==void 0&&n.enterprise!==void 0}class zB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return LB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BB(n,e){return no(n,"GET","/v2/recaptchaConfig",da(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jB(n,e){return no(n,"POST","/v1/accounts:delete",e)}async function Ud(n,e){return no(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FB(n,e=!1){const t=ct(n),i=await t.getIdToken(e),r=z_(i);we(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,u=a?.sign_in_provider;return{claims:r,token:i,authTime:xc(Ry(r.auth_time)),issuedAtTime:xc(Ry(r.iat)),expirationTime:xc(Ry(r.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ry(n){return Number(n)*1e3}function z_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return dd("JWT malformed, contained fewer than 3 sections"),null;try{const r=Wx(t);return r?JSON.parse(r):(dd("Failed to decode base64 JWT payload"),null)}catch(r){return dd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function YS(n){const e=z_(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof hs&&qB(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function qB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(n){const e=n.auth,t=await n.getIdToken(),i=await Hc(n,Ud(e,{idToken:t}));we(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=r.providerUserInfo?.length?pC(r.providerUserInfo):[],u=$B(n.providerData,a),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!u?.length,d=h?f:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:u,metadata:new gv(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function GB(n){const e=ct(n);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $B(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function pC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KB(n,e){const t=await fC(n,{},async()=>{const i=uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,u=await dC(n,r,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&to(n.emulatorConfig.host)&&(f.credentials="include"),hC.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YB(n,e){return no(n,"POST","/v2/accounts:revokeToken",da(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=YS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await KB(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,u=new Sl;return i&&(we(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),r&&(we(typeof r=="string","internal-error",{appName:e}),u.accessToken=r),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return Us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ti{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new HB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new gv(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Hc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FB(this,e)}reload(){return GB(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await zd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await Hc(this,jB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:E,providerData:x,stsTokenManager:A}=t;we(v&&A,e,"internal-error");const I=Sl.fromJSON(this.name,A);we(typeof v=="string",e,"internal-error"),xr(i,e.name),xr(r,e.name),we(typeof b=="boolean",e,"internal-error"),we(typeof E=="boolean",e,"internal-error"),xr(a,e.name),xr(u,e.name),xr(h,e.name),xr(f,e.name),xr(d,e.name),xr(g,e.name);const D=new Ti({uid:v,auth:e,email:r,emailVerified:b,displayName:i,isAnonymous:E,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:I,createdAt:d,lastLoginAt:g});return x&&Array.isArray(x)&&(D.providerData=x.map(j=>({...j}))),f&&(D._redirectEventId=f),D}static async _fromIdTokenResponse(e,t,i=!1){const r=new Sl;r.updateFromServerResponse(t);const a=new Ti({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await zd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];we(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?pC(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!a?.length,h=new Sl;h.updateFromIdToken(i);const f=new Ti({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new gv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map;function zs(n){Ys(n instanceof Function,"Expected a class definition");let e=XS.get(n);return e?(Ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,XS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mC.type="NONE";const QS=mC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n,e,t){return`firebase:${n}:${e}:${t}`}class Al{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=pd(this.userKey,r.apiKey,a),this.fullPersistenceKey=pd("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ud(this.auth,{idToken:e}).catch(()=>{});return t?Ti._fromGetAccountInfoResponse(this.auth,t,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Al(zs(QS),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||zs(QS);const u=pd(i,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let v;if(typeof g=="string"){const b=await Ud(e,{idToken:g}).catch(()=>{});if(!b)break;v=await Ti._fromGetAccountInfoResponse(e,b,g)}else v=Ti._fromJSON(e,g);d!==a&&(h=v),a=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Al(a,e,i):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==a)try{await d._remove(u)}catch{}})),new Al(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_C(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wC(e))return"Blackberry";if(TC(e))return"Webos";if(yC(e))return"Safari";if((e.includes("chrome/")||vC(e))&&!e.includes("edge/"))return"Chrome";if(bC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function gC(n=bn()){return/firefox\//i.test(n)}function yC(n=bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vC(n=bn()){return/crios\//i.test(n)}function _C(n=bn()){return/iemobile/i.test(n)}function bC(n=bn()){return/android/i.test(n)}function wC(n=bn()){return/blackberry/i.test(n)}function TC(n=bn()){return/webos/i.test(n)}function B_(n=bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XB(n=bn()){return B_(n)&&!!window.navigator?.standalone}function QB(){return cz()&&document.documentMode===10}function EC(n=bn()){return B_(n)||bC(n)||TC(n)||wC(n)||/windows phone/i.test(n)||_C(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(n,e=[]){let t;switch(n){case"Browser":t=WS(bn());break;case"Worker":t=`${WS(bn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZB(n,e={}){return no(n,"GET","/v2/passwordPolicy",da(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=6;class e9{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??JB,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZS(this),this.idTokenSubscription=new ZS(this),this.beforeStateQueue=new WB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Al.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ud(this,{idToken:e}),i=await Ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(Br(this));const t=e?ct(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZB(this),t=new e9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await YB(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zs(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[zs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,r);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DB(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $l(n){return ct(n)}class ZS{constructor(e){this.auth=e,this.observer=null,this.addObserver=vz(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n9(n){dp=n}function AC(n){return dp.loadJS(n)}function i9(){return dp.recaptchaEnterpriseScript}function s9(){return dp.gapiScript}function r9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class o9{constructor(){this.enterprise=new a9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class a9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const l9="recaptcha-enterprise",RC="NO_RECAPTCHA";class u9{constructor(e){this.type=l9,this.auth=$l(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{BB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new zB(f);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function r(a,u,h){const f=window.grecaptcha;KS(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(RC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new o9().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&KS(window.grecaptcha))r(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=i9();f.length!==0&&(f+=h),AC(f).then(()=>{r(h,a,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function JS(n,e,t,i=!1,r=!1){const a=new u9(n);let u;if(r)u=RC;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function eA(n,e,t,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await JS(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await JS(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(n,e){const t=hp(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(ra(a,e??{}))return r;Di(r,"already-initialized")}return t.initialize({options:e})}function h9(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(zs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function f9(n,e,t){const i=$l(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=xC(e),{host:u,port:h}=d9(e),f=h===null?"":`:${h}`,d={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(ra(d,i.config.emulator)&&ra(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,to(u)?(M_(`${a}//${u}${f}`),k_("Auth",!0)):p9()}function xC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function d9(n){const e=xC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:tA(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:tA(u)}}}function tA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function p9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Us("not implemented")}_getIdTokenResponse(e){return Us("not implemented")}_linkToIdToken(e,t){return Us("not implemented")}_getReauthenticationResolver(e){return Us("not implemented")}}async function m9(n,e){return no(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(n,e){return fp(n,"POST","/v1/accounts:signInWithPassword",da(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(n,e){return fp(n,"POST","/v1/accounts:signInWithEmailLink",da(n,e))}async function v9(n,e){return fp(n,"POST","/v1/accounts:signInWithEmailLink",da(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends j_{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Gc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Gc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eA(e,t,"signInWithPassword",g9);case"emailLink":return y9(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eA(e,i,"signUpPassword",m9);case"emailLink":return v9(e,{idToken:t,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n,e){return fp(n,"POST","/v1/accounts:signInWithIdp",da(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="http://localhost";class aa extends j_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=t;if(!i||!r)return null;const u=new aa(i,r);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Rl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Rl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rl(e,t)}buildRequest(){const e={requestUri:_9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w9(n){const e=dc(pc(n)).link,t=e?dc(pc(e)).deep_link_id:null,i=dc(pc(n)).deep_link_id;return(i?dc(pc(i)).link:null)||i||t||e||n}class F_{constructor(e){const t=dc(pc(e)),i=t.apiKey??null,r=t.oobCode??null,a=b9(t.mode??null);we(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=w9(e);try{return new F_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,t){return Gc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=F_.parseLink(t);return we(i,"argument-error"),Gc._fromEmailAndCode(e,i.code,i.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends CC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends hh{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends hh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return aa._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Pr.credential(t,i)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends hh{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends hh{constructor(){super("twitter.com")}static credential(e,t){return aa._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return kr.credential(t,i)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Ti._fromIdTokenResponse(e,i,r),u=nA(i);return new kl({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=nA(i);return new kl({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function nA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends hs{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Bd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Bd(e,t,i,r)}}function IC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Bd._fromErrorAndOperation(n,a,e,i):a})}async function T9(n,e,t=!1){const i=await Hc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return kl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(n,e,t=!1){const{auth:i}=n;if(hi(i.app))return Promise.reject(Br(i));const r="reauthenticate";try{const a=await Hc(n,IC(i,r,e,n),t);we(a.idToken,i,"internal-error");const u=z_(a.idToken);we(u,i,"internal-error");const{sub:h}=u;return we(n.uid===h,i,"user-mismatch"),kl._forOperation(n,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&Di(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(n,e,t=!1){if(hi(n.app))return Promise.reject(Br(n));const i="signIn",r=await IC(n,i,e),a=await kl._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function S9(n,e){return DC($l(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(n){const e=$l(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function R9(n,e,t){return hi(n.app)?Promise.reject(Br(n)):S9(ct(n),Kl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&A9(n),i})}function x9(n,e,t,i){return ct(n).onIdTokenChanged(e,t,i)}function C9(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function q_(n,e,t,i){return ct(n).onAuthStateChanged(e,t,i)}function PC(n){return ct(n).signOut()}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=1e3,D9=10;class kC extends MC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);QB()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,D9):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},I9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kC.type="LOCAL";const P9=kC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends MC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}OC.type="SESSION";const NC=OC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new pp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,u=this.handlersMap[r];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async d=>d(t.origin,a)),f=await M9(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const d=H_("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(b.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(){return window}function O9(n){ns().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){return typeof ns().WorkerGlobalScope<"u"&&typeof ns().importScripts=="function"}async function N9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V9(){return navigator?.serviceWorker?.controller||null}function L9(){return VC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebaseLocalStorageDb",U9=1,Fd="firebaseLocalStorage",UC="fbase_key";class fh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mp(n,e){return n.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function z9(){const n=indexedDB.deleteDatabase(LC);return new fh(n).toPromise()}function yv(){const n=indexedDB.open(LC,U9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Fd,{keyPath:UC})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Fd)?e(i):(i.close(),await z9(),e(await yv()))})})}async function iA(n,e,t){const i=mp(n,!0).put({[UC]:e,value:t});return new fh(i).toPromise()}async function B9(n,e){const t=mp(n,!1).get(e),i=await new fh(t).toPromise();return i===void 0?null:i.value}function sA(n,e){const t=mp(n,!0).delete(e);return new fh(t).toPromise()}const j9=800,F9=3;class zC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>F9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pp._getInstance(L9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await N9(),!this.activeServiceWorker)return;this.sender=new k9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yv();return await iA(e,jd,"1"),await sA(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>iA(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>B9(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=mp(r,!1).getAll();return new fh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zC.type="LOCAL";const q9=zC;new ch(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(n,e){return e?zs(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_ extends j_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function G9(n){return DC(n.auth,new G_(n),n.bypassAuthState)}function $9(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),E9(t,new G_(n),n.bypassAuthState)}async function K9(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),T9(t,new G_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G9;case"linkViaPopup":case"linkViaRedirect":return K9;case"reauthViaPopup":case"reauthViaRedirect":return $9;default:Di(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new ch(2e3,1e4);class Tl extends BC{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Tl.currentPopupAction&&Tl.currentPopupAction.cancel(),Tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=H_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y9.get())};e()}}Tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="pendingRedirect",md=new Map;class Q9 extends BC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=md.get(this.auth._key());if(!e){try{const i=await W9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}md.set(this.auth._key(),e)}return this.bypassAuthState||md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W9(n,e){const t=e5(e),i=J9(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function Z9(n,e){md.set(n._key(),e)}function J9(n){return zs(n._redirectPersistence)}function e5(n){return pd(X9,n.config.apiKey,n.name)}async function t5(n,e,t=!1){if(hi(n.app))return Promise.reject(Br(n));const i=$l(n),r=H9(i,e),u=await new Q9(i,r,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=600*1e3;class i5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!jC(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ts(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rA(e))}saveEventToCache(e){this.cachedEventUids.add(rA(e)),this.lastProcessedEventTime=Date.now()}}function rA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function s5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(n,e={}){return no(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a5=/^https?/;async function l5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await r5(n);for(const t of e)try{if(u5(t))return}catch{}Di(n,"unauthorized-domain")}function u5(n){const e=mv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!a5.test(t))return!1;if(o5.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new ch(3e4,6e4);function oA(){const n=ns().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function h5(n){return new Promise((e,t)=>{function i(){oA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oA(),t(ts(n,"network-request-failed"))},timeout:c5.get()})}if(ns().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ns().gapi?.load)i();else{const r=r9("iframefcb");return ns()[r]=()=>{gapi.load?i():t(ts(n,"network-request-failed"))},AC(`${s9()}?onload=${r}`).catch(a=>t(a))}}).catch(e=>{throw gd=null,e})}let gd=null;function f5(n){return gd=gd||h5(n),gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=new ch(5e3,15e3),p5="__/auth/iframe",m5="emulator/auth/iframe",g5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v5(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?U_(e,m5):`https://${n.config.authDomain}/${p5}`,i={apiKey:e.apiKey,appName:n.name,v:fa},r=y5.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${uh(i).slice(1)}`}async function _5(n){const e=await f5(n),t=ns().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:v5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g5,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const u=ts(n,"network-request-failed"),h=ns().setTimeout(()=>{a(u)},d5.get());function f(){ns().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w5=500,T5=600,E5="_blank",S5="http://localhost";class aA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A5(n,e,t,i=w5,r=T5){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...b5,width:i.toString(),height:r.toString(),top:a,left:u},d=bn().toLowerCase();t&&(h=vC(d)?E5:t),gC(d)&&(e=e||S5,f.scrollbars="yes");const g=Object.entries(f).reduce((b,[E,x])=>`${b}${E}=${x},`,"");if(XB(d)&&h!=="_self")return R5(e||"",h),new aA(null);const v=window.open(e||"",h,g);we(v,n,"popup-blocked");try{v.focus()}catch{}return new aA(v)}function R5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="__/auth/handler",C5="emulator/auth/handler",I5=encodeURIComponent("fac");async function lA(n,e,t,i,r,a){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:fa,eventId:r};if(e instanceof CC){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",yz(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof hh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${I5}=${encodeURIComponent(f)}`:"";return`${D5(n)}?${uh(h).slice(1)}${d}`}function D5({config:n}){return n.emulator?U_(n,C5):`https://${n.authDomain}/${x5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="webStorageSupport";class P5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NC,this._completeRedirectFn=t5,this._overrideRedirectResult=Z9}async _openPopup(e,t,i,r){Ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await lA(e,t,i,mv(),r);return A5(e,a,H_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await lA(e,t,i,mv(),r);return O9(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Ys(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await _5(e),i=new i5(e);return t.register("authEvent",r=>(we(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xy,{type:xy},r=>{const a=r?.[0]?.[xy];a!==void 0&&t(!!a),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return EC()||yC()||B_()}}const M5=P5;var uA="@firebase/auth",cA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N5(n){oa(new $r("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SC(n)},d=new t9(i,r,a,f);return h9(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),oa(new $r("auth-internal",e=>{const t=$l(e.getProvider("auth").getImmediate());return(i=>new k5(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(uA,cA,O5(n)),es(uA,cA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=300,L5=tC("authIdTokenMaxAge")||V5;let hA=null;const U5=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>L5)return;const r=t?.token;hA!==r&&(hA=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function z5(n=V_()){const e=hp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=c9(n,{popupRedirectResolver:M5,persistence:[q9,P9,NC]}),i=tC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=U5(a.toString());C9(t,u,()=>u(t.currentUser)),x9(t,h=>u(h))}}const r=Zx("auth");return r&&f9(t,`http://${r}`),t}function B5(){return document.getElementsByTagName("head")?.[0]??document}n9({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=ts("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",B5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N5("Browser");var j5="firebase",F5="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(j5,F5,"app");var fA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,FC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function P(){}P.prototype=C.prototype,M.D=C.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(V,B,q){for(var O=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)O[Ct-2]=arguments[Ct];return C.prototype[B].apply(V,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,C,P){P||(P=0);var V=Array(16);if(typeof C=="string")for(var B=0;16>B;++B)V[B]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(B=0;16>B;++B)V[B]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=M.g[0],P=M.g[1],B=M.g[2];var q=M.g[3],O=C+(q^P&(B^q))+V[0]+3614090360&4294967295;C=P+(O<<7&4294967295|O>>>25),O=q+(B^C&(P^B))+V[1]+3905402710&4294967295,q=C+(O<<12&4294967295|O>>>20),O=B+(P^q&(C^P))+V[2]+606105819&4294967295,B=q+(O<<17&4294967295|O>>>15),O=P+(C^B&(q^C))+V[3]+3250441966&4294967295,P=B+(O<<22&4294967295|O>>>10),O=C+(q^P&(B^q))+V[4]+4118548399&4294967295,C=P+(O<<7&4294967295|O>>>25),O=q+(B^C&(P^B))+V[5]+1200080426&4294967295,q=C+(O<<12&4294967295|O>>>20),O=B+(P^q&(C^P))+V[6]+2821735955&4294967295,B=q+(O<<17&4294967295|O>>>15),O=P+(C^B&(q^C))+V[7]+4249261313&4294967295,P=B+(O<<22&4294967295|O>>>10),O=C+(q^P&(B^q))+V[8]+1770035416&4294967295,C=P+(O<<7&4294967295|O>>>25),O=q+(B^C&(P^B))+V[9]+2336552879&4294967295,q=C+(O<<12&4294967295|O>>>20),O=B+(P^q&(C^P))+V[10]+4294925233&4294967295,B=q+(O<<17&4294967295|O>>>15),O=P+(C^B&(q^C))+V[11]+2304563134&4294967295,P=B+(O<<22&4294967295|O>>>10),O=C+(q^P&(B^q))+V[12]+1804603682&4294967295,C=P+(O<<7&4294967295|O>>>25),O=q+(B^C&(P^B))+V[13]+4254626195&4294967295,q=C+(O<<12&4294967295|O>>>20),O=B+(P^q&(C^P))+V[14]+2792965006&4294967295,B=q+(O<<17&4294967295|O>>>15),O=P+(C^B&(q^C))+V[15]+1236535329&4294967295,P=B+(O<<22&4294967295|O>>>10),O=C+(B^q&(P^B))+V[1]+4129170786&4294967295,C=P+(O<<5&4294967295|O>>>27),O=q+(P^B&(C^P))+V[6]+3225465664&4294967295,q=C+(O<<9&4294967295|O>>>23),O=B+(C^P&(q^C))+V[11]+643717713&4294967295,B=q+(O<<14&4294967295|O>>>18),O=P+(q^C&(B^q))+V[0]+3921069994&4294967295,P=B+(O<<20&4294967295|O>>>12),O=C+(B^q&(P^B))+V[5]+3593408605&4294967295,C=P+(O<<5&4294967295|O>>>27),O=q+(P^B&(C^P))+V[10]+38016083&4294967295,q=C+(O<<9&4294967295|O>>>23),O=B+(C^P&(q^C))+V[15]+3634488961&4294967295,B=q+(O<<14&4294967295|O>>>18),O=P+(q^C&(B^q))+V[4]+3889429448&4294967295,P=B+(O<<20&4294967295|O>>>12),O=C+(B^q&(P^B))+V[9]+568446438&4294967295,C=P+(O<<5&4294967295|O>>>27),O=q+(P^B&(C^P))+V[14]+3275163606&4294967295,q=C+(O<<9&4294967295|O>>>23),O=B+(C^P&(q^C))+V[3]+4107603335&4294967295,B=q+(O<<14&4294967295|O>>>18),O=P+(q^C&(B^q))+V[8]+1163531501&4294967295,P=B+(O<<20&4294967295|O>>>12),O=C+(B^q&(P^B))+V[13]+2850285829&4294967295,C=P+(O<<5&4294967295|O>>>27),O=q+(P^B&(C^P))+V[2]+4243563512&4294967295,q=C+(O<<9&4294967295|O>>>23),O=B+(C^P&(q^C))+V[7]+1735328473&4294967295,B=q+(O<<14&4294967295|O>>>18),O=P+(q^C&(B^q))+V[12]+2368359562&4294967295,P=B+(O<<20&4294967295|O>>>12),O=C+(P^B^q)+V[5]+4294588738&4294967295,C=P+(O<<4&4294967295|O>>>28),O=q+(C^P^B)+V[8]+2272392833&4294967295,q=C+(O<<11&4294967295|O>>>21),O=B+(q^C^P)+V[11]+1839030562&4294967295,B=q+(O<<16&4294967295|O>>>16),O=P+(B^q^C)+V[14]+4259657740&4294967295,P=B+(O<<23&4294967295|O>>>9),O=C+(P^B^q)+V[1]+2763975236&4294967295,C=P+(O<<4&4294967295|O>>>28),O=q+(C^P^B)+V[4]+1272893353&4294967295,q=C+(O<<11&4294967295|O>>>21),O=B+(q^C^P)+V[7]+4139469664&4294967295,B=q+(O<<16&4294967295|O>>>16),O=P+(B^q^C)+V[10]+3200236656&4294967295,P=B+(O<<23&4294967295|O>>>9),O=C+(P^B^q)+V[13]+681279174&4294967295,C=P+(O<<4&4294967295|O>>>28),O=q+(C^P^B)+V[0]+3936430074&4294967295,q=C+(O<<11&4294967295|O>>>21),O=B+(q^C^P)+V[3]+3572445317&4294967295,B=q+(O<<16&4294967295|O>>>16),O=P+(B^q^C)+V[6]+76029189&4294967295,P=B+(O<<23&4294967295|O>>>9),O=C+(P^B^q)+V[9]+3654602809&4294967295,C=P+(O<<4&4294967295|O>>>28),O=q+(C^P^B)+V[12]+3873151461&4294967295,q=C+(O<<11&4294967295|O>>>21),O=B+(q^C^P)+V[15]+530742520&4294967295,B=q+(O<<16&4294967295|O>>>16),O=P+(B^q^C)+V[2]+3299628645&4294967295,P=B+(O<<23&4294967295|O>>>9),O=C+(B^(P|~q))+V[0]+4096336452&4294967295,C=P+(O<<6&4294967295|O>>>26),O=q+(P^(C|~B))+V[7]+1126891415&4294967295,q=C+(O<<10&4294967295|O>>>22),O=B+(C^(q|~P))+V[14]+2878612391&4294967295,B=q+(O<<15&4294967295|O>>>17),O=P+(q^(B|~C))+V[5]+4237533241&4294967295,P=B+(O<<21&4294967295|O>>>11),O=C+(B^(P|~q))+V[12]+1700485571&4294967295,C=P+(O<<6&4294967295|O>>>26),O=q+(P^(C|~B))+V[3]+2399980690&4294967295,q=C+(O<<10&4294967295|O>>>22),O=B+(C^(q|~P))+V[10]+4293915773&4294967295,B=q+(O<<15&4294967295|O>>>17),O=P+(q^(B|~C))+V[1]+2240044497&4294967295,P=B+(O<<21&4294967295|O>>>11),O=C+(B^(P|~q))+V[8]+1873313359&4294967295,C=P+(O<<6&4294967295|O>>>26),O=q+(P^(C|~B))+V[15]+4264355552&4294967295,q=C+(O<<10&4294967295|O>>>22),O=B+(C^(q|~P))+V[6]+2734768916&4294967295,B=q+(O<<15&4294967295|O>>>17),O=P+(q^(B|~C))+V[13]+1309151649&4294967295,P=B+(O<<21&4294967295|O>>>11),O=C+(B^(P|~q))+V[4]+4149444226&4294967295,C=P+(O<<6&4294967295|O>>>26),O=q+(P^(C|~B))+V[11]+3174756917&4294967295,q=C+(O<<10&4294967295|O>>>22),O=B+(C^(q|~P))+V[2]+718787259&4294967295,B=q+(O<<15&4294967295|O>>>17),O=P+(q^(B|~C))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(B+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+B&4294967295,M.g[3]=M.g[3]+q&4294967295}i.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var P=C-this.blockSize,V=this.B,B=this.h,q=0;q<C;){if(B==0)for(;q<=P;)r(this,M,q),q+=this.blockSize;if(typeof M=="string"){for(;q<C;)if(V[B++]=M.charCodeAt(q++),B==this.blockSize){r(this,V),B=0;break}}else for(;q<C;)if(V[B++]=M[q++],B==this.blockSize){r(this,V),B=0;break}}this.h=B,this.o+=C},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var P=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=P&255,P/=256;for(this.u(M),M=Array(16),C=P=0;4>C;++C)for(var V=0;32>V;V+=8)M[P++]=this.g[C]>>>V&255;return M};function a(M,C){var P=h;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=C(M)}function u(M,C){this.h=C;for(var P=[],V=!0,B=M.length-1;0<=B;B--){var q=M[B]|0;V&&q==C||(P[B]=q,V=!1)}this.g=P}var h={};function f(M){return-128<=M&&128>M?a(M,function(C){return new u([C|0],0>C?-1:0)}):new u([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return I(d(-M));for(var C=[],P=1,V=0;M>=P;V++)C[V]=M/P|0,P*=4294967296;return new u(C,0)}function g(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return I(g(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(C,8)),V=v,B=0;B<M.length;B+=8){var q=Math.min(8,M.length-B),O=parseInt(M.substring(B,B+q),C);8>q?(q=d(Math.pow(C,q)),V=V.j(q).add(d(O))):(V=V.j(P),V=V.add(d(O)))}return V}var v=f(0),b=f(1),E=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-I(this).m();for(var M=0,C=1,P=0;P<this.g.length;P++){var V=this.i(P);M+=(0<=V?V:4294967296+V)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(A(this))return"-"+I(this).toString(M);for(var C=d(Math.pow(M,6)),P=this,V="";;){var B=$(P,C).g;P=D(P,B.j(C));var q=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=B,x(P))return q+V;for(;6>q.length;)q="0"+q;V=q+V}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=D(this,M),A(M)?-1:x(M)?0:1};function I(M){for(var C=M.g.length,P=[],V=0;V<C;V++)P[V]=~M.g[V];return new u(P,~M.h).add(b)}n.abs=function(){return A(this)?I(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),P=[],V=0,B=0;B<=C;B++){var q=V+(this.i(B)&65535)+(M.i(B)&65535),O=(q>>>16)+(this.i(B)>>>16)+(M.i(B)>>>16);V=O>>>16,q&=65535,O&=65535,P[B]=O<<16|q}return new u(P,P[P.length-1]&-2147483648?-1:0)};function D(M,C){return M.add(I(C))}n.j=function(M){if(x(this)||x(M))return v;if(A(this))return A(M)?I(this).j(I(M)):I(I(this).j(M));if(A(M))return I(this.j(I(M)));if(0>this.l(E)&&0>M.l(E))return d(this.m()*M.m());for(var C=this.g.length+M.g.length,P=[],V=0;V<2*C;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var B=0;B<M.g.length;B++){var q=this.i(V)>>>16,O=this.i(V)&65535,Ct=M.i(B)>>>16,st=M.i(B)&65535;P[2*V+2*B]+=O*st,j(P,2*V+2*B),P[2*V+2*B+1]+=q*st,j(P,2*V+2*B+1),P[2*V+2*B+1]+=O*Ct,j(P,2*V+2*B+1),P[2*V+2*B+2]+=q*Ct,j(P,2*V+2*B+2)}for(V=0;V<C;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=C;V<2*C;V++)P[V]=0;return new u(P,0)};function j(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function F(M,C){this.g=M,this.h=C}function $(M,C){if(x(C))throw Error("division by zero");if(x(M))return new F(v,v);if(A(M))return C=$(I(M),C),new F(I(C.g),I(C.h));if(A(C))return C=$(M,I(C)),new F(I(C.g),C.h);if(30<M.g.length){if(A(M)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var P=b,V=C;0>=V.l(M);)P=Z(P),V=Z(V);var B=ae(P,1),q=ae(V,1);for(V=ae(V,2),P=ae(P,2);!x(V);){var O=q.add(V);0>=O.l(M)&&(B=B.add(P),q=O),V=ae(V,1),P=ae(P,1)}return C=D(M,B.j(C)),new F(B,C)}for(B=v;0<=M.l(C);){for(P=Math.max(1,Math.floor(M.m()/C.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),q=d(P),O=q.j(C);A(O)||0<O.l(M);)P-=V,q=d(P),O=q.j(C);x(q)&&(q=b),B=B.add(q),M=D(M,O)}return new F(B,M)}n.A=function(M){return $(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)&M.i(V);return new u(P,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)|M.i(V);return new u(P,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)^M.i(V);return new u(P,this.h^M.h)};function Z(M){for(var C=M.g.length+1,P=[],V=0;V<C;V++)P[V]=M.i(V)<<1|M.i(V-1)>>>31;return new u(P,M.h)}function ae(M,C){var P=C>>5;C%=32;for(var V=M.g.length-P,B=[],q=0;q<V;q++)B[q]=0<C?M.i(q+P)>>>C|M.i(q+P+1)<<32-C:M.i(q+P);return new u(B,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,FC=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,jr=u}).apply(typeof fA<"u"?fA:typeof self<"u"?self:typeof window<"u"?window:{});var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qC,mc,HC,yd,vv,GC,$C,KC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,w){return p==Array.prototype||p==Object.prototype||(p[_]=w.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wf=="object"&&Wf];for(var _=0;_<p.length;++_){var w=p[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(p,_){if(_)e:{var w=i;p=p.split(".");for(var R=0;R<p.length-1;R++){var G=p[R];if(!(G in w))break e;w=w[G]}p=p[p.length-1],R=w[p],_=_(R),_!=R&&_!=null&&e(w,p,{configurable:!0,writable:!0,value:_})}}function a(p,_){p instanceof String&&(p+="");var w=0,R=!1,G={next:function(){if(!R&&w<p.length){var W=w++;return{value:_(W,p[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}r("Array.prototype.values",function(p){return p||function(){return a(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function d(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function g(p,_,w){return p.call.apply(p.bind,arguments)}function v(p,_,w){if(!p)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),p.apply(_,G)}}return function(){return p.apply(_,arguments)}}function b(p,_,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function E(p,_){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),p.apply(this,R)}}function x(p,_){function w(){}w.prototype=_.prototype,p.aa=_.prototype,p.prototype=new w,p.prototype.constructor=p,p.Qb=function(R,G,W){for(var ue=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ue[ze-2]=arguments[ze];return _.prototype[G].apply(R,ue)}}function A(p){const _=p.length;if(0<_){const w=Array(_);for(let R=0;R<_;R++)w[R]=p[R];return w}return[]}function I(p,_){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(f(R)){const G=p.length||0,W=R.length||0;p.length=G+W;for(let ue=0;ue<W;ue++)p[G+ue]=R[ue]}else p.push(R)}}class D{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(p){return/^[\s\xa0]*$/.test(p)}function F(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var Z=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ae(p,_,w){for(const R in p)_.call(w,p[R],R,p)}function M(p,_){for(const w in p)_.call(void 0,p[w],w,p)}function C(p){const _={};for(const w in p)_[w]=p[w];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(p,_){let w,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(w in R)p[w]=R[w];for(let W=0;W<P.length;W++)w=P[W],Object.prototype.hasOwnProperty.call(R,w)&&(p[w]=R[w])}}function B(p){var _=1;p=p.split(":");const w=[];for(;0<_&&p.length;)w.push(p.shift()),_--;return p.length&&w.push(p.join(":")),w}function q(p){h.setTimeout(()=>{throw p},0)}function O(){var p=De;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class Ct{constructor(){this.h=this.g=null}add(_,w){const R=st.get();R.set(_,w),this.h?this.h.next=R:this.g=R,this.h=R}}var st=new D(()=>new J,p=>p.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,fe=!1,De=new Ct,L=()=>{const p=h.Promise.resolve(void 0);oe=()=>{p.then(re)}};var re=()=>{for(var p;p=O();){try{p.h.call(p.g)}catch(w){q(w)}var _=st;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}fe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ye=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const w=()=>{};h.addEventListener("test",w,_),h.removeEventListener("test",w,_)}catch{}return p})();function Me(p,_){if(le.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var w=this.type=p.type,R=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(Z){e:{try{$(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else w=="mouseover"?_=p.fromElement:w=="mouseout"&&(_=p.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ae[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Me.aa.h.call(this)}}x(Me,le);var Ae={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Mi(p,_,w,R,G){this.listener=p,this.proxy=null,this.src=_,this.type=w,this.capture=!!R,this.ha=G,this.key=++tt,this.da=this.fa=!1}function Zs(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function fs(p){this.src=p,this.g={},this.h=0}fs.prototype.add=function(p,_,w,R,G){var W=p.toString();p=this.g[W],p||(p=this.g[W]=[],this.h++);var ue=oo(p,_,R,G);return-1<ue?(_=p[ue],w||(_.fa=!1)):(_=new Mi(_,this.src,W,!!R,G),_.fa=w,p.push(_)),_};function ro(p,_){var w=_.type;if(w in p.g){var R=p.g[w],G=Array.prototype.indexOf.call(R,_,void 0),W;(W=0<=G)&&Array.prototype.splice.call(R,G,1),W&&(Zs(_),p.g[w].length==0&&(delete p.g[w],p.h--))}}function oo(p,_,w,R){for(var G=0;G<p.length;++G){var W=p[G];if(!W.da&&W.listener==_&&W.capture==!!w&&W.ha==R)return G}return-1}var ao="closure_lm_"+(1e6*Math.random()|0),Jl={};function bh(p,_,w,R,G){if(Array.isArray(_)){for(var W=0;W<_.length;W++)bh(p,_[W],w,R,G);return null}return w=wh(w),p&&p[Ht]?p.K(_,w,d(R)?!!R.capture:!1,G):Xn(p,_,w,!1,R,G)}function Xn(p,_,w,R,G,W){if(!_)throw Error("Invalid event type");var ue=d(G)?!!G.capture:!!G,ze=va(p);if(ze||(p[ao]=ze=new fs(p)),w=ze.add(_,w,R,ue,W),w.proxy)return w;if(R=Vp(),w.proxy=R,R.src=p,R.listener=w,p.addEventListener)ye||(G=ue),G===void 0&&(G=!1),p.addEventListener(_.toString(),R,G);else if(p.attachEvent)p.attachEvent(lo(_.toString()),R);else if(p.addListener&&p.removeListener)p.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Vp(){function p(w){return _.call(p.src,p.listener,w)}const _=Lp;return p}function eu(p,_,w,R,G){if(Array.isArray(_))for(var W=0;W<_.length;W++)eu(p,_[W],w,R,G);else R=d(R)?!!R.capture:!!R,w=wh(w),p&&p[Ht]?(p=p.i,_=String(_).toString(),_ in p.g&&(W=p.g[_],w=oo(W,w,R,G),-1<w&&(Zs(W[w]),Array.prototype.splice.call(W,w,1),W.length==0&&(delete p.g[_],p.h--)))):p&&(p=va(p))&&(_=p.g[_.toString()],p=-1,_&&(p=oo(_,w,R,G)),(w=-1<p?_[p]:null)&&ya(w))}function ya(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[Ht])ro(_.i,p);else{var w=p.type,R=p.proxy;_.removeEventListener?_.removeEventListener(w,R,p.capture):_.detachEvent?_.detachEvent(lo(w),R):_.addListener&&_.removeListener&&_.removeListener(R),(w=va(_))?(ro(w,p),w.h==0&&(w.src=null,_[ao]=null)):Zs(p)}}}function lo(p){return p in Jl?Jl[p]:Jl[p]="on"+p}function Lp(p,_){if(p.da)p=!0;else{_=new Me(_,this);var w=p.listener,R=p.ha||p.src;p.fa&&ya(p),p=w.call(R,_)}return p}function va(p){return p=p[ao],p instanceof fs?p:null}var tu="__closure_events_fn_"+(1e9*Math.random()>>>0);function wh(p){return typeof p=="function"?p:(p[tu]||(p[tu]=function(_){return p.handleEvent(_)}),p[tu])}function gt(){ce.call(this),this.i=new fs(this),this.M=this,this.F=null}x(gt,ce),gt.prototype[Ht]=!0,gt.prototype.removeEventListener=function(p,_,w,R){eu(this,p,_,w,R)};function Ke(p,_){var w,R=p.F;if(R)for(w=[];R;R=R.F)w.push(R);if(p=p.M,R=_.type||_,typeof _=="string")_=new le(_,p);else if(_ instanceof le)_.target=_.target||p;else{var G=_;_=new le(R,p),V(_,G)}if(G=!0,w)for(var W=w.length-1;0<=W;W--){var ue=_.g=w[W];G=Nn(ue,R,!0,_)&&G}if(ue=_.g=p,G=Nn(ue,R,!0,_)&&G,G=Nn(ue,R,!1,_)&&G,w)for(W=0;W<w.length;W++)ue=_.g=w[W],G=Nn(ue,R,!1,_)&&G}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var w=p.g[_],R=0;R<w.length;R++)Zs(w[R]);delete p.g[_],p.h--}}this.F=null},gt.prototype.K=function(p,_,w,R){return this.i.add(String(p),_,!1,w,R)},gt.prototype.L=function(p,_,w,R){return this.i.add(String(p),_,!0,w,R)};function Nn(p,_,w,R){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,W=0;W<_.length;++W){var ue=_[W];if(ue&&!ue.da&&ue.capture==w){var ze=ue.listener,zt=ue.ha||ue.src;ue.fa&&ro(p.i,ue),G=ze.call(zt,R)!==!1&&G}}return G&&!R.defaultPrevented}function hn(p,_,w){if(typeof p=="function")w&&(p=b(p,w));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(p,_||0)}function Th(p){p.g=hn(()=>{p.g=null,p.i&&(p.i=!1,Th(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class Up extends ce{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Th(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(p){ce.call(this),this.h=p,this.g={}}x(uo,ce);var co=[];function ho(p){ae(p.g,function(_,w){this.g.hasOwnProperty(w)&&ya(_)},p),p.g={}}uo.prototype.N=function(){uo.aa.N.call(this),ho(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=h.JSON.stringify,_a=h.JSON.parse,fo=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function nu(){}nu.prototype.h=null;function iu(p){return p.h||(p.h=p.i())}function su(){}var ds={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ps(){le.call(this,"d")}x(ps,le);function ru(){le.call(this,"c")}x(ru,le);var ki={},ou=null;function Js(){return ou=ou||new gt}ki.La="serverreachability";function ba(p){le.call(this,ki.La,p)}x(ba,le);function er(p){const _=Js();Ke(_,new ba(_))}ki.STAT_EVENT="statevent";function Eh(p,_){le.call(this,ki.STAT_EVENT,p),this.stat=_}x(Eh,le);function at(p){const _=Js();Ke(_,new Eh(_,p))}ki.Ma="timingevent";function Ut(p,_){le.call(this,ki.Ma,p),this.size=_}x(Ut,le);function It(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},_)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function au(p,_,w,R,G,W){p.info(function(){if(p.g)if(W)for(var ue="",ze=W.split("&"),zt=0;zt<ze.length;zt++){var Be=ze[zt].split("=");if(1<Be.length){var $t=Be[0];Be=Be[1];var Bt=$t.split("_");ue=2<=Bt.length&&Bt[1]=="type"?ue+($t+"="+Be+"&"):ue+($t+"=redacted&")}}else ue=null;else ue=W;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+_+`
`+w+`
`+ue})}function zp(p,_,w,R,G,W,ue){p.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+_+`
`+w+`
`+W+" "+ue})}function tr(p,_,w,R){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+po(p,w)+(R?" "+R:"")})}function Sh(p,_){p.info(function(){return"TIMEOUT: "+_})}Qn.prototype.info=function(){};function po(p,_){if(!p.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(p=0;p<w.length;p++)if(Array.isArray(w[p])){var R=w[p];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var W=G[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ue=1;ue<G.length;ue++)G[ue]=""}}}}return mi(w)}catch{return _}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ms={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Oi;function Ni(){}x(Ni,nu),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},Oi=new Ni;function wn(p,_,w,R){this.j=p,this.i=_,this.l=w,this.R=R||1,this.U=new uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var lu={},wa={};function gi(p,_,w){p.L=1,p.v=_o(Vn(_)),p.m=w,p.P=!0,gs(p,null)}function gs(p,_){p.F=Date.now(),mo(p),p.A=Vn(p.v);var w=p.A,R=p.R;Array.isArray(R)||(R=[String(R)]),pu(w.i,"t",R),p.C=0,w=p.j.J,p.h=new Tt,p.g=Bh(p.j,w?_:null,!p.m),0<p.O&&(p.M=new Up(b(p.Y,p,p.g),p.O)),_=p.U,w=p.g,R=p.ca;var G="readystatechange";Array.isArray(G)||(G&&(co[0]=G.toString()),G=co);for(var W=0;W<G.length;W++){var ue=bh(w,G[W],R||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),er(),au(p.i,p.u,p.A,p.l,p.R,p.m)}wn.prototype.ca=function(p){p=p.target;const _=this.M;_&&ei(p)==3?_.j():this.Y(p)},wn.prototype.Y=function(p){try{if(p==this.g)e:{const Bt=ei(this.g);var _=this.g.Ba();const Ss=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Mh(this.g)))){this.J||Bt!=4||_==7||(_==8||0>=Ss?er(3):er(2)),ir(this);var w=this.g.Z();this.X=w;t:if(Ah(this)){var R=Mh(this.g);p="";var G=R.length,W=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),Vi(this);var ue="";break t}this.h.i=new h.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,p+=this.h.i.decode(R[_],{stream:!(W&&_==G-1)});R.length=0,this.h.g+=p,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=w==200,zp(this.i,this.u,this.A,this.l,this.R,Bt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,zt=this.g;if((ze=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ze)){var Be=ze;break t}}Be=null}if(w=Be)tr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,go(this,w);else{this.o=!1,this.s=3,at(12),Jt(this),Vi(this);break e}}if(this.P){w=!0;let en;for(;!this.J&&this.C<ue.length;)if(en=Rh(this,ue),en==wa){Bt==4&&(this.s=4,at(14),w=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(en==lu){this.s=4,at(15),tr(this.i,this.l,ue,"[Invalid Chunk]"),w=!1;break}else tr(this.i,this.l,en,null),go(this,en);if(Ah(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ue.length!=0||this.h.h||(this.s=1,at(16),w=!1),this.o=this.o&&w,!w)tr(this.i,this.l,ue,"[Invalid Chunked Response]"),Jt(this),Vi(this);else if(0<ue.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),xo($t),$t.M=!0,at(11))}}else tr(this.i,this.l,ue,null),go(this,ue);Bt==4&&Jt(this),this.o&&!this.J&&(Bt==4?Lh(this.j,this):(this.o=!1,mo(this)))}else Hp(this.g),w==400&&0<ue.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Jt(this),Vi(this)}}}catch{}finally{}};function Ah(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Rh(p,_){var w=p.C,R=_.indexOf(`
`,w);return R==-1?wa:(w=Number(_.substring(w,R)),isNaN(w)?lu:(R+=1,R+w>_.length?wa:(_=_.slice(R,R+w),p.C=R+w,_)))}wn.prototype.cancel=function(){this.J=!0,Jt(this)};function mo(p){p.S=Date.now()+p.I,xh(p,p.I)}function xh(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=It(b(p.ba,p),_)}function ir(p){p.B&&(h.clearTimeout(p.B),p.B=null)}wn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Sh(this.i,this.A),this.L!=2&&(er(),at(17)),Jt(this),this.s=2,Vi(this)):xh(this,this.S-p)};function Vi(p){p.j.G==0||p.J||Lh(p.j,p)}function Jt(p){ir(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,ho(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function go(p,_){try{var w=p.j;if(w.G!=0&&(w.g==p||uu(w.h,p))){if(!p.K&&uu(w.h,p)&&w.G==3){try{var R=w.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<p.F)ka(w),Pa(w);else break e;_u(w),at(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&w.v==0&&!w.C&&(w.C=It(b(w.Za,w),6e3));if(1>=Ea(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Es(w,11)}else if((p.K||w.g==p)&&ka(w),!j(_))for(G=w.Da.g.parse(_),_=0;_<G.length;_++){let Be=G[_];if(w.T=Be[0],Be=Be[1],w.G==2)if(Be[0]=="c"){w.K=Be[1],w.ia=Be[2];const $t=Be[3];$t!=null&&(w.la=$t,w.j.info("VER="+w.la));const Bt=Be[4];Bt!=null&&(w.Aa=Bt,w.j.info("SVER="+w.Aa));const Ss=Be[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(R=1.5*Ss,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const en=p.g;if(en){const qi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var W=R.h;W.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Sa(W,W.h),W.h=null))}if(R.D){const wu=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;wu&&(R.ya=wu,Qe(R.I,R.D,wu))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-p.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var ue=p;if(R.qa=zh(R,R.J?R.ia:null,R.W),ue.K){Tn(R.h,ue);var ze=ue,zt=R.L;zt&&(ze.I=zt),ze.B&&(ir(ze),mo(ze)),R.g=ue}else Nh(R);0<w.i.length&&Ma(w)}else Be[0]!="stop"&&Be[0]!="close"||Es(w,7);else w.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Es(w,7):yu(w):Be[0]!="noop"&&w.l&&w.l.ta(Be),w.v=0)}}er(4)}catch{}}var Ch=class{constructor(p,_){this.g=p,this.map=_}};function ys(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ea(p){return p.h?1:p.g?p.g.size:0}function uu(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function Sa(p,_){p.g?p.g.add(_):p.h=_}function Tn(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}ys.prototype.cancel=function(){if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function cu(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const w of p.g.values())_=_.concat(w.D);return _}return A(p.i)}function Bp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var _=[],w=p.length,R=0;R<w;R++)_.push(p[R]);return _}_=[],w=0;for(R in p)_[w++]=p[R];return _}function Aa(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var _=[];p=p.length;for(var w=0;w<p;w++)_.push(w);return _}_=[],w=0;for(const R in p)_[w++]=R;return _}}}function hu(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var w=Aa(p),R=Bp(p),G=R.length,W=0;W<G;W++)_.call(void 0,R[W],w&&w[W],p)}var yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jp(p,_){if(p){p=p.split("&");for(var w=0;w<p.length;w++){var R=p[w].indexOf("="),G=null;if(0<=R){var W=p[w].substring(0,R);G=p[w].substring(R+1)}else W=p[w];_(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Dt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Dt){this.h=p.h,vo(this,p.j),this.o=p.o,this.g=p.g,sr(this,p.s),this.l=p.l;var _=p.i,w=new _s;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),vs(this,w),this.m=p.m}else p&&(_=String(p).match(yo))?(this.h=!1,vo(this,_[1]||"",!0),this.o=Wn(_[2]||""),this.g=Wn(_[3]||"",!0),sr(this,_[4]),this.l=Wn(_[5]||"",!0),vs(this,_[6]||"",!0),this.m=Wn(_[7]||"")):(this.h=!1,this.i=new _s(null,this.h))}Dt.prototype.toString=function(){var p=[],_=this.j;_&&p.push(bo(_,fu,!0),":");var w=this.g;return(w||_=="file")&&(p.push("//"),(_=this.o)&&p.push(bo(_,fu,!0),"@"),p.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&p.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&p.push("/"),p.push(bo(w,w.charAt(0)=="/"?Fp:du,!0))),(w=this.i.toString())&&p.push("?",w),(w=this.m)&&p.push("#",bo(w,Ra)),p.join("")};function Vn(p){return new Dt(p)}function vo(p,_,w){p.j=w?Wn(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function sr(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function vs(p,_,w){_ instanceof _s?(p.i=_,Dh(p.i,p.h)):(w||(_=bo(_,qp)),p.i=new _s(_,p.h))}function Qe(p,_,w){p.i.set(_,w)}function _o(p){return Qe(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Wn(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function bo(p,_,w){return typeof p=="string"?(p=encodeURI(p).replace(_,Ih),w&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Ih(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var fu=/[#\/\?@]/g,du=/[#\?:]/g,Fp=/[#\?]/g,qp=/[#\?@]/g,Ra=/#/g;function _s(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function Zn(p){p.g||(p.g=new Map,p.h=0,p.i&&jp(p.i,function(_,w){p.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=_s.prototype,n.add=function(p,_){Zn(this),this.i=null,p=Li(this,p);var w=this.g.get(p);return w||this.g.set(p,w=[]),w.push(_),this.h+=1,this};function bs(p,_){Zn(p),_=Li(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function ws(p,_){return Zn(p),_=Li(p,_),p.g.has(_)}n.forEach=function(p,_){Zn(this),this.g.forEach(function(w,R){w.forEach(function(G){p.call(_,G,R,this)},this)},this)},n.na=function(){Zn(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let R=0;R<_.length;R++){const G=p[R];for(let W=0;W<G.length;W++)w.push(_[R])}return w},n.V=function(p){Zn(this);let _=[];if(typeof p=="string")ws(this,p)&&(_=_.concat(this.g.get(Li(this,p))));else{p=Array.from(this.g.values());for(let w=0;w<p.length;w++)_=_.concat(p[w])}return _},n.set=function(p,_){return Zn(this),this.i=null,p=Li(this,p),ws(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},n.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function pu(p,_,w){bs(p,_),0<w.length&&(p.i=null,p.g.set(Li(p,_),A(w)),p.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var R=_[w];const W=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var G=W;ue[R]!==""&&(G+="="+encodeURIComponent(String(ue[R]))),p.push(G)}}return this.i=p.join("&")};function Li(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Dh(p,_){_&&!p.j&&(Zn(p),p.i=null,p.g.forEach(function(w,R){var G=R.toLowerCase();R!=G&&(bs(this,R),pu(this,G,w))},p)),p.j=_}function wo(p,_){const w=new Qn;if(h.Image){const R=new Image;R.onload=E(Jn,w,"TestLoadImage: loaded",!0,_,R),R.onerror=E(Jn,w,"TestLoadImage: error",!1,_,R),R.onabort=E(Jn,w,"TestLoadImage: abort",!1,_,R),R.ontimeout=E(Jn,w,"TestLoadImage: timeout",!1,_,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=p}else _(!1)}function yi(p,_){const w=new Qn,R=new AbortController,G=setTimeout(()=>{R.abort(),Jn(w,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:R.signal}).then(W=>{clearTimeout(G),W.ok?Jn(w,"TestPingServer: ok",!0,_):Jn(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Jn(w,"TestPingServer: error",!1,_)})}function Jn(p,_,w,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(w)}catch{}}function To(){this.g=new fo}function Ui(p,_,w){const R=w||"";try{hu(p,function(G,W){let ue=G;d(G)&&(ue=mi(G)),_.push(R+W+"="+encodeURIComponent(ue))})}catch(G){throw _.push(R+"type="+encodeURIComponent("_badmap")),G}}function rr(p){this.l=p.Ub||null,this.j=p.eb||!1}x(rr,nu),rr.prototype.g=function(){return new Ts(this.l,this.j)},rr.prototype.i=(function(p){return function(){return p}})({});function Ts(p,_){gt.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ts,gt),n=Ts.prototype,n.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,Bi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function mu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?zi(this):Bi(this),this.readyState==3&&mu(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,zi(this))},n.Qa=function(p){this.g&&(this.response=p,zi(this))},n.ga=function(){this.g&&zi(this)};function zi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Bi(p)}n.setRequestHeader=function(p,_){this.u.append(p,_)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,p.push(w[0]+": "+w[1]),w=_.next();return p.join(`\r
`)};function Bi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function gu(p){let _="";return ae(p,function(w,R){_+=R,_+=":",_+=w,_+=`\r
`}),_}function Gt(p,_,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=gu(w),typeof p=="string"?w!=null&&encodeURIComponent(String(w)):Qe(p,_,w))}function Ge(p){gt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ge,gt);var xa=/^https?$/i,Eo=["POST","PUT"];n=Ge.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,_,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oi.g(),this.v=this.o?iu(this.o):iu(Oi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(W){Ph(this,W);return}if(p=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)w.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())w.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),G=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Eo,_,void 0))||R||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of w)this.g.setRequestHeader(W,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{So(this),this.u=!0,this.g.send(p),this.u=!1}catch(W){Ph(this,W)}};function Ph(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,Ca(p),ji(p)}function Ca(p){p.A||(p.A=!0,Ke(p,"complete"),Ke(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ke(this,"complete"),Ke(this,"abort"),ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},n.bb=function(){Ia(this)};function Ia(p){if(p.h&&typeof u<"u"&&(!p.v[1]||ei(p)!=4||p.Z()!=2)){if(p.u&&ei(p)==4)hn(p.Ea,0,p);else if(Ke(p,"readystatechange"),ei(p)==4){p.h=!1;try{const ue=p.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var R;if(R=ue===0){var G=String(p.D).match(yo)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),R=!xa.test(G?G.toLowerCase():"")}w=R}if(w)Ke(p,"complete"),Ke(p,"success");else{p.m=6;try{var W=2<ei(p)?p.g.statusText:""}catch{W=""}p.l=W+" ["+p.Z()+"]",Ca(p)}}finally{ji(p)}}}}function ji(p,_){if(p.g){So(p);const w=p.g,R=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||Ke(p,"ready");try{w.onreadystatechange=R}catch{}}}function So(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function ei(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),_a(_)}};function Mh(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Hp(p){const _={};p=(p.g&&2<=ei(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<p.length;R++){if(j(p[R]))continue;var w=B(p[R]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=_[G]||[];_[G]=W,W.push(w)}M(_,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(p,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[p]||_}function Da(p){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,p),this.cb=Ao("retryDelaySeedMs",1e4,p),this.Wa=Ao("forwardChannelMaxRetries",2,p),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ys(p&&p.concurrentRequestLimit),this.Da=new To,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Da.prototype,n.la=8,n.G=1,n.connect=function(p,_,w,R){at(0),this.W=p,this.H=_||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=zh(this,null,this.W),Ma(this)};function yu(p){if(kh(p),p.G==3){var _=p.U++,w=Vn(p.I);if(Qe(w,"SID",p.K),Qe(w,"RID",_),Qe(w,"TYPE","terminate"),Ro(p,w),_=new wn(p,p.j,_),_.L=2,_.v=_o(Vn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=_.v,w=!0),w||(_.g=Bh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),mo(_)}Uh(p)}function Pa(p){p.g&&(xo(p),p.g.cancel(),p.g=null)}function kh(p){Pa(p),p.u&&(h.clearTimeout(p.u),p.u=null),ka(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Ma(p){if(!Ta(p.h)&&!p.s){p.s=!0;var _=p.Ga;oe||L(),fe||(oe(),fe=!0),De.add(_,p),p.B=0}}function Gp(p,_){return Ea(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=It(b(p.Ga,p,_),bu(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const G=new wn(this,this.j,p);let W=this.o;if(this.S&&(W?(W=C(W),V(W,this.S)):W=this.S),this.m!==null||this.O||(G.H=W,W=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=Oh(this,G,_),w=Vn(this.I),Qe(w,"RID",p),Qe(w,"CVER",22),this.D&&Qe(w,"X-HTTP-Session-Id",this.D),Ro(this,w),W&&(this.O?_="headers="+encodeURIComponent(String(gu(W)))+"&"+_:this.m&&Gt(w,this.m,W)),Sa(this.h,G),this.Ua&&Qe(w,"TYPE","init"),this.P?(Qe(w,"$req",_),Qe(w,"SID","null"),G.T=!0,gi(G,w,null)):gi(G,w,_),this.G=2}}else this.G==3&&(p?vu(this,p):this.i.length==0||Ta(this.h)||vu(this))};function vu(p,_){var w;_?w=_.l:w=p.U++;const R=Vn(p.I);Qe(R,"SID",p.K),Qe(R,"RID",w),Qe(R,"AID",p.T),Ro(p,R),p.m&&p.o&&Gt(R,p.m,p.o),w=new wn(p,p.j,w,p.B+1),p.m===null&&(w.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Oh(p,w,1e3),w.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Sa(p.h,w),gi(w,R,_)}function Ro(p,_){p.H&&ae(p.H,function(w,R){Qe(_,R,w)}),p.l&&hu({},function(w,R){Qe(_,R,w)})}function Oh(p,_,w){w=Math.min(p.i.length,w);var R=p.l?b(p.l.Na,p.l,p):null;e:{var G=p.i;let W=-1;for(;;){const ue=["count="+w];W==-1?0<w?(W=G[0].g,ue.push("ofs="+W)):W=0:ue.push("ofs="+W);let ze=!0;for(let zt=0;zt<w;zt++){let Be=G[zt].g;const $t=G[zt].map;if(Be-=W,0>Be)W=Math.max(0,G[zt].g-100),ze=!1;else try{Ui($t,ue,"req"+Be+"_")}catch{R&&R($t)}}if(ze){R=ue.join("&");break e}}}return p=p.i.splice(0,w),_.D=p,R}function Nh(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;oe||L(),fe||(oe(),fe=!0),De.add(_,p),p.v=0}}function _u(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=It(b(p.Fa,p),bu(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Vh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=It(b(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Pa(this),Vh(this))};function xo(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function Vh(p){p.g=new wn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Vn(p.qa);Qe(_,"RID","rpc"),Qe(_,"SID",p.K),Qe(_,"AID",p.T),Qe(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&Qe(_,"TO",p.ja),Qe(_,"TYPE","xmlhttp"),Ro(p,_),p.m&&p.o&&Gt(_,p.m,p.o),p.L&&(p.g.I=p.L);var w=p.g;p=p.ia,w.L=1,w.v=_o(Vn(_)),w.m=null,w.P=!0,gs(w,p)}n.Za=function(){this.C!=null&&(this.C=null,Pa(this),_u(this),at(19))};function ka(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function Lh(p,_){var w=null;if(p.g==_){ka(p),xo(p),p.g=null;var R=2}else if(uu(p.h,_))w=_.D,Tn(p.h,_),R=1;else return;if(p.G!=0){if(_.o)if(R==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var G=p.B;R=Js(),Ke(R,new Ut(R,w)),Ma(p)}else Nh(p);else if(G=_.s,G==3||G==0&&0<_.X||!(R==1&&Gp(p,_)||R==2&&_u(p)))switch(w&&0<w.length&&(_=p.h,_.i=_.i.concat(w)),G){case 1:Es(p,5);break;case 4:Es(p,10);break;case 3:Es(p,6);break;default:Es(p,2)}}}function bu(p,_){let w=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(w*=2),w*_}function Es(p,_){if(p.j.info("Error code "+_),_==2){var w=b(p.fb,p),R=p.Xa;const G=!R;R=new Dt(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||vo(R,"https"),_o(R),G?wo(R.toString(),w):yi(R.toString(),w)}else at(2);p.G=0,p.l&&p.l.sa(_),Uh(p),kh(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Uh(p){if(p.G=0,p.ka=[],p.l){const _=cu(p.h);(_.length!=0||p.i.length!=0)&&(I(p.ka,_),I(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function zh(p,_,w){var R=w instanceof Dt?Vn(w):new Dt(w);if(R.g!="")_&&(R.g=_+"."+R.g),sr(R,R.s);else{var G=h.location;R=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var W=new Dt(null);R&&vo(W,R),_&&(W.g=_),G&&sr(W,G),w&&(W.l=w),R=W}return w=p.D,_=p.ya,w&&_&&Qe(R,w,_),Qe(R,"VER",p.la),Ro(p,R),R}function Bh(p,_,w){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new Ge(new rr({eb:w})):new Ge(p.pa),_.Ha(p.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function jh(){}n=jh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Oa(){}Oa.prototype.g=function(p,_){return new En(p,_)};function En(p,_){gt.call(this),this.g=new Da(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!j(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!j(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Fi(this)}x(En,gt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){yu(this.g)},En.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var w={};w.__data__=p,p=w}else this.u&&(w={},w.__data__=mi(p),p=w);_.i.push(new Ch(_.Ya++,p)),_.G==3&&Ma(_)},En.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,En.aa.N.call(this)};function Fh(p){ps.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const w in _){p=w;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}x(Fh,ps);function qh(){ru.call(this),this.status=1}x(qh,ru);function Fi(p){this.g=p}x(Fi,jh),Fi.prototype.ua=function(){Ke(this.g,"a")},Fi.prototype.ta=function(p){Ke(this.g,new Fh(p))},Fi.prototype.sa=function(p){Ke(this.g,new qh)},Fi.prototype.ra=function(){Ke(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,KC=function(){return new Oa},$C=function(){return Js()},GC=ki,vv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,yd=nr,ms.COMPLETE="complete",HC=ms,su.EventType=ds,ds.OPEN="a",ds.CLOSE="b",ds.ERROR="c",ds.MESSAGE="d",gt.prototype.listen=gt.prototype.K,mc=su,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,qC=Ge}).apply(typeof Wf<"u"?Wf:typeof self<"u"?self:typeof window<"u"?window:{});const dA="@firebase/firestore",pA="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new O_("@firebase/firestore");function hl(){return la.logLevel}function de(n,...e){if(la.logLevel<=Ve.DEBUG){const t=e.map($_);la.debug(`Firestore (${Yl}): ${n}`,...t)}}function Xs(n,...e){if(la.logLevel<=Ve.ERROR){const t=e.map($_);la.error(`Firestore (${Yl}): ${n}`,...t)}}function Ol(n,...e){if(la.logLevel<=Ve.WARN){const t=e.map($_);la.warn(`Firestore (${Yl}): ${n}`,...t)}}function $_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,YC(n,i,t)}function YC(n,e,t){let i=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Xs(i),new Error(i)}function $e(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||YC(e,r,i)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends hs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(mn.UNAUTHENTICATED)))}shutdown(){}}class H5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class G5{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Jo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Jo,e.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jo)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new XC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class $5{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K5{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new $5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mA(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=X5(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function _v(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),a=e.charAt(i);if(r!==a)return Cy(r)===Cy(a)?Le(r,a):Cy(r)?1:-1}return Le(n.length,e.length)}const Q5=55296,W5=57343;function Cy(n){const e=n.charCodeAt(0);return e>=Q5&&e<=W5}function Nl(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="__name__";class Xi{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Te(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=Xi.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Le(e.length,t.length)}static compareSegments(e,t){const i=Xi.isNumericId(e),r=Xi.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Xi.extractNumericId(e).compare(Xi.extractNumericId(t)):_v(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class it extends Xi{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const Z5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Xi{construct(e,t,i){return new ln(e,t,i)}static isValidIdentifier(e){return Z5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gA}static keyField(){return new ln([gA])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(a(),r++)}if(a(),u)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(n,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function J5(n,e,t,i){if(e===!0&&i===!0)throw new he(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yA(n){if(!ge.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vA(n){if(ge.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function gp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Fr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gp(n);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function dh(n,e){if(!WC(n))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(r&&typeof u!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new he(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=-62135596800,bA=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*bA);return new rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_A)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bA}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dh(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_A;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Vt("string",rt._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new rt(0,0))}static max(){return new Re(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=-1;function ej(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Re.fromTimestamp(i===1e9?new rt(t+1,0):new rt(t,i));return new Kr(r,ge.empty(),e)}function tj(n){return new Kr(n.readTime,n.key,$c)}class Kr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Kr(Re.min(),ge.empty(),$c)}static max(){return new Kr(Re.max(),ge.empty(),$c)}}function nj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==ij)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,i)=>{t(e)}))}static reject(e){return new se(((t,i)=>{i(e)}))}static waitFor(e){return new se(((t,i)=>{let r=0,a=0,u=!1;e.forEach((h=>{++r,h.next((()=>{++a,u&&a===r&&t()}),(f=>i(f)))})),u=!0,a===r&&t()}))}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next((r=>r?se.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,a)=>{i.push(t.call(this,r,a))})),this.waitFor(i)}static mapArray(e,t){return new se(((i,r)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++h,h===a&&i(u)}),(g=>r(g)))}}))}static doWhile(e,t){return new se(((i,r)=>{const a=()=>{e()===!0?t().next((()=>{a()}),r):i()};a()}))}}function rj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ql(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=-1;function vp(n){return n==null}function qd(n){return n===0&&1/n==-1/0}function oj(n){return typeof n=="number"&&Number.isInteger(n)&&!qd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="";function aj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wA(e)),e=lj(n.get(t),e);return wA(e)}function lj(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case ZC:t+="";break;default:t+=a}}return t}function wA(n){return n+ZC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function io(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zf(this.root,e,this.comparator,!0)}}class Zf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??on.RED,this.left=r??on.EMPTY,this.right=a??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new on(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return on.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EA(this.data.getIterator())}getIteratorFrom(e){return new EA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class EA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new qt(ln.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eI("Invalid base64 string: "+a):a}})(e);return new cn(t)}static fromUint8Array(e){const t=(function(r){let a="";for(let u=0;u<r.length;++u)a+=String.fromCharCode(r[u]);return a})(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const uj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(n){if($e(!!n,39018),typeof n=="string"){let e=0;const t=uj.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xr(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="server_timestamp",nI="__type__",iI="__previous_value__",sI="__local_write_time__";function X_(n){return(n?.mapValue?.fields||{})[nI]?.stringValue===tI}function _p(n){const e=n.mapValue.fields[iI];return X_(e)?_p(e):e}function Kc(n){const e=Yr(n.mapValue.fields[sI].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,t,i,r,a,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const Hd="(default)";class Yc{constructor(e,t){this.projectId=e,this.database=t||Hd}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="__type__",hj="__max__",Jf={mapValue:{}},oI="__vector__",Gd="value";function Qr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X_(n)?4:dj(n)?9007199254740991:fj(n)?10:11:Te(28295,{value:n})}function as(n,e){if(n===e)return!0;const t=Qr(n);if(t!==Qr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kc(n).isEqual(Kc(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const u=Yr(r.timestampValue),h=Yr(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,a){return Xr(r.bytesValue).isEqual(Xr(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,a){return Rt(r.geoPointValue.latitude)===Rt(a.geoPointValue.latitude)&&Rt(r.geoPointValue.longitude)===Rt(a.geoPointValue.longitude)})(n,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return Rt(r.integerValue)===Rt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const u=Rt(r.doubleValue),h=Rt(a.doubleValue);return u===h?qd(u)===qd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Nl(n.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return(function(r,a){const u=r.mapValue.fields||{},h=a.mapValue.fields||{};if(TA(u)!==TA(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!as(u[f],h[f])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function Xc(n,e){return(n.values||[]).find((t=>as(t,e)))!==void 0}function Vl(n,e){if(n===e)return 0;const t=Qr(n),i=Qr(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Rt(a.integerValue||a.doubleValue),f=Rt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return SA(n.timestampValue,e.timestampValue);case 4:return SA(Kc(n),Kc(e));case 5:return _v(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Xr(a),f=Xr(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=Le(h[d],f[d]);if(g!==0)return g}return Le(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Le(Rt(a.latitude),Rt(u.latitude));return h!==0?h:Le(Rt(a.longitude),Rt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return AA(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},d=h[Gd]?.arrayValue,g=f[Gd]?.arrayValue,v=Le(d?.values?.length||0,g?.values?.length||0);return v!==0?v:AA(d,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Jf.mapValue&&u===Jf.mapValue)return 0;if(a===Jf.mapValue)return 1;if(u===Jf.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const b=_v(f[v],g[v]);if(b!==0)return b;const E=Vl(h[f[v]],d[g[v]]);if(E!==0)return E}return Le(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function SA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Yr(n),i=Yr(e),r=Le(t.seconds,i.seconds);return r!==0?r:Le(t.nanos,i.nanos)}function AA(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Vl(t[r],i[r]);if(a)return a}return Le(t.length,i.length)}function Ll(n){return bv(n)}function bv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Yr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Xr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ge.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=bv(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const u of i)a?a=!1:r+=",",r+=`${u}:${bv(t.fields[u])}`;return r+"}"})(n.mapValue):Te(61005,{value:n})}function vd(n){switch(Qr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_p(n);return e?16+vd(e):16;case 5:return 2*n.stringValue.length;case 6:return Xr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+vd(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return io(i.fields,((a,u)=>{r+=a.length+vd(u)})),r})(n.mapValue);default:throw Te(13486,{value:n})}}function RA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wv(n){return!!n&&"integerValue"in n}function Q_(n){return!!n&&"arrayValue"in n}function xA(n){return!!n&&"nullValue"in n}function CA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _d(n){return!!n&&"mapValue"in n}function fj(n){return(n?.mapValue?.fields||{})[rI]?.stringValue===oI}function Cc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return io(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Cc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cc(n.arrayValue.values[t]);return e}return{...n}}function dj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===hj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!_d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(t)}setAll(e){let t=ln.emptyPath(),i={},r=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=Cc(u):r.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());_d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];_d(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){io(t,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new Mn(Cc(this.value))}}function aI(n){const e=[];return io(n.fields,((t,i)=>{const r=new ln([t]);if(_d(i)){const a=aI(i.mapValue).fields;if(a.length===0)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t,i,r,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new gn(e,0,Re.min(),Re.min(),Re.min(),Mn.empty(),0)}static newFoundDocument(e,t,i,r){return new gn(e,1,t,Re.min(),i,r,0)}static newNoDocument(e,t){return new gn(e,2,t,Re.min(),Re.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new gn(e,3,t,Re.min(),Re.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t){this.position=e,this.inclusive=t}}function IA(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(a.field.isKeyField()?i=ge.comparator(ge.fromName(u.referenceValue),t.key):i=Vl(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function DA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!as(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function pj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{}class Nt extends lI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new gj(e,t,i):t==="array-contains"?new _j(e,i):t==="in"?new bj(e,i):t==="not-in"?new wj(e,i):t==="array-contains-any"?new Tj(e,i):new Nt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new yj(e,i):new vj(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Vl(t,this.value)):t!==null&&Qr(this.value)===Qr(t)&&this.matchesComparison(Vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends lI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Pi(e,t)}matches(e){return uI(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uI(n){return n.op==="and"}function cI(n){return mj(n)&&uI(n)}function mj(n){for(const e of n.filters)if(e instanceof Pi)return!1;return!0}function Tv(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+Ll(n.value);if(cI(n))return n.filters.map((e=>Tv(e))).join(",");{const e=n.filters.map((t=>Tv(t))).join(",");return`${n.op}(${e})`}}function hI(n,e){return n instanceof Nt?(function(i,r){return r instanceof Nt&&i.op===r.op&&i.field.isEqual(r.field)&&as(i.value,r.value)})(n,e):n instanceof Pi?(function(i,r){return r instanceof Pi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,u,h)=>a&&hI(u,r.filters[h])),!0):!1})(n,e):void Te(19439)}function fI(n){return n instanceof Nt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ll(t.value)}`})(n):n instanceof Pi?(function(t){return t.op.toString()+" {"+t.getFilters().map(fI).join(" ,")+"}"})(n):"Filter"}class gj extends Nt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class yj extends Nt{constructor(e,t){super(e,"in",t),this.keys=dI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vj extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=dI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function dI(n,e){return(e.arrayValue?.values||[]).map((t=>ge.fromName(t.referenceValue)))}class _j extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Q_(t)&&Xc(t.arrayValue,this.value)}}class bj extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xc(this.value.arrayValue,t)}}class wj extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xc(this.value.arrayValue,t)}}class Tj extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Q_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Xc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,t=null,i=[],r=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function PA(n,e=null,t=[],i=[],r=null,a=null,u=null){return new Ej(n,e,t,i,r,a,u)}function W_(n){const e=xe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Tv(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),vp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ll(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ll(i))).join(",")),e.Te=t}return e.Te}function Z_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DA(n.startAt,e.startAt)&&DA(n.endAt,e.endAt)}function Ev(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t=null,i=[],r=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sj(n,e,t,i,r,a,u,h){return new Wl(n,e,t,i,r,a,u,h)}function J_(n){return new Wl(n)}function MA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pI(n){return n.collectionGroup!==null}function Ic(n){const e=xe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new qt(ln.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Qc(a,i))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new Qc(ln.keyField(),i))}return e.Ie}function is(n){const e=xe(n);return e.Ee||(e.Ee=Aj(e,Ic(n))),e.Ee}function Aj(n,e){if(n.limitType==="F")return PA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new Qc(r.field,a)}));const t=n.endAt?new $d(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new $d(n.startAt.position,n.startAt.inclusive):null;return PA(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Sv(n,e){const t=n.filters.concat([e]);return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Av(n,e,t){return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bp(n,e){return Z_(is(n),is(e))&&n.limitType===e.limitType}function mI(n){return`${W_(is(n))}|lt:${n.limitType}`}function fl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>fI(r))).join(", ")}]`),vp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ll(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ll(r))).join(",")),`Target(${i})`})(is(n))}; limitType=${n.limitType})`}function wp(n,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ge.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,r){for(const a of Ic(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(u,h,f){const d=IA(u,h,f);return u.inclusive?d<=0:d<0})(i.startAt,Ic(i),r)||i.endAt&&!(function(u,h,f){const d=IA(u,h,f);return u.inclusive?d>=0:d>0})(i.endAt,Ic(i),r))})(n,e)}function Rj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gI(n){return(e,t)=>{let i=!1;for(const r of Ic(n)){const a=xj(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function xj(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):(function(a,u,h){const f=u.data.field(a),d=h.data.field(a);return f!==null&&d!==null?Vl(f,d):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,((t,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return JC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new mt(ge.comparator);function Qs(){return Cj}const yI=new mt(ge.comparator);function gc(...n){let e=yI;for(const t of n)e=e.insert(t.key,t);return e}function vI(n){let e=yI;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Qo(){return Dc()}function _I(){return Dc()}function Dc(){return new pa((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Ij=new mt(ge.comparator),Dj=new qt(ge.comparator);function Ue(...n){let e=Dj;for(const t of n)e=e.add(t);return e}const Pj=new qt(Le);function Mj(){return Pj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function bI(n){return{integerValue:""+n}}function kj(n,e){return oj(e)?bI(e):eb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this._=void 0}}function Oj(n,e,t){return n instanceof Wc?(function(r,a){const u={fields:{[nI]:{stringValue:tI},[sI]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&X_(a)&&(a=_p(a)),a&&(u.fields[iI]=a),{mapValue:u}})(t,e):n instanceof Zc?TI(n,e):n instanceof Jc?EI(n,e):(function(r,a){const u=wI(r,a),h=kA(u)+kA(r.Ae);return wv(u)&&wv(r.Ae)?bI(h):eb(r.serializer,h)})(n,e)}function Nj(n,e,t){return n instanceof Zc?TI(n,e):n instanceof Jc?EI(n,e):t}function wI(n,e){return n instanceof Kd?(function(i){return wv(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Wc extends Tp{}class Zc extends Tp{constructor(e){super(),this.elements=e}}function TI(n,e){const t=SI(e);for(const i of n.elements)t.some((r=>as(r,i)))||t.push(i);return{arrayValue:{values:t}}}class Jc extends Tp{constructor(e){super(),this.elements=e}}function EI(n,e){let t=SI(e);for(const i of n.elements)t=t.filter((r=>!as(r,i)));return{arrayValue:{values:t}}}class Kd extends Tp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function kA(n){return Rt(n.integerValue||n.doubleValue)}function SI(n){return Q_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,t){this.field=e,this.transform=t}}function Lj(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof Zc&&r instanceof Zc||i instanceof Jc&&r instanceof Jc?Nl(i.elements,r.elements,as):i instanceof Kd&&r instanceof Kd?as(i.Ae,r.Ae):i instanceof Wc&&r instanceof Wc})(n.transform,e.transform)}class Uj{constructor(e,t){this.version=e,this.transformResults=t}}class Ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ep{}function AI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new tb(n.key,Ri.none()):new ph(n.key,n.data,Ri.none());{const t=n.data,i=Mn.empty();let r=new qt(ln.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),r=r.add(a)}return new so(n.key,i,new Gn(r.toArray()),Ri.none())}}function zj(n,e,t){n instanceof ph?(function(r,a,u){const h=r.value.clone(),f=NA(r.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof so?(function(r,a,u){if(!bd(r.precondition,a))return void a.convertToUnknownDocument(u.version);const h=NA(r.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(RI(r)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(r,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Pc(n,e,t,i){return n instanceof ph?(function(a,u,h,f){if(!bd(a.precondition,u))return h;const d=a.value.clone(),g=VA(a.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof so?(function(a,u,h,f){if(!bd(a.precondition,u))return h;const d=VA(a.fieldTransforms,f,u),g=u.data;return g.setAll(RI(a)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(a,u,h){return bd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function Bj(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=wI(i.transform,r||null);a!=null&&(t===null&&(t=Mn.empty()),t.set(i.field,a))}return t||null}function OA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Nl(i,r,((a,u)=>Lj(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ph extends Ep{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class so extends Ep{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function RI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function NA(n,e,t){const i=new Map;$e(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,h=e.data.field(a.field);i.set(a.field,Nj(u,h,t[r]))}return i}function VA(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,Oj(a,u,e))}return i}class tb extends Ep{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jj extends Ep{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&zj(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Pc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Pc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=_I();return this.mutations.forEach((r=>{const a=e.get(r.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(r.key)?null:h;const f=AI(u,h);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,((t,i)=>OA(t,i)))&&Nl(this.baseMutations,e.baseMutations,((t,i)=>OA(t,i)))}}class nb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){$e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return Ij})();const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new nb(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Fe;function Gj(n){switch(n){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function xI(n){if(n===void 0)return Xs("GRPC error has no .code"),ne.UNKNOWN;switch(n){case kt.OK:return ne.OK;case kt.CANCELLED:return ne.CANCELLED;case kt.UNKNOWN:return ne.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ne.INTERNAL;case kt.UNAVAILABLE:return ne.UNAVAILABLE;case kt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case kt.NOT_FOUND:return ne.NOT_FOUND;case kt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case kt.ABORTED:return ne.ABORTED;case kt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case kt.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:n})}}(Fe=kt||(kt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=new jr([4294967295,4294967295],0);function LA(n){const e=$j().encode(n),t=new FC;return t.update(e),new Uint8Array(t.digest())}function UA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new jr([t,i],0),new jr([r,a],0)]}class ib{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new yc(`Invalid padding: ${t}`);if(i<0)throw new yc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new yc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new yc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=jr.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(jr.fromNumber(i)));return r.compare(Kj)===1&&(r=new jr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=LA(e),[i,r]=UA(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);if(!this.we(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new ib(a,r,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=LA(e),[i,r]=UA(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Sp(Re.min(),r,new mt(Le),Qs(),Ue())}}class mh{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new mh(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,i,r){this.be=e,this.removedTargetIds=t,this.key=i,this.De=r}}class CI{constructor(e,t){this.targetId=e,this.Ce=t}}class II{constructor(e,t,i=cn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class zA{constructor(){this.ve=0,this.Fe=BA(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),i=Ue();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Te(38017,{changeType:a})}})),new mh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=BA()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Yj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qs(),this.Je=ed(),this.He=ed(),this.Ye=new mt(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(Ev(a))if(i===0){const u=new ge(a.path);this.et(t,u,gn.newNoDocument(u,Re.min()))}else $e(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let u,h;try{u=Xr(i).toUint8Array()}catch(f){if(f instanceof eI)return Ol("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new ib(u,r,a)}catch(f){return Ol(f instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&Ev(h.target)){const f=new ge(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,gn.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let i=Ue();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const r=new Sp(e,t,this.Ye,this.je,i);return this.je=Qs(),this.Je=ed(),this.He=ed(),this.Ye=new mt(Le),r}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new zA,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zA),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ed(){return new mt(ge.comparator)}function BA(){return new mt(ge.comparator)}const Xj={asc:"ASCENDING",desc:"DESCENDING"},Qj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wj={and:"AND",or:"OR"};class Zj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rv(n,e){return n.useProto3Json||vp(e)?e:{value:e}}function Yd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Jj(n,e){return Yd(n,e.toTimestamp())}function ss(n){return $e(!!n,49232),Re.fromTimestamp((function(t){const i=Yr(t);return new rt(i.seconds,i.nanos)})(n))}function sb(n,e){return xv(n,e).canonicalString()}function xv(n,e){const t=(function(r){return new it(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function PI(n){const e=it.fromString(n);return $e(VI(e),10190,{key:e.toString()}),e}function Cv(n,e){return sb(n.databaseId,e.path)}function Iy(n,e){const t=PI(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(kI(t))}function MI(n,e){return sb(n.databaseId,e)}function eF(n){const e=PI(n);return e.length===4?it.emptyPath():kI(e)}function Iv(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kI(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function jA(n,e,t){return{name:Cv(n,e),fields:t.value.mapValue.fields}}function tF(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Te(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(d,g){return d.useProto3Json?($e(g===void 0||typeof g=="string",58123),cn.fromBase64String(g||"")):($e(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),cn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(d){const g=d.code===void 0?ne.UNKNOWN:xI(d.code);return new he(g,d.message||"")})(u);t=new II(i,r,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Iy(n,i.document.name),a=ss(i.document.updateTime),u=i.document.createTime?ss(i.document.createTime):Re.min(),h=new Mn({mapValue:{fields:i.document.fields}}),f=gn.newFoundDocument(r,a,u,h),d=i.targetIds||[],g=i.removedTargetIds||[];t=new wd(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Iy(n,i.document),a=i.readTime?ss(i.readTime):Re.min(),u=gn.newNoDocument(r,a),h=i.removedTargetIds||[];t=new wd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Iy(n,i.document),a=i.removedTargetIds||[];t=new wd([],a,r,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,u=new Hj(r,a),h=i.targetId;t=new CI(h,u)}}return t}function nF(n,e){let t;if(e instanceof ph)t={update:jA(n,e.key,e.value)};else if(e instanceof tb)t={delete:Cv(n,e.key)};else if(e instanceof so)t={update:jA(n,e.key,e.data),updateMask:hF(e.fieldMask)};else{if(!(e instanceof jj))return Te(16599,{Vt:e.type});t={verify:Cv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const h=u.transform;if(h instanceof Wc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Jc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Kd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:Jj(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)})(n,e.precondition)),t}function iF(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map((t=>(function(r,a){let u=r.updateTime?ss(r.updateTime):ss(a);return u.isEqual(Re.min())&&(u=ss(a)),new Uj(u,r.transformResults||[])})(t,e)))):[]}function sF(n,e){return{documents:[MI(n,e.path)]}}function rF(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=MI(n,r);const a=(function(d){if(d.length!==0)return NI(Pi.create(d,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(d){if(d.length!==0)return d.map((g=>(function(b){return{field:dl(b.field),direction:lF(b.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Rv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:r}}function oF(n){let e=eF(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){$e(i===1,65062);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(v){const b=OI(v);return b instanceof Pi&&cI(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((b=>(function(x){return new Qc(pl(x.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(b)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let b;return b=typeof v=="object"?v.value:v,vp(b)?null:b})(t.limit));let f=null;t.startAt&&(f=(function(v){const b=!!v.before,E=v.values||[];return new $d(E,b)})(t.startAt));let d=null;return t.endAt&&(d=(function(v){const b=!v.before,E=v.values||[];return new $d(E,b)})(t.endAt)),Sj(e,r,u,a,h,"F",f,d)}function aF(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OI(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=pl(t.unaryFilter.field);return Nt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=pl(t.unaryFilter.field);return Nt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pl(t.unaryFilter.field);return Nt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=pl(t.unaryFilter.field);return Nt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Nt.create(pl(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Pi.create(t.compositeFilter.filters.map((i=>OI(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function lF(n){return Xj[n]}function uF(n){return Qj[n]}function cF(n){return Wj[n]}function dl(n){return{fieldPath:n.canonicalString()}}function pl(n){return ln.fromServerFormat(n.fieldPath)}function NI(n){return n instanceof Nt?(function(t){if(t.op==="=="){if(CA(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NAN"}};if(xA(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CA(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NOT_NAN"}};if(xA(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(t.field),op:uF(t.op),value:t.value}}})(n):n instanceof Pi?(function(t){const i=t.getFilters().map((r=>NI(r)));return i.length===1?i[0]:{compositeFilter:{op:cF(t.op),filters:i}}})(n):Te(54877,{filter:n})}function hF(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function VI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,t,i,r,a=Re.min(),u=Re.min(),h=cn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.yt=e}}function dF(n){const e=oF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Av(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.Cn=new mF}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Kr.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class mF{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new qt(it.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new qt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LI=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(LI,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ul(0)}static cr(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="LruGarbageCollector",gF=1048576;function HA([n,e],[t,i]){const r=Le(n,t);return r===0?Le(e,i):r}class yF{constructor(e){this.Ir=e,this.buffer=new qt(HA),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();HA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vF{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(qA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ql(t)?de(qA,"Ignoring IndexedDB error during garbage collection: ",t):await Xl(t)}await this.Vr(3e5)}))}}class _F{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(yp.ce);const i=new yF(t);return this.mr.forEachTarget(e,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(FA)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FA):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,r,a,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(e,r)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,t)))).next((v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(d=Date.now(),hl()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v}))))}}function bF(n,e){return new _F(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.changes=new pa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&Pc(i.mutation,r,Gn.empty(),rt.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ue()){const r=Qo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((a=>{let u=gc();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=Qo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ue())))}populateOverlays(e,t,i){const r=[];return i.forEach((a=>{t.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,r){let a=Qs();const u=Dc(),h=(function(){return Dc()})();return t.forEach(((f,d)=>{const g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof so)?a=a.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Pc(g.mutation,d,g.mutation.getFieldMask(),rt.now())):u.set(d.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>h.set(d,new TF(g,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Dc();let r=new mt(((u,h)=>u-h)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=i.get(f)||Gn.empty();g=h.applyToLocalView(d,g),i.set(f,g);const v=(r.get(h.batchId)||Ue()).add(f);r=r.insert(h.batchId,v)}))})).next((()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,v=_I();g.forEach((b=>{if(!a.has(b)){const E=AI(t.get(b),i.get(b));E!==null&&v.set(b,E),a=a.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return se.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Qo());let h=$c,f=a;return u.next((d=>se.forEach(d,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),a.get(g)?se.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{f=f.insert(g,b)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,f,d,Ue()))).next((g=>({batchId:h,changes:vI(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((i=>{let r=gc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let u=gc();return this.indexManager.getCollectionParents(e,a).next((h=>se.forEach(h,(f=>{const d=(function(v,b){return new Wl(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next((g=>{g.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r)))).next((u=>{a.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,gn.newInvalidDocument(g)))}));let h=gc();return u.forEach(((f,d)=>{const g=a.get(f);g!==void 0&&Pc(g.mutation,d,Gn.empty(),rt.now()),wp(t,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:ss(r.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:dF(r.bundledQuery),readTime:ss(r.readTime)}})(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.overlays=new mt(ge.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Qo();return se.forEach(t,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,a)=>{this.St(e,t,a)})),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Qo(),a=t.length+1,u=new ge(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>i&&r.set(f.getKey(),f)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new mt(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=a.get(d.largestBatchId);g===null&&(g=Qo(),a=a.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=Qo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>h.set(d,g))),!(h.size()>=r)););return se.resolve(h)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new qj(t,i));let a=this.qr.get(t);a===void 0&&(a=Ue(),this.qr.set(t,a)),this.qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.Qr=new qt(Qt.$r),this.Ur=new qt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Qt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ge(new it([])),i=new Qt(t,e),r=new Qt(t,e+1),a=[];return this.Ur.forEachInRange([i,r],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new it([])),i=new Qt(t,e),r=new Qt(t,e+1);let a=Ue();return this.Ur.forEachInRange([i,r],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Qt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Qt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Fj(a,t,i,r);this.mutationQueue.push(u);for(const h of r)this.Zr=this.Zr.add(new Qt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ei(i),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Y_:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qt(t,0),r=new Qt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],(u=>{const h=this.Xr(u.Yr);a.push(h)})),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qt(Le);return t.forEach((r=>{const a=new Qt(r,0),u=new Qt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{i=i.add(h.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;ge.isDocumentKey(a)||(a=a.child(""));const u=new Qt(new ge(a),0);let h=new qt(Le);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(h=h.add(f.Yr)),!0)}),u),se.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const r=this.Xr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){$e(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(t.mutations,(r=>{const a=new Qt(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Qt(t,0),r=this.Zr.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.ri=e,this.docs=(function(){return new mt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let i=Qs();return t.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():gn.newInvalidDocument(r))})),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Qs();const u=t.path,h=new ge(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||nj(tj(g),i)<=0||(r.has(g.key)||wp(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Te(9500)}ii(e,t){return se.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new IF(this)}getSize(e){return se.resolve(this.size)}}class IF extends wF{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.persistence=e,this.si=new pa((t=>W_(t)),Z_),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new rb,this.targetCount=0,this.ai=Ul.ur()}forEachTarget(e,t){return this.si.forEach(((i,r)=>t(r))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ul(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),se.waitFor(a).next((()=>r))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((u=>{a.push(r.markPotentiallyOrphaned(e,u))})),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t){this.ui={},this.overlays={},this.ci=new yp(0),this.li=!1,this.li=!0,this.hi=new RF,this.referenceDelegate=e(this),this.Pi=new DF(this),this.indexManager=new pF,this.remoteDocumentCache=(function(r){return new CF(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new fF(t),this.Ii=new SF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new xF(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const r=new PF(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((a=>this.referenceDelegate.di(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ai(e,t){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class PF extends sj{constructor(e){super(),this.currentSequenceNumber=e}}class ob{constructor(e){this.persistence=e,this.Ri=new rb,this.Vi=null}static mi(e){return new ob(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const r=ge.fromPath(i);return this.gi(e,r).next((a=>{a||t.removeEntry(r,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Xd{constructor(e,t){this.persistence=e,this.pi=new pa((i=>aj(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=bF(this,t)}static mi(e,t){return new Xd(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((i,r)=>this.br(e,i,r).next((a=>a?se.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,a.removeEntry(u,Re.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vd(e.data.value)),t}br(e,t,i){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return se.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=r}static As(e,t){let i=Ue(),r=Ue();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new ab(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hz()?8:rj(bn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,r,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new MF;return this.Ss(e,t,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>a.result))}bs(e,t,i,r){return i.documentReadCount<this.fs?(hl()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",fl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(hl()<=Ve.DEBUG&&de("QueryEngine","Query:",fl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(hl()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",fl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(t))):se.resolve())}ys(e,t){if(MA(t))return se.resolve(null);let i=is(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Av(t,null,"F"),i=is(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Ue(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const d=this.Ds(t,h);return this.Cs(t,d,u,f.readTime)?this.ys(e,Av(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,i,r){return MA(t)||r.isEqual(Re.min())?se.resolve(null):this.ps.getDocuments(e,i).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,i,r)?se.resolve(null):(hl()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fl(t)),this.vs(e,u,t,ej(r,$c)).next((h=>h)))}))}Ds(e,t){let i=new qt(gI(e));return t.forEach(((r,a)=>{wp(e,a)&&(i=i.add(a))})),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,i){return hl()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",fl(t)),this.ps.getDocumentsMatchingQuery(e,t,Kr.min(),i)}vs(e,t,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="LocalStore",OF=3e8;class NF{constructor(e,t,i,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new mt(Le),this.xs=new pa((a=>W_(a)),Z_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function VF(n,e,t,i){return new NF(n,e,t,i)}async function zI(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],h=[];let f=Ue();for(const d of r){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of a){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function LF(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,g){const v=d.batch,b=v.keys();let E=se.resolve();return b.forEach((x=>{E=E.next((()=>g.getEntry(f,x))).next((A=>{const I=d.docVersions.get(x);$e(I!==null,48541),A.version.compareTo(I)<0&&(v.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ue();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function BI(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function UF(n,e){const t=xe(n),i=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const h=[];e.targetChanges.forEach(((g,v)=>{const b=r.get(v);if(!b)return;h.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,v))));let E=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(cn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,i)),r=r.insert(v,E),(function(A,I,D){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=OF?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(b,E,g)&&h.push(t.Pi.updateTargetData(a,E))}));let f=Qs(),d=Ue();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),h.push(zF(a,u,e.documentUpdates).next((g=>{f=g.ks,d=g.qs}))),!i.isEqual(Re.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((v=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(g)}return se.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,d))).next((()=>f))})).then((a=>(t.Ms=r,a)))}function zF(n,e,t){let i=Ue(),r=Ue();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let u=Qs();return t.forEach(((h,f)=>{const d=a.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Re.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):de(lb,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:r}}))}function BF(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Y_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function jF(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.Pi.getTargetData(i,e).next((a=>a?(r=a,se.resolve(r)):t.Pi.allocateTargetId(i).next((u=>(r=new Vr(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Dv(n,e,t){const i=xe(n),r=i.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Ql(u))throw u;de(lb,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function GA(n,e,t){const i=xe(n);let r=Re.min(),a=Ue();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const v=xe(f),b=v.xs.get(g);return b!==void 0?se.resolve(v.Ms.get(b)):v.Pi.getTargetData(d,g)})(i,u,is(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?r:Re.min(),t?a:Ue()))).next((h=>(FF(i,Rj(e),h),{documents:h,Qs:a})))))}function FF(n,e,t){let i=n.Os.get(e)||Re.min();t.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Os.set(e,i)}class $A{constructor(){this.activeTargetIds=Mj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qF{constructor(){this.Mo=new $A,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $A,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="ConnectivityMonitor";class YA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(KA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(KA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=null;function Pv(){return td===null?td=(function(){return 268435456+Math.round(2147483648*Math.random())})():td++,"0x"+td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="RestConnection",GF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $F{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Hd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,t,i,r,a){const u=Pv(),h=this.zo(e,t.toUriEncodedString());de(Dy,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,a);const{host:d}=new URL(h),g=to(d);return this.Jo(e,h,f,i,g).then((v=>(de(Dy,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Ol(Dy,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,t,i,r,a,u){return this.Go(e,t,i,r,a)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,a)=>e[a]=r)),i&&i.headers.forEach(((r,a)=>e[a]=r))}zo(e,t){const i=GF[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class YF extends $F{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,a){const u=Pv();return new Promise(((h,f)=>{const d=new qC;d.setWithCredentials(!0),d.listenOnce(HC.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case yd.NO_ERROR:const v=d.getResponseJson();de(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case yd.TIMEOUT:de(pn,`RPC '${e}' ${u} timed out`),f(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:const b=d.getStatus();if(de(pn,`RPC '${e}' ${u} failed with status:`,b,"response text:",d.getResponseText()),b>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E?.error;if(x&&x.status&&x.message){const A=(function(D){const j=D.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(j)>=0?j:ne.UNKNOWN})(x.status);f(new he(A,x.message))}else f(new he(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{de(pn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(r);de(pn,`RPC '${e}' ${u} sending request:`,r),d.send(t,"POST",g,i,15)}))}T_(e,t,i){const r=Pv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=KC(),h=$C(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=a.join("");de(pn,`Creating RPC '${e}' stream ${r}: ${g}`,f);const v=u.createWebChannel(g,f);this.I_(v);let b=!1,E=!1;const x=new KF({Yo:I=>{E?de(pn,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(b||(de(pn,`Opening RPC '${e}' stream ${r} transport.`),v.open(),b=!0),de(pn,`RPC '${e}' stream ${r} sending:`,I),v.send(I))},Zo:()=>v.close()}),A=(I,D,j)=>{I.listen(D,(F=>{try{j(F)}catch($){setTimeout((()=>{throw $}),0)}}))};return A(v,mc.EventType.OPEN,(()=>{E||(de(pn,`RPC '${e}' stream ${r} transport opened.`),x.o_())})),A(v,mc.EventType.CLOSE,(()=>{E||(E=!0,de(pn,`RPC '${e}' stream ${r} transport closed`),x.a_(),this.E_(v))})),A(v,mc.EventType.ERROR,(I=>{E||(E=!0,Ol(pn,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),x.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),A(v,mc.EventType.MESSAGE,(I=>{if(!E){const D=I.data[0];$e(!!D,16349);const j=D,F=j?.error||j[0]?.error;if(F){de(pn,`RPC '${e}' stream ${r} received error:`,F);const $=F.status;let Z=(function(C){const P=kt[C];if(P!==void 0)return xI(P)})($),ae=F.message;Z===void 0&&(Z=ne.INTERNAL,ae="Unknown error status: "+$+" with message "+F.message),E=!0,x.a_(new he(Z,ae)),v.close()}else de(pn,`RPC '${e}' stream ${r} received:`,D),x.u_(D)}})),A(h,GC.STAT_EVENT,(I=>{I.stat===vv.PROXY?de(pn,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===vv.NOPROXY&&de(pn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n){return new Zj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&de("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="PersistentStream";class FI{constructor(e,t,i,r,a,u,h,f){this.Mi=e,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Xs(t.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new he(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(XA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(XA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XF extends FI{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=tF(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Re.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?ss(u.readTime):Re.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Iv(this.serializer),t.addTarget=(function(a,u){let h;const f=u.target;if(h=Ev(f)?{documents:sF(a,f)}:{query:rF(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=DI(a,u.resumeToken);const d=Rv(a,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=Yd(a,u.snapshotVersion.toTimestamp());const d=Rv(a,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const i=aF(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Iv(this.serializer),t.removeTarget=e,this.q_(t)}}class QF extends FI{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=iF(e.writeResults,e.commitTime),i=ss(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Iv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>nF(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{}class ZF extends WF{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,xv(t,i),r,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(ne.UNKNOWN,a.toString())}))}Ho(e,t,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,xv(t,i),r,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class JF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xs(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class e8{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{ma(this)&&(de(ua,"Restarting streams for network reachability change."),await(async function(f){const d=xe(f);d.Ea.add(4),await gh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Rp(d)})(this))}))})),this.Ra=new JF(i,r)}}async function Rp(n){if(ma(n))for(const e of n.da)await e(!0)}async function gh(n){for(const e of n.da)await e(!1)}function qI(n,e){const t=xe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),fb(t)?hb(t):Zl(t).O_()&&cb(t,e))}function ub(n,e){const t=xe(n),i=Zl(t);t.Ia.delete(e),i.O_()&&HI(t,e),t.Ia.size===0&&(i.O_()?i.L_():ma(t)&&t.Ra.set("Unknown"))}function cb(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zl(n).Y_(e)}function HI(n,e){n.Va.Ue(e),Zl(n).Z_(e)}function hb(n){n.Va=new Yj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Zl(n).start(),n.Ra.ua()}function fb(n){return ma(n)&&!Zl(n).x_()&&n.Ia.size>0}function ma(n){return xe(n).Ea.size===0}function GI(n){n.Va=void 0}async function t8(n){n.Ra.set("Online")}async function n8(n){n.Ia.forEach(((e,t)=>{cb(n,e)}))}async function i8(n,e){GI(n),fb(n)?(n.Ra.ha(e),hb(n)):n.Ra.set("Unknown")}async function s8(n,e,t){if(n.Ra.set("Online"),e instanceof II&&e.state===2&&e.cause)try{await(async function(r,a){const u=a.cause;for(const h of a.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.Ia.delete(h),r.Va.removeTarget(h))})(n,e)}catch(i){de(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Qd(n,i)}else if(e instanceof wd?n.Va.Ze(e):e instanceof CI?n.Va.st(e):n.Va.tt(e),!t.isEqual(Re.min()))try{const i=await BI(n.localStore);t.compareTo(i)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(d);g&&a.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(cn.EMPTY_BYTE_STRING,g.snapshotVersion)),HI(a,f);const v=new Vr(g.target,f,d,g.sequenceNumber);cb(a,v)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){de(ua,"Failed to raise snapshot:",i),await Qd(n,i)}}async function Qd(n,e,t){if(!Ql(e))throw e;n.Ea.add(1),await gh(n),n.Ra.set("Offline"),t||(t=()=>BI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(ua,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Rp(n)}))}function $I(n,e){return e().catch((t=>Qd(n,t,e)))}async function xp(n){const e=xe(n),t=Wr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Y_;for(;r8(e);)try{const r=await BF(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,o8(e,r)}catch(r){await Qd(e,r)}KI(e)&&YI(e)}function r8(n){return ma(n)&&n.Ta.length<10}function o8(n,e){n.Ta.push(e);const t=Wr(n);t.O_()&&t.X_&&t.ea(e.mutations)}function KI(n){return ma(n)&&!Wr(n).x_()&&n.Ta.length>0}function YI(n){Wr(n).start()}async function a8(n){Wr(n).ra()}async function l8(n){const e=Wr(n);for(const t of n.Ta)e.ea(t.mutations)}async function u8(n,e,t){const i=n.Ta.shift(),r=nb.from(i,e,t);await $I(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await xp(n)}async function c8(n,e){e&&Wr(n).X_&&await(async function(i,r){if((function(u){return Gj(u)&&u!==ne.ABORTED})(r.code)){const a=i.Ta.shift();Wr(i).B_(),await $I(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await xp(i)}})(n,e),KI(n)&&YI(n)}async function QA(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),de(ua,"RemoteStore received new credentials");const i=ma(t);t.Ea.add(3),await gh(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Rp(t)}async function h8(n,e){const t=xe(n);e?(t.Ea.delete(2),await Rp(t)):e||(t.Ea.add(2),await gh(t),t.Ra.set("Unknown"))}function Zl(n){return n.ma||(n.ma=(function(t,i,r){const a=xe(t);return a.sa(),new XF(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:t8.bind(null,n),t_:n8.bind(null,n),r_:i8.bind(null,n),H_:s8.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),fb(n)?hb(n):n.Ra.set("Unknown")):(await n.ma.stop(),GI(n))}))),n.ma}function Wr(n){return n.fa||(n.fa=(function(t,i,r){const a=xe(t);return a.sa(),new QF(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:a8.bind(null,n),r_:c8.bind(null,n),ta:l8.bind(null,n),na:u8.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await xp(n)):(await n.fa.stop(),n.Ta.length>0&&(de(ua,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,h=new db(e,t,u,r,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pb(n,e){if(Xs("AsyncQueue",`${e}: ${n}`),Ql(n))return new he(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=gc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new xl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.ga=new mt(ge.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class zl{constructor(e,t,i,r,a,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new zl(e,t,xl.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class d8{constructor(){this.queries=ZA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=xe(t),a=r.queries;r.queries=ZA(),a.forEach(((u,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function ZA(){return new pa((n=>mI(n)),bp)}async function p8(n,e){const t=xe(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.ba()&&e.Da()&&(i=2):(a=new f8,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(u){const h=pb(u,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&mb(t)}async function m8(n,e){const t=xe(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function g8(n,e){const t=xe(n);let i=!1;for(const r of e){const a=r.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Fa(r)&&(i=!0);u.wa=r}}i&&mb(t)}function y8(n,e,t){const i=xe(n),r=i.queries.get(e);if(r)for(const a of r.Sa)a.onError(t);i.queries.delete(e)}function mb(n){n.Ca.forEach((e=>{e.next()}))}var Mv,JA;(JA=Mv||(Mv={})).Ma="default",JA.Cache="cache";class v8{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new zl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.key=e}}class QI{constructor(e){this.key=e}}class _8{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=gI(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new WA,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((g,v)=>{const b=r.get(g),E=wp(this.query,v)?v:null,x=!!b&&this.mutatedKeys.has(b.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;b&&E?b.data.isEqual(E.data)?x!==A&&(i.track({type:3,doc:E}),I=!0):this.su(b,E)||(i.track({type:2,doc:E}),I=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(h=!0)):!b&&E?(i.track({type:0,doc:E}),I=!0):b&&!E&&(i.track({type:1,doc:b}),I=!0,(f||d)&&(h=!0)),I&&(E?(u=u.add(E),a=A?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,v)=>(function(E,x){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:I})}};return A(E)-A(x)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),r=r??!1;const h=t&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new zl(this.query,e.tu,a,u,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new QI(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new XI(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gb="SyncEngine";class b8{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class w8{constructor(e){this.key=e,this.hu=!1}}class T8{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new pa((h=>mI(h)),bp),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ge.comparator),this.Au=new Map,this.Ru=new rb,this.Vu={},this.mu=new Map,this.fu=Ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E8(n,e,t=!0){const i=nD(n);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await WI(i,e,t,!0),r}async function S8(n,e){const t=nD(n);await WI(t,e,!0,!1)}async function WI(n,e,t,i){const r=await jF(n.localStore,is(e)),a=r.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await A8(n,e,a,u==="current",r.resumeToken)),n.isPrimaryClient&&t&&qI(n.remoteStore,r),h}async function A8(n,e,t,i,r){n.pu=(v,b,E)=>(async function(A,I,D,j){let F=I.view.ru(D);F.Cs&&(F=await GA(A.localStore,I.query,!1).then((({documents:M})=>I.view.ru(M,F))));const $=j&&j.targetChanges.get(I.targetId),Z=j&&j.targetMismatches.get(I.targetId)!=null,ae=I.view.applyChanges(F,A.isPrimaryClient,$,Z);return t1(A,I.targetId,ae.au),ae.snapshot})(n,v,b,E);const a=await GA(n.localStore,e,!0),u=new _8(e,a.Qs),h=u.ru(a.documents),f=mh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=u.applyChanges(h,n.isPrimaryClient,f);t1(n,t,d.au);const g=new b8(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function R8(n,e,t){const i=xe(n),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter((u=>!bp(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Dv(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&ub(i.remoteStore,r.targetId),kv(i,r.targetId)})).catch(Xl)):(kv(i,r.targetId),await Dv(i.localStore,r.targetId,!0))}async function x8(n,e){const t=xe(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ub(t.remoteStore,i.targetId))}async function C8(n,e,t){const i=N8(n);try{const r=await(function(u,h){const f=xe(u),d=rt.now(),g=h.reduce(((E,x)=>E.add(x.key)),Ue());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let x=Qs(),A=Ue();return f.Ns.getEntries(E,g).next((I=>{x=I,x.forEach(((D,j)=>{j.isValidDocument()||(A=A.add(D))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,x))).next((I=>{v=I;const D=[];for(const j of h){const F=Bj(j,v.get(j.key).overlayedDocument);F!=null&&D.push(new so(j.key,F,aI(F.value.mapValue),Ri.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,D,h)})).next((I=>{b=I;const D=I.applyToLocalDocumentSet(v,A);return f.documentOverlayCache.saveOverlays(E,I.batchId,D)}))})).then((()=>({batchId:b.batchId,changes:vI(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new mt(Le)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(i,r.batchId,t),await yh(i,r.changes),await xp(i.remoteStore)}catch(r){const a=pb(r,"Failed to persist write");t.reject(a)}}async function ZI(n,e){const t=xe(n);try{const i=await UF(t.localStore,e);e.targetChanges.forEach(((r,a)=>{const u=t.Au.get(a);u&&($e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.hu=!0:r.modifiedDocuments.size>0?$e(u.hu,14607):r.removedDocuments.size>0&&($e(u.hu,42227),u.hu=!1))})),await yh(t,i,e)}catch(i){await Xl(i)}}function e1(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(u,h){const f=xe(u);f.onlineState=h;let d=!1;f.queries.forEach(((g,v)=>{for(const b of v.Sa)b.va(h)&&(d=!0)})),d&&mb(f)})(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function I8(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),a=r&&r.key;if(a){let u=new mt(ge.comparator);u=u.insert(a,gn.newNoDocument(a,Re.min()));const h=Ue().add(a),f=new Sp(Re.min(),new Map,new mt(Le),u,h);await ZI(i,f),i.du=i.du.remove(a),i.Au.delete(e),yb(i)}else await Dv(i.localStore,e,!1).then((()=>kv(i,e,t))).catch(Xl)}async function D8(n,e){const t=xe(n),i=e.batch.batchId;try{const r=await LF(t.localStore,e);eD(t,i,null),JI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await yh(t,r)}catch(r){await Xl(r)}}async function P8(n,e,t){const i=xe(n);try{const r=await(function(u,h){const f=xe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next((v=>($e(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,e);eD(i,e,t),JI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await yh(i,r)}catch(r){await Xl(r)}}function JI(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function eD(n,e,t){const i=xe(n);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function kv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||tD(n,i)}))}function tD(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ub(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),yb(n))}function t1(n,e,t){for(const i of t)i instanceof XI?(n.Ru.addReference(i.key,e),M8(n,i)):i instanceof QI?(de(gb,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||tD(n,i.key)):Te(19791,{wu:i})}function M8(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(de(gb,"New document in limbo: "+t),n.Eu.add(i),yb(n))}function yb(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ge(it.fromString(e)),i=n.fu.next();n.Au.set(i,new w8(t)),n.du=n.du.insert(t,i),qI(n.remoteStore,new Vr(is(J_(t.path)),i,"TargetPurposeLimboResolution",yp.ce))}}async function yh(n,e,t){const i=xe(n),r=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{u.push(i.pu(f,e,t).then((d=>{if((d||t)&&i.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){r.push(d);const g=ab.As(f.targetId,d);a.push(g)}})))})),await Promise.all(u),i.Pu.H_(r),await(async function(f,d){const g=xe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>se.forEach(d,(b=>se.forEach(b.Es,(E=>g.persistence.referenceDelegate.addReference(v,b.targetId,E))).next((()=>se.forEach(b.ds,(E=>g.persistence.referenceDelegate.removeReference(v,b.targetId,E)))))))))}catch(v){if(!Ql(v))throw v;de(lb,"Failed to update sequence numbers: "+v)}for(const v of d){const b=v.targetId;if(!v.fromCache){const E=g.Ms.get(b),x=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(x);g.Ms=g.Ms.insert(b,A)}}})(i.localStore,a))}async function k8(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){de(gb,"User change. New user:",e.toKey());const i=await zI(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new he(ne.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await yh(t,i.Ls)}}function O8(n,e){const t=xe(n),i=t.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let r=Ue();const a=t.Iu.get(e);if(!a)return r;for(const u of a){const h=t.Tu.get(u);r=r.unionWith(h.view.nu)}return r}}function nD(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I8.bind(null,e),e.Pu.H_=g8.bind(null,e.eventManager),e.Pu.yu=y8.bind(null,e.eventManager),e}function N8(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P8.bind(null,e),e}class Wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ap(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return VF(this.persistence,new kF,e.initialUser,this.serializer)}Cu(e){return new UI(ob.mi,this.serializer)}Du(e){return new qF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wd.provider={build:()=>new Wd};class V8 extends Wd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){$e(this.persistence.referenceDelegate instanceof Xd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new vF(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new UI((i=>Xd.mi(i,t)),this.serializer)}}class Ov{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>e1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=k8.bind(null,this.syncEngine),await h8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d8})()}createDatastore(e){const t=Ap(e.databaseInfo.databaseId),i=(function(a){return new YF(a)})(e.databaseInfo);return(function(a,u,h,f){return new ZF(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,a,u,h){return new e8(i,r,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>e1(this.syncEngine,t,0)),(function(){return YA.v()?new YA:new HF})())}createSyncEngine(e,t){return(function(r,a,u,h,f,d,g){const v=new T8(r,a,u,h,f,d);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=xe(t);de(ua,"RemoteStore shutting down."),i.Ea.add(5),await gh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ov.provider={build:()=>new Ov};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class U8{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=mn.UNAUTHENTICATED,this.clientId=K_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{de(Zr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(de(Zr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=pb(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function My(n,e){n.asyncQueue.verifyOperationInProgress(),de(Zr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await zI(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function n1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await z8(n);de(Zr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>QA(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>QA(e.remoteStore,r))),n._onlineComponents=e}async function z8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Zr,"Using user provided OfflineComponentProvider");try{await My(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===ne.FAILED_PRECONDITION||r.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Ol("Error using user provided cache. Falling back to memory cache: "+t),await My(n,new Wd)}}else de(Zr,"Using default OfflineComponentProvider"),await My(n,new V8(void 0));return n._offlineComponents}async function iD(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Zr,"Using user provided OnlineComponentProvider"),await n1(n,n._uninitializedComponentsProvider._online)):(de(Zr,"Using default OnlineComponentProvider"),await n1(n,new Ov))),n._onlineComponents}function B8(n){return iD(n).then((e=>e.syncEngine))}async function i1(n){const e=await iD(n),t=e.eventManager;return t.onListen=E8.bind(null,e.syncEngine),t.onUnlisten=R8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=S8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=x8.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firestore.googleapis.com",r1=!0;class o1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rD,this.ssl=r1}else this.host=e.host,this.ssl=e.ssl??r1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gF)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sD(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cp{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new q5;switch(i.type){case"firstParty":return new K5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=s1.get(t);i&&(de("ComponentProvider","Removing Datastore"),s1.delete(t),i.terminate())})(this),Promise.resolve()}}function j8(n,e,t,i={}){n=Fr(n,Cp);const r=to(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;r&&(M_(`https://${h}`),k_("Firestore",!0)),a.host!==rD&&a.host!==h&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:r,emulatorOptions:i};if(!ra(f,u)&&(n._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=mn.MOCK_USER;else{d=nC(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new mn(v)}n._authCredentials=new H5(new XC(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class Lt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(dh(t,Lt._jsonSchema))return new Lt(e,i||null,new ge(it.fromString(t.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Vt("string",Lt._jsonSchemaVersion),referencePath:Vt("string")};class qr extends ga{constructor(e,t,i){super(e,t,J_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new ge(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function Zd(n,e,...t){if(n=ct(n),QC("collection","path",e),n instanceof Cp){const i=it.fromString(e,...t);return vA(i),new qr(n,null,i)}{if(!(n instanceof Lt||n instanceof qr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return vA(i),new qr(n.firestore,null,i)}}function Td(n,e,...t){if(n=ct(n),arguments.length===1&&(e=K_.newId()),QC("doc","path",e),n instanceof Cp){const i=it.fromString(e,...t);return yA(i),new Lt(n,null,new ge(i))}{if(!(n instanceof Lt||n instanceof qr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return yA(i),new Lt(n.firestore,n instanceof qr?n.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="AsyncQueue";class l1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jI(this,"async_queue_retry"),this._c=()=>{const i=Py();i&&de(a1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Py();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Py();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Jo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ql(e))throw e;de(a1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Xs("INTERNAL UNHANDLED ERROR: ",u1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=db.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Te(47125,{Pc:u1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function u1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const a of i)if(a in r&&typeof r[a]=="function")return!0;return!1})(n,["next","error","complete"])}class Bl extends Cp{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new l1,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l1(e),this._firestoreClient=void 0,await e}}}function F8(n,e){const t=typeof n=="object"?n:V_(),i=typeof n=="string"?n:Hd,r=hp(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=Jx("firestore");a&&j8(r,...a)}return r}function oD(n){if(n._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||q8(n),n._firestoreClient}function q8(n){const e=n._freezeSettings(),t=(function(r,a,u,h){return new cj(r,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sD(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new U8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(r){const a=r?._online.build();return{_offline:r?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(cn.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fi(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dh(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Vt("string",fi._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rs._jsonSchemaVersion}}static fromJSON(e){if(dh(e,rs._jsonSchema))return new rs(e.latitude,e.longitude)}}rs._jsonSchemaVersion="firestore/geoPoint/1.0",rs._jsonSchema={type:Vt("string",rs._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dh(e,os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new os(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:Vt("string",os._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=/^__.*__$/;class G8{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,t,this.fieldTransforms):new ph(e,this.data,t,this.fieldTransforms)}}class aD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new so(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class vb{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lD(this.Ac)&&H8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $8{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ap(e)}Cc(e,t,i,r=!1){return new vb({Ac:e,methodName:t,Dc:i,path:ln.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _b(n){const e=n._freezeSettings(),t=Ap(n._databaseId);return new $8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function K8(n,e,t,i,r,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,r);wb("Data must be an object, but it was:",u,i);const h=uD(i,u);let f,d;if(a.merge)f=new Gn(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const b=Nv(e,v,t);if(!u.contains(b))throw new he(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);hD(g,b)||g.push(b)}f=new Gn(g),d=u.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,d=u.fieldTransforms;return new G8(new Mn(h),f,d)}class Pp extends Dp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pp}}class bb extends Dp{_toFieldTransform(e){return new Vj(e.path,new Wc)}isEqual(e){return e instanceof bb}}function Y8(n,e,t,i){const r=n.Cc(1,e,t);wb("Data must be an object, but it was:",r,i);const a=[],u=Mn.empty();io(i,((f,d)=>{const g=Tb(e,f,t);d=ct(d);const v=r.yc(g);if(d instanceof Pp)a.push(g);else{const b=vh(d,v);b!=null&&(a.push(g),u.set(g,b))}}));const h=new Gn(a);return new aD(u,h,r.fieldTransforms)}function X8(n,e,t,i,r,a){const u=n.Cc(1,e,t),h=[Nv(e,i,t)],f=[r];if(a.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)h.push(Nv(e,a[b])),f.push(a[b+1]);const d=[],g=Mn.empty();for(let b=h.length-1;b>=0;--b)if(!hD(d,h[b])){const E=h[b];let x=f[b];x=ct(x);const A=u.yc(E);if(x instanceof Pp)d.push(E);else{const I=vh(x,A);I!=null&&(d.push(E),g.set(E,I))}}const v=new Gn(d);return new aD(g,v,u.fieldTransforms)}function Q8(n,e,t,i=!1){return vh(t,n.Cc(i?4:3,e))}function vh(n,e){if(cD(n=ct(n)))return wb("Unsupported field value:",e,n),uD(n,e);if(n instanceof Dp)return(function(i,r){if(!lD(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,r){const a=[];let u=0;for(const h of i){let f=vh(h,r.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(i,r){if((i=ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return kj(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=rt.fromDate(i);return{timestampValue:Yd(r.serializer,a)}}if(i instanceof rt){const a=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yd(r.serializer,a)}}if(i instanceof rs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fi)return{bytesValue:DI(r.serializer,i._byteString)};if(i instanceof Lt){const a=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw r.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sb(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof os)return(function(u,h){return{mapValue:{fields:{[rI]:{stringValue:oI},[Gd]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return eb(h.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${gp(i)}`)})(n,e)}function uD(n,e){const t={};return JC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(n,((i,r)=>{const a=vh(r,e.mc(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function cD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof rs||n instanceof fi||n instanceof Lt||n instanceof Dp||n instanceof os)}function wb(n,e,t){if(!cD(t)||!WC(t)){const i=gp(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Nv(n,e,t){if((e=ct(e))instanceof Ip)return e._internalPath;if(typeof e=="string")return Tb(n,e);throw Jd("Field path arguments must be of type string or ",n,!1,void 0,t)}const W8=new RegExp("[~\\*/\\[\\]]");function Tb(n,e,t){if(e.search(W8)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ip(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jd(n,e,t,i,r){const a=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new he(ne.INVALID_ARGUMENT,h+n+f)}function hD(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Z8 extends fD{data(){return super.data()}}function Mp(n,e){return typeof e=="string"?Tb(n,e):e instanceof Ip?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eb{}class dD extends Eb{}function Vv(n,e,...t){let i=[];e instanceof Eb&&i.push(e),i=i.concat(t),(function(a){const u=a.filter((f=>f instanceof Sb)).length,h=a.filter((f=>f instanceof kp)).length;if(u>1||u>0&&h>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class kp extends dD{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new kp(e,t,i)}_apply(e){const t=this._parse(e);return pD(e._query,t),new ga(e.firestore,e.converter,Sv(e._query,t))}_parse(e){const t=_b(e.firestore);return(function(a,u,h,f,d,g,v){let b;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){f1(v,g);const x=[];for(const A of v)x.push(h1(f,a,A));b={arrayValue:{values:x}}}else b=h1(f,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||f1(v,g),b=Q8(h,u,v,g==="in"||g==="not-in");return Nt.create(d,g,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function eq(n,e,t){const i=e,r=Mp("where",n);return kp._create(r,i,t)}class Sb extends Eb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sb(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Pi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,a){let u=r;const h=a.getFlattenedFilters();for(const f of h)pD(u,f),u=Sv(u,f)})(e._query,t),new ga(e.firestore,e.converter,Sv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ab extends dD{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ab(e,t)}_apply(e){const t=(function(r,a,u){if(r.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(a,u)})(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,(function(r,a){const u=r.explicitOrderBy.concat([a]);return new Wl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function Lv(n,e="asc"){const t=e,i=Mp("orderBy",n);return Ab._create(i,t)}function h1(n,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pI(e)&&t.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!ge.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return RA(n,new ge(i))}if(t instanceof Lt)return RA(n,t._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gp(t)}.`)}function f1(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pD(n,e){const t=(function(r,a){for(const u of r)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tq{convertValue(e,t="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return io(e,((r,a)=>{i[r]=this.convertValue(a,t)})),i}convertVectorValue(e){const t=e.fields?.[Gd].arrayValue?.values?.map((i=>Rt(i.doubleValue)));return new os(t)}convertGeoPoint(e){return new rs(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=_p(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const t=Yr(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);$e(VI(i),9688,{name:e});const r=new Yc(i.get(1),i.get(3)),a=new ge(i.popFirst(5));return r.isEqual(t)||Xs(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends fD{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Mp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ea._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Vt("string",ea._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Ed extends ea{data(e={}){return super.data(e)}}class Cl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new vc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Ed(this._firestore,this._userDataWriter,i.key,i,new vc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((h=>{const f=new Ed(r._firestore,r._userDataWriter,h.doc.key,h.doc,new vc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Ed(r._firestore,r._userDataWriter,h.doc.key,h.doc,new vc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:iq(h.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=K_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}Cl._jsonSchemaVersion="firestore/querySnapshot/1.0",Cl._jsonSchema={type:Vt("string",Cl._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class mD extends tq{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}}function d1(n,e,t,...i){n=Fr(n,Lt);const r=Fr(n.firestore,Bl),a=_b(r);let u;return u=typeof(e=ct(e))=="string"||e instanceof Ip?X8(a,"updateDoc",n._key,e,t,i):Y8(a,"updateDoc",n._key,e),Rb(r,[u.toMutation(n._key,Ri.exists(!0))])}function sq(n){return Rb(Fr(n.firestore,Bl),[new tb(n._key,Ri.none())])}function rq(n,e){const t=Fr(n.firestore,Bl),i=Td(n),r=nq(n.converter,e);return Rb(t,[K8(_b(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ri.exists(!1))]).then((()=>i))}function Uv(n,...e){n=ct(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||c1(e[i])||(t=e[i++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(c1(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let a,u,h;if(n instanceof Lt)u=Fr(n.firestore,Bl),h=J_(n._key.path),a={next:f=>{e[i]&&e[i](oq(u,n,f))},error:e[i+1],complete:e[i+2]};else{const f=Fr(n,ga);u=Fr(f.firestore,Bl),h=f._query;const d=new mD(u);a={next:g=>{e[i]&&e[i](new Cl(u,d,f,g))},error:e[i+1],complete:e[i+2]},J8(n._query)}return(function(d,g,v,b){const E=new L8(b),x=new v8(g,E,v);return d.asyncQueue.enqueueAndForget((async()=>p8(await i1(d),x))),()=>{E.Nu(),d.asyncQueue.enqueueAndForget((async()=>m8(await i1(d),x)))}})(oD(u),h,r,a)}function Rb(n,e){return(function(i,r){const a=new Jo;return i.asyncQueue.enqueueAndForget((async()=>C8(await B8(i),r,a))),a.promise})(oD(n),e)}function oq(n,e,t){const i=t.docs.get(e._key),r=new mD(n);return new ea(n,r,e._key,i,new vc(t.hasPendingWrites,t.fromCache),e.converter)}function nd(){return new bb("serverTimestamp")}(function(e,t=!0){(function(r){Yl=r})(fa),oa(new $r("firestore",((i,{instanceIdentifier:r,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Bl(new G5(i.getProvider("auth-internal")),new Y5(u,i.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(d.options.projectId,g)})(u,r),u);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),es(dA,pA,e),es(dA,pA,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="firebasestorage.googleapis.com",yD="storageBucket",aq=120*1e3,lq=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends hs{constructor(e,t,i=0){super(ky(e),`Firebase Storage: ${t} (${ky(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ky(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function ky(n){return"storage/"+n}function xb(){const n="An unknown error occurred, please check the error payload for server response.";return new wt(bt.UNKNOWN,n)}function uq(n){return new wt(bt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function cq(n){return new wt(bt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hq(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(bt.UNAUTHENTICATED,n)}function fq(){return new wt(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dq(n){return new wt(bt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function pq(){return new wt(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mq(){return new wt(bt.CANCELED,"User canceled the upload/download.")}function gq(n){return new wt(bt.INVALID_URL,"Invalid URL '"+n+"'.")}function yq(n){return new wt(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function vq(){return new wt(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yD+"' property when initializing the app?")}function _q(){return new wt(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bq(){return new wt(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wq(n){return new wt(bt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zv(n){return new wt(bt.INVALID_ARGUMENT,n)}function vD(){return new wt(bt.APP_DELETED,"The Firebase app was deleted.")}function Tq(n){return new wt(bt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mc(n,e){return new wt(bt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function hc(n){throw new wt(bt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=$n.makeFromUrl(e,t)}catch{return new $n(e,"")}if(i.path==="")return i;throw yq(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+r+u,"i"),f={bucket:1,path:3};function d($){$.path_=decodeURIComponent($.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${g}/b/${r}/o${b}`,"i"),x={bucket:1,path:3},A=t===gD?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",D=new RegExp(`^https?://${A}/${r}/${I}`,"i"),F=[{regex:h,indices:f,postModify:a},{regex:E,indices:x,postModify:d},{regex:D,indices:{bucket:1,path:2},postModify:d}];for(let $=0;$<F.length;$++){const Z=F[$],ae=Z.regex.exec(e);if(ae){const M=ae[Z.indices.bucket];let C=ae[Z.indices.path];C||(C=""),i=new $n(M,C),Z.postModify(i);break}}if(i==null)throw gq(e);return i}}class Eq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(n,e,t){let i=1,r=null,a=null,u=!1,h=0;function f(){return h===2}let d=!1;function g(...I){d||(d=!0,e.apply(null,I))}function v(I){r=setTimeout(()=>{r=null,n(E,f())},I)}function b(){a&&clearTimeout(a)}function E(I,...D){if(d){b();return}if(I){b(),g.call(null,I,...D);return}if(f()||u){b(),g.call(null,I,...D);return}i<64&&(i*=2);let F;h===1?(h=2,F=0):F=(i+Math.random())*1e3,v(F)}let x=!1;function A(I){x||(x=!0,b(),!d&&(r!==null?(I||(h=2),clearTimeout(r),v(0)):I||(h=1)))}return v(0),a=setTimeout(()=>{u=!0,A(!0)},t),A}function Aq(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(n){return n!==void 0}function xq(n){return typeof n=="object"&&!Array.isArray(n)}function Cb(n){return typeof n=="string"||n instanceof String}function p1(n){return Ib()&&n instanceof Blob}function Ib(){return typeof Blob<"u"}function m1(n,e,t,i){if(i<e)throw zv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw zv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function _D(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var ta;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||r||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,t,i,r,a,u,h,f,d,g,v,b=!0,E=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,A)=>{this.resolve_=x,this.reject_=A,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new id(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===ta.NO_ERROR,f=a.getStatus();if(!h||Cq(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ta.ABORT;i(!1,new id(!1,null,g));return}const d=this.successCodes_.indexOf(f)!==-1;i(!0,new id(d,a))})},t=(i,r)=>{const a=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());Rq(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=xb();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(r.canceled){const f=this.appDelete_?vD():mq();u(f)}else{const f=pq();u(f)}};this.canceled_?t(!1,new id(!1,null,!0)):this.backoffId_=Sq(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Aq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class id{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Dq(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Pq(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Mq(n,e){e&&(n["X-Firebase-GMPID"]=e)}function kq(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Oq(n,e,t,i,r,a,u=!0,h=!1){const f=_D(n.urlParams),d=n.url+f,g=Object.assign({},n.headers);return Mq(g,e),Dq(g,t),Pq(g,a),kq(g,i),new Iq(d,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Vq(...n){const e=Nq();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Ib())return new Blob(n);throw new wt(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Lq(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(n){if(typeof atob>"u")throw wq("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Oy{constructor(e,t){this.data=e,this.contentType=t||null}}function zq(n,e){switch(n){case Qi.RAW:return new Oy(bD(e));case Qi.BASE64:case Qi.BASE64URL:return new Oy(wD(n,e));case Qi.DATA_URL:return new Oy(jq(e),Fq(e))}throw xb()}function bD(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=i,u=n.charCodeAt(++t);i=65536|(a&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Bq(n){let e;try{e=decodeURIComponent(n)}catch{throw Mc(Qi.DATA_URL,"Malformed data URL.")}return bD(e)}function wD(n,e){switch(n){case Qi.BASE64:{const r=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(r||a)throw Mc(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Qi.BASE64URL:{const r=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(r||a)throw Mc(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Uq(e)}catch(r){throw r.message.includes("polyfill")?r:Mc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class TD{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Mc(Qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=qq(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function jq(n){const e=new TD(n);return e.base64?wD(Qi.BASE64,e.rest):Bq(e.rest)}function Fq(n){return new TD(n).contentType}function qq(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,t){let i=0,r="";p1(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(p1(this.data_)){const i=this.data_,r=Lq(i,e,t);return r===null?null:new Or(r)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Or(i,!0)}}static getBlob(...e){if(Ib()){const t=e.map(i=>i instanceof Or?i.data_:i);return new Or(Vq.apply(null,t))}else{const t=e.map(u=>Cb(u)?zq(Qi.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)r[a++]=u[h]}),new Or(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(n){let e;try{e=JSON.parse(n)}catch{return null}return xq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Gq(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function SD(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(n,e){return e}class An{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||$q}}let sd=null;function Kq(n){return!Cb(n)||n.length<2?n:SD(n)}function AD(){if(sd)return sd;const n=[];n.push(new An("bucket")),n.push(new An("generation")),n.push(new An("metageneration")),n.push(new An("name","fullPath",!0));function e(a,u){return Kq(u)}const t=new An("name");t.xform=e,n.push(t);function i(a,u){return u!==void 0?Number(u):u}const r=new An("size");return r.xform=i,n.push(r),n.push(new An("timeCreated")),n.push(new An("updated")),n.push(new An("md5Hash",null,!0)),n.push(new An("cacheControl",null,!0)),n.push(new An("contentDisposition",null,!0)),n.push(new An("contentEncoding",null,!0)),n.push(new An("contentLanguage",null,!0)),n.push(new An("contentType",null,!0)),n.push(new An("metadata","customMetadata",!0)),sd=n,sd}function Yq(n,e){function t(){const i=n.bucket,r=n.fullPath,a=new $n(i,r);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function Xq(n,e,t){const i={};i.type="file";const r=t.length;for(let a=0;a<r;a++){const u=t[a];i[u.local]=u.xform(i,e[u.server])}return Yq(i,n),i}function RD(n,e,t){const i=ED(e);return i===null?null:Xq(n,i,t)}function Qq(n,e,t,i){const r=ED(e);if(r===null||!Cb(r.downloadTokens))return null;const a=r.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(d=>{const g=n.bucket,v=n.fullPath,b="/b/"+u(g)+"/o/"+u(v),E=Op(b,t,i),x=_D({alt:"media",token:d});return E+x})[0]}function Wq(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class Db{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(n){if(!n)throw xb()}function Zq(n,e){function t(i,r){const a=RD(n,r,e);return xD(a!==null),a}return t}function Jq(n,e){function t(i,r){const a=RD(n,r,e);return xD(a!==null),Qq(a,r,n.host,n._protocol)}return t}function CD(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=fq():r=hq():t.getStatus()===402?r=cq(n.bucket):t.getStatus()===403?r=dq(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function ID(n){const e=CD(n);function t(i,r){let a=e(i,r);return i.getStatus()===404&&(a=uq(n.path)),a.serverResponse=r.serverResponse,a}return t}function eH(n,e,t){const i=e.fullServerUrl(),r=Op(i,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,h=new Db(r,a,Jq(n,t),u);return h.errorHandler=ID(e),h}function tH(n,e){const t=e.fullServerUrl(),i=Op(t,n.host,n._protocol),r="DELETE",a=n.maxOperationRetryTime;function u(f,d){}const h=new Db(i,r,u,a);return h.successCodes=[200,204],h.errorHandler=ID(e),h}function nH(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function iH(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=nH(null,e)),i}function sH(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let F="";for(let $=0;$<2;$++)F=F+Math.random().toString().slice(2);return F}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const d=iH(e,i,r),g=Wq(d,t),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,b=`\r
--`+f+"--",E=Or.getBlob(v,i,b);if(E===null)throw _q();const x={name:d.fullPath},A=Op(a,n.host,n._protocol),I="POST",D=n.maxUploadRetryTime,j=new Db(A,I,Zq(n,t),D);return j.urlParams=x,j.headers=u,j.body=E.uploadData(),j.errorHandler=CD(e),j}class rH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r,a){if(this.sent_)throw hc("cannot .send() more than once");if(to(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oH extends rH{initXhr(){this.xhr_.responseType="text"}}function Pb(){return new oH}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this._service=e,t instanceof $n?this._location=t:this._location=$n.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ca(e,t)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SD(this._location.path)}get storage(){return this._service}get parent(){const e=Hq(this._location.path);if(e===null)return null;const t=new $n(this._location.bucket,e);return new ca(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Tq(e)}}function aH(n,e,t){n._throwIfRoot("uploadBytes");const i=sH(n.storage,n._location,AD(),new Or(e,!0),t);return n.storage.makeRequestWithTokens(i,Pb).then(r=>({metadata:r,ref:n}))}function lH(n){n._throwIfRoot("getDownloadURL");const e=eH(n.storage,n._location,AD());return n.storage.makeRequestWithTokens(e,Pb).then(t=>{if(t===null)throw bq();return t})}function uH(n){n._throwIfRoot("deleteObject");const e=tH(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Pb)}function cH(n,e){const t=Gq(n._location.path,e),i=new $n(n._location.bucket,t);return new ca(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(n){return/^[A-Za-z]+:\/\//.test(n)}function fH(n,e){return new ca(n,e)}function DD(n,e){if(n instanceof Mb){const t=n;if(t._bucket==null)throw vq();const i=new ca(t,t._bucket);return e!=null?DD(i,e):i}else return e!==void 0?cH(n,e):n}function dH(n,e){if(e&&hH(e)){if(n instanceof Mb)return fH(n,e);throw zv("To use ref(service, url), the first argument must be a Storage instance.")}else return DD(n,e)}function g1(n,e){const t=e?.[yD];return t==null?null:$n.makeFromBucketSpec(t,n)}function pH(n,e,t,i={}){n.host=`${e}:${t}`;const r=to(e);r&&(M_(`https://${n.host}/b`),k_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:nC(a,n.app.options.projectId))}class Mb{constructor(e,t,i,r,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=gD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aq,this._maxUploadRetryTime=lq,this._requests=new Set,r!=null?this._bucket=$n.makeFromBucketSpec(r,this._host):this._bucket=g1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=g1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ca(this,e)}_makeRequest(e,t,i,r,a=!0){if(this._deleted)return new Eq(vD());{const u=Oq(e,this._appId,i,r,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const y1="@firebase/storage",v1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="storage";function mH(n,e,t){return n=ct(n),aH(n,e,t)}function gH(n){return n=ct(n),lH(n)}function yH(n){return n=ct(n),uH(n)}function _1(n,e){return n=ct(n),dH(n,e)}function vH(n=V_(),e){n=ct(n);const i=hp(n,PD).getImmediate({identifier:e}),r=Jx("storage");return r&&_H(i,...r),i}function _H(n,e,t,i={}){pH(n,e,t,i)}function bH(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Mb(t,i,r,e,fa)}function wH(){oa(new $r(PD,bH,"PUBLIC").setMultipleInstances(!0)),es(y1,v1,""),es(y1,v1,"esm2020")}wH();const TH={apiKey:"AIzaSyAM24lLkve3X0yaBhlHgfNx7LZ7UttRXFw",authDomain:"likwitdevs-417ee.firebaseapp.com",projectId:"likwitdevs-417ee",storageBucket:"likwitdevs-417ee.firebasestorage.app",messagingSenderId:"669619326357",appId:"1:669619326357:web:356366d029b91cb570fa9c"},kb=rC(TH),jl=z5(kb),Ko=F8(kb),b1=vH(kb);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SH=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),w1=n=>{const e=SH(n);return e.charAt(0).toUpperCase()+e.slice(1)},MD=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),AH=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:u,...h},f)=>U.createElement("svg",{ref:f,...RH,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:MD("lucide",r),...!a&&!AH(h)&&{"aria-hidden":"true"},...h},[...u.map(([d,g])=>U.createElement(d,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=(n,e)=>{const t=U.forwardRef(({className:i,...r},a)=>U.createElement(xH,{ref:a,iconNode:e,className:MD(`lucide-${EH(w1(n))}`,`lucide-${n}`,i),...r}));return t.displayName=w1(n),t};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],kD=Np("facebook",CH);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],OD=Np("github",IH);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ND=Np("instagram",DH);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],VD=Np("mail",PH),cl=({isActive:n})=>`px-3 py-2 rounded-lg text-sm transition
   ${n?"bg-white/20 text-white":"text-white/80 hover:text-white hover:bg-white/10"}`;function MH(){const[n,e]=U.useState(!1),[t,i]=U.useState(!1),r=tp();U.useEffect(()=>{const u=q_(jl,h=>e(!!h));return()=>u()},[]);async function a(){try{await PC(jl),r("/"),i(!1)}catch(u){console.error("Sign out failed:",u)}}return N.jsx("header",{className:"left-0 right-0 z-50 mt-6",children:N.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[N.jsxs("div",{className:`flex items-center justify-between rounded-2xl border border-white/10\r
                        bg-black/10 backdrop-blur-md px-4 py-3`,children:[N.jsx(Cr,{to:"/",className:"text-white font-semibold",onClick:()=>i(!1),children:"Likwit Devs"}),N.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[N.jsx(Cr,{to:"/",className:cl,children:"Home"}),N.jsx("button",{onClick:()=>{document.getElementById("about")?.scrollIntoView({behavior:"smooth"})},className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition",children:"About"}),N.jsx(Cr,{to:"/contact",className:cl,children:"Contact"}),n&&N.jsxs(N.Fragment,{children:[N.jsx(Cr,{to:"/admin",className:cl,children:"Admin"}),N.jsx("button",{onClick:a,className:"ml-2 px-3 py-1.5 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition",children:"Sign out"})]})]}),N.jsx("button",{className:"md:hidden inline-flex items-center justify-center rounded-lg border border-white/20 px-3 py-2 text-white/90",onClick:()=>i(u=>!u),"aria-expanded":t,"aria-controls":"mobile-nav",children:"Menu"})]}),N.jsx("div",{id:"mobile-nav",className:`md:hidden transition-[max-height] duration-300 overflow-hidden border-x border-b border-white/10 rounded-b-2xl
          ${t?"max-h-80":"max-h-0"}`,children:N.jsxs("div",{className:"px-4 py-3 bg-black/10 backdrop-blur-md",children:[N.jsxs("ul",{className:"space-y-2",children:[N.jsx("li",{children:N.jsx(Cr,{to:"/",className:cl,onClick:()=>i(!1),children:"Home"})}),N.jsx("li",{children:N.jsx("button",{onClick:()=>{document.getElementById("about")?.scrollIntoView({behavior:"smooth"}),i(!1)},className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition w-full text-left",children:"About"})}),N.jsx("li",{children:N.jsx(Cr,{to:"/contact",className:cl,onClick:()=>i(!1),children:"Contact"})}),n&&N.jsxs(N.Fragment,{children:[N.jsx("li",{children:N.jsx(Cr,{to:"/admin",className:cl,onClick:()=>i(!1),children:"Admin"})}),N.jsx("li",{children:N.jsx("button",{onClick:a,className:"px-3 py-2 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition w-full text-left",children:"Sign out"})})]})]}),N.jsx("div",{className:"my-3 h-px bg-white/10"}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(js,{to:"/contact","aria-label":"Contact",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:N.jsx(VD,{size:18})}),N.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noreferrer","aria-label":"Instagram",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:N.jsx(ND,{size:18})}),N.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noreferrer","aria-label":"Facebook",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:N.jsx(kD,{size:18})}),N.jsx("a",{href:"https://github.com/michaelm602",target:"_blank",rel:"noreferrer","aria-label":"GitHub",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:N.jsx(OD,{size:18})})]})]})})]})})}function kH(){const n=new Date().getFullYear();function e(t){const i=document.getElementById(t);if(i){const a=i.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:a,behavior:"smooth"})}}return N.jsxs("footer",{className:"mt-10 border-t border-white/10 bg-white/5 backdrop-blur-md",children:[N.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8 grid gap-8 md:grid-cols-3 text-white/90",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"text-lg font-semibold text-white",children:"Likwit Devs"}),N.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Modern, responsive websites with clean UX and custom visuals."})]}),N.jsxs("nav",{className:"grid grid-cols-2 gap-2 text-sm",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("p",{className:"text-white/60 font-medium",children:"Pages"}),N.jsx(js,{className:"block hover:text-white",to:"/",children:"Home"}),N.jsx("button",{onClick:()=>e("about"),className:"block text-left hover:text-white w-full",children:"About"}),N.jsx(js,{className:"block hover:text-white",to:"/contact",children:"Contact"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("p",{className:"text-white/60 font-medium",children:"Services"}),N.jsx("span",{className:"block text-white/70",children:"Portfolio Sites"}),N.jsx("span",{className:"block text-white/70",children:"E-commerce"}),N.jsx("span",{className:"block text-white/70",children:"Brand Visuals"})]})]}),N.jsxs("div",{className:"space-y-3",children:[N.jsx("h4",{className:"font-semibold text-white mb-2",children:"Get in touch"}),N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsx(VD,{className:"w-5 h-5 opacity-80"}),N.jsx(js,{to:"/contact",className:"hover:underline hover:text-white",children:"likwitdevs@gmail.com"})]}),N.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[N.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noreferrer",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition",children:N.jsx(ND,{size:18})}),N.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noreferrer",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition",children:N.jsx(kD,{size:18})}),N.jsx("a",{href:"https://github.com/michaelm602",target:"_blank",rel:"noreferrer",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition",children:N.jsx(OD,{size:18})})]})]})]}),N.jsxs("div",{className:"border-t border-white/10 text-center text-xs text-white/60 py-4",children:["© ",n," Likwit Devs. All rights reserved."]})]})}function OH(){const n=Ws(),e=U.useRef(!0);return U.useEffect(()=>{e.current=!1},[]),N.jsxs(N.Fragment,{children:[N.jsx(K6,{}),N.jsx(MH,{}),N.jsx("main",{className:"min-h-screen",children:N.jsx(gk,{})}),!e.current&&N.jsx(QO,{mode:"wait",initial:!1,children:N.jsx(vx.div,{className:"fixed left-0 top-0 z-[100] h-0.5 w-full pointer-events-none",initial:{scaleX:0},animate:{scaleX:1,transition:{duration:.35,ease:"easeInOut"}},exit:{scaleX:0,transition:{duration:.2,ease:"easeInOut"}},style:{transformOrigin:"0 50%",background:"rgba(255,255,255,0.4)"}},n.pathname)}),N.jsx(kH,{})]})}function NH({texts:n=[],speed:e=50,pause:t=1500,className:i=""}){const[r,a]=U.useState(""),[u,h]=U.useState(0),[f,d]=U.useState(0),[g,v]=U.useState(!0);return U.useEffect(()=>{let b;return g?f<n[u].length?b=setTimeout(()=>d(f+1),e):b=setTimeout(()=>v(!1),t):f>0?b=setTimeout(()=>d(f-1),e/2):(v(!0),h((u+1)%n.length)),a(n[u].slice(0,f)),()=>clearTimeout(b)},[f,g,u,n,e,t]),N.jsxs("span",{className:i,children:[r,N.jsx("span",{className:"cursor",children:"|"})]})}function VH(){const[n,e]=U.useState([]),[t,i]=U.useState(!0),[r,a]=U.useState(null);return U.useEffect(()=>{const u=Vv(Zd(Ko,"projects"),eq("published","==",!0),Lv("order","asc"));let h=Uv(u,f=>{e(f.docs.map(d=>({id:d.id,...d.data()}))),i(!1)},f=>{if(!(f.code==="failed-precondition"||/index/i.test(f.message||""))){a(f),i(!1);return}const g=Vv(Zd(Ko,"projects"),Lv("order","asc"));h=Uv(g,v=>{const b=v.docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.published===!0);e(b),i(!1)},v=>{a(v),i(!1)})});return()=>h&&h()},[]),{projects:n,loading:t,error:r}}function LH({project:n}){const{title:e,summary:t,description:i,href:r,imageUrl:a,tags:u=[],imageFocus:h}=n,f=/^https?:\/\//i.test(r||"")?r:`https://${r||""}`,d=h||"50% 25%";return N.jsxs("article",{className:"rounded-2xl border border-white/15 bg-black/40 backdrop-blur-sm shadow-xl shadow-black/80",children:[N.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"block rounded-t-2xl overflow-hidden","aria-label":`Open ${e} in a new tab`,children:N.jsx("div",{className:"relative aspect-[16/9] bg-no-repeat bg-contain",style:{backgroundImage:`url('${a||""}')`,backgroundPosition:d},children:N.jsx("div",{className:"absolute inset-0"})})}),N.jsxs("div",{className:"rounded-b-2xl p-5 pb-6 text-white",children:[N.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&N.jsx("p",{className:"mt-2 text-white/90",children:t}),i&&N.jsx("p",{className:"mt-2 text-white/80 leading-relaxed break-words",children:i}),N.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[u.length>0&&N.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(g=>N.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10 text-white/85",children:g},g))}),N.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"btn whitespace-nowrap",children:"Live site ↗"})]})]})]})}function UH(){const{projects:n,loading:e,error:t}=VH();return N.jsx("section",{id:"projects",className:"relative z-10 px-4 pt-12 pb-28 md:pt-16 md:pb-32",children:N.jsxs("div",{className:"mx-auto max-w-6xl",children:[N.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:"Recent Work"}),e&&N.jsx("p",{className:"text-white/70",children:"Loading projects…"}),t&&N.jsx("p",{className:"text-red-300",children:"Couldn't load projects."}),!e&&!t&&n.length===0&&N.jsx("p",{className:"text-white/70",children:"No projects yet."}),!e&&!t&&n.length>0&&N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:n.map(i=>N.jsx(LH,{project:i},i.id))})]})})}function zH(){return N.jsx("section",{id:"about",className:"scroll-mt-24 px-4 py-12 md:py-20",children:N.jsxs("div",{className:"mx-auto max-w-6xl rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md p-6 md:p-10",children:[N.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"About Me"}),N.jsxs("p",{className:"text-white/90 max-w-3xl",children:["I’m Michael — the builder behind ",N.jsx("span",{className:"font-semibold",children:"Likwit Devs"}),". I design and ship clean, mobile-first websites for artists, small businesses, and creators. My focus is speed, polish, and simple admin tools so you can update content without headaches. Need e-commerce, booking, or custom visuals? I’ve got you."]}),N.jsxs("ul",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 text-white/80",children:[N.jsx("li",{children:"• React + Tailwind, Firebase (Auth/Firestore/Storage)"}),N.jsx("li",{children:"• Stripe & PayPal checkout, EmailJS notifications"}),N.jsx("li",{children:"• Image galleries, admin panels, and fast hosting"}),N.jsx("li",{children:"• Branding help: visuals, hero media, light effects"})]})]})})}function BH(){return N.jsxs(N.Fragment,{children:[N.jsxs("section",{className:"relative overflow-hidden",children:[N.jsx(Yx,{className:"pointer-events-none absolute inset-0"}),N.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-transparent"}),N.jsx("div",{className:"mx-auto max-w-6xl px-4",children:N.jsxs("div",{className:"relative py-14 md:py-24",children:[N.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight text-white",children:"Welcome to My Portfolio"}),N.jsx("p",{className:"mt-3 text-base sm:text-lg md:text-xl leading-relaxed text-white/90 max-w-2xl",children:N.jsx(NH,{texts:["I build and design modern, responsive websites.","I make sites that are fast, professional, and mobile-friendly.","I add custom artwork and visuals to make your brand stand out."],speed:70,pause:1600})}),N.jsx("button",{onClick:()=>{document.getElementById("projects")?.scrollIntoView({behavior:"smooth"})},className:"btn-subtle text-white bg-black/10 backdrop-blur-md",children:"View Projects"})]})})]}),N.jsx(UH,{}),N.jsx(zH,{})]})}class _h{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const jH=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},an={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:jH()},Ob=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},FH=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=Ob(n);an.publicKey=t.publicKey,an.blockHeadless=t.blockHeadless,an.storageProvider=t.storageProvider,an.blockList=t.blockList,an.limitRate=t.limitRate,an.origin=t.origin||e},LD=async(n,e,t={})=>{const i=await fetch(an.origin+n,{method:"POST",headers:t,body:e}),r=await i.text(),a=new _h(i.status,r);if(i.ok)return a;throw a},UD=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},qH=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},zD=n=>n.webdriver||!n.languages||n.languages.length===0,BD=()=>new _h(451,"Unavailable For Headless Browser"),HH=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},GH=n=>!n.list?.length||!n.watchVariable,$H=(n,e)=>n instanceof FormData?n.get(e):n[e],jD=(n,e)=>{if(GH(n))return!1;HH(n.list,n.watchVariable);const t=$H(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},FD=()=>new _h(403,"Forbidden"),KH=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},YH=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},qD=async(n,e,t)=>{if(!e.throttle||!t)return!1;KH(e.throttle,e.id);const i=e.id||n;return await YH(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},HD=()=>new _h(429,"Too Many Requests"),XH=async(n,e,t,i)=>{const r=Ob(i),a=r.publicKey||an.publicKey,u=r.blockHeadless||an.blockHeadless,h=r.storageProvider||an.storageProvider,f={...an.blockList,...r.blockList},d={...an.limitRate,...r.limitRate};return u&&zD(navigator)?Promise.reject(BD()):(UD(a,n,e),qH(t),t&&jD(f,t)?Promise.reject(FD()):await qD(location.pathname,d,h)?Promise.reject(HD()):LD("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},QH=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},WH=n=>typeof n=="string"?document.querySelector(n):n,ZH=async(n,e,t,i)=>{const r=Ob(i),a=r.publicKey||an.publicKey,u=r.blockHeadless||an.blockHeadless,h=an.storageProvider||r.storageProvider,f={...an.blockList,...r.blockList},d={...an.limitRate,...r.limitRate};if(u&&zD(navigator))return Promise.reject(BD());const g=WH(t);UD(a,n,e),QH(g);const v=new FormData(g);return jD(f,v)?Promise.reject(FD()):await qD(location.pathname,d,h)?Promise.reject(HD()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",e),v.append("user_id",a),LD("/api/v1.0/email/send-form",v))},JH={init:FH,send:XH,sendForm:ZH,EmailJSResponseStatus:_h};function e7(){const n=U.useRef(null),[e,t]=U.useState({sending:!1,ok:null,msg:""}),i="service_yh2nn3r",r="template_zh0pz1m",a="X9CRu7KD1qXDNtEnz";async function u(h){if(h.preventDefault(),e.sending)return;const f=n.current,d=f.from_name.value.trim(),g=f.from_email.value.trim(),v=f.message.value.trim();if(!d||!g||!v){t({sending:!1,ok:!1,msg:"Please fill out all fields."});return}try{t({sending:!0,ok:null,msg:""}),await JH.send(i,r,{from_name:d,from_email:g,message:v,reply_to:g},{publicKey:a}),t({sending:!1,ok:!0,msg:"Thanks! Your message was sent."}),f.reset()}catch{t({sending:!1,ok:!1,msg:"Could not send. Try again later."})}}return N.jsx("section",{className:"min-h-screen grid place-items-center bg-transparent px-4 pt-28",children:N.jsxs(vx.form,{ref:n,onSubmit:u,initial:{y:12},animate:{y:0,transition:{duration:.28,ease:"easeOut"}},className:`w-full max-w-xl bg-black/40 backdrop-blur-md border border-white/10\r
                   rounded-2xl p-6 text-white space-y-4 transform-gpu`,children:[N.jsx("h2",{className:"text-2xl font-semibold",children:"Contact"}),N.jsx("input",{type:"text",name:"company",className:"hidden",tabIndex:-1,autoComplete:"off"}),N.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"text-sm text-white/80",children:"Your name"}),N.jsx("input",{name:"from_name",className:"mt-1 w-full rounded-lg bg-white/10 p-2 outline-none",placeholder:"Jane Doe"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"text-sm text-white/80",children:"Email"}),N.jsx("input",{name:"from_email",type:"email",className:"mt-1 w-full rounded-lg bg-white/10 p-2 outline-none",placeholder:"you@email.com"})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"text-sm text-white/80",children:"Message"}),N.jsx("textarea",{name:"message",rows:"5",className:"mt-1 w-full rounded-lg bg-white/10 p-2 outline-none",placeholder:"How can I help?"})]}),N.jsx("button",{type:"submit",disabled:e.sending,className:"w-full rounded-xl bg-white/90 text-black font-semibold py-2 hover:bg-white disabled:opacity-60",children:e.sending?"Sending...":"Send"}),e.ok===!0&&N.jsx("p",{className:"text-green-300",children:e.msg}),e.ok===!1&&N.jsx("p",{className:"text-red-300",children:e.msg})]})})}function t7(){const[n,e]=U.useState({email:"",pass:""}),[t,i]=U.useState(""),[r,a]=U.useState(!1),u=tp(),h=async f=>{f.preventDefault(),a(!0),i("");try{await R9(jl,n.email,n.pass),u("/admin")}catch(d){console.error(d),i("Invalid credentials")}finally{a(!1)}};return N.jsx("main",{className:"min-h-screen grid place-items-center p-6",children:N.jsxs("form",{onSubmit:h,className:"w-full max-w-sm rounded-2xl border border-white/10 bg-white/5 p-6 space-y-4",children:[N.jsx("h1",{className:"text-xl font-bold text-center",children:"Admin Login"}),t&&N.jsx("div",{className:"text-red-400 text-center",children:t}),N.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 rounded bg-white/10",value:n.email,onChange:f=>e({...n,email:f.target.value})}),N.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-2 rounded bg-white/10",value:n.pass,onChange:f=>e({...n,pass:f.target.value})}),N.jsx("button",{type:"submit",disabled:r,className:"w-full px-4 py-2 rounded-xl bg-white text-black",children:r?"Logging in…":"Log In"})]})})}const T1="".split(",").map(n=>n.trim()).filter(Boolean),n7=["7u3Uund1CKRrtf4Pw0ehaLCI7WR2"];function i7(){const n=U.useMemo(()=>T1.length?T1:n7,[]),[e,t]=U.useState({loading:!0,ok:!1,user:null});return U.useEffect(()=>q_(jl,r=>{const a=!!r&&n.includes(r.uid);t({loading:!1,ok:a,user:r||null})}),[n]),e}function s7(n){return n.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function r7(n){return n.split(",").map(e=>e.trim()).filter(Boolean)}function Ny(n=""){const e=(n||"").trim();return e?/^https?:\/\//i.test(e)?e:`https://${e}`:""}function o7(){const n=i7(),[e,t]=U.useState(!1),[i,r]=U.useState(!1),[a,u]=U.useState([]),[h,f]=U.useState({title:"",href:"",summary:"",description:"",tags:"",order:1,published:!0,file:null,preview:""}),d=tp();if(U.useEffect(()=>{const A=q_(jl,I=>t(!!I));return()=>A()},[]),U.useEffect(()=>{const A=Vv(Zd(Ko,"projects"),Lv("order","asc")),I=Uv(A,D=>{u(D.docs.map(j=>({id:j.id,...j.data()})))});return()=>I()},[]),n===null)return N.jsx("div",{className:"min-h-screen grid place-items-center p-6 text-white",children:"Checking access…"});if(n===!1)return N.jsx("main",{className:"min-h-screen grid place-items-center p-6 text-white",children:N.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 text-center space-y-3 text-white",children:[N.jsx("div",{children:"Not authorized"}),N.jsx(js,{to:"/admin/login",className:"inline-flex px-4 py-2 rounded-xl bg-white text-black",children:"Go to Login"})]})});async function g(A){if(A.preventDefault(),i)return;const{title:I,href:D,file:j}=h,F=Ny(D);if(!I||!F||!j){alert("Title, Live link, and Image are required.");return}try{r(!0);const $=s7(I)+"-"+Date.now(),Z=(j.name.split(".").pop()||"jpg").toLowerCase(),ae=`projects/${$}.${Z}`,M=_1(b1,ae);await mH(M,j);const C=await gH(M);await rq(Zd(Ko,"projects"),{title:h.title,href:F,summary:h.summary,description:h.description,tags:r7(h.tags),order:Number(h.order)||1,published:!!h.published,imagePath:ae,imageUrl:C,createdAt:nd(),updatedAt:nd()}),f({title:"",href:"",summary:"",description:"",tags:"",order:1,published:!0,file:null,preview:""}),A.target.reset?.()?.()}catch($){console.error($),alert("Could not add project. Check console for details.")}finally{r(!1)}}async function v(A){await d1(Td(Ko,"projects",A.id),{published:!A.published,updatedAt:nd()})}async function b(A,I){await d1(Td(Ko,"projects",A.id),{order:Number(I)||1,updatedAt:nd()})}async function E(A){if(confirm(`Delete "${A.title}"?`))try{await sq(Td(Ko,"projects",A.id)),A.imagePath&&await yH(_1(b1,A.imagePath)).catch(()=>{})}catch(I){console.error(I),alert("Delete failed.")}}async function x(){await PC(jl),d("/")}return N.jsxs("main",{className:"min-h-screen px-4 pt-28 pb-12 text-white",children:[N.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[N.jsx("h1",{className:"text-2xl font-bold",children:"Admin — Projects"}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(js,{to:"/",className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"View site"}),e&&N.jsxs(N.Fragment,{children:[N.jsx(js,{to:"/admin",className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"Admin"}),N.jsx("button",{onClick:x,className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"Sign out"})]})]})]}),N.jsxs("form",{onSubmit:g,className:"max-w-6xl mx-auto mt-6 grid gap-3 md:grid-cols-2 rounded-2xl border border-white/10 bg-white/5 p-6",children:[N.jsx("input",{className:"input md:col-span-1",placeholder:"Title",onChange:A=>f(I=>({...I,title:A.target.value}))}),N.jsx("input",{className:"input md:col-span-1",placeholder:"Live site URL (https://…)",value:h.href,onChange:A=>f(I=>({...I,href:A.target.value})),onBlur:A=>f(I=>({...I,href:Ny(A.target.value)}))}),N.jsx("input",{className:"input md:col-span-2",placeholder:"What is this? (short summary)",onChange:A=>f(I=>({...I,summary:A.target.value}))}),N.jsx("textarea",{className:"input md:col-span-2",rows:3,placeholder:"What does it do? (features, purpose)",onChange:A=>f(I=>({...I,description:A.target.value}))}),N.jsx("input",{className:"input md:col-span-1",placeholder:"tags (comma separated)",onChange:A=>f(I=>({...I,tags:A.target.value}))}),N.jsx("input",{className:"input md:col-span-1",type:"number",min:"1",placeholder:"Order (1 = top)",onChange:A=>f(I=>({...I,order:A.target.value}))}),N.jsxs("label",{className:"flex items-center gap-2 md:col-span-1 text-white/90",children:[N.jsx("input",{type:"checkbox",defaultChecked:!0,onChange:A=>f(I=>({...I,published:A.target.checked}))}),"Published"]}),N.jsxs("div",{className:"md:col-span-1 flex items-center gap-3",children:[N.jsx("input",{className:"input flex-1",type:"file",accept:"image/*",onChange:A=>{const I=A.target.files?.[0]||null;f(D=>({...D,file:I,preview:I?URL.createObjectURL(I):""}))}}),h.preview&&N.jsx("div",{className:"w-28 aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${h.preview}')`}})]}),N.jsx("button",{disabled:i,className:"btn md:col-span-2",children:i?"Saving…":"Add Project"})]}),N.jsxs("div",{className:"max-w-6xl mx-auto mt-8 space-y-3",children:[a.map(A=>{const I=Ny(A.href);return N.jsxs("div",{className:"grid md:grid-cols-[180px_1fr_auto] items-center gap-3 p-3 rounded-2xl border border-white/10 bg-white/5",children:[N.jsx("div",{className:"aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${A.imageUrl||""}')`}}),N.jsxs("div",{children:[N.jsx("div",{className:"font-semibold",children:A.title}),A.summary&&N.jsx("div",{className:"text-sm text-white/85",children:A.summary}),A.description&&N.jsx("div",{className:"text-xs text-white/70 mt-1",children:A.description}),N.jsx("a",{href:I,target:"_blank",rel:"noreferrer",className:"text-white/70 hover:text-white text-sm",children:I}),N.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(A.tags||[]).map(D=>N.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10",children:D},D))})]}),N.jsxs("div",{className:"flex flex-col items-end gap-2",children:[N.jsx("label",{className:"text-xs text-white/70",children:"Order"}),N.jsx("input",{defaultValue:A.order||1,onBlur:D=>b(A,D.target.value),className:"w-16 bg-white/10 rounded px-2 py-1 text-sm"}),N.jsx("button",{onClick:()=>v(A),className:"btn-subtle",children:A.published?"Unpublish":"Publish"}),N.jsx("button",{onClick:()=>E(A),className:"btn-subtle",children:"Delete"})]})]},A.id)}),a.length===0&&N.jsx("div",{className:"text-white/70",children:"No projects yet. Add your first one above."})]})]})}function a7(){return N.jsx("div",{style:{padding:24,color:"#fff"},children:"Page not found."})}AM.createRoot(document.getElementById("root")).render(N.jsx(Vy.StrictMode,{children:N.jsx(jk,{children:N.jsx(vk,{children:N.jsxs(Ho,{path:"/",element:N.jsx(OH,{}),children:[N.jsx(Ho,{index:!0,element:N.jsx(BH,{})}),N.jsx(Ho,{path:"contact",element:N.jsx(e7,{})}),N.jsx(Ho,{path:"admin/login",element:N.jsx(t7,{})}),N.jsx(Ho,{path:"admin",element:N.jsx(o7,{})}),N.jsx(Ho,{path:"*",element:N.jsx(a7,{})})]})})})}));
