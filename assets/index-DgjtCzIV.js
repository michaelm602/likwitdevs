(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function RA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zg={exports:{}},cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function _P(){if(YT)return cc;YT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:o}}return cc.Fragment=e,cc.jsx=t,cc.jsxs=t,cc}var XT;function bP(){return XT||(XT=1,zg.exports=_P()),zg.exports}var x=bP(),Bg={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function wP(){if(WT)return ke;WT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function D(L,se,ce){this.props=L,this.context=se,this.refs=k,this.updater=ce||E}D.prototype.isReactComponent={},D.prototype.setState=function(L,se){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,se,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function P(){}P.prototype=D.prototype;function F(L,se,ce){this.props=L,this.context=se,this.refs=k,this.updater=ce||E}var B=F.prototype=new P;B.constructor=F,C(B,D.prototype),B.isPureReactComponent=!0;var q=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function O(L,se,ce,le,ve,Oe){return ce=Oe.ref,{$$typeof:n,type:L,key:se,ref:ce!==void 0?ce:null,props:Oe}}function R(L,se){return O(L.type,se,void 0,void 0,void 0,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function U(L){var se={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return se[ce]})}var z=/\/+/g;function H(L,se){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):se.toString(36)}function I(){}function pe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(se){L.status==="pending"&&(L.status="fulfilled",L.value=se)},function(se){L.status==="pending"&&(L.status="rejected",L.reason=se)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ae(L,se,ce,le,ve){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var Re=!1;if(L===null)Re=!0;else switch(Oe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(L.$$typeof){case n:case e:Re=!0;break;case g:return Re=L._init,Ae(Re(L._payload),se,ce,le,ve)}}if(Re)return ve=ve(L),Re=le===""?"."+H(L,0):le,q(ve)?(ce="",Re!=null&&(ce=Re.replace(z,"$&/")+"/"),Ae(ve,se,ce,"",function(Li){return Li})):ve!=null&&(M(ve)&&(ve=R(ve,ce+(ve.key==null||L&&L.key===ve.key?"":(""+ve.key).replace(z,"$&/")+"/")+Re)),se.push(ve)),1;Re=0;var Gt=le===""?".":le+":";if(q(L))for(var it=0;it<L.length;it++)le=L[it],Oe=Gt+H(le,it),Re+=Ae(le,se,ce,Oe,ve);else if(it=b(L),typeof it=="function")for(L=it.call(L),it=0;!(le=L.next()).done;)le=le.value,Oe=Gt+H(le,it++),Re+=Ae(le,se,ce,Oe,ve);else if(Oe==="object"){if(typeof L.then=="function")return Ae(pe(L),se,ce,le,ve);throw se=String(L),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Re}function X(L,se,ce){if(L==null)return L;var le=[],ve=0;return Ae(L,le,"","",function(Oe){return se.call(ce,Oe,ve++)}),le}function ee(L){if(L._status===-1){var se=L._result;se=se(),se.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=se)}if(L._status===1)return L._result.default;throw L._result}var he=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ce(){}return ke.Children={map:X,forEach:function(L,se,ce){X(L,function(){se.apply(this,arguments)},ce)},count:function(L){var se=0;return X(L,function(){se++}),se},toArray:function(L){return X(L,function(se){return se})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},ke.Component=D,ke.Fragment=t,ke.Profiler=r,ke.PureComponent=F,ke.StrictMode=i,ke.Suspense=f,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ke.__COMPILER_RUNTIME={__proto__:null,c:function(L){return Z.H.useMemoCache(L)}},ke.cache=function(L){return function(){return L.apply(null,arguments)}},ke.cloneElement=function(L,se,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=C({},L.props),ve=L.key,Oe=void 0;if(se!=null)for(Re in se.ref!==void 0&&(Oe=void 0),se.key!==void 0&&(ve=""+se.key),se)!oe.call(se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&se.ref===void 0||(le[Re]=se[Re]);var Re=arguments.length-2;if(Re===1)le.children=ce;else if(1<Re){for(var Gt=Array(Re),it=0;it<Re;it++)Gt[it]=arguments[it+2];le.children=Gt}return O(L.type,ve,void 0,void 0,Oe,le)},ke.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},ke.createElement=function(L,se,ce){var le,ve={},Oe=null;if(se!=null)for(le in se.key!==void 0&&(Oe=""+se.key),se)oe.call(se,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=se[le]);var Re=arguments.length-2;if(Re===1)ve.children=ce;else if(1<Re){for(var Gt=Array(Re),it=0;it<Re;it++)Gt[it]=arguments[it+2];ve.children=Gt}if(L&&L.defaultProps)for(le in Re=L.defaultProps,Re)ve[le]===void 0&&(ve[le]=Re[le]);return O(L,Oe,void 0,void 0,null,ve)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(L){return{$$typeof:h,render:L}},ke.isValidElement=M,ke.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:ee}},ke.memo=function(L,se){return{$$typeof:d,type:L,compare:se===void 0?null:se}},ke.startTransition=function(L){var se=Z.T,ce={};Z.T=ce;try{var le=L(),ve=Z.S;ve!==null&&ve(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ce,he)}catch(Oe){he(Oe)}finally{Z.T=se}},ke.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ke.use=function(L){return Z.H.use(L)},ke.useActionState=function(L,se,ce){return Z.H.useActionState(L,se,ce)},ke.useCallback=function(L,se){return Z.H.useCallback(L,se)},ke.useContext=function(L){return Z.H.useContext(L)},ke.useDebugValue=function(){},ke.useDeferredValue=function(L,se){return Z.H.useDeferredValue(L,se)},ke.useEffect=function(L,se,ce){var le=Z.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(L,se)},ke.useId=function(){return Z.H.useId()},ke.useImperativeHandle=function(L,se,ce){return Z.H.useImperativeHandle(L,se,ce)},ke.useInsertionEffect=function(L,se){return Z.H.useInsertionEffect(L,se)},ke.useLayoutEffect=function(L,se){return Z.H.useLayoutEffect(L,se)},ke.useMemo=function(L,se){return Z.H.useMemo(L,se)},ke.useOptimistic=function(L,se){return Z.H.useOptimistic(L,se)},ke.useReducer=function(L,se,ce){return Z.H.useReducer(L,se,ce)},ke.useRef=function(L){return Z.H.useRef(L)},ke.useState=function(L){return Z.H.useState(L)},ke.useSyncExternalStore=function(L,se,ce){return Z.H.useSyncExternalStore(L,se,ce)},ke.useTransition=function(){return Z.H.useTransition()},ke.version="19.1.1",ke}var QT;function $v(){return QT||(QT=1,Bg.exports=wP()),Bg.exports}var V=$v();const Fy=RA(V);var Fg={exports:{}},hc={},qg={exports:{}},Hg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function TP(){return ZT||(ZT=1,(function(n){function e(X,ee){var he=X.length;X.push(ee);e:for(;0<he;){var Ce=he-1>>>1,L=X[Ce];if(0<r(L,ee))X[Ce]=ee,X[he]=L,he=Ce;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ee=X[0],he=X.pop();if(he!==ee){X[0]=he;e:for(var Ce=0,L=X.length,se=L>>>1;Ce<se;){var ce=2*(Ce+1)-1,le=X[ce],ve=ce+1,Oe=X[ve];if(0>r(le,he))ve<L&&0>r(Oe,le)?(X[Ce]=Oe,X[ve]=he,Ce=ve):(X[Ce]=le,X[ce]=he,Ce=ce);else if(ve<L&&0>r(Oe,he))X[Ce]=Oe,X[ve]=he,Ce=ve;else break e}}return ee}function r(X,ee){var he=X.sortIndex-ee.sortIndex;return he!==0?he:X.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,v=null,b=3,E=!1,C=!1,k=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function q(X){for(var ee=t(d);ee!==null;){if(ee.callback===null)i(d);else if(ee.startTime<=X)i(d),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=t(d)}}function Z(X){if(k=!1,q(X),!C)if(t(f)!==null)C=!0,oe||(oe=!0,H());else{var ee=t(d);ee!==null&&Ae(Z,ee.startTime-X)}}var oe=!1,O=-1,R=5,M=-1;function U(){return D?!0:!(n.unstable_now()-M<R)}function z(){if(D=!1,oe){var X=n.unstable_now();M=X;var ee=!0;try{e:{C=!1,k&&(k=!1,F(O),O=-1),E=!0;var he=b;try{t:{for(q(X),v=t(f);v!==null&&!(v.expirationTime>X&&U());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,b=v.priorityLevel;var L=Ce(v.expirationTime<=X);if(X=n.unstable_now(),typeof L=="function"){v.callback=L,q(X),ee=!0;break t}v===t(f)&&i(f),q(X)}else i(f);v=t(f)}if(v!==null)ee=!0;else{var se=t(d);se!==null&&Ae(Z,se.startTime-X),ee=!1}}break e}finally{v=null,b=he,E=!1}ee=void 0}}finally{ee?H():oe=!1}}}var H;if(typeof B=="function")H=function(){B(z)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pe=I.port2;I.port1.onmessage=z,H=function(){pe.postMessage(null)}}else H=function(){P(z,0)};function Ae(X,ee){O=P(function(){X(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var he=b;b=ee;try{return X()}finally{b=he}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(X,ee){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=b;b=X;try{return ee()}finally{b=he}},n.unstable_scheduleCallback=function(X,ee,he){var Ce=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ce+he:Ce):he=Ce,X){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=he+L,X={id:g++,callback:ee,priorityLevel:X,startTime:he,expirationTime:L,sortIndex:-1},he>Ce?(X.sortIndex=he,e(d,X),t(f)===null&&X===t(d)&&(k?(F(O),O=-1):k=!0,Ae(Z,he-Ce))):(X.sortIndex=L,e(f,X),C||E||(C=!0,oe||(oe=!0,H()))),X},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(X){var ee=b;return function(){var he=b;b=ee;try{return X.apply(this,arguments)}finally{b=he}}}})(Hg)),Hg}var JT;function EP(){return JT||(JT=1,qg.exports=TP()),qg.exports}var Gg={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function xP(){if(eE)return mn;eE=1;var n=$v();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},mn.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},mn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},mn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},mn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):g==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},mn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},mn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},mn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},mn.requestFormReset=function(f){i.d.r(f)},mn.unstable_batchedUpdates=function(f,d){return f(d)},mn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},mn.version="19.1.1",mn}var tE;function SP(){if(tE)return Gg.exports;tE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gg.exports=xP(),Gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function AP(){if(nE)return hc;nE=1;var n=EP(),e=$v(),t=SP();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,c=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),s;if(y===c)return h(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var T=!1,S=p.child;S;){if(S===l){T=!0,l=p,c=y;break}if(S===c){T=!0,c=p,l=y;break}S=S.sibling}if(!T){for(S=y.child;S;){if(S===l){T=!0,l=y,c=p;break}if(S===c){T=!0,c=y,l=p;break}S=S.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case D:return"Profiler";case k:return"StrictMode";case Z:return"Suspense";case oe:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case B:return(s.displayName||"Context")+".Provider";case F:return(s._context.displayName||"Context")+".Consumer";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:pe(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return pe(s(a))}catch{}}return null}var Ae=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ce=[],L=-1;function se(s){return{current:s}}function ce(s){0>L||(s.current=Ce[L],Ce[L]=null,L--)}function le(s,a){L++,Ce[L]=s.current,s.current=a}var ve=se(null),Oe=se(null),Re=se(null),Gt=se(null);function it(s,a){switch(le(Re,a),le(Oe,s),le(ve,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?TT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=TT(a),s=ET(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ce(ve),le(ve,s)}function Li(){ce(ve),ce(Oe),ce(Re)}function nr(s){s.memoizedState!==null&&le(Gt,s);var a=ve.current,l=ET(a,s.type);a!==l&&(le(Oe,s),le(ve,l))}function ps(s){Oe.current===s&&(ce(ve),ce(Oe)),Gt.current===s&&(ce(Gt),rc._currentValue=he)}var oa=Object.prototype.hasOwnProperty,la=n.unstable_scheduleCallback,ua=n.unstable_cancelCallback,nu=n.unstable_shouldYield,Ah=n.unstable_requestPaint,Jn=n.unstable_now,zm=n.unstable_getCurrentPriorityLevel,iu=n.unstable_ImmediatePriority,bo=n.unstable_UserBlockingPriority,ca=n.unstable_NormalPriority,Bm=n.unstable_LowPriority,wo=n.unstable_IdlePriority,su=n.log,Rh=n.unstable_setDisableYieldValue,vt=null,Xe=null;function Un(s){if(typeof su=="function"&&Rh(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(vt,s)}catch{}}var fn=Math.clz32?Math.clz32:ha,Ch=Math.log,Fm=Math.LN2;function ha(s){return s>>>=0,s===0?32:31-(Ch(s)/Fm|0)|0}var fa=256,da=4194304;function bi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function To(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?p=bi(c):(T&=S,T!==0?p=bi(T):l||(l=S&~s,l!==0&&(p=bi(l))))):(S=c&~y,S!==0?p=bi(S):T!==0?p=bi(T):l||(l=c&~s,l!==0&&(p=bi(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function ma(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ru(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var s=fa;return fa<<=1,(fa&4194048)===0&&(fa=256),s}function ou(){var s=da;return da<<=1,(da&62914560)===0&&(da=4194304),s}function gs(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ys(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function lu(s,a,l,c,p,y){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,N=s.expirationTimes,Y=s.hiddenUpdates;for(l=T&~l;0<l;){var te=31-fn(l),re=1<<te;S[te]=0,N[te]=-1;var W=Y[te];if(W!==null)for(Y[te]=null,te=0;te<W.length;te++){var Q=W[te];Q!==null&&(Q.lane&=-536870913)}l&=~re}c!==0&&Ui(s,c,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~a))}function Ui(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-fn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function uu(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-fn(l),p=1<<c;p&a|s[c]&a&&(s[c]|=a),l&=~p}}function ir(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Eo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sr(){var s=ee.p;return s!==0?s:(s=window.event,s===void 0?32:FT(s.type))}function Ih(s,a){var l=ee.p;try{return ee.p=s,a()}finally{ee.p=l}}var ut=Math.random().toString(36).slice(2),jt="__reactFiber$"+ut,Dt="__reactProps$"+ut,ei="__reactContainer$"+ut,cu="__reactEvents$"+ut,qm="__reactListeners$"+ut,rr="__reactHandles$"+ut,Dh="__reactResources$"+ut,pa="__reactMarker$"+ut;function ar(s){delete s[jt],delete s[Dt],delete s[cu],delete s[qm],delete s[rr]}function vs(s){var a=s[jt];if(a)return a;for(var l=s.parentNode;l;){if(a=l[ei]||l[jt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=RT(s);s!==null;){if(l=s[jt])return l;s=RT(s)}return a}s=l,l=s.parentNode}return null}function ji(s){if(s=s[jt]||s[ei]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function zi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Tn(s){var a=s[Dh];return a||(a=s[Dh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xt(s){s[pa]=!0}var hu=new Set,xo={};function wi(s,a){_s(s,a),_s(s+"Capture",a)}function _s(s,a){for(xo[s]=a,s=0;s<a.length;s++)hu.add(a[s])}var kh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ph={},ga={};function Mh(s){return oa.call(ga,s)?!0:oa.call(Ph,s)?!1:kh.test(s)?ga[s]=!0:(Ph[s]=!0,!1)}function or(s,a,l){if(Mh(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Bi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function en(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var ya,Oh;function bs(s){if(ya===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ya=a&&a[1]||"",Oh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+s+Oh}var So=!1;function Ao(s,a){if(!s||So)return"";So=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Q){var W=Q}Reflect.construct(s,[],re)}else{try{re.call()}catch(Q){W=Q}s.call(re.prototype)}}else{try{throw Error()}catch(Q){W=Q}(re=s())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Q){if(Q&&W&&typeof Q.stack=="string")return[Q.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],S=y[1];if(T&&S){var N=T.split(`
`),Y=S.split(`
`);for(p=c=0;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(c===N.length||p===Y.length)for(c=N.length-1,p=Y.length-1;1<=c&&0<=p&&N[c]!==Y[p];)p--;for(;1<=c&&0<=p;c--,p--)if(N[c]!==Y[p]){if(c!==1||p!==1)do if(c--,p--,0>p||N[c]!==Y[p]){var te=`
`+N[c].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=c&&0<=p);break}}}finally{So=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?bs(l):""}function fu(s){switch(s.tag){case 26:case 27:case 5:return bs(s.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return Ao(s.type,!1);case 11:return Ao(s.type.render,!1);case 1:return Ao(s.type,!0);case 31:return bs("Activity");default:return""}}function Ro(s){try{var a="";do a+=fu(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function En(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function du(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Hm(s){var a=du(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Co(s){s._valueTracker||(s._valueTracker=Hm(s))}function mu(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=du(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function va(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Gm=/[\n"\\]/g;function kt(s){return s.replace(Gm,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function jn(s,a,l,c,p,y,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+En(a)):s.value!==""+En(a)&&(s.value=""+En(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?lr(s,T,En(a)):l!=null?lr(s,T,En(l)):c!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+En(S):s.removeAttribute("name")}function _a(s,a,l,c,p,y,T,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+En(l):"",a=a!=null?""+En(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function lr(s,a,l){a==="number"&&va(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ws(s,a,l,c){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&c&&(s[l].defaultSelected=!0)}else{for(l=""+En(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,c&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function Ze(s,a,l){if(a!=null&&(a=""+En(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+En(l):""}function ba(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(Ae(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=En(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function ti(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nh(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||wa.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function pu(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Nh(s,p,c)}else for(var y in a)a.hasOwnProperty(y)&&Nh(s,y,a[y])}function gu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $m=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Km=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(s){return Km.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ts=null;function ni(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Es=null,xs=null;function yu(s){var a=ji(s);if(a&&(s=a.stateNode)){var l=s[Dt]||null;e:switch(s=a.stateNode,a.type){case"input":if(jn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var p=c[Dt]||null;if(!p)throw Error(i(90));jn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&mu(c)}break e;case"textarea":Ze(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ws(s,!!l.multiple,a,!1)}}}var Fi=!1;function Vh(s,a,l){if(Fi)return s(a,l);Fi=!0;try{var c=s(a);return c}finally{if(Fi=!1,(Es!==null||xs!==null)&&(Df(),Es&&(a=Es,s=xs,xs=Es=null,yu(a),s)))for(a=0;a<s.length;a++)yu(s[a])}}function Ta(s,a){var l=s.stateNode;if(l===null)return null;var c=l[Dt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ii=!1;if(Ti)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){ii=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{ii=!1}var qi=null,ur=null,Ss=null;function vu(){if(Ss)return Ss;var s,a=ur,l=a.length,c,p="value"in qi?qi.value:qi.textContent,y=p.length;for(s=0;s<l&&a[s]===p[s];s++);var T=l-s;for(c=1;c<=T&&a[l-c]===p[y-c];c++);return Ss=p.slice(s,1<c?1-c:void 0)}function Hi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Gi(){return!0}function _u(){return!1}function $t(s){function a(l,c,p,y,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Gi:_u,this.isPropagationStopped=_u,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),a}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=$t(Ke),xa=g({},Ke,{view:0,detail:0}),Lh=$t(xa),ko,Po,$i,Sa=g({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$i&&($i&&s.type==="mousemove"?(ko=s.screenX-$i.screenX,Po=s.screenY-$i.screenY):Po=ko=0,$i=s),ko)},movementY:function(s){return"movementY"in s?s.movementY:Po}}),si=$t(Sa),Uh=g({},Sa,{dataTransfer:0}),Ym=$t(Uh),Aa=g({},xa,{relatedTarget:0}),Mo=$t(Aa),bu=g({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=$t(bu),jh=g({},Ke,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),No=$t(jh),Xm=g({},Ke,{data:0}),wu=$t(Xm),Ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Bh[s])?!!a[s]:!1}function Ca(){return Tu}var Fh=g({},xa,{key:function(s){if(s.key){var a=Ra[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Hi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(s){return s.type==="keypress"?Hi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Hi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Vo=$t(Fh),qh=g({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=$t(qh),As=g({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),Hh=$t(As),Gh=g({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),$h=$t(Gh),Kh=g({},Sa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Lo=$t(Kh),xn=g({},Ke,{newState:0,oldState:0}),Yh=$t(xn),Xh=[9,13,27,32],Ki=Ti&&"CompositionEvent"in window,m=null;Ti&&"documentMode"in document&&(m=document.documentMode);var _=Ti&&"TextEvent"in window&&!m,w=Ti&&(!Ki||m&&8<m&&11>=m),A=" ",$=!1;function J(s,a){switch(s){case"keyup":return Xh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Be=!1;function zt(s,a){switch(s){case"compositionend":return ue(a);case"keypress":return a.which!==32?null:($=!0,A);case"textInput":return s=a.data,s===A&&$?null:s;default:return null}}function Fe(s,a){if(Be)return s==="compositionend"||!Ki&&J(s,a)?(s=vu(),Ss=ur=qi=null,Be=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Kt[s.type]:a==="textarea"}function Rs(s,a,l,c){Es?xs?xs.push(c):xs=[c]:Es=c,a=Vf(a,"onChange"),0<a.length&&(l=new Do("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var tn=null,Yi=null;function xu(s){yT(s,0)}function Wh(s){var a=zi(s);if(mu(a))return s}function Ub(s,a){if(s==="change")return a}var jb=!1;if(Ti){var Wm;if(Ti){var Qm="oninput"in document;if(!Qm){var zb=document.createElement("div");zb.setAttribute("oninput","return;"),Qm=typeof zb.oninput=="function"}Wm=Qm}else Wm=!1;jb=Wm&&(!document.documentMode||9<document.documentMode)}function Bb(){tn&&(tn.detachEvent("onpropertychange",Fb),Yi=tn=null)}function Fb(s){if(s.propertyName==="value"&&Wh(Yi)){var a=[];Rs(a,Yi,s,ni(s)),Vh(xu,a)}}function XD(s,a,l){s==="focusin"?(Bb(),tn=a,Yi=l,tn.attachEvent("onpropertychange",Fb)):s==="focusout"&&Bb()}function WD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wh(Yi)}function QD(s,a){if(s==="click")return Wh(a)}function ZD(s,a){if(s==="input"||s==="change")return Wh(a)}function JD(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var zn=typeof Object.is=="function"?Object.is:JD;function Su(s,a){if(zn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!oa.call(a,p)||!zn(s[p],a[p]))return!1}return!0}function qb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Hb(s,a){var l=qb(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qb(l)}}function Gb(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Gb(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function $b(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=va(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=va(s.document)}return a}function Zm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var ek=Ti&&"documentMode"in document&&11>=document.documentMode,Uo=null,Jm=null,Au=null,ep=!1;function Kb(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ep||Uo==null||Uo!==va(c)||(c=Uo,"selectionStart"in c&&Zm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Au&&Su(Au,c)||(Au=c,c=Vf(Jm,"onSelect"),0<c.length&&(a=new Do("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Uo)))}function Ia(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var jo={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},tp={},Yb={};Ti&&(Yb=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Da(s){if(tp[s])return tp[s];if(!jo[s])return s;var a=jo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Yb)return tp[s]=a[l];return s}var Xb=Da("animationend"),Wb=Da("animationiteration"),Qb=Da("animationstart"),tk=Da("transitionrun"),nk=Da("transitionstart"),ik=Da("transitioncancel"),Zb=Da("transitionend"),Jb=new Map,np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");np.push("scrollEnd");function Ei(s,a){Jb.set(s,a),wi(a,[s])}var e0=new WeakMap;function ri(s,a){if(typeof s=="object"&&s!==null){var l=e0.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Ro(a)},e0.set(s,a),a)}return{value:s,source:a,stack:Ro(a)}}var ai=[],zo=0,ip=0;function Qh(){for(var s=zo,a=ip=zo=0;a<s;){var l=ai[a];ai[a++]=null;var c=ai[a];ai[a++]=null;var p=ai[a];ai[a++]=null;var y=ai[a];if(ai[a++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}y!==0&&t0(l,p,y)}}function Zh(s,a,l,c){ai[zo++]=s,ai[zo++]=a,ai[zo++]=l,ai[zo++]=c,ip|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function sp(s,a,l,c){return Zh(s,a,l,c),Jh(s)}function Bo(s,a){return Zh(s,null,null,a),Jh(s)}function t0(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&a!==null&&(p=31-fn(l),s=y.hiddenUpdates,c=s[p],c===null?s[p]=[a]:c.push(a),a.lane=l|536870912),y):null}function Jh(s){if(50<Qu)throw Qu=0,cg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Fo={};function sk(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(s,a,l,c){return new sk(s,a,l,c)}function rp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Cs(s,a){var l=s.alternate;return l===null?(l=Bn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function n0(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function ef(s,a,l,c,p,y){var T=0;if(c=s,typeof s=="function")rp(s)&&(T=1);else if(typeof s=="string")T=aP(s,l,ve.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Bn(31,l,a,p),s.elementType=M,s.lanes=y,s;case C:return ka(l.children,p,y,a);case k:T=8,p|=24;break;case D:return s=Bn(12,l,a,p|2),s.elementType=D,s.lanes=y,s;case Z:return s=Bn(13,l,a,p),s.elementType=Z,s.lanes=y,s;case oe:return s=Bn(19,l,a,p),s.elementType=oe,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case B:T=10;break e;case F:T=9;break e;case q:T=11;break e;case O:T=14;break e;case R:T=16,c=null;break e}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return a=Bn(T,l,a,p),a.elementType=s,a.type=c,a.lanes=y,a}function ka(s,a,l,c){return s=Bn(7,s,c,a),s.lanes=l,s}function ap(s,a,l){return s=Bn(6,s,null,a),s.lanes=l,s}function op(s,a,l){return a=Bn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var qo=[],Ho=0,tf=null,nf=0,oi=[],li=0,Pa=null,Is=1,Ds="";function Ma(s,a){qo[Ho++]=nf,qo[Ho++]=tf,tf=s,nf=a}function i0(s,a,l){oi[li++]=Is,oi[li++]=Ds,oi[li++]=Pa,Pa=s;var c=Is;s=Ds;var p=32-fn(c)-1;c&=~(1<<p),l+=1;var y=32-fn(a)+p;if(30<y){var T=p-p%5;y=(c&(1<<T)-1).toString(32),c>>=T,p-=T,Is=1<<32-fn(a)+p|l<<p|c,Ds=y+s}else Is=1<<y|l<<p|c,Ds=s}function lp(s){s.return!==null&&(Ma(s,1),i0(s,1,0))}function up(s){for(;s===tf;)tf=qo[--Ho],qo[Ho]=null,nf=qo[--Ho],qo[Ho]=null;for(;s===Pa;)Pa=oi[--li],oi[li]=null,Ds=oi[--li],oi[li]=null,Is=oi[--li],oi[li]=null}var Sn=null,_t=null,$e=!1,Oa=null,Xi=!1,cp=Error(i(519));function Na(s){var a=Error(i(418,""));throw Iu(ri(a,s)),cp}function s0(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[jt]=s,a[Dt]=c,l){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(l=0;l<Ju.length;l++)Le(Ju[l],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),_a(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Co(a);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),ba(a,c.value,c.defaultValue,c.children),Co(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||wT(a.textContent,l)?(c.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),c.onScroll!=null&&Le("scroll",a),c.onScrollEnd!=null&&Le("scrollend",a),c.onClick!=null&&(a.onclick=Lf),a=!0):a=!1,a||Na(s)}function r0(s){for(Sn=s.return;Sn;)switch(Sn.tag){case 5:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:Sn=Sn.return}}function Ru(s){if(s!==Sn)return!1;if(!$e)return r0(s),$e=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ag(s.type,s.memoizedProps)),l=!l),l&&_t&&Na(s),r0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){_t=Si(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}_t=null}}else a===27?(a=_t,Sr(s.type)?(s=Dg,Dg=null,_t=s):_t=a):_t=Sn?Si(s.stateNode.nextSibling):null;return!0}function Cu(){_t=Sn=null,$e=!1}function a0(){var s=Oa;return s!==null&&(Pn===null?Pn=s:Pn.push.apply(Pn,s),Oa=null),s}function Iu(s){Oa===null?Oa=[s]:Oa.push(s)}var hp=se(null),Va=null,ks=null;function cr(s,a,l){le(hp,a._currentValue),a._currentValue=l}function Ps(s){s._currentValue=hp.current,ce(hp)}function fp(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function dp(s,a,l,c){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=p;for(var N=0;N<a.length;N++)if(S.context===a[N]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),fp(y.return,l,s),c||(T=null);break e}y=S.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),fp(T,l,s),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===s){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Du(s,a,l,c){s=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=p.type;zn(p.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(p===Gt.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(rc):s=[rc])}p=p.return}s!==null&&dp(a,s,l,c),a.flags|=262144}function sf(s){for(s=s.firstContext;s!==null;){if(!zn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function La(s){Va=s,ks=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dn(s){return o0(Va,s)}function rf(s,a){return Va===null&&La(s),o0(s,a)}function o0(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ks===null){if(s===null)throw Error(i(308));ks=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ks=ks.next=a;return l}var rk=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},ak=n.unstable_scheduleCallback,ok=n.unstable_NormalPriority,Ft={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mp(){return{controller:new rk,data:new Map,refCount:0}}function ku(s){s.refCount--,s.refCount===0&&ak(ok,function(){s.controller.abort()})}var Pu=null,pp=0,Go=0,$o=null;function lk(s,a){if(Pu===null){var l=Pu=[];pp=0,Go=yg(),$o={status:"pending",value:void 0,then:function(c){l.push(c)}}}return pp++,a.then(l0,l0),a}function l0(){if(--pp===0&&Pu!==null){$o!==null&&($o.status="fulfilled");var s=Pu;Pu=null,Go=0,$o=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function uk(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var u0=X.S;X.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&lk(s,a),u0!==null&&u0(s,a)};var Ua=se(null);function gp(){var s=Ua.current;return s!==null?s:st.pooledCache}function af(s,a){a===null?le(Ua,Ua.current):le(Ua,a.pool)}function c0(){var s=gp();return s===null?null:{parent:Ft._currentValue,pool:s}}var Mu=Error(i(460)),h0=Error(i(474)),of=Error(i(542)),yp={then:function(){}};function f0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function lf(){}function d0(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(lf,lf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,p0(s),s;default:if(typeof a.status=="string")a.then(lf,lf);else{if(s=st,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,p0(s),s}throw Ou=a,Mu}}var Ou=null;function m0(){if(Ou===null)throw Error(i(459));var s=Ou;return Ou=null,s}function p0(s){if(s===Mu||s===of)throw Error(i(483))}var hr=!1;function vp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _p(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function fr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function dr(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Jh(s),t0(s,null,l),a}return Zh(s,c,a,l),Jh(s)}function Nu(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,uu(s,l)}}function bp(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var wp=!1;function Vu(){if(wp){var s=$o;if(s!==null)throw s}}function Lu(s,a,l,c){wp=!1;var p=s.updateQueue;hr=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var N=S,Y=N.next;N.next=null,T===null?y=Y:T.next=Y,T=N;var te=s.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==T&&(S===null?te.firstBaseUpdate=Y:S.next=Y,te.lastBaseUpdate=N))}if(y!==null){var re=p.baseState;T=0,te=Y=N=null,S=y;do{var W=S.lane&-536870913,Q=W!==S.lane;if(Q?(qe&W)===W:(c&W)===W){W!==0&&W===Go&&(wp=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var xe=s,_e=S;W=a;var tt=l;switch(_e.tag){case 1:if(xe=_e.payload,typeof xe=="function"){re=xe.call(tt,re,W);break e}re=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=_e.payload,W=typeof xe=="function"?xe.call(tt,re,W):xe,W==null)break e;re=g({},re,W);break e;case 2:hr=!0}}W=S.callback,W!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[W]:Q.push(W))}else Q={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Y=te=Q,N=re):te=te.next=Q,T|=W;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);te===null&&(N=re),p.baseState=N,p.firstBaseUpdate=Y,p.lastBaseUpdate=te,y===null&&(p.shared.lanes=0),wr|=T,s.lanes=T,s.memoizedState=re}}function g0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function y0(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)g0(l[s],a)}var Ko=se(null),uf=se(0);function v0(s,a){s=js,le(uf,s),le(Ko,a),js=s|a.baseLanes}function Tp(){le(uf,js),le(Ko,Ko.current)}function Ep(){js=uf.current,ce(Ko),ce(uf)}var mr=0,Me=null,Je=null,Pt=null,cf=!1,Yo=!1,ja=!1,hf=0,Uu=0,Xo=null,ck=0;function St(){throw Error(i(321))}function xp(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!zn(s[l],a[l]))return!1;return!0}function Sp(s,a,l,c,p,y){return mr=y,Me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=s===null||s.memoizedState===null?tw:nw,ja=!1,y=l(c,p),ja=!1,Yo&&(y=b0(a,l,c,p)),_0(s),y}function _0(s){X.H=yf;var a=Je!==null&&Je.next!==null;if(mr=0,Pt=Je=Me=null,cf=!1,Uu=0,Xo=null,a)throw Error(i(300));s===null||Yt||(s=s.dependencies,s!==null&&sf(s)&&(Yt=!0))}function b0(s,a,l,c){Me=s;var p=0;do{if(Yo&&(Xo=null),Uu=0,Yo=!1,25<=p)throw Error(i(301));if(p+=1,Pt=Je=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}X.H=yk,y=a(l,c)}while(Yo);return y}function hk(){var s=X.H,a=s.useState()[0];return a=typeof a.then=="function"?ju(a):a,s=s.useState()[0],(Je!==null?Je.memoizedState:null)!==s&&(Me.flags|=1024),a}function Ap(){var s=hf!==0;return hf=0,s}function Rp(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Cp(s){if(cf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}cf=!1}mr=0,Pt=Je=Me=null,Yo=!1,Uu=hf=0,Xo=null}function Dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Me.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function Mt(){if(Je===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=Je.next;var a=Pt===null?Me.memoizedState:Pt.next;if(a!==null)Pt=a,Je=s;else{if(s===null)throw Me.alternate===null?Error(i(467)):Error(i(310));Je=s,s={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Pt===null?Me.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function Ip(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ju(s){var a=Uu;return Uu+=1,Xo===null&&(Xo=[]),s=d0(Xo,s,a),a=Me,(Pt===null?a.memoizedState:Pt.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?tw:nw),s}function ff(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ju(s);if(s.$$typeof===B)return dn(s)}throw Error(i(438,String(s)))}function Dp(s){var a=null,l=Me.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ip(),Me.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=U;return a.index++,l}function Ms(s,a){return typeof a=="function"?a(s):a}function df(s){var a=Mt();return kp(a,Je,s)}function kp(s,a,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=s.baseQueue,y=c.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}a.baseQueue=p=y,c.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{a=p.next;var S=T=null,N=null,Y=a,te=!1;do{var re=Y.lane&-536870913;if(re!==Y.lane?(qe&re)===re:(mr&re)===re){var W=Y.revertLane;if(W===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),re===Go&&(te=!0);else if((mr&W)===W){Y=Y.next,W===Go&&(te=!0);continue}else re={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(S=N=re,T=y):N=N.next=re,Me.lanes|=W,wr|=W;re=Y.action,ja&&l(y,re),y=Y.hasEagerState?Y.eagerState:l(y,re)}else W={lane:re,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(S=N=W,T=y):N=N.next=W,Me.lanes|=re,wr|=re;Y=Y.next}while(Y!==null&&Y!==a);if(N===null?T=y:N.next=S,!zn(y,s.memoizedState)&&(Yt=!0,te&&(l=$o,l!==null)))throw l;s.memoizedState=y,s.baseState=T,s.baseQueue=N,c.lastRenderedState=y}return p===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Pp(s){var a=Mt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=s(y,T.action),T=T.next;while(T!==p);zn(y,a.memoizedState)||(Yt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function w0(s,a,l){var c=Me,p=Mt(),y=$e;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!zn((Je||p).memoizedState,l);T&&(p.memoizedState=l,Yt=!0),p=p.queue;var S=x0.bind(null,c,p,s);if(zu(2048,8,S,[s]),p.getSnapshot!==a||T||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,Wo(9,mf(),E0.bind(null,c,p,l,a),null),st===null)throw Error(i(349));y||(mr&124)!==0||T0(c,a,l)}return l}function T0(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Me.updateQueue,a===null?(a=Ip(),Me.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function E0(s,a,l,c){a.value=l,a.getSnapshot=c,S0(a)&&A0(s)}function x0(s,a,l){return l(function(){S0(a)&&A0(s)})}function S0(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!zn(s,l)}catch{return!0}}function A0(s){var a=Bo(s,2);a!==null&&$n(a,s,2)}function Mp(s){var a=Dn();if(typeof s=="function"){var l=s;if(s=l(),ja){Un(!0);try{l()}finally{Un(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:s},a}function R0(s,a,l,c){return s.baseState=l,kp(s,Je,typeof c=="function"?c:Ms)}function fk(s,a,l,c,p){if(gf(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};X.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,C0(a,y)):(y.next=l.next,a.pending=l.next=y)}}function C0(s,a){var l=a.action,c=a.payload,p=s.state;if(a.isTransition){var y=X.T,T={};X.T=T;try{var S=l(p,c),N=X.S;N!==null&&N(T,S),I0(s,a,S)}catch(Y){Op(s,a,Y)}finally{X.T=y}}else try{y=l(p,c),I0(s,a,y)}catch(Y){Op(s,a,Y)}}function I0(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){D0(s,a,c)},function(c){return Op(s,a,c)}):D0(s,a,l)}function D0(s,a,l){a.status="fulfilled",a.value=l,k0(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,C0(s,l)))}function Op(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,k0(a),a=a.next;while(a!==c)}s.action=null}function k0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function P0(s,a){return a}function M0(s,a){if($e){var l=st.formState;if(l!==null){e:{var c=Me;if($e){if(_t){t:{for(var p=_t,y=Xi;p.nodeType!==8;){if(!y){p=null;break t}if(p=Si(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){_t=Si(p.nextSibling),c=p.data==="F!";break e}}Na(c)}c=!1}c&&(a=l[0])}}return l=Dn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P0,lastRenderedState:a},l.queue=c,l=Z0.bind(null,Me,c),c.dispatch=l,c=Mp(!1),y=jp.bind(null,Me,!1,c.queue),c=Dn(),p={state:a,dispatch:null,action:s,pending:null},c.queue=p,l=fk.bind(null,Me,p,y,l),p.dispatch=l,c.memoizedState=s,[a,l,!1]}function O0(s){var a=Mt();return N0(a,Je,s)}function N0(s,a,l){if(a=kp(s,a,P0)[0],s=df(Ms)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=ju(a)}catch(T){throw T===Mu?of:T}else c=a;a=Mt();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Me.flags|=2048,Wo(9,mf(),dk.bind(null,p,l),null)),[c,y,s]}function dk(s,a){s.action=a}function V0(s){var a=Mt(),l=Je;if(l!==null)return N0(a,l,s);Mt(),a=a.memoizedState,l=Mt();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function Wo(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Me.updateQueue,a===null&&(a=Ip(),Me.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function mf(){return{destroy:void 0,resource:void 0}}function L0(){return Mt().memoizedState}function pf(s,a,l,c){var p=Dn();c=c===void 0?null:c,Me.flags|=s,p.memoizedState=Wo(1|a,mf(),l,c)}function zu(s,a,l,c){var p=Mt();c=c===void 0?null:c;var y=p.memoizedState.inst;Je!==null&&c!==null&&xp(c,Je.memoizedState.deps)?p.memoizedState=Wo(a,y,l,c):(Me.flags|=s,p.memoizedState=Wo(1|a,y,l,c))}function U0(s,a){pf(8390656,8,s,a)}function j0(s,a){zu(2048,8,s,a)}function z0(s,a){return zu(4,2,s,a)}function B0(s,a){return zu(4,4,s,a)}function F0(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function q0(s,a,l){l=l!=null?l.concat([s]):null,zu(4,4,F0.bind(null,a,s),l)}function Np(){}function H0(s,a){var l=Mt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&xp(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function G0(s,a){var l=Mt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&xp(a,c[1]))return c[0];if(c=s(),ja){Un(!0);try{s()}finally{Un(!1)}}return l.memoizedState=[c,a],c}function Vp(s,a,l){return l===void 0||(mr&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Yw(),Me.lanes|=s,wr|=s,l)}function $0(s,a,l,c){return zn(l,a)?l:Ko.current!==null?(s=Vp(s,l,c),zn(s,a)||(Yt=!0),s):(mr&42)===0?(Yt=!0,s.memoizedState=l):(s=Yw(),Me.lanes|=s,wr|=s,a)}function K0(s,a,l,c,p){var y=ee.p;ee.p=y!==0&&8>y?y:8;var T=X.T,S={};X.T=S,jp(s,!1,a,l);try{var N=p(),Y=X.S;if(Y!==null&&Y(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var te=uk(N,c);Bu(s,a,te,Gn(s))}else Bu(s,a,c,Gn(s))}catch(re){Bu(s,a,{then:function(){},status:"rejected",reason:re},Gn())}finally{ee.p=y,X.T=T}}function mk(){}function Lp(s,a,l,c){if(s.tag!==5)throw Error(i(476));var p=Y0(s).queue;K0(s,p,a,he,l===null?mk:function(){return X0(s),l(c)})}function Y0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:he},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function X0(s){var a=Y0(s).next.queue;Bu(s,a,{},Gn())}function Up(){return dn(rc)}function W0(){return Mt().memoizedState}function Q0(){return Mt().memoizedState}function pk(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Gn();s=fr(l);var c=dr(a,s,l);c!==null&&($n(c,a,l),Nu(c,a,l)),a={cache:mp()},s.payload=a;return}a=a.return}}function gk(s,a,l){var c=Gn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},gf(s)?J0(a,l):(l=sp(s,a,l,c),l!==null&&($n(l,s,c),ew(l,a,c)))}function Z0(s,a,l){var c=Gn();Bu(s,a,l,c)}function Bu(s,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(gf(s))J0(a,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,S=y(T,l);if(p.hasEagerState=!0,p.eagerState=S,zn(S,T))return Zh(s,a,p,0),st===null&&Qh(),!1}catch{}finally{}if(l=sp(s,a,p,c),l!==null)return $n(l,s,c),ew(l,a,c),!0}return!1}function jp(s,a,l,c){if(c={lane:2,revertLane:yg(),action:c,hasEagerState:!1,eagerState:null,next:null},gf(s)){if(a)throw Error(i(479))}else a=sp(s,l,c,2),a!==null&&$n(a,s,2)}function gf(s){var a=s.alternate;return s===Me||a!==null&&a===Me}function J0(s,a){Yo=cf=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function ew(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,uu(s,l)}}var yf={readContext:dn,use:ff,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},tw={readContext:dn,use:ff,useCallback:function(s,a){return Dn().memoizedState=[s,a===void 0?null:a],s},useContext:dn,useEffect:U0,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,pf(4194308,4,F0.bind(null,a,s),l)},useLayoutEffect:function(s,a){return pf(4194308,4,s,a)},useInsertionEffect:function(s,a){pf(4,2,s,a)},useMemo:function(s,a){var l=Dn();a=a===void 0?null:a;var c=s();if(ja){Un(!0);try{s()}finally{Un(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=Dn();if(l!==void 0){var p=l(a);if(ja){Un(!0);try{l(a)}finally{Un(!1)}}}else p=a;return c.memoizedState=c.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},c.queue=s,s=s.dispatch=gk.bind(null,Me,s),[c.memoizedState,s]},useRef:function(s){var a=Dn();return s={current:s},a.memoizedState=s},useState:function(s){s=Mp(s);var a=s.queue,l=Z0.bind(null,Me,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Np,useDeferredValue:function(s,a){var l=Dn();return Vp(l,s,a)},useTransition:function(){var s=Mp(!1);return s=K0.bind(null,Me,s.queue,!0,!1),Dn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Me,p=Dn();if($e){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),st===null)throw Error(i(349));(qe&124)!==0||T0(c,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,U0(x0.bind(null,c,y,s),[s]),c.flags|=2048,Wo(9,mf(),E0.bind(null,c,y,l,a),null),l},useId:function(){var s=Dn(),a=st.identifierPrefix;if($e){var l=Ds,c=Is;l=(c&~(1<<32-fn(c)-1)).toString(32)+l,a=""+a+"R"+l,l=hf++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=ck++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Up,useFormState:M0,useActionState:M0,useOptimistic:function(s){var a=Dn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=jp.bind(null,Me,!0,l),l.dispatch=a,[s,a]},useMemoCache:Dp,useCacheRefresh:function(){return Dn().memoizedState=pk.bind(null,Me)}},nw={readContext:dn,use:ff,useCallback:H0,useContext:dn,useEffect:j0,useImperativeHandle:q0,useInsertionEffect:z0,useLayoutEffect:B0,useMemo:G0,useReducer:df,useRef:L0,useState:function(){return df(Ms)},useDebugValue:Np,useDeferredValue:function(s,a){var l=Mt();return $0(l,Je.memoizedState,s,a)},useTransition:function(){var s=df(Ms)[0],a=Mt().memoizedState;return[typeof s=="boolean"?s:ju(s),a]},useSyncExternalStore:w0,useId:W0,useHostTransitionStatus:Up,useFormState:O0,useActionState:O0,useOptimistic:function(s,a){var l=Mt();return R0(l,Je,s,a)},useMemoCache:Dp,useCacheRefresh:Q0},yk={readContext:dn,use:ff,useCallback:H0,useContext:dn,useEffect:j0,useImperativeHandle:q0,useInsertionEffect:z0,useLayoutEffect:B0,useMemo:G0,useReducer:Pp,useRef:L0,useState:function(){return Pp(Ms)},useDebugValue:Np,useDeferredValue:function(s,a){var l=Mt();return Je===null?Vp(l,s,a):$0(l,Je.memoizedState,s,a)},useTransition:function(){var s=Pp(Ms)[0],a=Mt().memoizedState;return[typeof s=="boolean"?s:ju(s),a]},useSyncExternalStore:w0,useId:W0,useHostTransitionStatus:Up,useFormState:V0,useActionState:V0,useOptimistic:function(s,a){var l=Mt();return Je!==null?R0(l,Je,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Dp,useCacheRefresh:Q0},Qo=null,Fu=0;function vf(s){var a=Fu;return Fu+=1,Qo===null&&(Qo=[]),d0(Qo,s,a)}function qu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function _f(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function iw(s){var a=s._init;return a(s._payload)}function sw(s){function a(G,j){if(s){var K=G.deletions;K===null?(G.deletions=[j],G.flags|=16):K.push(j)}}function l(G,j){if(!s)return null;for(;j!==null;)a(G,j),j=j.sibling;return null}function c(G){for(var j=new Map;G!==null;)G.key!==null?j.set(G.key,G):j.set(G.index,G),G=G.sibling;return j}function p(G,j){return G=Cs(G,j),G.index=0,G.sibling=null,G}function y(G,j,K){return G.index=K,s?(K=G.alternate,K!==null?(K=K.index,K<j?(G.flags|=67108866,j):K):(G.flags|=67108866,j)):(G.flags|=1048576,j)}function T(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function S(G,j,K,ne){return j===null||j.tag!==6?(j=ap(K,G.mode,ne),j.return=G,j):(j=p(j,K),j.return=G,j)}function N(G,j,K,ne){var me=K.type;return me===C?te(G,j,K.props.children,ne,K.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&iw(me)===j.type)?(j=p(j,K.props),qu(j,K),j.return=G,j):(j=ef(K.type,K.key,K.props,null,G.mode,ne),qu(j,K),j.return=G,j)}function Y(G,j,K,ne){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=op(K,G.mode,ne),j.return=G,j):(j=p(j,K.children||[]),j.return=G,j)}function te(G,j,K,ne,me){return j===null||j.tag!==7?(j=ka(K,G.mode,ne,me),j.return=G,j):(j=p(j,K),j.return=G,j)}function re(G,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=ap(""+j,G.mode,K),j.return=G,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return K=ef(j.type,j.key,j.props,null,G.mode,K),qu(K,j),K.return=G,K;case E:return j=op(j,G.mode,K),j.return=G,j;case R:var ne=j._init;return j=ne(j._payload),re(G,j,K)}if(Ae(j)||H(j))return j=ka(j,G.mode,K,null),j.return=G,j;if(typeof j.then=="function")return re(G,vf(j),K);if(j.$$typeof===B)return re(G,rf(G,j),K);_f(G,j)}return null}function W(G,j,K,ne){var me=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return me!==null?null:S(G,j,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===me?N(G,j,K,ne):null;case E:return K.key===me?Y(G,j,K,ne):null;case R:return me=K._init,K=me(K._payload),W(G,j,K,ne)}if(Ae(K)||H(K))return me!==null?null:te(G,j,K,ne,null);if(typeof K.then=="function")return W(G,j,vf(K),ne);if(K.$$typeof===B)return W(G,j,rf(G,K),ne);_f(G,K)}return null}function Q(G,j,K,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return G=G.get(K)||null,S(j,G,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return G=G.get(ne.key===null?K:ne.key)||null,N(j,G,ne,me);case E:return G=G.get(ne.key===null?K:ne.key)||null,Y(j,G,ne,me);case R:var Ne=ne._init;return ne=Ne(ne._payload),Q(G,j,K,ne,me)}if(Ae(ne)||H(ne))return G=G.get(K)||null,te(j,G,ne,me,null);if(typeof ne.then=="function")return Q(G,j,K,vf(ne),me);if(ne.$$typeof===B)return Q(G,j,K,rf(j,ne),me);_f(j,ne)}return null}function xe(G,j,K,ne){for(var me=null,Ne=null,ge=j,we=j=0,Wt=null;ge!==null&&we<K.length;we++){ge.index>we?(Wt=ge,ge=null):Wt=ge.sibling;var Ge=W(G,ge,K[we],ne);if(Ge===null){ge===null&&(ge=Wt);break}s&&ge&&Ge.alternate===null&&a(G,ge),j=y(Ge,j,we),Ne===null?me=Ge:Ne.sibling=Ge,Ne=Ge,ge=Wt}if(we===K.length)return l(G,ge),$e&&Ma(G,we),me;if(ge===null){for(;we<K.length;we++)ge=re(G,K[we],ne),ge!==null&&(j=y(ge,j,we),Ne===null?me=ge:Ne.sibling=ge,Ne=ge);return $e&&Ma(G,we),me}for(ge=c(ge);we<K.length;we++)Wt=Q(ge,G,we,K[we],ne),Wt!==null&&(s&&Wt.alternate!==null&&ge.delete(Wt.key===null?we:Wt.key),j=y(Wt,j,we),Ne===null?me=Wt:Ne.sibling=Wt,Ne=Wt);return s&&ge.forEach(function(Dr){return a(G,Dr)}),$e&&Ma(G,we),me}function _e(G,j,K,ne){if(K==null)throw Error(i(151));for(var me=null,Ne=null,ge=j,we=j=0,Wt=null,Ge=K.next();ge!==null&&!Ge.done;we++,Ge=K.next()){ge.index>we?(Wt=ge,ge=null):Wt=ge.sibling;var Dr=W(G,ge,Ge.value,ne);if(Dr===null){ge===null&&(ge=Wt);break}s&&ge&&Dr.alternate===null&&a(G,ge),j=y(Dr,j,we),Ne===null?me=Dr:Ne.sibling=Dr,Ne=Dr,ge=Wt}if(Ge.done)return l(G,ge),$e&&Ma(G,we),me;if(ge===null){for(;!Ge.done;we++,Ge=K.next())Ge=re(G,Ge.value,ne),Ge!==null&&(j=y(Ge,j,we),Ne===null?me=Ge:Ne.sibling=Ge,Ne=Ge);return $e&&Ma(G,we),me}for(ge=c(ge);!Ge.done;we++,Ge=K.next())Ge=Q(ge,G,we,Ge.value,ne),Ge!==null&&(s&&Ge.alternate!==null&&ge.delete(Ge.key===null?we:Ge.key),j=y(Ge,j,we),Ne===null?me=Ge:Ne.sibling=Ge,Ne=Ge);return s&&ge.forEach(function(vP){return a(G,vP)}),$e&&Ma(G,we),me}function tt(G,j,K,ne){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var me=K.key;j!==null;){if(j.key===me){if(me=K.type,me===C){if(j.tag===7){l(G,j.sibling),ne=p(j,K.props.children),ne.return=G,G=ne;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&iw(me)===j.type){l(G,j.sibling),ne=p(j,K.props),qu(ne,K),ne.return=G,G=ne;break e}l(G,j);break}else a(G,j);j=j.sibling}K.type===C?(ne=ka(K.props.children,G.mode,ne,K.key),ne.return=G,G=ne):(ne=ef(K.type,K.key,K.props,null,G.mode,ne),qu(ne,K),ne.return=G,G=ne)}return T(G);case E:e:{for(me=K.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){l(G,j.sibling),ne=p(j,K.children||[]),ne.return=G,G=ne;break e}else{l(G,j);break}else a(G,j);j=j.sibling}ne=op(K,G.mode,ne),ne.return=G,G=ne}return T(G);case R:return me=K._init,K=me(K._payload),tt(G,j,K,ne)}if(Ae(K))return xe(G,j,K,ne);if(H(K)){if(me=H(K),typeof me!="function")throw Error(i(150));return K=me.call(K),_e(G,j,K,ne)}if(typeof K.then=="function")return tt(G,j,vf(K),ne);if(K.$$typeof===B)return tt(G,j,rf(G,K),ne);_f(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(l(G,j.sibling),ne=p(j,K),ne.return=G,G=ne):(l(G,j),ne=ap(K,G.mode,ne),ne.return=G,G=ne),T(G)):l(G,j)}return function(G,j,K,ne){try{Fu=0;var me=tt(G,j,K,ne);return Qo=null,me}catch(ge){if(ge===Mu||ge===of)throw ge;var Ne=Bn(29,ge,null,G.mode);return Ne.lanes=ne,Ne.return=G,Ne}finally{}}}var Zo=sw(!0),rw=sw(!1),ui=se(null),Wi=null;function pr(s){var a=s.alternate;le(qt,qt.current&1),le(ui,s),Wi===null&&(a===null||Ko.current!==null||a.memoizedState!==null)&&(Wi=s)}function aw(s){if(s.tag===22){if(le(qt,qt.current),le(ui,s),Wi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Wi=s)}}else gr()}function gr(){le(qt,qt.current),le(ui,ui.current)}function Os(s){ce(ui),Wi===s&&(Wi=null),ce(qt)}var qt=se(0);function bf(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ig(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function zp(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Bp={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=Gn(),p=fr(c);p.payload=a,l!=null&&(p.callback=l),a=dr(s,p,c),a!==null&&($n(a,s,c),Nu(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=Gn(),p=fr(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=dr(s,p,c),a!==null&&($n(a,s,c),Nu(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Gn(),c=fr(l);c.tag=2,a!=null&&(c.callback=a),a=dr(s,c,l),a!==null&&($n(a,s,l),Nu(a,s,l))}};function ow(s,a,l,c,p,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,T):a.prototype&&a.prototype.isPureReactComponent?!Su(l,c)||!Su(p,y):!0}function lw(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&Bp.enqueueReplaceState(a,a.state,null)}function za(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=g({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var wf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function uw(s){wf(s)}function cw(s){console.error(s)}function hw(s){wf(s)}function Tf(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function fw(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Fp(s,a,l){return l=fr(l),l.tag=3,l.payload={element:null},l.callback=function(){Tf(s,a)},l}function dw(s){return s=fr(s),s.tag=3,s}function mw(s,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;s.payload=function(){return p(y)},s.callback=function(){fw(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){fw(a,l,c),typeof p!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function vk(s,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Du(a,l,p,!0),l=ui.current,l!==null){switch(l.tag){case 13:return Wi===null?fg():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===yp?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),mg(s,c,p)),!1;case 22:return l.flags|=65536,c===yp?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),mg(s,c,p)),!1}throw Error(i(435,l.tag))}return mg(s,c,p),fg(),!1}if($e)return a=ui.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==cp&&(s=Error(i(422),{cause:c}),Iu(ri(s,l)))):(c!==cp&&(a=Error(i(423),{cause:c}),Iu(ri(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,c=ri(c,l),p=Fp(s.stateNode,c,p),bp(s,p),bt!==4&&(bt=2)),!1;var y=Error(i(520),{cause:c});if(y=ri(y,l),Wu===null?Wu=[y]:Wu.push(y),bt!==4&&(bt=2),a===null)return!0;c=ri(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=Fp(l.stateNode,c,s),bp(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Tr===null||!Tr.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=dw(p),mw(p,s,l,c),bp(l,p),!1}l=l.return}while(l!==null);return!1}var pw=Error(i(461)),Yt=!1;function nn(s,a,l,c){a.child=s===null?rw(a,null,l,c):Zo(a,s.child,l,c)}function gw(s,a,l,c,p){l=l.render;var y=a.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return La(a),c=Sp(s,a,l,T,y,p),S=Ap(),s!==null&&!Yt?(Rp(s,a,p),Ns(s,a,p)):($e&&S&&lp(a),a.flags|=1,nn(s,a,c,p),a.child)}function yw(s,a,l,c,p){if(s===null){var y=l.type;return typeof y=="function"&&!rp(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,vw(s,a,y,c,p)):(s=ef(l.type,null,c,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Wp(s,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Su,l(T,c)&&s.ref===a.ref)return Ns(s,a,p)}return a.flags|=1,s=Cs(y,c),s.ref=a.ref,s.return=a,a.child=s}function vw(s,a,l,c,p){if(s!==null){var y=s.memoizedProps;if(Su(y,c)&&s.ref===a.ref)if(Yt=!1,a.pendingProps=c=y,Wp(s,p))(s.flags&131072)!==0&&(Yt=!0);else return a.lanes=s.lanes,Ns(s,a,p)}return qp(s,a,l,c,p)}function _w(s,a,l){var c=a.pendingProps,p=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(p=a.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return bw(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&af(a,y!==null?y.cachePool:null),y!==null?v0(a,y):Tp(),aw(a);else return a.lanes=a.childLanes=536870912,bw(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(af(a,y.cachePool),v0(a,y),gr(),a.memoizedState=null):(s!==null&&af(a,null),Tp(),gr());return nn(s,a,p,l),a.child}function bw(s,a,l,c){var p=gp();return p=p===null?null:{parent:Ft._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&af(a,null),Tp(),aw(a),s!==null&&Du(s,a,c,!0),null}function Ef(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function qp(s,a,l,c,p){return La(a),l=Sp(s,a,l,c,void 0,p),c=Ap(),s!==null&&!Yt?(Rp(s,a,p),Ns(s,a,p)):($e&&c&&lp(a),a.flags|=1,nn(s,a,l,p),a.child)}function ww(s,a,l,c,p,y){return La(a),a.updateQueue=null,l=b0(a,c,l,p),_0(s),c=Ap(),s!==null&&!Yt?(Rp(s,a,y),Ns(s,a,y)):($e&&c&&lp(a),a.flags|=1,nn(s,a,l,y),a.child)}function Tw(s,a,l,c,p){if(La(a),a.stateNode===null){var y=Fo,T=l.contextType;typeof T=="object"&&T!==null&&(y=dn(T)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Bp,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},vp(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?dn(T):Fo,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(zp(a,l,T,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Bp.enqueueReplaceState(y,y.state,null),Lu(a,c,y,p),Vu(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var S=a.memoizedProps,N=za(l,S);y.props=N;var Y=y.context,te=l.contextType;T=Fo,typeof te=="object"&&te!==null&&(T=dn(te));var re=l.getDerivedStateFromProps;te=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||Y!==T)&&lw(a,y,c,T),hr=!1;var W=a.memoizedState;y.state=W,Lu(a,c,y,p),Vu(),Y=a.memoizedState,S||W!==Y||hr?(typeof re=="function"&&(zp(a,l,re,c),Y=a.memoizedState),(N=hr||ow(a,l,N,c,W,Y,T))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Y),y.props=c,y.state=Y,y.context=T,c=N):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,_p(s,a),T=a.memoizedProps,te=za(l,T),y.props=te,re=a.pendingProps,W=y.context,Y=l.contextType,N=Fo,typeof Y=="object"&&Y!==null&&(N=dn(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==re||W!==N)&&lw(a,y,c,N),hr=!1,W=a.memoizedState,y.state=W,Lu(a,c,y,p),Vu();var Q=a.memoizedState;T!==re||W!==Q||hr||s!==null&&s.dependencies!==null&&sf(s.dependencies)?(typeof S=="function"&&(zp(a,l,S,c),Q=a.memoizedState),(te=hr||ow(a,l,te,c,W,Q,N)||s!==null&&s.dependencies!==null&&sf(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Q,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Q,N)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Q),y.props=c,y.state=Q,y.context=N,c=te):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,Ef(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=Zo(a,s.child,null,p),a.child=Zo(a,null,l,p)):nn(s,a,l,p),a.memoizedState=y.state,s=a.child):s=Ns(s,a,p),s}function Ew(s,a,l,c){return Cu(),a.flags|=256,nn(s,a,l,c),a.child}var Hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gp(s){return{baseLanes:s,cachePool:c0()}}function $p(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=ci),s}function xw(s,a,l){var c=a.pendingProps,p=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(qt.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if($e){if(p?pr(a):gr(),$e){var S=_t,N;if(N=S){e:{for(N=S,S=Xi;N.nodeType!==8;){if(!S){S=null;break e}if(N=Si(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(a.memoizedState={dehydrated:S,treeContext:Pa!==null?{id:Is,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},N=Bn(18,null,null,0),N.stateNode=S,N.return=a,a.child=N,Sn=a,_t=null,N=!0):N=!1}N||Na(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Ig(S)?a.lanes=32:a.lanes=536870912,null;Os(a)}return S=c.children,c=c.fallback,p?(gr(),p=a.mode,S=xf({mode:"hidden",children:S},p),c=ka(c,p,l,null),S.return=a,c.return=a,S.sibling=c,a.child=S,p=a.child,p.memoizedState=Gp(l),p.childLanes=$p(s,T,l),a.memoizedState=Hp,c):(pr(a),Kp(a,S))}if(N=s.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(y)a.flags&256?(pr(a),a.flags&=-257,a=Yp(s,a,l)):a.memoizedState!==null?(gr(),a.child=s.child,a.flags|=128,a=null):(gr(),p=c.fallback,S=a.mode,c=xf({mode:"visible",children:c.children},S),p=ka(p,S,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,Zo(a,s.child,null,l),c=a.child,c.memoizedState=Gp(l),c.childLanes=$p(s,T,l),a.memoizedState=Hp,a=p);else if(pr(a),Ig(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,Iu({value:c,source:null,stack:null}),a=Yp(s,a,l)}else if(Yt||Du(s,a,l,!1),T=(l&s.childLanes)!==0,Yt||T){if(T=st,T!==null&&(c=l&-l,c=(c&42)!==0?1:ir(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==N.retryLane))throw N.retryLane=c,Bo(s,c),$n(T,s,c),pw;S.data==="$?"||fg(),a=Yp(s,a,l)}else S.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=N.treeContext,_t=Si(S.nextSibling),Sn=a,$e=!0,Oa=null,Xi=!1,s!==null&&(oi[li++]=Is,oi[li++]=Ds,oi[li++]=Pa,Is=s.id,Ds=s.overflow,Pa=a),a=Kp(a,c.children),a.flags|=4096);return a}return p?(gr(),p=c.fallback,S=a.mode,N=s.child,Y=N.sibling,c=Cs(N,{mode:"hidden",children:c.children}),c.subtreeFlags=N.subtreeFlags&65011712,Y!==null?p=Cs(Y,p):(p=ka(p,S,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,S=s.child.memoizedState,S===null?S=Gp(l):(N=S.cachePool,N!==null?(Y=Ft._currentValue,N=N.parent!==Y?{parent:Y,pool:Y}:N):N=c0(),S={baseLanes:S.baseLanes|l,cachePool:N}),p.memoizedState=S,p.childLanes=$p(s,T,l),a.memoizedState=Hp,c):(pr(a),l=s.child,s=l.sibling,l=Cs(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function Kp(s,a){return a=xf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function xf(s,a){return s=Bn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Yp(s,a,l){return Zo(a,s.child,null,l),s=Kp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Sw(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),fp(s.return,a,l)}function Xp(s,a,l,c,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function Aw(s,a,l){var c=a.pendingProps,p=c.revealOrder,y=c.tail;if(nn(s,a,c.children,l),c=qt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Sw(s,l,a);else if(s.tag===19)Sw(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(le(qt,c),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&bf(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Xp(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&bf(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Xp(a,!0,l,null,y);break;case"together":Xp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ns(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),wr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Du(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Cs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Cs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Wp(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&sf(s)))}function _k(s,a,l){switch(a.tag){case 3:it(a,a.stateNode.containerInfo),cr(a,Ft,s.memoizedState.cache),Cu();break;case 27:case 5:nr(a);break;case 4:it(a,a.stateNode.containerInfo);break;case 10:cr(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(pr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?xw(s,a,l):(pr(a),s=Ns(s,a,l),s!==null?s.sibling:null);pr(a);break;case 19:var p=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Du(s,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return Aw(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le(qt,qt.current),c)break;return null;case 22:case 23:return a.lanes=0,_w(s,a,l);case 24:cr(a,Ft,s.memoizedState.cache)}return Ns(s,a,l)}function Rw(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Yt=!0;else{if(!Wp(s,l)&&(a.flags&128)===0)return Yt=!1,_k(s,a,l);Yt=(s.flags&131072)!==0}else Yt=!1,$e&&(a.flags&1048576)!==0&&i0(a,nf,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")rp(c)?(s=za(c,s),a.tag=1,a=Tw(null,a,c,s,l)):(a.tag=0,a=qp(null,a,c,s,l));else{if(c!=null){if(p=c.$$typeof,p===q){a.tag=11,a=gw(null,a,c,s,l);break e}else if(p===O){a.tag=14,a=yw(null,a,c,s,l);break e}}throw a=pe(c)||c,Error(i(306,a,""))}}return a;case 0:return qp(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=za(c,a.pendingProps),Tw(s,a,c,p,l);case 3:e:{if(it(a,a.stateNode.containerInfo),s===null)throw Error(i(387));c=a.pendingProps;var y=a.memoizedState;p=y.element,_p(s,a),Lu(a,c,null,l);var T=a.memoizedState;if(c=T.cache,cr(a,Ft,c),c!==y.cache&&dp(a,[Ft],l,!0),Vu(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Ew(s,a,c,l);break e}else if(c!==p){p=ri(Error(i(424)),a),Iu(p),a=Ew(s,a,c,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_t=Si(s.firstChild),Sn=a,$e=!0,Oa=null,Xi=!0,l=rw(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Cu(),c===p){a=Ns(s,a,l);break e}nn(s,a,c,l)}a=a.child}return a;case 26:return Ef(s,a),s===null?(l=kT(a.type,null,a.pendingProps,null))?a.memoizedState=l:$e||(l=a.type,s=a.pendingProps,c=Uf(Re.current).createElement(l),c[jt]=a,c[Dt]=s,rn(c,l,s),xt(c),a.stateNode=c):a.memoizedState=kT(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return nr(a),s===null&&$e&&(c=a.stateNode=CT(a.type,a.pendingProps,Re.current),Sn=a,Xi=!0,p=_t,Sr(a.type)?(Dg=p,_t=Si(c.firstChild)):_t=p),nn(s,a,a.pendingProps.children,l),Ef(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&$e&&((p=c=_t)&&(c=Kk(c,a.type,a.pendingProps,Xi),c!==null?(a.stateNode=c,Sn=a,_t=Si(c.firstChild),Xi=!1,p=!0):p=!1),p||Na(a)),nr(a),p=a.type,y=a.pendingProps,T=s!==null?s.memoizedProps:null,c=y.children,Ag(p,y)?c=null:T!==null&&Ag(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=Sp(s,a,hk,null,null,l),rc._currentValue=p),Ef(s,a),nn(s,a,c,l),a.child;case 6:return s===null&&$e&&((s=l=_t)&&(l=Yk(l,a.pendingProps,Xi),l!==null?(a.stateNode=l,Sn=a,_t=null,s=!0):s=!1),s||Na(a)),null;case 13:return xw(s,a,l);case 4:return it(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=Zo(a,null,c,l):nn(s,a,c,l),a.child;case 11:return gw(s,a,a.type,a.pendingProps,l);case 7:return nn(s,a,a.pendingProps,l),a.child;case 8:return nn(s,a,a.pendingProps.children,l),a.child;case 12:return nn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,cr(a,a.type,c.value),nn(s,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,La(a),p=dn(p),c=c(p),a.flags|=1,nn(s,a,c,l),a.child;case 14:return yw(s,a,a.type,a.pendingProps,l);case 15:return vw(s,a,a.type,a.pendingProps,l);case 19:return Aw(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=xf(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Cs(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return _w(s,a,l);case 24:return La(a),c=dn(Ft),s===null?(p=gp(),p===null&&(p=st,y=mp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:c,cache:p},vp(a),cr(a,Ft,p)):((s.lanes&l)!==0&&(_p(s,a),Lu(a,null,null,l),Vu()),p=s.memoizedState,y=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),cr(a,Ft,c)):(c=y.cache,cr(a,Ft,c),c!==p.cache&&dp(a,[Ft],l,!0))),nn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Vs(s){s.flags|=4}function Cw(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!VT(a)){if(a=ui.current,a!==null&&((qe&4194048)===qe?Wi!==null:(qe&62914560)!==qe&&(qe&536870912)===0||a!==Wi))throw Ou=yp,h0;s.flags|=8192}}function Sf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ou():536870912,s.lanes|=a,nl|=a)}function Hu(s,a){if(!$e)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function dt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function bk(s,a,l){var c=a.pendingProps;switch(up(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(a),null;case 1:return dt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ps(Ft),Li(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ru(a)?Vs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,a0())),dt(a),null;case 26:return l=a.memoizedState,s===null?(Vs(a),l!==null?(dt(a),Cw(a,l)):(dt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Vs(a),dt(a),Cw(a,l)):(dt(a),a.flags&=-16777217):(s.memoizedProps!==c&&Vs(a),dt(a),a.flags&=-16777217),null;case 27:ps(a),l=Re.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Vs(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return dt(a),null}s=ve.current,Ru(a)?s0(a):(s=CT(p,c,l),a.stateNode=s,Vs(a))}return dt(a),null;case 5:if(ps(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Vs(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return dt(a),null}if(s=ve.current,Ru(a))s0(a);else{switch(p=Uf(Re.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}s[jt]=a,s[Dt]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;e:switch(rn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Vs(a)}}return dt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&Vs(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(s=Re.current,Ru(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,p=Sn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}s[jt]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||wT(s.nodeValue,l)),s||Na(a)}else s=Uf(s).createTextNode(c),s[jt]=a,a.stateNode=s}return dt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Ru(a),c!==null&&c.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[jt]=a}else Cu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),p=!1}else p=a0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Os(a),a):(Os(a),null)}if(Os(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Sf(a,a.updateQueue),dt(a),null;case 4:return Li(),s===null&&wg(a.stateNode.containerInfo),dt(a),null;case 10:return Ps(a.type),dt(a),null;case 19:if(ce(qt),p=a.memoizedState,p===null)return dt(a),null;if(c=(a.flags&128)!==0,y=p.rendering,y===null)if(c)Hu(p,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=bf(s),y!==null){for(a.flags|=128,Hu(p,!1),s=y.updateQueue,a.updateQueue=s,Sf(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)n0(l,s),l=l.sibling;return le(qt,qt.current&1|2),a.child}s=s.sibling}p.tail!==null&&Jn()>Cf&&(a.flags|=128,c=!0,Hu(p,!1),a.lanes=4194304)}else{if(!c)if(s=bf(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Sf(a,s),Hu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!$e)return dt(a),null}else 2*Jn()-p.renderingStartTime>Cf&&l!==536870912&&(a.flags|=128,c=!0,Hu(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(s=p.last,s!==null?s.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Jn(),a.sibling=null,s=qt.current,le(qt,c?s&1|2:s&1),a):(dt(a),null);case 22:case 23:return Os(a),Ep(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(dt(a),a.subtreeFlags&6&&(a.flags|=8192)):dt(a),l=a.updateQueue,l!==null&&Sf(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ce(Ua),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ps(Ft),dt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function wk(s,a){switch(up(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ps(Ft),Li(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ps(a),null;case 13:if(Os(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Cu()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ce(qt),null;case 4:return Li(),null;case 10:return Ps(a.type),null;case 22:case 23:return Os(a),Ep(),s!==null&&ce(Ua),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ps(Ft),null;case 25:return null;default:return null}}function Iw(s,a){switch(up(a),a.tag){case 3:Ps(Ft),Li();break;case 26:case 27:case 5:ps(a);break;case 4:Li();break;case 13:Os(a);break;case 19:ce(qt);break;case 10:Ps(a.type);break;case 22:case 23:Os(a),Ep(),s!==null&&ce(Ua);break;case 24:Ps(Ft)}}function Gu(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&s)===s){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==p)}}catch(S){nt(a,a.return,S)}}function yr(s,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&s)===s){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,p=a;var N=l,Y=S;try{Y()}catch(te){nt(p,N,te)}}}c=c.next}while(c!==y)}}catch(te){nt(a,a.return,te)}}function Dw(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{y0(a,l)}catch(c){nt(s,s.return,c)}}}function kw(s,a,l){l.props=za(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){nt(s,a,c)}}function $u(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(p){nt(s,a,p)}}function Qi(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){nt(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){nt(s,a,p)}else l.current=null}function Pw(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){nt(s,s.return,p)}}function Qp(s,a,l){try{var c=s.stateNode;Fk(c,s.type,l,a),c[Dt]=a}catch(p){nt(s,s.return,p)}}function Mw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Sr(s.type)||s.tag===4}function Zp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Mw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Sr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jp(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Lf));else if(c!==4&&(c===27&&Sr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Jp(s,a,l),s=s.sibling;s!==null;)Jp(s,a,l),s=s.sibling}function Af(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&Sr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Af(s,a,l),s=s.sibling;s!==null;)Af(s,a,l),s=s.sibling}function Ow(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);rn(a,c,l),a[jt]=s,a[Dt]=l}catch(y){nt(s,s.return,y)}}var Ls=!1,At=!1,eg=!1,Nw=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function Tk(s,a){if(s=s.containerInfo,xg=Hf,s=$b(s),Zm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,S=-1,N=-1,Y=0,te=0,re=s,W=null;t:for(;;){for(var Q;re!==l||p!==0&&re.nodeType!==3||(S=T+p),re!==y||c!==0&&re.nodeType!==3||(N=T+c),re.nodeType===3&&(T+=re.nodeValue.length),(Q=re.firstChild)!==null;)W=re,re=Q;for(;;){if(re===s)break t;if(W===l&&++Y===p&&(S=T),W===y&&++te===c&&(N=T),(Q=re.nextSibling)!==null)break;re=W,W=re.parentNode}re=Q}l=S===-1||N===-1?null:{start:S,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sg={focusedElem:s,selectionRange:l},Hf=!1,Xt=a;Xt!==null;)if(a=Xt,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Xt=s;else for(;Xt!==null;){switch(a=Xt,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var xe=za(l.type,p,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(xe,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(_e){nt(l,l.return,_e)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Cg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Cg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Xt=s;break}Xt=a.return}}function Vw(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:vr(s,l),c&4&&Gu(5,l);break;case 1:if(vr(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){nt(l,l.return,T)}else{var p=za(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){nt(l,l.return,T)}}c&64&&Dw(l),c&512&&$u(l,l.return);break;case 3:if(vr(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{y0(s,a)}catch(T){nt(l,l.return,T)}}break;case 27:a===null&&c&4&&Ow(l);case 26:case 5:vr(s,l),a===null&&c&4&&Pw(l),c&512&&$u(l,l.return);break;case 12:vr(s,l);break;case 13:vr(s,l),c&4&&jw(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=kk.bind(null,l),Xk(s,l))));break;case 22:if(c=l.memoizedState!==null||Ls,!c){a=a!==null&&a.memoizedState!==null||At,p=Ls;var y=At;Ls=c,(At=a)&&!y?_r(s,l,(l.subtreeFlags&8772)!==0):vr(s,l),Ls=p,At=y}break;case 30:break;default:vr(s,l)}}function Lw(s){var a=s.alternate;a!==null&&(s.alternate=null,Lw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ar(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ct=null,kn=!1;function Us(s,a,l){for(l=l.child;l!==null;)Uw(s,a,l),l=l.sibling}function Uw(s,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(vt,l)}catch{}switch(l.tag){case 26:At||Qi(l,a),Us(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:At||Qi(l,a);var c=ct,p=kn;Sr(l.type)&&(ct=l.stateNode,kn=!1),Us(s,a,l),tc(l.stateNode),ct=c,kn=p;break;case 5:At||Qi(l,a);case 6:if(c=ct,p=kn,ct=null,Us(s,a,l),ct=c,kn=p,ct!==null)if(kn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(l.stateNode)}catch(y){nt(l,a,y)}else try{ct.removeChild(l.stateNode)}catch(y){nt(l,a,y)}break;case 18:ct!==null&&(kn?(s=ct,AT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),uc(s)):AT(ct,l.stateNode));break;case 4:c=ct,p=kn,ct=l.stateNode.containerInfo,kn=!0,Us(s,a,l),ct=c,kn=p;break;case 0:case 11:case 14:case 15:At||yr(2,l,a),At||yr(4,l,a),Us(s,a,l);break;case 1:At||(Qi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&kw(l,a,c)),Us(s,a,l);break;case 21:Us(s,a,l);break;case 22:At=(c=At)||l.memoizedState!==null,Us(s,a,l),At=c;break;default:Us(s,a,l)}}function jw(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{uc(s)}catch(l){nt(a,a.return,l)}}function Ek(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Nw),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Nw),a;default:throw Error(i(435,s.tag))}}function tg(s,a){var l=Ek(s);a.forEach(function(c){var p=Pk.bind(null,s,c);l.has(c)||(l.add(c),c.then(p,p))})}function Fn(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=s,T=a,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Sr(S.type)){ct=S.stateNode,kn=!1;break e}break;case 5:ct=S.stateNode,kn=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(ct===null)throw Error(i(160));Uw(y,T,p),ct=null,kn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)zw(a,s),a=a.sibling}var xi=null;function zw(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Fn(a,s),qn(s),c&4&&(yr(3,s,s.return),Gu(3,s),yr(5,s,s.return));break;case 1:Fn(a,s),qn(s),c&512&&(At||l===null||Qi(l,l.return)),c&64&&Ls&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=xi;if(Fn(a,s),qn(s),c&512&&(At||l===null||Qi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[pa]||y[jt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),rn(y,c,l),y[jt]=s,xt(y),c=y;break e;case"link":var T=OT("link","href",p).get(c+(l.href||""));if(T){for(var S=0;S<T.length;S++)if(y=T[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(S,1);break t}}y=p.createElement(c),rn(y,c,l),p.head.appendChild(y);break;case"meta":if(T=OT("meta","content",p).get(c+(l.content||""))){for(S=0;S<T.length;S++)if(y=T[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(S,1);break t}}y=p.createElement(c),rn(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[jt]=s,xt(y),c=y}s.stateNode=c}else NT(p,s.type,s.stateNode);else s.stateNode=MT(p,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?NT(p,s.type,s.stateNode):MT(p,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Qp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Fn(a,s),qn(s),c&512&&(At||l===null||Qi(l,l.return)),l!==null&&c&4&&Qp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Fn(a,s),qn(s),c&512&&(At||l===null||Qi(l,l.return)),s.flags&32){p=s.stateNode;try{ti(p,"")}catch(Q){nt(s,s.return,Q)}}c&4&&s.stateNode!=null&&(p=s.memoizedProps,Qp(s,p,l!==null?l.memoizedProps:p)),c&1024&&(eg=!0);break;case 6:if(Fn(a,s),qn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Q){nt(s,s.return,Q)}}break;case 3:if(Bf=null,p=xi,xi=jf(a.containerInfo),Fn(a,s),xi=p,qn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{uc(a.containerInfo)}catch(Q){nt(s,s.return,Q)}eg&&(eg=!1,Bw(s));break;case 4:c=xi,xi=jf(s.stateNode.containerInfo),Fn(a,s),qn(s),xi=c;break;case 12:Fn(a,s),qn(s);break;case 13:Fn(a,s),qn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(og=Jn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,tg(s,c)));break;case 22:p=s.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,Y=Ls,te=At;if(Ls=Y||p,At=te||N,Fn(a,s),At=te,Ls=Y,qn(s),c&8192)e:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||N||Ls||At||Ba(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){N=l=a;try{if(y=N.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=N.stateNode;var re=N.memoizedProps.style,W=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Q){nt(N,N.return,Q)}}}else if(a.tag===6){if(l===null){N=a;try{N.stateNode.nodeValue=p?"":N.memoizedProps}catch(Q){nt(N,N.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,tg(s,l))));break;case 19:Fn(a,s),qn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,tg(s,c)));break;case 30:break;case 21:break;default:Fn(a,s),qn(s)}}function qn(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(Mw(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=Zp(s);Af(s,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(ti(T,""),l.flags&=-33);var S=Zp(s);Af(s,S,T);break;case 3:case 4:var N=l.stateNode.containerInfo,Y=Zp(s);Jp(s,Y,N);break;default:throw Error(i(161))}}catch(te){nt(s,s.return,te)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Bw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Bw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function vr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Vw(s,a.alternate,a),a=a.sibling}function Ba(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:yr(4,a,a.return),Ba(a);break;case 1:Qi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&kw(a,a.return,l),Ba(a);break;case 27:tc(a.stateNode);case 26:case 5:Qi(a,a.return),Ba(a);break;case 22:a.memoizedState===null&&Ba(a);break;case 30:Ba(a);break;default:Ba(a)}s=s.sibling}}function _r(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=s,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:_r(p,y,l),Gu(4,y);break;case 1:if(_r(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){nt(c,c.return,Y)}if(c=y,p=c.updateQueue,p!==null){var S=c.stateNode;try{var N=p.shared.hiddenCallbacks;if(N!==null)for(p.shared.hiddenCallbacks=null,p=0;p<N.length;p++)g0(N[p],S)}catch(Y){nt(c,c.return,Y)}}l&&T&64&&Dw(y),$u(y,y.return);break;case 27:Ow(y);case 26:case 5:_r(p,y,l),l&&c===null&&T&4&&Pw(y),$u(y,y.return);break;case 12:_r(p,y,l);break;case 13:_r(p,y,l),l&&T&4&&jw(p,y);break;case 22:y.memoizedState===null&&_r(p,y,l),$u(y,y.return);break;case 30:break;default:_r(p,y,l)}a=a.sibling}}function ng(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ku(l))}function ig(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ku(s))}function Zi(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Fw(s,a,l,c),a=a.sibling}function Fw(s,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(s,a,l,c),p&2048&&Gu(9,a);break;case 1:Zi(s,a,l,c);break;case 3:Zi(s,a,l,c),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ku(s)));break;case 12:if(p&2048){Zi(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,T=y.id,S=y.onPostCommit;typeof S=="function"&&S(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(N){nt(a,a.return,N)}}else Zi(s,a,l,c);break;case 13:Zi(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?Zi(s,a,l,c):Ku(s,a):y._visibility&2?Zi(s,a,l,c):(y._visibility|=2,Jo(s,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&ng(T,a);break;case 24:Zi(s,a,l,c),p&2048&&ig(a.alternate,a);break;default:Zi(s,a,l,c)}}function Jo(s,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,T=a,S=l,N=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Jo(y,T,S,N,p),Gu(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?Jo(y,T,S,N,p):Ku(y,T):(te._visibility|=2,Jo(y,T,S,N,p)),p&&Y&2048&&ng(T.alternate,T);break;case 24:Jo(y,T,S,N,p),p&&Y&2048&&ig(T.alternate,T);break;default:Jo(y,T,S,N,p)}a=a.sibling}}function Ku(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,p=c.flags;switch(c.tag){case 22:Ku(l,c),p&2048&&ng(c.alternate,c);break;case 24:Ku(l,c),p&2048&&ig(c.alternate,c);break;default:Ku(l,c)}a=a.sibling}}var Yu=8192;function el(s){if(s.subtreeFlags&Yu)for(s=s.child;s!==null;)qw(s),s=s.sibling}function qw(s){switch(s.tag){case 26:el(s),s.flags&Yu&&s.memoizedState!==null&&lP(xi,s.memoizedState,s.memoizedProps);break;case 5:el(s);break;case 3:case 4:var a=xi;xi=jf(s.stateNode.containerInfo),el(s),xi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Yu,Yu=16777216,el(s),Yu=a):el(s));break;default:el(s)}}function Hw(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Xu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Xt=c,$w(c,s)}Hw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gw(s),s=s.sibling}function Gw(s){switch(s.tag){case 0:case 11:case 15:Xu(s),s.flags&2048&&yr(9,s,s.return);break;case 3:Xu(s);break;case 12:Xu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Rf(s)):Xu(s);break;default:Xu(s)}}function Rf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Xt=c,$w(c,s)}Hw(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:yr(8,a,a.return),Rf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Rf(a));break;default:Rf(a)}s=s.sibling}}function $w(s,a){for(;Xt!==null;){var l=Xt;switch(l.tag){case 0:case 11:case 15:yr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ku(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Xt=c;else e:for(l=s;Xt!==null;){c=Xt;var p=c.sibling,y=c.return;if(Lw(c),c===l){Xt=null;break e}if(p!==null){p.return=y,Xt=p;break e}Xt=y}}}var xk={getCacheForType:function(s){var a=dn(Ft),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},Sk=typeof WeakMap=="function"?WeakMap:Map,We=0,st=null,Ve=null,qe=0,Qe=0,Hn=null,br=!1,tl=!1,sg=!1,js=0,bt=0,wr=0,Fa=0,rg=0,ci=0,nl=0,Wu=null,Pn=null,ag=!1,og=0,Cf=1/0,If=null,Tr=null,sn=0,Er=null,il=null,sl=0,lg=0,ug=null,Kw=null,Qu=0,cg=null;function Gn(){if((We&2)!==0&&qe!==0)return qe&-qe;if(X.T!==null){var s=Go;return s!==0?s:yg()}return sr()}function Yw(){ci===0&&(ci=(qe&536870912)===0||$e?au():536870912);var s=ui.current;return s!==null&&(s.flags|=32),ci}function $n(s,a,l){(s===st&&(Qe===2||Qe===9)||s.cancelPendingCommit!==null)&&(rl(s,0),xr(s,qe,ci,!1)),ys(s,l),((We&2)===0||s!==st)&&(s===st&&((We&2)===0&&(Fa|=l),bt===4&&xr(s,qe,ci,!1)),Ji(s))}function Xw(s,a,l){if((We&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||ma(s,a),p=c?Ck(s,a):dg(s,a,!0),y=c;do{if(p===0){tl&&!c&&xr(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!Ak(l)){p=dg(s,a,!1),y=!1;continue}if(p===2){if(y=a,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var S=s;p=Wu;var N=S.current.memoizedState.isDehydrated;if(N&&(rl(S,T).flags|=256),T=dg(S,T,!1),T!==2){if(sg&&!N){S.errorRecoveryDisabledLanes|=y,Fa|=y,p=4;break e}y=Pn,Pn=p,y!==null&&(Pn===null?Pn=y:Pn.push.apply(Pn,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){rl(s,0),xr(s,a,0,!0);break}e:{switch(c=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:xr(c,a,ci,!br);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=og+300-Jn(),10<p)){if(xr(c,a,ci,!br),To(c,0,!0)!==0)break e;c.timeoutHandle=xT(Ww.bind(null,c,l,Pn,If,ag,a,ci,Fa,nl,br,y,2,-0,0),p);break e}Ww(c,l,Pn,If,ag,a,ci,Fa,nl,br,y,0,-0,0)}}break}while(!0);Ji(s)}function Ww(s,a,l,c,p,y,T,S,N,Y,te,re,W,Q){if(s.timeoutHandle=-1,re=a.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(sc={stylesheets:null,count:0,unsuspend:oP},qw(a),re=uP(),re!==null)){s.cancelPendingCommit=re(iT.bind(null,s,a,y,l,c,p,T,S,N,te,1,W,Q)),xr(s,y,T,!Y);return}iT(s,a,y,l,c,p,T,S,N)}function Ak(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!zn(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function xr(s,a,l,c){a&=~rg,a&=~Fa,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var p=a;0<p;){var y=31-fn(p),T=1<<y;c[y]=-1,p&=~T}l!==0&&Ui(s,l,a)}function Df(){return(We&6)===0?(Zu(0),!1):!0}function hg(){if(Ve!==null){if(Qe===0)var s=Ve.return;else s=Ve,ks=Va=null,Cp(s),Qo=null,Fu=0,s=Ve;for(;s!==null;)Iw(s.alternate,s),s=s.return;Ve=null}}function rl(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Hk(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),hg(),st=s,Ve=l=Cs(s.current,null),qe=a,Qe=0,Hn=null,br=!1,tl=ma(s,a),sg=!1,nl=ci=rg=Fa=wr=bt=0,Pn=Wu=null,ag=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var p=31-fn(c),y=1<<p;a|=s[p],c&=~y}return js=a,Qh(),l}function Qw(s,a){Me=null,X.H=yf,a===Mu||a===of?(a=m0(),Qe=3):a===h0?(a=m0(),Qe=4):Qe=a===pw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Hn=a,Ve===null&&(bt=1,Tf(s,ri(a,s.current)))}function Zw(){var s=X.H;return X.H=yf,s===null?yf:s}function Jw(){var s=X.A;return X.A=xk,s}function fg(){bt=4,br||(qe&4194048)!==qe&&ui.current!==null||(tl=!0),(wr&134217727)===0&&(Fa&134217727)===0||st===null||xr(st,qe,ci,!1)}function dg(s,a,l){var c=We;We|=2;var p=Zw(),y=Jw();(st!==s||qe!==a)&&(If=null,rl(s,a)),a=!1;var T=bt;e:do try{if(Qe!==0&&Ve!==null){var S=Ve,N=Hn;switch(Qe){case 8:hg(),T=6;break e;case 3:case 2:case 9:case 6:ui.current===null&&(a=!0);var Y=Qe;if(Qe=0,Hn=null,al(s,S,N,Y),l&&tl){T=0;break e}break;default:Y=Qe,Qe=0,Hn=null,al(s,S,N,Y)}}Rk(),T=bt;break}catch(te){Qw(s,te)}while(!0);return a&&s.shellSuspendCounter++,ks=Va=null,We=c,X.H=p,X.A=y,Ve===null&&(st=null,qe=0,Qh()),T}function Rk(){for(;Ve!==null;)eT(Ve)}function Ck(s,a){var l=We;We|=2;var c=Zw(),p=Jw();st!==s||qe!==a?(If=null,Cf=Jn()+500,rl(s,a)):tl=ma(s,a);e:do try{if(Qe!==0&&Ve!==null){a=Ve;var y=Hn;t:switch(Qe){case 1:Qe=0,Hn=null,al(s,a,y,1);break;case 2:case 9:if(f0(y)){Qe=0,Hn=null,tT(a);break}a=function(){Qe!==2&&Qe!==9||st!==s||(Qe=7),Ji(s)},y.then(a,a);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:f0(y)?(Qe=0,Hn=null,tT(a)):(Qe=0,Hn=null,al(s,a,y,7));break;case 5:var T=null;switch(Ve.tag){case 26:T=Ve.memoizedState;case 5:case 27:var S=Ve;if(!T||VT(T)){Qe=0,Hn=null;var N=S.sibling;if(N!==null)Ve=N;else{var Y=S.return;Y!==null?(Ve=Y,kf(Y)):Ve=null}break t}}Qe=0,Hn=null,al(s,a,y,5);break;case 6:Qe=0,Hn=null,al(s,a,y,6);break;case 8:hg(),bt=6;break e;default:throw Error(i(462))}}Ik();break}catch(te){Qw(s,te)}while(!0);return ks=Va=null,X.H=c,X.A=p,We=l,Ve!==null?0:(st=null,qe=0,Qh(),bt)}function Ik(){for(;Ve!==null&&!nu();)eT(Ve)}function eT(s){var a=Rw(s.alternate,s,js);s.memoizedProps=s.pendingProps,a===null?kf(s):Ve=a}function tT(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=ww(l,a,a.pendingProps,a.type,void 0,qe);break;case 11:a=ww(l,a,a.pendingProps,a.type.render,a.ref,qe);break;case 5:Cp(a);default:Iw(l,a),a=Ve=n0(a,js),a=Rw(l,a,js)}s.memoizedProps=s.pendingProps,a===null?kf(s):Ve=a}function al(s,a,l,c){ks=Va=null,Cp(a),Qo=null,Fu=0;var p=a.return;try{if(vk(s,p,a,l,qe)){bt=1,Tf(s,ri(l,s.current)),Ve=null;return}}catch(y){if(p!==null)throw Ve=p,y;bt=1,Tf(s,ri(l,s.current)),Ve=null;return}a.flags&32768?($e||c===1?s=!0:tl||(qe&536870912)!==0?s=!1:(br=s=!0,(c===2||c===9||c===3||c===6)&&(c=ui.current,c!==null&&c.tag===13&&(c.flags|=16384))),nT(a,s)):kf(a)}function kf(s){var a=s;do{if((a.flags&32768)!==0){nT(a,br);return}s=a.return;var l=bk(a.alternate,a,js);if(l!==null){Ve=l;return}if(a=a.sibling,a!==null){Ve=a;return}Ve=a=s}while(a!==null);bt===0&&(bt=5)}function nT(s,a){do{var l=wk(s.alternate,s);if(l!==null){l.flags&=32767,Ve=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ve=s;return}Ve=s=l}while(s!==null);bt=6,Ve=null}function iT(s,a,l,c,p,y,T,S,N){s.cancelPendingCommit=null;do Pf();while(sn!==0);if((We&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=ip,lu(s,l,y,T,S,N),s===st&&(Ve=st=null,qe=0),il=a,Er=s,sl=l,lg=y,ug=p,Kw=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Mk(ca,function(){return lT(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,p=ee.p,ee.p=2,T=We,We|=4;try{Tk(s,a,l)}finally{We=T,ee.p=p,X.T=c}}sn=1,sT(),rT(),aT()}}function sT(){if(sn===1){sn=0;var s=Er,a=il,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var c=ee.p;ee.p=2;var p=We;We|=4;try{zw(a,s);var y=Sg,T=$b(s.containerInfo),S=y.focusedElem,N=y.selectionRange;if(T!==S&&S&&S.ownerDocument&&Gb(S.ownerDocument.documentElement,S)){if(N!==null&&Zm(S)){var Y=N.start,te=N.end;if(te===void 0&&(te=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(te,S.value.length);else{var re=S.ownerDocument||document,W=re&&re.defaultView||window;if(W.getSelection){var Q=W.getSelection(),xe=S.textContent.length,_e=Math.min(N.start,xe),tt=N.end===void 0?_e:Math.min(N.end,xe);!Q.extend&&_e>tt&&(T=tt,tt=_e,_e=T);var G=Hb(S,_e),j=Hb(S,tt);if(G&&j&&(Q.rangeCount!==1||Q.anchorNode!==G.node||Q.anchorOffset!==G.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var K=re.createRange();K.setStart(G.node,G.offset),Q.removeAllRanges(),_e>tt?(Q.addRange(K),Q.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),Q.addRange(K))}}}}for(re=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&re.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var ne=re[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Hf=!!xg,Sg=xg=null}finally{We=p,ee.p=c,X.T=l}}s.current=a,sn=2}}function rT(){if(sn===2){sn=0;var s=Er,a=il,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var c=ee.p;ee.p=2;var p=We;We|=4;try{Vw(s,a.alternate,a)}finally{We=p,ee.p=c,X.T=l}}sn=3}}function aT(){if(sn===4||sn===3){sn=0,Ah();var s=Er,a=il,l=sl,c=Kw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?sn=5:(sn=0,il=Er=null,oT(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Tr=null),Eo(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(vt,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=X.T,p=ee.p,ee.p=2,X.T=null;try{for(var y=s.onRecoverableError,T=0;T<c.length;T++){var S=c[T];y(S.value,{componentStack:S.stack})}}finally{X.T=a,ee.p=p}}(sl&3)!==0&&Pf(),Ji(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===cg?Qu++:(Qu=0,cg=s):Qu=0,Zu(0)}}function oT(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ku(a)))}function Pf(s){return sT(),rT(),aT(),lT()}function lT(){if(sn!==5)return!1;var s=Er,a=lg;lg=0;var l=Eo(sl),c=X.T,p=ee.p;try{ee.p=32>l?32:l,X.T=null,l=ug,ug=null;var y=Er,T=sl;if(sn=0,il=Er=null,sl=0,(We&6)!==0)throw Error(i(331));var S=We;if(We|=4,Gw(y.current),Fw(y,y.current,T,l),We=S,Zu(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(vt,y)}catch{}return!0}finally{ee.p=p,X.T=c,oT(s,a)}}function uT(s,a,l){a=ri(l,a),a=Fp(s.stateNode,a,2),s=dr(s,a,2),s!==null&&(ys(s,2),Ji(s))}function nt(s,a,l){if(s.tag===3)uT(s,s,l);else for(;a!==null;){if(a.tag===3){uT(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Tr===null||!Tr.has(c))){s=ri(l,s),l=dw(2),c=dr(a,l,2),c!==null&&(mw(l,c,a,s),ys(c,2),Ji(c));break}}a=a.return}}function mg(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new Sk;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(sg=!0,p.add(l),s=Dk.bind(null,s,a,l),a.then(s,s))}function Dk(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,st===s&&(qe&l)===l&&(bt===4||bt===3&&(qe&62914560)===qe&&300>Jn()-og?(We&2)===0&&rl(s,0):rg|=l,nl===qe&&(nl=0)),Ji(s)}function cT(s,a){a===0&&(a=ou()),s=Bo(s,a),s!==null&&(ys(s,a),Ji(s))}function kk(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),cT(s,l)}function Pk(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),cT(s,l)}function Mk(s,a){return la(s,a)}var Mf=null,ol=null,pg=!1,Of=!1,gg=!1,qa=0;function Ji(s){s!==ol&&s.next===null&&(ol===null?Mf=ol=s:ol=ol.next=s),Of=!0,pg||(pg=!0,Nk())}function Zu(s,a){if(!gg&&Of){gg=!0;do for(var l=!1,c=Mf;c!==null;){if(s!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var T=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-fn(42|s)+1)-1,y&=p&~(T&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,mT(c,y))}else y=qe,y=To(c,c===st?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||ma(c,y)||(l=!0,mT(c,y));c=c.next}while(l);gg=!1}}function Ok(){hT()}function hT(){Of=pg=!1;var s=0;qa!==0&&(qk()&&(s=qa),qa=0);for(var a=Jn(),l=null,c=Mf;c!==null;){var p=c.next,y=fT(c,a);y===0?(c.next=null,l===null?Mf=p:l.next=p,p===null&&(ol=l)):(l=c,(s!==0||(y&3)!==0)&&(Of=!0)),c=p}Zu(s)}function fT(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-fn(y),S=1<<T,N=p[T];N===-1?((S&l)===0||(S&c)!==0)&&(p[T]=ru(S,a)):N<=a&&(s.expiredLanes|=S),y&=~S}if(a=st,l=qe,l=To(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(Qe===2||Qe===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&ua(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ma(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&ua(c),Eo(l)){case 2:case 8:l=bo;break;case 32:l=ca;break;case 268435456:l=wo;break;default:l=ca}return c=dT.bind(null,s),l=la(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&ua(c),s.callbackPriority=2,s.callbackNode=null,2}function dT(s,a){if(sn!==0&&sn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Pf()&&s.callbackNode!==l)return null;var c=qe;return c=To(s,s===st?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Xw(s,c,a),fT(s,Jn()),s.callbackNode!=null&&s.callbackNode===l?dT.bind(null,s):null)}function mT(s,a){if(Pf())return null;Xw(s,a,!0)}function Nk(){Gk(function(){(We&6)!==0?la(iu,Ok):hT()})}function yg(){return qa===0&&(qa=au()),qa}function pT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Io(""+s)}function gT(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function Vk(s,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var y=pT((p[Dt]||null).action),T=c.submitter;T&&(a=(a=T[Dt]||null)?pT(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var S=new Do("action","action",null,c,p);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qa!==0){var N=T?gT(p,T):new FormData(p);Lp(l,{pending:!0,data:N,method:p.method,action:y},null,N)}}else typeof y=="function"&&(S.preventDefault(),N=T?gT(p,T):new FormData(p),Lp(l,{pending:!0,data:N,method:p.method,action:y},y,N))},currentTarget:p}]})}}for(var vg=0;vg<np.length;vg++){var _g=np[vg],Lk=_g.toLowerCase(),Uk=_g[0].toUpperCase()+_g.slice(1);Ei(Lk,"on"+Uk)}Ei(Xb,"onAnimationEnd"),Ei(Wb,"onAnimationIteration"),Ei(Qb,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(tk,"onTransitionRun"),Ei(nk,"onTransitionStart"),Ei(ik,"onTransitionCancel"),Ei(Zb,"onTransitionEnd"),_s("onMouseEnter",["mouseout","mouseover"]),_s("onMouseLeave",["mouseout","mouseover"]),_s("onPointerEnter",["pointerout","pointerover"]),_s("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function yT(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],p=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var T=c.length-1;0<=T;T--){var S=c[T],N=S.instance,Y=S.currentTarget;if(S=S.listener,N!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=Y;try{y(p)}catch(te){wf(te)}p.currentTarget=null,y=N}else for(T=0;T<c.length;T++){if(S=c[T],N=S.instance,Y=S.currentTarget,S=S.listener,N!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=Y;try{y(p)}catch(te){wf(te)}p.currentTarget=null,y=N}}}}function Le(s,a){var l=a[cu];l===void 0&&(l=a[cu]=new Set);var c=s+"__bubble";l.has(c)||(vT(a,s,2,!1),l.add(c))}function bg(s,a,l){var c=0;a&&(c|=4),vT(l,s,c,a)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function wg(s){if(!s[Nf]){s[Nf]=!0,hu.forEach(function(l){l!=="selectionchange"&&(jk.has(l)||bg(l,!1,s),bg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Nf]||(a[Nf]=!0,bg("selectionchange",!1,a))}}function vT(s,a,l,c){switch(FT(a)){case 2:var p=fP;break;case 8:p=dP;break;default:p=Ng}l=p.bind(null,a,l,s),p=void 0,!ii||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function Tg(s,a,l,c,p){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===p)break;if(T===4)for(T=c.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;S!==null;){if(T=vs(S),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){c=y=T;continue e}S=S.parentNode}}c=c.return}Vh(function(){var Y=y,te=ni(l),re=[];e:{var W=Jb.get(s);if(W!==void 0){var Q=Do,xe=s;switch(s){case"keypress":if(Hi(l)===0)break e;case"keydown":case"keyup":Q=Vo;break;case"focusin":xe="focus",Q=Mo;break;case"focusout":xe="blur",Q=Mo;break;case"beforeblur":case"afterblur":Q=Mo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=si;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Hh;break;case Xb:case Wb:case Qb:Q=Oo;break;case Zb:Q=$h;break;case"scroll":case"scrollend":Q=Lh;break;case"wheel":Q=Lo;break;case"copy":case"cut":case"paste":Q=No;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Eu;break;case"toggle":case"beforetoggle":Q=Yh}var _e=(a&4)!==0,tt=!_e&&(s==="scroll"||s==="scrollend"),G=_e?W!==null?W+"Capture":null:W;_e=[];for(var j=Y,K;j!==null;){var ne=j;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||G===null||(ne=Ta(j,G),ne!=null&&_e.push(ec(j,ne,K))),tt)break;j=j.return}0<_e.length&&(W=new Q(W,xe,null,l,te),re.push({event:W,listeners:_e}))}}if((a&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",W&&l!==Ts&&(xe=l.relatedTarget||l.fromElement)&&(vs(xe)||xe[ei]))break e;if((Q||W)&&(W=te.window===te?te:(W=te.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(xe=l.relatedTarget||l.toElement,Q=Y,xe=xe?vs(xe):null,xe!==null&&(tt=o(xe),_e=xe.tag,xe!==tt||_e!==5&&_e!==27&&_e!==6)&&(xe=null)):(Q=null,xe=Y),Q!==xe)){if(_e=si,ne="onMouseLeave",G="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(_e=Eu,ne="onPointerLeave",G="onPointerEnter",j="pointer"),tt=Q==null?W:zi(Q),K=xe==null?W:zi(xe),W=new _e(ne,j+"leave",Q,l,te),W.target=tt,W.relatedTarget=K,ne=null,vs(te)===Y&&(_e=new _e(G,j+"enter",xe,l,te),_e.target=K,_e.relatedTarget=tt,ne=_e),tt=ne,Q&&xe)t:{for(_e=Q,G=xe,j=0,K=_e;K;K=ll(K))j++;for(K=0,ne=G;ne;ne=ll(ne))K++;for(;0<j-K;)_e=ll(_e),j--;for(;0<K-j;)G=ll(G),K--;for(;j--;){if(_e===G||G!==null&&_e===G.alternate)break t;_e=ll(_e),G=ll(G)}_e=null}else _e=null;Q!==null&&_T(re,W,Q,_e,!1),xe!==null&&tt!==null&&_T(re,tt,xe,_e,!0)}}e:{if(W=Y?zi(Y):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var me=Ub;else if(Bt(W))if(jb)me=ZD;else{me=WD;var Ne=XD}else Q=W.nodeName,!Q||Q.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&gu(Y.elementType)&&(me=Ub):me=QD;if(me&&(me=me(s,Y))){Rs(re,me,l,te);break e}Ne&&Ne(s,W,Y),s==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&lr(W,"number",W.value)}switch(Ne=Y?zi(Y):window,s){case"focusin":(Bt(Ne)||Ne.contentEditable==="true")&&(Uo=Ne,Jm=Y,Au=null);break;case"focusout":Au=Jm=Uo=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,Kb(re,l,te);break;case"selectionchange":if(ek)break;case"keydown":case"keyup":Kb(re,l,te)}var ge;if(Ki)e:{switch(s){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Be?J(s,l)&&(we="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(w&&l.locale!=="ko"&&(Be||we!=="onCompositionStart"?we==="onCompositionEnd"&&Be&&(ge=vu()):(qi=te,ur="value"in qi?qi.value:qi.textContent,Be=!0)),Ne=Vf(Y,we),0<Ne.length&&(we=new wu(we,s,null,l,te),re.push({event:we,listeners:Ne}),ge?we.data=ge:(ge=ue(l),ge!==null&&(we.data=ge)))),(ge=_?zt(s,l):Fe(s,l))&&(we=Vf(Y,"onBeforeInput"),0<we.length&&(Ne=new wu("onBeforeInput","beforeinput",null,l,te),re.push({event:Ne,listeners:we}),Ne.data=ge)),Vk(re,s,Y,l,te)}yT(re,a)})}function ec(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Vf(s,a){for(var l=a+"Capture",c=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ta(s,l),p!=null&&c.unshift(ec(s,p,y)),p=Ta(s,a),p!=null&&c.push(ec(s,p,y))),s.tag===3)return c;s=s.return}return[]}function ll(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function _T(s,a,l,c,p){for(var y=a._reactName,T=[];l!==null&&l!==c;){var S=l,N=S.alternate,Y=S.stateNode;if(S=S.tag,N!==null&&N===c)break;S!==5&&S!==26&&S!==27||Y===null||(N=Y,p?(Y=Ta(l,y),Y!=null&&T.unshift(ec(l,Y,N))):p||(Y=Ta(l,y),Y!=null&&T.push(ec(l,Y,N)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var zk=/\r\n?/g,Bk=/\u0000|\uFFFD/g;function bT(s){return(typeof s=="string"?s:""+s).replace(zk,`
`).replace(Bk,"")}function wT(s,a){return a=bT(a),bT(s)===a}function Lf(){}function et(s,a,l,c,p,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||ti(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&ti(s,""+c);break;case"className":Bi(s,"class",c);break;case"tabIndex":Bi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(s,l,c);break;case"style":pu(s,c,y);break;case"data":if(a!=="object"){Bi(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Io(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&et(s,a,"name",p.name,p,null),et(s,a,"formEncType",p.formEncType,p,null),et(s,a,"formMethod",p.formMethod,p,null),et(s,a,"formTarget",p.formTarget,p,null)):(et(s,a,"encType",p.encType,p,null),et(s,a,"method",p.method,p,null),et(s,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Io(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Lf);break;case"onScroll":c!=null&&Le("scroll",s);break;case"onScrollEnd":c!=null&&Le("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Io(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Le("beforetoggle",s),Le("toggle",s),or(s,"popover",c);break;case"xlinkActuate":en(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":en(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":en(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":en(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":en(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":en(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":en(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":en(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":en(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":or(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=$m.get(l)||l,or(s,l,c))}}function Eg(s,a,l,c,p,y){switch(l){case"style":pu(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?ti(s,c):(typeof c=="number"||typeof c=="bigint")&&ti(s,""+c);break;case"onScroll":c!=null&&Le("scroll",s);break;case"onScrollEnd":c!=null&&Le("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=s[Dt]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,p);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):or(s,l,c)}}}function rn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",s),Le("load",s);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:et(s,a,y,T,l,null)}}p&&et(s,a,"srcSet",l.srcSet,l,null),c&&et(s,a,"src",l.src,l,null);return;case"input":Le("invalid",s);var S=y=T=p=null,N=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var te=l[c];if(te!=null)switch(c){case"name":p=te;break;case"type":T=te;break;case"checked":N=te;break;case"defaultChecked":Y=te;break;case"value":y=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:et(s,a,c,te,l,null)}}_a(s,y,S,N,Y,T,p,!1),Co(s);return;case"select":Le("invalid",s),c=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(S=l[p],S!=null))switch(p){case"value":y=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:et(s,a,p,S,l,null)}a=y,l=T,s.multiple=!!c,a!=null?ws(s,!!c,a,!1):l!=null&&ws(s,!!c,l,!0);return;case"textarea":Le("invalid",s),y=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(S=l[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":p=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:et(s,a,T,S,l,null)}ba(s,c,p,y),Co(s);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(c=l[N],c!=null))switch(N){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:et(s,a,N,c,l,null)}return;case"dialog":Le("beforetoggle",s),Le("toggle",s),Le("cancel",s),Le("close",s);break;case"iframe":case"object":Le("load",s);break;case"video":case"audio":for(c=0;c<Ju.length;c++)Le(Ju[c],s);break;case"image":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"embed":case"source":case"link":Le("error",s),Le("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:et(s,a,Y,c,l,null)}return;default:if(gu(a)){for(te in l)l.hasOwnProperty(te)&&(c=l[te],c!==void 0&&Eg(s,a,te,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&et(s,a,S,c,l,null))}function Fk(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,S=null,N=null,Y=null,te=null;for(Q in l){var re=l[Q];if(l.hasOwnProperty(Q)&&re!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=re;default:c.hasOwnProperty(Q)||et(s,a,Q,null,c,re)}}for(var W in c){var Q=c[W];if(re=l[W],c.hasOwnProperty(W)&&(Q!=null||re!=null))switch(W){case"type":y=Q;break;case"name":p=Q;break;case"checked":Y=Q;break;case"defaultChecked":te=Q;break;case"value":T=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==re&&et(s,a,W,Q,c,re)}}jn(s,T,S,N,Y,te,y,p);return;case"select":Q=T=S=W=null;for(y in l)if(N=l[y],l.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":Q=N;default:c.hasOwnProperty(y)||et(s,a,y,null,c,N)}for(p in c)if(y=c[p],N=l[p],c.hasOwnProperty(p)&&(y!=null||N!=null))switch(p){case"value":W=y;break;case"defaultValue":S=y;break;case"multiple":T=y;default:y!==N&&et(s,a,p,y,c,N)}a=S,l=T,c=Q,W!=null?ws(s,!!l,W,!1):!!c!=!!l&&(a!=null?ws(s,!!l,a,!0):ws(s,!!l,l?[]:"",!1));return;case"textarea":Q=W=null;for(S in l)if(p=l[S],l.hasOwnProperty(S)&&p!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(s,a,S,null,c,p)}for(T in c)if(p=c[T],y=l[T],c.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":W=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&et(s,a,T,p,c,y)}Ze(s,W,Q);return;case"option":for(var xe in l)if(W=l[xe],l.hasOwnProperty(xe)&&W!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":s.selected=!1;break;default:et(s,a,xe,null,c,W)}for(N in c)if(W=c[N],Q=l[N],c.hasOwnProperty(N)&&W!==Q&&(W!=null||Q!=null))switch(N){case"selected":s.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:et(s,a,N,W,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in l)W=l[_e],l.hasOwnProperty(_e)&&W!=null&&!c.hasOwnProperty(_e)&&et(s,a,_e,null,c,W);for(Y in c)if(W=c[Y],Q=l[Y],c.hasOwnProperty(Y)&&W!==Q&&(W!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:et(s,a,Y,W,c,Q)}return;default:if(gu(a)){for(var tt in l)W=l[tt],l.hasOwnProperty(tt)&&W!==void 0&&!c.hasOwnProperty(tt)&&Eg(s,a,tt,void 0,c,W);for(te in c)W=c[te],Q=l[te],!c.hasOwnProperty(te)||W===Q||W===void 0&&Q===void 0||Eg(s,a,te,W,c,Q);return}}for(var G in l)W=l[G],l.hasOwnProperty(G)&&W!=null&&!c.hasOwnProperty(G)&&et(s,a,G,null,c,W);for(re in c)W=c[re],Q=l[re],!c.hasOwnProperty(re)||W===Q||W==null&&Q==null||et(s,a,re,W,c,Q)}var xg=null,Sg=null;function Uf(s){return s.nodeType===9?s:s.ownerDocument}function TT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ET(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Ag(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rg=null;function qk(){var s=window.event;return s&&s.type==="popstate"?s===Rg?!1:(Rg=s,!0):(Rg=null,!1)}var xT=typeof setTimeout=="function"?setTimeout:void 0,Hk=typeof clearTimeout=="function"?clearTimeout:void 0,ST=typeof Promise=="function"?Promise:void 0,Gk=typeof queueMicrotask=="function"?queueMicrotask:typeof ST<"u"?function(s){return ST.resolve(null).then(s).catch($k)}:xT;function $k(s){setTimeout(function(){throw s})}function Sr(s){return s==="head"}function AT(s,a){var l=a,c=0,p=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=s.ownerDocument;if(l&1&&tc(T.documentElement),l&2&&tc(T.body),l&4)for(l=T.head,tc(l),T=l.firstChild;T;){var S=T.nextSibling,N=T.nodeName;T[pa]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=S}}if(p===0){s.removeChild(y),uc(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);uc(a)}function Cg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Cg(l),ar(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function Kk(s,a,l,c){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[pa])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Si(s.nextSibling),s===null)break}return null}function Yk(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Si(s.nextSibling),s===null))return null;return s}function Ig(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Xk(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Si(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Dg=null;function RT(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function CT(s,a,l){switch(a=Uf(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function tc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ar(s)}var hi=new Map,IT=new Set;function jf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var zs=ee.d;ee.d={f:Wk,r:Qk,D:Zk,C:Jk,L:eP,m:tP,X:iP,S:nP,M:sP};function Wk(){var s=zs.f(),a=Df();return s||a}function Qk(s){var a=ji(s);a!==null&&a.tag===5&&a.type==="form"?X0(a):zs.r(s)}var ul=typeof document>"u"?null:document;function DT(s,a,l){var c=ul;if(c&&typeof a=="string"&&a){var p=kt(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),IT.has(p)||(IT.add(p),s={rel:s,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),rn(a,"link",s),xt(a),c.head.appendChild(a)))}}function Zk(s){zs.D(s),DT("dns-prefetch",s,null)}function Jk(s,a){zs.C(s,a),DT("preconnect",s,a)}function eP(s,a,l){zs.L(s,a,l);var c=ul;if(c&&s&&a){var p='link[rel="preload"][as="'+kt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+kt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+kt(l.imageSizes)+'"]')):p+='[href="'+kt(s)+'"]';var y=p;switch(a){case"style":y=cl(s);break;case"script":y=hl(s)}hi.has(y)||(s=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),hi.set(y,s),c.querySelector(p)!==null||a==="style"&&c.querySelector(nc(y))||a==="script"&&c.querySelector(ic(y))||(a=c.createElement("link"),rn(a,"link",s),xt(a),c.head.appendChild(a)))}}function tP(s,a){zs.m(s,a);var l=ul;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+kt(c)+'"][href="'+kt(s)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hl(s)}if(!hi.has(y)&&(s=g({rel:"modulepreload",href:s},a),hi.set(y,s),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ic(y)))return}c=l.createElement("link"),rn(c,"link",s),xt(c),l.head.appendChild(c)}}}function nP(s,a,l){zs.S(s,a,l);var c=ul;if(c&&s){var p=Tn(c).hoistableStyles,y=cl(s);a=a||"default";var T=p.get(y);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(nc(y)))S.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},l),(l=hi.get(y))&&kg(s,l);var N=T=c.createElement("link");xt(N),rn(N,"link",s),N._p=new Promise(function(Y,te){N.onload=Y,N.onerror=te}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zf(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:S},p.set(y,T)}}}function iP(s,a){zs.X(s,a);var l=ul;if(l&&s){var c=Tn(l).hoistableScripts,p=hl(s),y=c.get(p);y||(y=l.querySelector(ic(p)),y||(s=g({src:s,async:!0},a),(a=hi.get(p))&&Pg(s,a),y=l.createElement("script"),xt(y),rn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function sP(s,a){zs.M(s,a);var l=ul;if(l&&s){var c=Tn(l).hoistableScripts,p=hl(s),y=c.get(p);y||(y=l.querySelector(ic(p)),y||(s=g({src:s,async:!0,type:"module"},a),(a=hi.get(p))&&Pg(s,a),y=l.createElement("script"),xt(y),rn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function kT(s,a,l,c){var p=(p=Re.current)?jf(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=cl(l.href),l=Tn(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=cl(l.href);var y=Tn(p).hoistableStyles,T=y.get(s);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=p.querySelector(nc(s)))&&!y._p&&(T.instance=y,T.state.loading=5),hi.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},hi.set(s,l),y||rP(p,s,l,T.state))),a&&c===null)throw Error(i(528,""));return T}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=hl(l),l=Tn(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function cl(s){return'href="'+kt(s)+'"'}function nc(s){return'link[rel="stylesheet"]['+s+"]"}function PT(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function rP(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),rn(a,"link",l),xt(a),s.head.appendChild(a))}function hl(s){return'[src="'+kt(s)+'"]'}function ic(s){return"script[async]"+s}function MT(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+kt(l.href)+'"]');if(c)return a.instance=c,xt(c),c;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),xt(c),rn(c,"style",p),zf(c,l.precedence,s),a.instance=c;case"stylesheet":p=cl(l.href);var y=s.querySelector(nc(p));if(y)return a.state.loading|=4,a.instance=y,xt(y),y;c=PT(l),(p=hi.get(p))&&kg(c,p),y=(s.ownerDocument||s).createElement("link"),xt(y);var T=y;return T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),rn(y,"link",c),a.state.loading|=4,zf(y,l.precedence,s),a.instance=y;case"script":return y=hl(l.src),(p=s.querySelector(ic(y)))?(a.instance=p,xt(p),p):(c=l,(p=hi.get(y))&&(c=g({},l),Pg(c,p)),s=s.ownerDocument||s,p=s.createElement("script"),xt(p),rn(p,"link",c),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,zf(c,l.precedence,s));return a.instance}function zf(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===a)y=S;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function kg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Pg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Bf=null;function OT(s,a,l){if(Bf===null){var c=new Map,p=Bf=new Map;p.set(l,c)}else p=Bf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[pa]||y[jt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=s+T;var S=c.get(T);S?S.push(y):c.set(T,[y])}}return c}function NT(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function aP(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function VT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var sc=null;function oP(){}function lP(s,a,l){if(sc===null)throw Error(i(475));var c=sc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=cl(l.href),y=s.querySelector(nc(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Ff.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,xt(y);return}y=s.ownerDocument||s,l=PT(l),(p=hi.get(p))&&kg(l,p),y=y.createElement("link"),xt(y);var T=y;T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),rn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Ff.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function uP(){if(sc===null)throw Error(i(475));var s=sc;return s.stylesheets&&s.count===0&&Mg(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Mg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Ff(){if(this.count--,this.count===0){if(this.stylesheets)Mg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var qf=null;function Mg(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,qf=new Map,a.forEach(cP,s),qf=null,Ff.call(s))}function cP(s,a){if(!(a.state.loading&4)){var l=qf.get(s);if(l)var c=l.get(null);else{l=new Map,qf.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=a.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,p),l.set(T,p),this.count++,c=Ff.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var rc={$$typeof:B,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function hP(s,a,l,c,p,y,T,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.hiddenUpdates=gs(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function LT(s,a,l,c,p,y,T,S,N,Y,te,re){return s=new hP(s,a,l,T,S,N,Y,re),a=1,y===!0&&(a|=24),y=Bn(3,null,null,a),s.current=y,y.stateNode=s,a=mp(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},vp(y),s}function UT(s){return s?(s=Fo,s):Fo}function jT(s,a,l,c,p,y){p=UT(p),c.context===null?c.context=p:c.pendingContext=p,c=fr(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=dr(s,c,a),l!==null&&($n(l,s,a),Nu(l,s,a))}function zT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Og(s,a){zT(s,a),(s=s.alternate)&&zT(s,a)}function BT(s){if(s.tag===13){var a=Bo(s,67108864);a!==null&&$n(a,s,67108864),Og(s,67108864)}}var Hf=!0;function fP(s,a,l,c){var p=X.T;X.T=null;var y=ee.p;try{ee.p=2,Ng(s,a,l,c)}finally{ee.p=y,X.T=p}}function dP(s,a,l,c){var p=X.T;X.T=null;var y=ee.p;try{ee.p=8,Ng(s,a,l,c)}finally{ee.p=y,X.T=p}}function Ng(s,a,l,c){if(Hf){var p=Vg(c);if(p===null)Tg(s,a,c,Gf,l),qT(s,c);else if(pP(p,s,a,l,c))c.stopPropagation();else if(qT(s,c),a&4&&-1<mP.indexOf(s)){for(;p!==null;){var y=ji(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=bi(y.pendingLanes);if(T!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var N=1<<31-fn(T);S.entanglements[1]|=N,T&=~N}Ji(y),(We&6)===0&&(Cf=Jn()+500,Zu(0))}}break;case 13:S=Bo(y,2),S!==null&&$n(S,y,2),Df(),Og(y,2)}if(y=Vg(c),y===null&&Tg(s,a,c,Gf,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else Tg(s,a,c,null,l)}}function Vg(s){return s=ni(s),Lg(s)}var Gf=null;function Lg(s){if(Gf=null,s=vs(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Gf=s,null}function FT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zm()){case iu:return 2;case bo:return 8;case ca:case Bm:return 32;case wo:return 268435456;default:return 32}default:return 32}}var Ug=!1,Ar=null,Rr=null,Cr=null,ac=new Map,oc=new Map,Ir=[],mP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qT(s,a){switch(s){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":ac.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(a.pointerId)}}function lc(s,a,l,c,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},a!==null&&(a=ji(a),a!==null&&BT(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function pP(s,a,l,c,p){switch(a){case"focusin":return Ar=lc(Ar,s,a,l,c,p),!0;case"dragenter":return Rr=lc(Rr,s,a,l,c,p),!0;case"mouseover":return Cr=lc(Cr,s,a,l,c,p),!0;case"pointerover":var y=p.pointerId;return ac.set(y,lc(ac.get(y)||null,s,a,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,oc.set(y,lc(oc.get(y)||null,s,a,l,c,p)),!0}return!1}function HT(s){var a=vs(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,Ih(s.priority,function(){if(l.tag===13){var c=Gn();c=ir(c);var p=Bo(l,c);p!==null&&$n(p,l,c),Og(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $f(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Vg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Ts=c,l.target.dispatchEvent(c),Ts=null}else return a=ji(l),a!==null&&BT(a),s.blockedOn=l,!1;a.shift()}return!0}function GT(s,a,l){$f(s)&&l.delete(a)}function gP(){Ug=!1,Ar!==null&&$f(Ar)&&(Ar=null),Rr!==null&&$f(Rr)&&(Rr=null),Cr!==null&&$f(Cr)&&(Cr=null),ac.forEach(GT),oc.forEach(GT)}function Kf(s,a){s.blockedOn===a&&(s.blockedOn=null,Ug||(Ug=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gP)))}var Yf=null;function $T(s){Yf!==s&&(Yf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yf===s&&(Yf=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],p=s[a+2];if(typeof c!="function"){if(Lg(c||l)===null)continue;break}var y=ji(l);y!==null&&(s.splice(a,3),a-=3,Lp(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function uc(s){function a(N){return Kf(N,s)}Ar!==null&&Kf(Ar,s),Rr!==null&&Kf(Rr,s),Cr!==null&&Kf(Cr,s),ac.forEach(a),oc.forEach(a);for(var l=0;l<Ir.length;l++){var c=Ir[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ir.length&&(l=Ir[0],l.blockedOn===null);)HT(l),l.blockedOn===null&&Ir.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],T=p[Dt]||null;if(typeof y=="function")T||$T(l);else if(T){var S=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Dt]||null)S=T.formAction;else if(Lg(p)!==null)continue}else S=T.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),$T(l)}}}function jg(s){this._internalRoot=s}Xf.prototype.render=jg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Gn();jT(l,c,s,a,null,null)},Xf.prototype.unmount=jg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;jT(s.current,2,null,s,null,null),Df(),a[ei]=null}};function Xf(s){this._internalRoot=s}Xf.prototype.unstable_scheduleHydration=function(s){if(s){var a=sr();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ir.length&&a!==0&&a<Ir[l].priority;l++);Ir.splice(l,0,s),l===0&&HT(s)}};var KT=e.version;if(KT!=="19.1.1")throw Error(i(527,KT,"19.1.1"));ee.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var yP={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{vt=Wf.inject(yP),Xe=Wf}catch{}}return hc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,c="",p=uw,y=cw,T=hw,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=LT(s,1,!1,null,null,l,c,p,y,T,S,null),s[ei]=a.current,wg(s),new jg(a)},hc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var c=!1,p="",y=uw,T=cw,S=hw,N=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(N=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),a=LT(s,1,!0,a,l??null,c,p,y,T,S,N,Y),a.context=UT(null),l=a.current,c=Gn(),c=ir(c),p=fr(c),p.callback=null,dr(l,p,c),l=c,a.current.lanes=l,ys(a,l),Ji(a),s[ei]=a.current,wg(s),new Xf(a)},hc.version="19.1.1",hc}var iE;function RP(){if(iE)return Fg.exports;iE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fg.exports=AP(),Fg.exports}var CP=RP();const IP=RA(CP);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sE="popstate";function DP(n={}){function e(i,r){let{pathname:o,search:u,hash:h}=i.location;return Cd("",{pathname:o,search:u,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Pl(r)}return CA(e,t,null,n)}function kP(n={}){function e(r,o){let{pathname:u="/",search:h="",hash:f=""}=mo(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Cd("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let u=r.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=r.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof o=="string"?o:Pl(o))}function i(r,o){Zn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return CA(e,t,i,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PP(){return Math.random().toString(36).substring(2,10)}function rE(n,e){return{usr:n.state,key:n.key,idx:e}}function Cd(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:t,key:e&&e.key||i||PP()}}function Pl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function mo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function CA(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,u=r.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let D=g(),P=D==null?null:D-d;d=D,f&&f({action:h,location:k.location,delta:P})}function b(D,P){h="PUSH";let F=Cd(k.location,D,P);t&&t(F,D),d=g()+1;let B=rE(F,d),q=k.createHref(F);try{u.pushState(B,"",q)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;r.location.assign(q)}o&&f&&f({action:h,location:k.location,delta:1})}function E(D,P){h="REPLACE";let F=Cd(k.location,D,P);t&&t(F,D),d=g();let B=rE(F,d),q=k.createHref(F);u.replaceState(B,"",q),o&&f&&f({action:h,location:k.location,delta:0})}function C(D){return MP(D)}let k={get action(){return h},get location(){return n(r,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(sE,v),f=D,()=>{r.removeEventListener(sE,v),f=null}},createHref(D){return e(r,D)},createURL:C,encodeLocation(D){let P=C(D);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:E,go(D){return u.go(D)}};return k}function MP(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Pl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function IA(n,e,t="/"){return OP(n,e,t,!1)}function OP(n,e,t,i){let r=typeof e=="string"?mo(e):e,o=Ys(r.pathname||"/",t);if(o==null)return null;let u=DA(n);NP(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=$P(o);h=HP(u[f],d,i)}return h}function DA(n,e=[],t=[],i="",r=!1){let o=(u,h,f=r,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;ft(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=Hs([i,g.relativePath]),b=t.concat(g);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),DA(u.children,e,b,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:FP(v,u.index),routesMeta:b})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let f of kA(u.path))o(u,h,!0,f)}),e}function kA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let u=kA(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function NP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qP(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var VP=/^:[\w-]+$/,LP=3,UP=2,jP=1,zP=10,BP=-2,aE=n=>n==="*";function FP(n,e){let t=n.split("/"),i=t.length;return t.some(aE)&&(i+=BP),e&&(i+=UP),t.filter(r=>!aE(r)).reduce((r,o)=>r+(VP.test(o)?LP:o===""?jP:zP),i)}function qP(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function HP(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Id({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),b=f.route;if(!v&&d&&t&&!i[i.length-1].route.index&&(v=Id({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:Hs([o,v.pathname]),pathnameBase:WP(Hs([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=Hs([o,v.pathnameBase]))}return u}function Id(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=GP(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:v},b)=>{if(g==="*"){let C=h[b]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const E=h[b];return v&&!E?d[g]=void 0:d[g]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function GP(n,e=!1,t=!0){Zn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function $P(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ys(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function KP(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?mo(n):n;return{pathname:t?t.startsWith("/")?t:YP(t,e):e,search:QP(i),hash:ZP(r)}}function YP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function $g(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Kv(n){let e=XP(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Yv(n,e,t,i=!1){let r;typeof n=="string"?r=mo(n):(r={...n},ft(!r.pathname||!r.pathname.includes("?"),$g("?","pathname","search",r)),ft(!r.pathname||!r.pathname.includes("#"),$g("#","pathname","hash",r)),ft(!r.search||!r.search.includes("#"),$g("#","search","hash",r)));let o=n===""||r.pathname==="",u=o?"/":r.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}h=v>=0?e[v]:"/"}let f=KP(r,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Hs=n=>n.join("/").replace(/\/\/+/g,"/"),WP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var PA=["POST","PUT","PATCH","DELETE"];new Set(PA);var e2=["GET",...PA];new Set(e2);var Hl=V.createContext(null);Hl.displayName="DataRouter";var sm=V.createContext(null);sm.displayName="DataRouterState";V.createContext(!1);var MA=V.createContext({isTransitioning:!1});MA.displayName="ViewTransition";var t2=V.createContext(new Map);t2.displayName="Fetchers";var n2=V.createContext(null);n2.displayName="Await";var Ni=V.createContext(null);Ni.displayName="Navigation";var ah=V.createContext(null);ah.displayName="Location";var Vi=V.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Xv=V.createContext(null);Xv.displayName="RouteError";function i2(n,{relative:e}={}){ft(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=V.useContext(Ni),{hash:r,pathname:o,search:u}=oh(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Hs([t,o])),i.createHref({pathname:h,search:u,hash:r})}function Gl(){return V.useContext(ah)!=null}function In(){return ft(Gl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(ah).location}var OA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NA(n){V.useContext(Ni).static||V.useLayoutEffect(n)}function tr(){let{isDataRoute:n}=V.useContext(Vi);return n?v2():s2()}function s2(){ft(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(Hl),{basename:e,navigator:t}=V.useContext(Ni),{matches:i}=V.useContext(Vi),{pathname:r}=In(),o=JSON.stringify(Kv(i)),u=V.useRef(!1);return NA(()=>{u.current=!0}),V.useCallback((f,d={})=>{if(Zn(u.current,OA),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=Yv(f,JSON.parse(o),r,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Hs([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,r,n])}var r2=V.createContext(null);function a2(n){let e=V.useContext(Vi).outlet;return e&&V.createElement(r2.Provider,{value:n},e)}function oh(n,{relative:e}={}){let{matches:t}=V.useContext(Vi),{pathname:i}=In(),r=JSON.stringify(Kv(t));return V.useMemo(()=>Yv(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function o2(n,e){return VA(n,e)}function VA(n,e,t,i){ft(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=V.useContext(Ni),{matches:o}=V.useContext(Vi),u=o[o.length-1],h=u?u.params:{},f=u?u.pathname:"/",d=u?u.pathnameBase:"/",g=u&&u.route;{let P=g&&g.path||"";LA(f,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=In(),b;if(e){let P=typeof e=="string"?mo(e):e;ft(d==="/"||P.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=v;let E=b.pathname||"/",C=E;if(d!=="/"){let P=d.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=IA(n,{pathname:C});Zn(g||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Zn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=f2(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:Hs([d,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:Hs([d,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,t,i);return e&&D?V.createElement(ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},D):D}function l2(){let n=y2(),e=JP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:r},t):null,u)}var u2=V.createElement(l2,null),c2=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?V.createElement(Vi.Provider,{value:this.props.routeContext},V.createElement(Xv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h2({routeContext:n,match:e,children:t}){let i=V.useContext(Hl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Vi.Provider,{value:n},t)}function f2(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t?.errors;if(o!=null){let f=r.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);ft(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<r.length;f++){let d=r[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:v}=t,b=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,d,g)=>{let v,b=!1,E=null,C=null;t&&(v=o&&d.route.id?o[d.route.id]:void 0,E=d.route.errorElement||u2,u&&(h<0&&g===0?(LA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):h===g&&(b=!0,C=d.route.hydrateFallbackElement||null)));let k=e.concat(r.slice(0,g+1)),D=()=>{let P;return v?P=E:b?P=C:d.route.Component?P=V.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=f,V.createElement(h2,{match:d,routeContext:{outlet:f,matches:k,isDataRoute:t!=null},children:P})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?V.createElement(c2,{location:t.location,revalidation:t.revalidation,component:E,error:v,children:D(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):D()},null)}function Wv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d2(n){let e=V.useContext(Hl);return ft(e,Wv(n)),e}function m2(n){let e=V.useContext(sm);return ft(e,Wv(n)),e}function p2(n){let e=V.useContext(Vi);return ft(e,Wv(n)),e}function Qv(n){let e=p2(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function g2(){return Qv("useRouteId")}function y2(){let n=V.useContext(Xv),e=m2("useRouteError"),t=Qv("useRouteError");return n!==void 0?n:e.errors?.[t]}function v2(){let{router:n}=d2("useNavigate"),e=Qv("useNavigate"),t=V.useRef(!1);return NA(()=>{t.current=!0}),V.useCallback(async(r,o={})=>{Zn(t.current,OA),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var oE={};function LA(n,e,t){!e&&!oE[n]&&(oE[n]=!0,Zn(!1,t))}V.memo(_2);function _2({routes:n,future:e,state:t}){return VA(n,void 0,t,e)}function b2({to:n,replace:e,state:t,relative:i}){ft(Gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=V.useContext(Ni);Zn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=V.useContext(Vi),{pathname:u}=In(),h=tr(),f=Yv(n,Kv(o),u,i==="path"),d=JSON.stringify(f);return V.useEffect(()=>{h(JSON.parse(d),{replace:e,state:t,relative:i})},[h,d,i,e,t]),null}function w2(n){return a2(n.context)}function Ga(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UA({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){ft(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:r,static:o,future:{}}),[u,r,o]);typeof t=="string"&&(t=mo(t));let{pathname:f="/",search:d="",hash:g="",state:v=null,key:b="default"}=t,E=V.useMemo(()=>{let C=Ys(f,u);return C==null?null:{location:{pathname:C,search:d,hash:g,state:v,key:b},navigationType:i}},[u,f,d,g,v,b,i]);return Zn(E!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:V.createElement(Ni.Provider,{value:h},V.createElement(ah.Provider,{children:e,value:E}))}function T2({children:n,location:e}){return o2(qy(n),e)}function qy(n,e=[]){let t=[];return V.Children.forEach(n,(i,r)=>{if(!V.isValidElement(i))return;let o=[...e,r];if(i.type===V.Fragment){t.push.apply(t,qy(i.props.children,o));return}ft(i.type===Ga,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=qy(i.props.children,o)),t.push(u)}),t}var cd="get",hd="application/x-www-form-urlencoded";function rm(n){return n!=null&&typeof n.tagName=="string"}function E2(n){return rm(n)&&n.tagName.toLowerCase()==="button"}function x2(n){return rm(n)&&n.tagName.toLowerCase()==="form"}function S2(n){return rm(n)&&n.tagName.toLowerCase()==="input"}function A2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function R2(n,e){return n.button===0&&(!e||e==="_self")&&!A2(n)}function Hy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function C2(n,e){let t=Hy(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(o=>{t.append(r,o)})}),t}var Qf=null;function I2(){if(Qf===null)try{new FormData(document.createElement("form"),0),Qf=!1}catch{Qf=!0}return Qf}var D2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kg(n){return n!=null&&!D2.has(n)?(Zn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hd}"`),null):n}function k2(n,e){let t,i,r,o,u;if(x2(n)){let h=n.getAttribute("action");i=h?Ys(h,e):null,t=n.getAttribute("method")||cd,r=Kg(n.getAttribute("enctype"))||hd,o=new FormData(n)}else if(E2(n)||S2(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Ys(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||cd,r=Kg(n.getAttribute("formenctype"))||Kg(h.getAttribute("enctype"))||hd,o=new FormData(h,n),!I2()){let{name:d,type:g,value:v}=n;if(g==="image"){let b=d?`${d}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else d&&o.append(d,v)}}else{if(rm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cd,i=null,r=hd,u=n}return o&&r==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function P2(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Ys(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function M2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function N2(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let u=await M2(o,t);return u.links?u.links():[]}return[]}));return j2(i.flat(1).filter(O2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function lE(n,e,t,i,r,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function V2(n,e,{includeHydrateFallback:t}={}){return L2(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function L2(n){return[...new Set(n)]}function U2(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function j2(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(U2(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function jA(){let n=V.useContext(Hl);return Zv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function z2(){let n=V.useContext(sm);return Zv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jv=V.createContext(void 0);Jv.displayName="FrameworkContext";function zA(){let n=V.useContext(Jv);return Zv(n,"You must render this element inside a <HydratedRouter> element"),n}function B2(n,e){let t=V.useContext(Jv),[i,r]=V.useState(!1),[o,u]=V.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=e,b=V.useRef(null);V.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let k=P=>{P.forEach(F=>{u(F.isIntersecting)})},D=new IntersectionObserver(k,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[n]),V.useEffect(()=>{if(i){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[i]);let E=()=>{r(!0)},C=()=>{r(!1),u(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:fc(h,E),onBlur:fc(f,C),onMouseEnter:fc(d,E),onMouseLeave:fc(g,C),onTouchStart:fc(v,E)}]:[!1,b,{}]}function fc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function F2({page:n,...e}){let{router:t}=jA(),i=V.useMemo(()=>IA(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?V.createElement(H2,{page:n,matches:i,...e}):null}function q2(n){let{manifest:e,routeModules:t}=zA(),[i,r]=V.useState([]);return V.useEffect(()=>{let o=!1;return N2(n,e,t).then(u=>{o||r(u)}),()=>{o=!0}},[n,e,t]),i}function H2({page:n,matches:e,...t}){let i=In(),{manifest:r,routeModules:o}=zA(),{basename:u}=jA(),{loaderData:h,matches:f}=z2(),d=V.useMemo(()=>lE(n,e,f,r,i,"data"),[n,e,f,r,i]),g=V.useMemo(()=>lE(n,e,f,r,i,"assets"),[n,e,f,r,i]),v=V.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,k=!1;if(e.forEach(P=>{let F=r.routes[P.route.id];!F||!F.hasLoader||(!d.some(B=>B.route.id===P.route.id)&&P.route.id in h&&o[P.route.id]?.shouldRevalidate||F.hasClientLoader?k=!0:C.add(P.route.id))}),C.size===0)return[];let D=P2(n,u,"data");return k&&C.size>0&&D.searchParams.set("_routes",e.filter(P=>C.has(P.route.id)).map(P=>P.route.id).join(",")),[D.pathname+D.search]},[u,h,i,r,d,e,n,o]),b=V.useMemo(()=>V2(g,r),[g,r]),E=q2(g);return V.createElement(V.Fragment,null,v.map(C=>V.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),b.map(C=>V.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),E.map(({key:C,link:k})=>V.createElement("link",{key:C,nonce:t.nonce,...k})))}function G2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var BA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BA&&(window.__reactRouterVersion="7.8.1")}catch{}function $2({basename:n,children:e,window:t}){let i=V.useRef();i.current==null&&(i.current=DP({window:t,v5Compat:!0}));let r=i.current,[o,u]=V.useState({action:r.action,location:r.location}),h=V.useCallback(f=>{V.startTransition(()=>u(f))},[u]);return V.useLayoutEffect(()=>r.listen(h),[r,h]),V.createElement(UA,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}function K2({basename:n,children:e,window:t}){let i=V.useRef();i.current==null&&(i.current=kP({window:t,v5Compat:!0}));let r=i.current,[o,u]=V.useState({action:r.action,location:r.location}),h=V.useCallback(f=>{V.startTransition(()=>u(f))},[u]);return V.useLayoutEffect(()=>r.listen(h),[r,h]),V.createElement(UA,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var FA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yi=V.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:v,...b},E){let{basename:C}=V.useContext(Ni),k=typeof d=="string"&&FA.test(d),D,P=!1;if(typeof d=="string"&&k&&(D=d,BA))try{let M=new URL(window.location.href),U=d.startsWith("//")?new URL(M.protocol+d):new URL(d),z=Ys(U.pathname,C);U.origin===M.origin&&z!=null?d=z+U.search+U.hash:P=!0}catch{Zn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=i2(d,{relative:r}),[B,q,Z]=B2(i,b),oe=W2(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:r,viewTransition:v});function O(M){e&&e(M),M.defaultPrevented||oe(M)}let R=V.createElement("a",{...b,...Z,href:D||F,onClick:P||o?e:O,ref:G2(E,q),target:f,"data-discover":!k&&t==="render"?"true":void 0});return B&&!k?V.createElement(V.Fragment,null,R,V.createElement(F2,{page:F})):R});yi.displayName="Link";var dl=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let v=oh(u,{relative:d.relative}),b=In(),E=V.useContext(sm),{navigator:C,basename:k}=V.useContext(Ni),D=E!=null&&nM(v)&&h===!0,P=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,F=b.pathname,B=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(F=F.toLowerCase(),B=B?B.toLowerCase():null,P=P.toLowerCase()),B&&k&&(B=Ys(B,k)||B);const q=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let Z=F===P||!r&&F.startsWith(P)&&F.charAt(q)==="/",oe=B!=null&&(B===P||!r&&B.startsWith(P)&&B.charAt(P.length)==="/"),O={isActive:Z,isPending:oe,isTransitioning:D},R=Z?e:void 0,M;typeof i=="function"?M=i(O):M=[i,Z?"active":null,oe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(O):o;return V.createElement(yi,{...d,"aria-current":R,className:M,ref:g,style:U,to:u,viewTransition:h},typeof f=="function"?f(O):f)});dl.displayName="NavLink";var Y2=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:u=cd,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:v,...b},E)=>{let C=eM(),k=tM(h,{relative:d}),D=u.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&FA.test(h),F=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let q=B.nativeEvent.submitter,Z=q?.getAttribute("formmethod")||u;C(q||B.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:r,state:o,relative:d,preventScrollReset:g,viewTransition:v})};return V.createElement("form",{ref:E,method:D,action:k,onSubmit:i?f:F,...b,"data-discover":!P&&n==="render"?"true":void 0})});Y2.displayName="Form";function X2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qA(n){let e=V.useContext(Hl);return ft(e,X2(n)),e}function W2(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:u}={}){let h=tr(),f=In(),d=oh(n,{relative:o});return V.useCallback(g=>{if(R2(g,e)){g.preventDefault();let v=t!==void 0?t:Pl(f)===Pl(d);h(n,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:u})}},[f,h,d,t,i,e,n,r,o,u])}function Q2(n){Zn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(Hy(n)),t=V.useRef(!1),i=In(),r=V.useMemo(()=>C2(i.search,t.current?null:e.current),[i.search]),o=tr(),u=V.useCallback((h,f)=>{const d=Hy(typeof h=="function"?h(new URLSearchParams(r)):h);t.current=!0,o("?"+d,f)},[o,r]);return[r,u]}var Z2=0,J2=()=>`__${String(++Z2)}__`;function eM(){let{router:n}=qA("useSubmit"),{basename:e}=V.useContext(Ni),t=g2();return V.useCallback(async(i,r={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=k2(i,e);if(r.navigate===!1){let g=r.fetcherKey||J2();await n.fetch(g,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function tM(n,{relative:e}={}){let{basename:t}=V.useContext(Ni),i=V.useContext(Vi);ft(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...oh(n||".",{relative:e})},u=In();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Hs([t,o.pathname])),Pl(o)}function nM(n,{relative:e}={}){let t=V.useContext(MA);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qA("useViewTransitionState"),r=oh(n,{relative:e});if(!t.isTransitioning)return!1;let o=Ys(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Ys(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Id(r.pathname,u)!=null||Id(r.pathname,o)!=null}const xc="generated",iM="pointerdown",sM="pointerup",Gy="pointerleave",rM="pointerout",no="pointermove",aM="touchstart",uE="touchend",oM="touchmove",lM="touchcancel",uM="resize",cM="visibilitychange",_i="tsParticles - Error";class Kn{constructor(e,t,i){if(this._updateFromAngle=(r,o)=>{this.x=Math.cos(r)*o,this.y=Math.sin(r)*o},!Ii(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${_i} Vector3d not initialized correctly`)}static get origin(){return Kn.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Kn.create(e.x,e.y,e.z)}static create(e,t,i){return new Kn(e,t,i)}add(e){return Kn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Kn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Kn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Kn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Kn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return Kn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Zt extends Kn{constructor(e,t){super(e,t,0)}static get origin(){return Zt.create(0,0)}static clone(e){return Zt.create(e.x,e.y)}static create(e,t){return new Zt(e,t)}}let hM=Math.random;const $y=new Map;function Yg(n,e){$y.get(n)||$y.set(n,e)}function HA(n){return $y.get(n)||(e=>e)}function lt(){return ki(hM(),0,1-1e-16)}function ki(n,e,t){return Math.min(Math.max(n,e),t)}function Xg(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function Nn(n){const e=Ur(n);let t=e_(n);return e===t&&(t=0),lt()*(e-t)+t}function be(n){return Ii(n)?n:Nn(n)}function e_(n){return Ii(n)?n:n.min}function Ur(n){return Ii(n)?n:n.max}function Pe(n,e){if(n===e||e===void 0&&Ii(n))return n;const t=e_(n),i=Ur(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Pe(t,i)}function io(n){const e=n.random,{enable:t,minimumValue:i}=zr(e)?{enable:e,minimumValue:0}:e;return be(t?Pe(n.value,i):n.value)}function Cn(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function Wn(n,e){return Cn(n,e).distance}function fM(n,e,t){if(Ii(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return lt()*Math.PI*2}}function dM(n){const e=Zt.origin;return e.length=1,e.angle=n,e}function cE(n,e,t,i){return Zt.create(n.x*(t-i)/(t+i)+e.x*2*i/(t+i),n.y)}function mM(n){return{x:n.position?.x??lt()*n.size.width,y:n.position?.y??lt()*n.size.height}}function GA(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const pM={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function so(){return pM}function hE(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:o,velocity:u,factor:h}=n;return i.min<o.min||i.min>o.max||i.max<o.min||i.max>o.max||(t.max>=r.min&&t.max<=(r.max+r.min)/2&&u>0||t.min<=r.max&&t.min>(r.max+r.min)/2&&u<0)&&(e.velocity=u*-h,e.bounced=!0),e}function gM(n,e){const t=Jt(e,i=>n.matches(i));return Qn(t)?t.some(i=>i):t}function Ml(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function yM(){return!Ml()&&typeof matchMedia<"u"}function $A(n){if(yM())return matchMedia(n)}function vM(n){if(!(Ml()||typeof MutationObserver>"u"))return new MutationObserver(n)}function It(n,e){return n===e||Qn(e)&&e.indexOf(n)>-1}async function _M(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function bM(n){return Math.floor(lt()*n.length)}function am(n,e,t=!0){return n[e!==void 0&&t?e%n.length:bM(n)]}function t_(n,e,t,i,r){return wM(lh(n,i??0),e,t,r)}function wM(n,e,t,i){let r=!0;return(!i||i==="bottom")&&(r=n.top<e.height+t.x),r&&(!i||i==="left")&&(r=n.right>t.x),r&&(!i||i==="right")&&(r=n.left<e.width+t.y),r&&(!i||i==="top")&&(r=n.bottom>t.y),r}function lh(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function _n(n,...e){for(const t of e){if(t==null)continue;if(!vl(t)){n=t;continue}const i=Array.isArray(t);i&&(vl(n)||!n||!Array.isArray(n))?n=[]:!i&&(vl(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const o=t,u=o[r],h=n;h[r]=vl(u)&&Array.isArray(u)?u.map(f=>_n(h[r],f)):_n(h[r],u)}}return n}function n_(n,e){return!!XA(e,t=>t.enable&&It(n,t.mode))}function i_(n,e,t){Jt(e,i=>{const r=i.mode;i.enable&&It(n,r)&&TM(i,t)})}function TM(n,e){const t=n.selectors;Jt(t,i=>{e(i,n)})}function KA(n,e){if(!(!e||!n))return XA(n,t=>gM(e,t.selectors))}function Ky(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:Zt.create(io(n.options.bounce.horizontal),io(n.options.bounce.vertical))}}function YA(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,o]=[n.position,e.position],{dx:u,dy:h}=Cn(o,r);if(t*u+i*h<0)return;const f=-Math.atan2(h,u),d=n.mass,g=e.mass,v=n.velocity.rotate(f),b=e.velocity.rotate(f),E=cE(v,b,d,g),C=cE(b,v,d,g),k=E.rotate(-f),D=C.rotate(-f);n.velocity.x=k.x*n.factor.x,n.velocity.y=k.y*n.factor.y,e.velocity.x=D.x*e.factor.x,e.velocity.y=D.y*e.factor.y}function EM(n,e){const t=n.getPosition(),i=n.getRadius(),r=lh(t,i),o=hE({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:io(n.options.bounce.horizontal)});o.bounced&&(o.velocity!==void 0&&(n.velocity.x=o.velocity),o.position!==void 0&&(n.position.x=o.position));const u=hE({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:io(n.options.bounce.vertical)});u.bounced&&(u.velocity!==void 0&&(n.velocity.y=u.velocity),u.position!==void 0&&(n.position.y=u.position))}function Jt(n,e){return Qn(n)?n.map((t,i)=>e(t,i)):e(n,0)}function Gs(n,e,t){return Qn(n)?am(n,e,t):n}function XA(n,e){return Qn(n)?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}function WA(n,e){const t=n.value,i=n.animation,r={delayTime:be(i.delay)*1e3,enable:i.enable,value:be(n.value)*e,max:Ur(t)*e,min:e_(t)*e,loops:0,maxLoops:be(i.count),time:0};if(i.enable){switch(r.decay=1-be(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=lt()>=.5?"increasing":"decreasing";break}const o=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,o&&(r.status="increasing");break;case"max":r.value=r.max,o&&(r.status="decreasing");break;case"random":default:r.value=Nn(r),o&&(r.status=lt()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function xM(n,e){if(!(n.mode==="percent")){const{mode:r,...o}=n;return o}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function QA(n,e){return xM(n,e)}function zr(n){return typeof n=="boolean"}function Ci(n){return typeof n=="string"}function Ii(n){return typeof n=="number"}function ZA(n){return typeof n=="function"}function vl(n){return typeof n=="object"&&n!==null}function Qn(n){return Array.isArray(n)}const Dd="random",fd="mid",om=new Map;function fE(n){om.set(n.key,n)}function Wg(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function SM(n){for(const[,o]of om)if(n.startsWith(o.stringPrefix))return o.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(o,u,h,f,d)=>u+u+h+h+f+f+(d!==void 0?d+d:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Di(n,e,t=!0){if(!n)return;const i=Ci(n)?{value:n}:n;if(Ci(i.value))return JA(i.value,e,t);if(Qn(i.value))return Di({value:am(i.value,e,t)});for(const[,r]of om){const o=r.handleRangeColor(i);if(o)return o}}function JA(n,e,t=!0){if(!n)return;const i=Ci(n)?{value:n}:n;if(Ci(i.value))return i.value===Dd?t1():AM(i.value);if(Qn(i.value))return JA({value:am(i.value,e,t)});for(const[,r]of om){const o=r.handleColor(i);if(o)return o}}function jc(n,e,t=!0){const i=Di(n,e,t);return i?e1(i):void 0}function e1(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),o=Math.min(e,t,i),u={h:0,l:(r+o)/2,s:0};return r!==o&&(u.s=u.l<.5?(r-o)/(r+o):(r-o)/(2-r-o),u.h=e===r?(t-i)/(r-o):u.h=t===r?2+(i-e)/(r-o):4+(e-t)/(r-o)),u.l*=100,u.s*=100,u.h*=60,u.h<0&&(u.h+=360),u.h>=360&&(u.h-=360),u}function AM(n){return SM(n)}function Ol(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=Wg(r,i,t.h+1/3),e.g=Wg(r,i,t.h),e.b=Wg(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function RM(n){const e=Ol(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function t1(n){return{b:Math.floor(Nn(Pe(0,256))),g:Math.floor(Nn(Pe(0,256))),r:Math.floor(Nn(Pe(0,256)))}}function $s(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function zc(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function s_(n,e,t,i){let r=n,o=e;return r.r===void 0&&(r=Ol(n)),o.r===void 0&&(o=Ol(e)),{b:Xg(r.b,o.b,t,i),g:Xg(r.g,o.g,t,i),r:Xg(r.r,o.r,t,i)}}function Yy(n,e,t){if(t===Dd)return t1();if(t===fd){const i=n.getFillColor()??n.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return s_(i,r,n.getRadius(),e.getRadius());{const o=i??r;if(o)return Ol(o)}}else return t}function n1(n,e,t){const i=Ci(n)?n:n.value;return i===Dd?t?Di({value:i}):e?Dd:fd:i===fd?fd:Di({value:i})}function dE(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function i1(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(Qg(i.h,e.h,t),Qg(i.s,e.s,t),Qg(i.l,e.l,t)),i}function Qg(n,e,t){n.enable=e.enable,n.enable?(n.velocity=be(e.speed)/100*t,n.decay=1-be(e.decay),n.status="increasing",n.loops=0,n.maxLoops=be(e.count),n.time=0,n.delayTime=be(e.delay)*1e3,e.sync||(n.velocity*=lt(),n.value*=lt()),n.initialValue=n.value):n.velocity=0}function Sc(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function CM(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function IM(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function DM(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function Zg(n,e){n.clearRect(0,0,e.width,e.height)}function kM(n){const{container:e,context:t,particle:i,delta:r,colorStyles:o,backgroundMask:u,composite:h,radius:f,opacity:d,shadow:g,transform:v}=n,b=i.getPosition(),E=i.rotation+(i.pathRotation?i.velocity.angle:0),C={sin:Math.sin(E),cos:Math.cos(E)},k={a:C.cos*(v.a??1),b:C.sin*(v.b??1),c:-C.sin*(v.c??1),d:C.cos*(v.d??1)};t.setTransform(k.a,k.b,k.c,k.d,b.x,b.y),t.beginPath(),u&&(t.globalCompositeOperation=h);const D=i.shadowColor;g.enable&&D&&(t.shadowBlur=g.blur,t.shadowColor=$s(D),t.shadowOffsetX=g.offset.x,t.shadowOffsetY=g.offset.y),o.fill&&(t.fillStyle=o.fill);const P=i.strokeWidth??0;t.lineWidth=P,o.stroke&&(t.strokeStyle=o.stroke),PM(e,t,i,f,d,r),P>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),MM(e,t,i,f,d,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function PM(n,e,t,i,r,o){if(!t.shape)return;const u=n.drawers.get(t.shape);u&&u.draw(e,t,i,r,o,n.retina.pixelRatio)}function MM(n,e,t,i,r,o){if(!t.shape)return;const u=n.drawers.get(t.shape);!u||!u.afterEffect||u.afterEffect(e,t,i,r,o,n.retina.pixelRatio)}function OM(n,e,t){e.draw&&e.draw(n,t)}function NM(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function VM(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function LM(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}class UM{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,o,u,h)=>{for(const f of this._preDrawUpdaters){if(f.getColorStyles){const{fill:d,stroke:g}=f.getColorStyles(i,t,r,o);d&&(u.fill=d),g&&(u.stroke=g)}if(f.getTransformValues){const d=f.getTransformValues(i);for(const g in d)LM(h,d,g)}f.beforeDraw&&f.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const o of this._colorPlugins)if(!i&&o.particleFillColor&&(i=jc(o.particleFillColor(t))),!r&&o.particleStrokeColor&&(r=jc(o.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,o=Di(r);if(o){const u={...o,a:i.opacity};this._coverColorStyle=$s(u,u.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=_n({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const o=i.style[r];o&&t.style.setProperty(r,o,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const o=Di(r.color);if(!o)return;const u=t.particles.move.trail;this._trailFill={color:{...o},opacity:1/u.length}}else await new Promise((o,u)=>{if(!r.image)return;const h=document.createElement("img");h.addEventListener("load",()=>{this._trailFill={image:h,opacity:1/i.length},o()}),h.addEventListener("error",f=>{u(f.error)}),h.src=r.image})},this._paintBase=t=>{this.draw(i=>IM(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>DM(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase($s(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{Zg(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),o=e.getStrokeColor()??r;let[u,h]=this._getPluginParticleColors(e);u||(u=r),h||(h=o),!(!u&&!h)&&this.draw(f=>{const d=this.container,g=d.actualOptions,v=e.options.zIndex,b=(1-e.zIndexFactor)**v.opacityRate,E=e.bubble.opacity??e.opacity?.value??1,C=e.strokeOpacity??E,k=E*b,D=C*b,P={},F={fill:u?zc(u,k):void 0};F.stroke=h?zc(h,D):F.fill,this._applyPreDrawUpdaters(f,e,i,k,F,P),kM({container:d,context:f,particle:e,delta:t,colorStyles:F,backgroundMask:g.backgroundMask.enable,composite:g.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**v.sizeRate,opacity:k,shadow:e.options.shadow,transform:P}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>NM(r,e,t,i))}drawPlugin(e,t){this.draw(i=>OM(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=vM(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){so().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const o=Di(t.color);r.backgroundColor=o?$s(o,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&xc in e.dataset?e.dataset[xc]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=_n({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Zg(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const o={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/o.width,height:i.height/o.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Zg(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function fi(n,e,t,i,r){if(i){let o={passive:!0};zr(r)?o.capture=r:r!==void 0&&(o=r),n.addEventListener(e,t,o)}else{const o=r;n.removeEventListener(e,t,o)}}class jM{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const o=i.interactivity.mouse,u=o.position;if(!u)return;o.clickPosition={...u},o.clickTime=new Date().getTime();const h=r.interactivity.events.onClick;Jt(h.mode,f=>this.container.handleClickMode(f))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,o=r.options,u=o.defaultThemes,h=i.matches?u.dark:u.light,f=o.themes.find(d=>d.name===h);f&&f.default.auto&&r.loadTheme(h)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,o=this.container,u=o.actualOptions,h=o.interactivity.element;if(!h)return;const f=h,d=o.canvas.element;d&&(d.style.pointerEvents=f===d?"initial":"none"),(u.interactivity.events.onHover.enable||u.interactivity.events.onClick.enable)&&(fi(h,no,r.mouseMove,i),fi(h,aM,r.touchStart,i),fi(h,oM,r.touchMove,i),u.interactivity.events.onClick.enable?(fi(h,uE,r.touchEndClick,i),fi(h,sM,r.mouseUp,i),fi(h,iM,r.mouseDown,i)):fi(h,uE,r.touchEnd,i),fi(h,t,r.mouseLeave,i),fi(h,lM,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,o=r.actualOptions,u=o.interactivity.detectsOn,h=r.canvas.element;let f=Gy;u==="window"?(r.interactivity.element=window,f=rM):u==="parent"&&h?r.interactivity.element=h.parentElement??h.parentNode:r.interactivity.element=h,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(f,t),document&&fi(document,cM,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=$A("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){fi(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){fi(window,uM,i.resize,t);return}const u=r.canvas.element;this._resizeObserver&&!t?(u&&this._resizeObserver.unobserve(u),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&u&&(this._resizeObserver=new ResizeObserver(async h=>{h.find(d=>d.target===u)&&await this._handleWindowResize()}),this._resizeObserver.observe(u))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:o}=i.interactivity;o.inside=!0;let u=!1;const h=o.position;if(!(!h||!r.interactivity.events.onClick.enable)){for(const[,f]of i.plugins)if(f.clickPositionValid&&(u=f.clickPositionValid(h),u))break;u||this._doMouseTouchClick(t),o.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=Gy,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,o=i.interactivity,u=i.canvas.element;if(!o||!o.element)return;o.mouse.inside=!0;let h;if(t.type.startsWith("pointer")){this._canPush=!0;const d=t;if(o.element===window){if(u){const g=u.getBoundingClientRect();h={x:d.clientX-g.left,y:d.clientY-g.top}}}else if(r.interactivity.detectsOn==="parent"){const g=d.target,v=d.currentTarget;if(g&&v&&u){const b=g.getBoundingClientRect(),E=v.getBoundingClientRect(),C=u.getBoundingClientRect();h={x:d.offsetX+2*b.left-(E.left+C.left),y:d.offsetY+2*b.top-(E.top+C.top)}}else h={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY}}else d.target===u&&(h={x:d.offsetX??d.clientX,y:d.offsetY??d.clientY})}else if(this._canPush=t.type!=="touchmove",u){const d=t,g=d.touches[d.touches.length-1],v=u.getBoundingClientRect();h={x:g.clientX-(v.left??0),y:g.clientY-(v.top??0)}}const f=i.retina.pixelRatio;h&&(h.x*=f,h.y*=f),o.mouse.position=h,o.status=no},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const o of r)this._touches.delete(o.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const o of r)this._touches.delete(o.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const o of r)this._touches.set(o.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class cn{constructor(){this.value=""}static create(e,t){const i=new cn;return i.load(e),t!==void 0&&(Ci(t)||Qn(t)?i.load({value:t}):i.load(t)),i}load(e){e?.value!==void 0&&(this.value=e.value)}}class zM{constructor(){this.color=new cn,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=cn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class BM{constructor(){this.color=new cn,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=cn.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class FM{constructor(){this.composite="destination-out",this.cover=new BM,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Ci(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class qM{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class HM{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class mE{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Jt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Jt(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class GM{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class $M{constructor(){this.enable=!1,this.mode=[],this.parallax=new GM}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class KM{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class YM{constructor(){this.onClick=new HM,this.onDiv=new mE,this.onHover=new $M,this.resize=new KM}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=Jt(t,i=>{const r=new mE;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),zr(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class XM{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class s1{constructor(e,t){this.detectsOn="window",this.events=new YM,this.modes=new XM(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class WM{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=_n({},e.options)))}}class QM{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=_n({},e.options)))}}class ZM{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class JM{constructor(){this.name="",this.default=new ZM}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=_n({},e.options)))}}class Jg{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Pe(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Pe(e.offset)),e.speed!==void 0&&(this.speed=Pe(e.speed)),e.decay!==void 0&&(this.decay=Pe(e.decay)),e.delay!==void 0&&(this.delay=Pe(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class eO{constructor(){this.h=new Jg,this.s=new Jg,this.l=new Jg}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Bc extends cn{constructor(){super(),this.animation=new eO}static create(e,t){const i=new Bc;return i.load(e),t!==void 0&&(Ci(t)||Qn(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class tO{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class nO{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class iO{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Pe(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Pe(e.speed)),e.decay!==void 0&&(this.decay=Pe(e.decay)),e.delay!==void 0&&(this.delay=Pe(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class r1 extends iO{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class sO{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class ta{constructor(){this.random=new sO,this.value=0}load(e){e&&(zr(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Pe(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class pE extends ta{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class a1{constructor(){this.horizontal=new pE,this.vertical=new pE}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class rO{constructor(){this.absorb=new tO,this.bounce=new a1,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new nO}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Pe(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class aO{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Pe(e.offset)),e.value!==void 0&&(this.value=Pe(e.value)))}}class oO{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){if(!e)return;e.distance!==void 0&&(this.distance=Pe(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=e.rotate?.x??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=e.rotate?.y??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class lO{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class uO{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Pe(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Pe(e.maxSpeed)))}}class cO{constructor(){this.clamp=!0,this.delay=new ta,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=_n(this.options,e.options)))}}class hO{load(e){e&&(e.color!==void 0&&(this.color=cn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class fO{constructor(){this.enable=!1,this.length=10,this.fill=new hO}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class dO{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class mO{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Pe(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=_n({},e.position)))}}class pO{constructor(){this.angle=new aO,this.attract=new oO,this.center=new lO,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new uO,this.path=new cO,this.outModes=new dO,this.random=!1,this.size=!1,this.speed=2,this.spin=new mO,this.straight=!1,this.trail=new fO,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Ii(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Pe(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Ii(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Pe(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(vl(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Pe(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class gO extends r1{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){e?.opacity_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class yO extends ta{constructor(){super(),this.animation=new gO,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Pe(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class vO{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class _O{constructor(){this.density=new vO,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class bO{constructor(){this.blur=0,this.color=new cn,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=cn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const ey="character",ty="char",ny="image",iy="images",sy="polygon",ry="star";class wO{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const o=Qn(e),u=o?[]:{},h=o!==Qn(this.options[t]),f=o!==Qn(this.options[i]);h&&(this.options[t]=u),f&&r&&(this.options[i]=u),this.options[t]=_n(this.options[t]??u,e),(!this.options[i]||r)&&(this.options[i]=_n(this.options[i]??u,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[ey]??this.options[ty]}set character(e){this.options[ty]=this.options[ey]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[ny]??this.options[iy]}set image(e){this.options[iy]=this.options[ny]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[sy]??this.options[ry]}set polygon(e){this.options[ry]=this.options[sy]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=_n(this.options[i]??{},r))}this.loadShape(e.character,ey,ty,!0),this.loadShape(e.polygon,sy,ry,!1),this.loadShape(e.image??e.images,ny,iy,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class TO extends r1{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){e?.size_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class EO extends ta{constructor(){super(),this.animation=new TO,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Pe(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class gE{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Bc.create(this.color,e.color)),e.width!==void 0&&(this.width=Pe(e.width)),e.opacity!==void 0&&(this.opacity=Pe(e.opacity)))}}class xO extends ta{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class SO{constructor(e,t){this._engine=e,this._container=t,this.bounce=new a1,this.collisions=new rO,this.color=new Bc,this.color.value="#fff",this.groups={},this.move=new pO,this.number=new _O,this.opacity=new yO,this.reduceDuplicates=!1,this.shadow=new bO,this.shape=new wO,this.size=new EO,this.stroke=new gE,this.zIndex=new xO}load(e){if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Bc.create(this.color,e.color)),e.groups!==void 0)for(const r in e.groups){const o=e.groups[r];o!==void 0&&(this.groups[r]=_n(this.groups[r]??{},o))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=e.move?.collisions??e.move?.bounce;t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=_n({},e.interactivity));const i=e.stroke??e.shape?.stroke;if(i&&(this.stroke=Jt(i,r=>{const o=new gE;return o.load(r),o})),this._container){const r=this._engine.plugins.updaters.get(this._container);if(r)for(const u of r)u.loadOptions&&u.loadOptions(this,e);const o=this._engine.plugins.interactors.get(this._container);if(o)for(const u of o)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}}function o1(n,...e){for(const t of e)n.load(t)}function l1(n,e,...t){const i=new SO(n,e);return o1(i,...t),i}class AO{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new zM,this.backgroundMask=new FM,this.defaultThemes={},this.delay=0,this.fullScreen=new qM,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new s1(e,t),this.manualParticles=[],this.particles=l1(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){if(!e)return;e.preset!==void 0&&Jt(e.preset,u=>this._importPreset(u)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Pe(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Pe(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;zr(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(u=>{const h=new WM;return h.load(u),h})),this.particles.load(e.particles),this.style=_n(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const o=this._engine.plugins.interactors.get(this._container);if(o)for(const u of o)u.loadOptions&&u.loadOptions(this,e);if(e.responsive!==void 0)for(const u of e.responsive){const h=new QM;h.load(u),this.responsive.push(h)}if(this.responsive.sort((u,h)=>u.maxWidth-h.maxWidth),e.themes!==void 0)for(const u of e.themes){const h=this.themes.find(f=>f.name===u.name);if(h)h.load(u);else{const f=new JM;f.load(u),this.themes.push(f)}}this.defaultThemes.dark=this._findDefaultTheme("dark")?.name,this.defaultThemes.light=this._findDefaultTheme("light")?.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(o=>o.mode==="screen"&&screen?o.maxWidth>screen.availWidth:o.maxWidth*t>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=$A("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class RO{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const yE=n=>{if(!It(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class CO{constructor(e,t,i,r,o,u){this.container=i,this._calcPosition=(h,f,d,g=0)=>{for(const[,F]of h.plugins){const B=F.particlePosition!==void 0?F.particlePosition(f,this):void 0;if(B)return Kn.create(B.x,B.y,d)}const v=h.canvas.size,b=mM({size:v,position:f}),E=Kn.create(b.x,b.y,d),C=this.getRadius(),k=this.options.move.outModes,D=F=>{yE({outMode:F,checkModes:["bounce","bounce-horizontal"],coord:E.x,maxCoord:h.canvas.size.width,setCb:B=>E.x+=B,radius:C})},P=F=>{yE({outMode:F,checkModes:["bounce","bounce-vertical"],coord:E.y,maxCoord:h.canvas.size.height,setCb:B=>E.y+=B,radius:C})};return D(k.left??k.default),D(k.right??k.default),P(k.top??k.default),P(k.bottom??k.default),this._checkOverlap(E,g)?this._calcPosition(h,void 0,d,g+1):E},this._calculateVelocity=()=>{const h=dM(this.direction),f=h.copy(),d=this.options.move;if(d.direction==="inside"||d.direction==="outside")return f;const g=Math.PI/180*be(d.angle.value),v=Math.PI/180*be(d.angle.offset),b={left:v-g/2,right:v+g/2};return d.straight||(f.angle+=Nn(Pe(b.left,b.right))),d.random&&typeof d.speed=="number"&&(f.length*=lt()),f},this._checkOverlap=(h,f=0)=>{const d=this.options.collisions,g=this.getRadius();if(!d.enable)return!1;const v=d.overlap;if(v.enable)return!1;const b=v.retries;if(b>=0&&f>b)throw new Error(`${_i} particle is overlapping and can't be placed`);return!!this.container.particles.find(E=>Wn(h,E.position)<g+E.getRadius())},this._getRollColor=h=>{if(!h||!this.roll||!this.backColor&&!this.roll.alter)return h;const f=this.roll.horizontal&&this.roll.vertical?2:1,d=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+d)/(Math.PI/f))%2?this.backColor?this.backColor:this.roll.alter?VM(h,this.roll.alter.type,this.roll.alter.value):h:h},this._initPosition=h=>{const f=this.container,d=be(this.options.zIndex.value);this.position=this._calcPosition(f,h,ki(d,0,f.zLayers)),this.initialPosition=this.position.copy();const g=f.canvas.size;switch(this.moveCenter={...QA(this.options.move.center,g),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=fM(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Zt.origin},this._loadShapeData=(h,f)=>{const d=h.options[this.shape];if(d)return _n({close:h.close,fill:h.fill},Gs(d,this.id,f))},this._engine=e,this.init(t,r,o,u)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??dE(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??dE(this.strokeColor))}init(e,t,i,r){const o=this.container,u=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const h=o.retina.pixelRatio,f=o.actualOptions,d=l1(this._engine,o,f.particles),g=d.shape.type,{reduceDuplicates:v}=d;this.shape=Gs(g,this.id,v);const b=d.shape;if(i&&i.shape&&i.shape.type){const B=i.shape.type,q=Gs(B,this.id,v);q&&(this.shape=q,b.load(i.shape))}this.shapeData=this._loadShapeData(b,v),d.load(i);const E=this.shapeData;E&&d.load(E.particles);const C=new s1(u,o);C.load(o.actualOptions.interactivity),C.load(d.interactivity),this.interactivity=C,this.fill=E?.fill??d.shape.fill,this.close=E?.close??d.shape.close,this.options=d;const k=this.options.move.path;this.pathDelay=io(k.delay)*1e3,k.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(k.generator),this.pathGenerator&&o.addPath(k.generator,this.pathGenerator)&&this.pathGenerator.init(o)),o.retina.initParticle(this),this.size=WA(this.options.size,h),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-be(this.options.move.decay);const D=o.particles;D.needsSort=D.needsSort||D.lastZIndex<this.position.z,D.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/o.zLayers,this.sides=24;let P=o.drawers.get(this.shape);P||(P=this._engine.plugins.getShapeDrawer(this.shape),P&&o.drawers.set(this.shape,P)),P&&P.loadShape&&P.loadShape(this);const F=P?.getSidesCount;F&&(this.sides=F(this)),this.spawning=!1,this.shadowColor=Di(this.options.shadow.color);for(const B of o.particles.updaters)B.init(this);for(const B of o.particles.movers)B.init&&B.init(this);P&&P.particleInit&&P.particleInit(o,this);for(const[,B]of o.plugins)B.particleCreated&&B.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class IO{constructor(e,t){this.position=e,this.particle=t}}class u1{constructor(e,t){this.position={x:e,y:t}}}class Pi extends u1{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof bn&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,o=e.position,u=e instanceof Pi?e.size:{width:0,height:0},h=u.width,f=u.height;return o.x<r.x+t&&o.x+h>r.x&&o.y<r.y+i&&o.y+f>r.y}}class bn extends u1{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return Wn(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},o=this.radius;if(e instanceof bn){const u=o+e.radius,h=Math.sqrt(r.x**2+r.y**2);return u>h}else if(e instanceof Pi){const{width:u,height:h}=e.size;return Math.pow(r.x-u,2)+Math.pow(r.y-h,2)<=o**2||r.x<=o+u&&r.y<=o+h||r.x<=u||r.y<=h}return!1}}class kd{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:o,height:u}=this.rectangle.size,{capacity:h}=this;for(let f=0;f<4;f++)this._subs.push(new kd(new Pi(i+o/2*(f%2),r+u/2*(Math.round(f/2)-f%2),o/2,u/2),h));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const o of this._points)!e.contains(o.position)&&Wn(e.position,o.position)>o.particle.getRadius()&&(!t||t(o.particle))||r.push(o.particle);if(this._divided)for(const o of this._subs)o.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new bn(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Pi(e.x,e.y,t.width,t.height),i)}}const vE=4,_E=n=>new Pi(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let DO=class{constructor(e,t){this._applyDensity=(r,o,u)=>{if(!r.number.density?.enable)return;const h=r.number,f=this._initDensityFactor(h.density),d=h.value,g=h.limit>0?h.limit:d,v=Math.min(d,g)*f+o,b=Math.min(this.count,this.filter(E=>E.group===u).length);this.limit=h.limit*f,b<v?this.push(Math.abs(v-b),void 0,r,u):b>v&&this.removeQuantity(b-v,u)},this._initDensityFactor=r=>{const o=this._container;if(!o.canvas.element||!r.enable)return 1;const u=o.canvas.element,h=o.retina.pixelRatio;return u.width*u.height/(r.factor*h**2*r.area)},this._pushParticle=(r,o,u,h)=>{try{let f=this.pool.pop();f?f.init(this._nextId,r,o,u):f=new CO(this._engine,this._nextId,this._container,r,o,u);let d=!0;return h&&(d=h(f)),d?(this._array.push(f),this._zArray.push(f),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:f}}),f):void 0}catch(f){so().warning(`${_i} adding particle: ${f}`);return}},this._removeParticle=(r,o,u)=>{const h=this._array[r];if(!h||h.group!==o)return!1;h.destroy(u);const f=this._zArray.indexOf(h);return this._array.splice(r,1),this._zArray.splice(f,1),this.pool.push(h),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:h}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new RO(e,t);const i=t.canvas.size;this.quadTree=new kd(_E(i),vE),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?QA(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const o=this._container,u=o.actualOptions,h=u.particles.number.limit;if(h>0){const f=this.count+1-h;f>0&&this.removeQuantity(f)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,r]of e.plugins)if(r.particlesInitialization!==void 0&&(i=r.particlesInitialization()),i)break;this._interactionManager.init();for(const[,r]of e.pathGenerators)r.init(e);if(this.addManualParticles(),!i){for(const r in t.particles.groups){const o=t.particles.groups[r];for(let u=this.count,h=0;h<o.number?.value&&u<t.particles.number.value;u++,h++)this.addParticle(void 0,o,r)}for(let r=this.count;r<t.particles.number.value;r++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let o=0;o<e;o++)this.addParticle(t?.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let o=0;for(let u=e;o<t&&u<this.count;u++)this._removeParticle(u--,i,r)&&o++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new kd(_E(t.canvas.size),vE);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const o=t.canvas.resizeFactor;o&&!r.ignoresResizeRatio&&(r.position.x*=o.width,r.position.y*=o.height,r.initialPosition.x*=o.width,r.initialPosition.y*=o.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,u]of this._container.plugins){if(r.destroyed)break;u.particleUpdate&&u.particleUpdate(r,e)}for(const u of this.movers)u.isEnabled(r)&&u.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new IO(r.getPosition(),r))}if(i.size){const r=o=>!i.has(o);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const o of this.updaters)o.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((o,u)=>u.position.z-o.position.z||o.id-u.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class kO{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Ml()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const u=e.canvas.element;e.canvas.size.width=u.offsetWidth*i,e.canvas.size.height=u.offsetHeight*i}const r=t.particles,o=r.move;this.attractDistance=be(o.attract.distance)*i,this.maxSpeed=be(o.gravity.maxSpeed)*i,this.sizeAnimationSpeed=be(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,o=r.distance,u=e.retina;u.attractDistance=be(r.attract.distance)*i,u.moveDrift=be(r.drift)*i,u.moveSpeed=be(r.speed)*i,u.sizeAnimationSpeed=be(t.size.animation.speed)*i;const h=u.maxDistance;h.horizontal=o.horizontal!==void 0?o.horizontal*i:void 0,h.vertical=o.vertical!==void 0?o.vertical*i:void 0,u.maxSpeed=be(r.gravity.maxSpeed)*i}}function mt(n){return n&&!n.destroyed}function PO(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function fl(n,e,...t){const i=new AO(n,e);return o1(i,...t),i}const MO="default",bE={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class OO{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!mt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const o of r)o.target===this.interactivity.element&&(o.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??=r;const o=PO(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(o.value),this.lastFrameTime=r,o.value>1e3){this.draw(!1);return}if(await this.particles.draw(o),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(o){so().error(`${_i} in animation loop`,o)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new kO(this),this.canvas=new UM(this),this.particles=new DO(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=fl(this._engine,this),this.actualOptions=fl(this._engine,this),this._eventListeners=new jM(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!mt(this))return;const t=this.interactivity.element;if(!t)return;const i=(v,b,E)=>{if(!mt(this))return;const C=this.retina.pixelRatio,k={x:b.x*C,y:b.y*C},D=this.particles.quadTree.queryCircle(k,E*C);e(v,D)},r=v=>{if(!mt(this))return;const b=v,E={x:b.offsetX||b.clientX,y:b.offsetY||b.clientY};i(v,E,1)},o=()=>{mt(this)&&(d=!0,g=!1)},u=()=>{mt(this)&&(g=!0)},h=v=>{if(mt(this)){if(d&&!g){const b=v;let E=b.touches[b.touches.length-1];if(!E&&(E=b.changedTouches[b.changedTouches.length-1],!E))return;const C=this.canvas.element,k=C?C.getBoundingClientRect():void 0,D={x:E.clientX-(k?k.left:0),y:E.clientY-(k?k.top:0)};i(v,D,Math.max(E.radiusX,E.radiusY))}d=!1,g=!1}},f=()=>{mt(this)&&(d=!1,g=!1)};let d=!1,g=!1;t.addEventListener("click",r),t.addEventListener("touchstart",o),t.addEventListener("touchmove",u),t.addEventListener("touchend",h),t.addEventListener("touchcancel",f)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!mt(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??bE),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!mt(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!mt(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}so().error(`${_i} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&mt(this)}handleClickMode(e){if(mt(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!mt(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=fl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=fl(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=be(this.actualOptions.duration)*1e3,this._delay=be(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){mt(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(mt(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!mt(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(mt(this))return this.stop(),this.start()}async reset(){if(mt(this))return this._initialSourceOptions=void 0,this._options=fl(this._engine,this),this.actualOptions=fl(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){mt(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!mt(this))return;const r={...bE};if(ZA(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const o=r;r.generate=e.generate||o.generate,r.init=e.init||o.init,r.update=e.update||o.update}this.addPath(MO,r,!0)}async start(){!mt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!mt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class NO{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,o=i.indexOf(t);o<0||(r===1?this._listeners.delete(e):i.splice(o,1))}}function ay(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(o=>o(n)),e.set(n,r)),r}class VO{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){Jt(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return ay(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return ay(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return ay(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const o of r)o.loadOptions&&o.loadOptions(t,...i)}}async function LO(n){const e=Gs(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(so().error(`${_i} ${t.status} while retrieving config file`),n.fallback)}function UO(n){return!n.id&&!n.element&&!n.url&&!n.options}function jO(n){return!UO(n)}class zO{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new NO,this._initialized=!1,this.plugins=new VO(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){Ci(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,o,u=!0){let h,f=u,d,g,v;zr(i)?(f=i,d=void 0):d=i,zr(r)?(f=r,g=void 0):g=r,zr(o)?(f=o,v=void 0):v=o,ZA(t)?h={afterEffect:g,destroy:v,draw:t,init:d}:h=t,this.plugins.addShapeDrawer(e,h),await this.refresh(f)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return jO(e)?r=e:(r={},Ci(e)?r.id=e:r.options=e,Ii(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,o;return Ii(t)||t===void 0?r=e:(o=e,r=t),this._loadParams({id:o,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const o={index:r};return Ci(e)?o.id=e:o.element=e,t instanceof HTMLElement?o.element=t:o.options=t,Ii(i)?o.index=i:o.options=i??o.options,this._loadParams(o)}async setJSON(e,t,i,r){const o={};return e instanceof HTMLElement?(o.element=e,o.url=t,o.index=i):(o.id=e,o.element=t,o.url=i,o.index=r),this._loadParams(o)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${_i} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(lt()*1e4)}`,{index:i,url:r}=e,o=r?await LO({fallback:e.options,url:r,index:i}):e.options;let u=e.element??document.getElementById(t);u||(u=document.createElement("div"),u.id=t,document.body.append(u));const h=Gs(o,i),f=this.dom(),d=f.findIndex(b=>b.id===t);if(d>=0){const b=this.domItem(d);b&&!b.destroyed&&(b.destroy(),f.splice(d,1))}let g;if(u.tagName.toLowerCase()==="canvas")g=u,g.dataset[xc]="false";else{const b=u.getElementsByTagName("canvas");b.length?(g=b[0],g.dataset[xc]="false"):(g=document.createElement("canvas"),g.dataset[xc]="true",u.appendChild(g))}g.style.width||(g.style.width="100%"),g.style.height||(g.style.height="100%");const v=new OO(this,t,h);return d>=0?f.splice(d,0,v):f.push(v),v.canvas.loadCanvas(g),await v.start(),v}}class BO{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Ol(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Ol({h:be(i.h),l:be(i.l),s:be(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?RM({a:i.length>4?GA(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class FO{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:be(i.r),g:be(i.g),b:be(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?GA(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function qO(){const n=new FO,e=new BO;fE(n),fE(e);const t=new zO;return t.init(),t}class ds{constructor(e){this.container=e,this.type="external"}}class r_{constructor(e){this.container=e,this.type="particles"}}const Pd=qO();Ml()||(window.tsParticles=Pd);const _l=n=>typeof n=="object"&&n!==null;function Md(n,e,t=()=>!1){if(!_l(n)||!_l(e))return n===e;const i=Object.keys(n).filter(o=>!t(o)),r=Object.keys(e).filter(o=>!t(o));if(i.length!==r.length)return!1;for(const o of i){const u=n[o],h=e[o];if(_l(u)&&_l(h)){if(u===e&&h===n)continue;if(!Md(u,h,t))return!1}else if(Array.isArray(u)&&Array.isArray(h)){if(!c1(u,h,t))return!1}else if(u!==h)return!1}return!0}function c1(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],o=e[i];if(Array.isArray(r)&&Array.isArray(o)){if(!c1(r,o,t))return!1}else if(_l(r)&&_l(o)){if(!Md(r,o,t))return!1}else if(r!==o)return!1}return!0}const h1="tsparticles";let f1=class d1 extends V.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!Md(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!Md(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Pd),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:o}=this.props;return Fy.createElement("div",{className:i,id:o},Fy.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??d1.defaultProps.id??h1,t=await Pd.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}};f1.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:h1};class Od{static init(e){const t=new Od,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return Pd.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:e.responsive?.map(o=>({maxWidth:o.breakpoint,options:{particles:{color:{value:o.options?.color},links:{distance:o.options?.minDistance,enable:o.options?.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:o.options?.speed},size:{value:o.options?.sizeVariations}}}}))}).then(o=>{t._container=o}),t}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const HO=n=>{const e=(i,r)=>n.load(i,r);e.load=(i,r,o)=>{n.loadJSON(i,r).then(u=>{u&&o(u)}).catch(()=>{o(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)};const t=n.dom();return{particlesJS:e,pJSDom:t}},GO=n=>{const{particlesJS:e,pJSDom:t}=HO(n);return window.particlesJS=e,window.pJSDom=t,window.Particles=Od,{particlesJS:e,pJSDom:t,Particles:Od}};function $O(n){const e=n.initialPosition,{dx:t,dy:i}=Cn(e,n.position),r=Math.abs(t),o=Math.abs(i),{maxDistance:u}=n.retina,h=u.horizontal,f=u.vertical;if(!(!h&&!f)){if((h&&r>=h||f&&o>=f)&&!n.misplaced)n.misplaced=!!h&&r>h||!!f&&o>f,h&&(n.velocity.x=n.velocity.y/2-n.velocity.x),f&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!h||r<h)&&(!f||o<f)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const d=n.position,g=n.velocity;h&&(d.x<e.x&&g.x<0||d.x>e.x&&g.x>0)&&(g.x*=-lt()),f&&(d.y<e.y&&g.y<0||d.y>e.y&&g.y>0)&&(g.y*=-lt())}}}function KO(n,e,t,i,r,o){XO(n,o);const u=n.gravity,h=u?.enable&&u.inverse?-1:1;r&&t&&(n.velocity.x+=r*o.factor/(60*t)),u?.enable&&t&&(n.velocity.y+=h*(u.acceleration*o.factor)/(60*t));const f=n.moveDecay;n.velocity.multTo(f);const d=n.velocity.mult(t);u?.enable&&i>0&&(!u.inverse&&d.y>=0&&d.y>=i||u.inverse&&d.y<=0&&d.y<=-i)&&(d.y=h*i,t&&(n.velocity.y=d.y/t));const g=n.options.zIndex,v=(1-n.zIndexFactor)**g.velocityRate;d.multTo(v);const{position:b}=n;b.addTo(d),e.vibrate&&(b.x+=Math.sin(b.x*Math.cos(b.y)),b.y+=Math.cos(b.y*Math.sin(b.x)))}function YO(n,e){const t=n.container;if(!n.spin)return;const i={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}function XO(n,e){const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const o=n.pathGenerator?.generate(n,e);o&&n.velocity.addTo(o),i.clamp&&(n.velocity.x=ki(n.velocity.x,-1,1),n.velocity.y=ki(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function WO(n){return n.slow.inRange?n.slow.factor:1}const QO=2;class ZO{constructor(){this._initSpin=e=>{const t=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const o=r.position??{x:50,y:50},u={x:o.x/100*t.canvas.size.width,y:o.y/100*t.canvas.size.height},h=e.getPosition(),f=Wn(h,u),d=be(r.acceleration);e.retina.spinAcceleration=d*t.retina.pixelRatio,e.spin={center:u,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:f,acceleration:e.retina.spinAcceleration}}}init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:be(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const i=e.options,r=i.move;if(!r.enable)return;const o=e.container,u=o.retina.pixelRatio,h=WO(e),f=(e.retina.moveSpeed??=be(r.speed)*u)*o.retina.reduceFactor,d=e.retina.moveDrift??=be(e.options.move.drift)*u,g=Ur(i.size.value)*u,v=r.size?e.getRadius()/g:1,b=f*v*h*(t.factor||1)/QO,E=e.retina.maxSpeed??o.retina.maxSpeed;r.spin.enable?YO(e,b):KO(e,r,b,E,d,t),$O(e)}}async function JO(n,e=!0){await n.addMover("base",()=>new ZO,e)}class eN{draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:Math.PI*2});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){const i=t.shapeData,r=i?.angle??{max:360,min:0};t.circleRange=vl(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function tN(n,e=!0){await n.addShape("circle",new eN,e)}function oy(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const o=Nn(t.offset),u=(e.velocity??0)*n.factor+o*3.6,h=e.decay??1;!r||e.status==="increasing"?(e.value+=u,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=u,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&h!==1&&(e.velocity*=h),e.value>i&&(e.value%=i)}function nN(n,e){const{h:t,s:i,l:r}=n.options.color.animation,{color:o}=n;if(!o)return;const{h:u,s:h,l:f}=o;u&&oy(e,u,t,360,!1),h&&oy(e,h,i,100,!0),f&&oy(e,f,r,100,!0)}class iN{constructor(e){this.container=e}init(e){const t=jc(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=i1(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:o}=e;return!e.destroyed&&!e.spawning&&(o?.h.value!==void 0&&t.enable||o?.s.value!==void 0&&i.enable||o?.l.value!==void 0&&r.enable)}update(e,t){nN(e,t)}}async function sN(n,e=!0){await n.addParticleUpdater("color",t=>new iN(t),e)}function rN(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function aN(n,e){const t=n.opacity;if(n.destroyed||!t?.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=t.min,r=t.max,o=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=r?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=(t.velocity??0)*e.factor;break;case"decreasing":t.value<=i?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=(t.velocity??0)*e.factor;break}t.velocity&&t.decay!==1&&(t.velocity*=o),rN(n,t.value,i,r),n.destroyed||(t.value=ki(t.value,i,r))}}class oN{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=WA(t,1);const i=t.animation;i.enable&&(e.opacity.velocity=be(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=lt()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&aN(e,t)}}async function lN(n,e=!0){await n.addParticleUpdater("opacity",t=>new oN(t),e)}function uN(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-horizontal"&&n.outMode!=="bounceHorizontal"&&n.outMode!=="split"||n.direction!=="left"&&n.direction!=="right")return;n.bounds.right<0&&n.direction==="left"?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction==="right"&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction==="right"&&n.bounds.right>=n.canvasSize.width&&e>0||n.direction==="left"&&n.bounds.left<=0&&e<0){const r=io(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction==="right"?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&n.direction==="left"&&(n.particle.position.x=i),n.outMode==="split"&&n.particle.destroy()}function cN(n){if(n.outMode!=="bounce"&&n.outMode!=="bounce-vertical"&&n.outMode!=="bounceVertical"&&n.outMode!=="split"||n.direction!=="bottom"&&n.direction!=="top")return;n.bounds.bottom<0&&n.direction==="top"?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction==="bottom"&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction==="bottom"&&n.bounds.bottom>=n.canvasSize.height&&e>0||n.direction==="top"&&n.bounds.top<=0&&e<0){const r=io(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction==="bottom"?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&n.direction==="top"&&(n.particle.position.y=i),n.outMode==="split"&&n.particle.destroy()}class hN{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const o=this.container;let u=!1;for(const[,b]of o.plugins)if(b.particleBounce!==void 0&&(u=b.particleBounce(e,i,t)),u)break;if(u)return;const h=e.getPosition(),f=e.offset,d=e.getRadius(),g=lh(h,d),v=o.canvas.size;uN({particle:e,outMode:r,direction:t,bounds:g,canvasSize:v,offset:f,size:d}),cN({particle:e,outMode:r,direction:t,bounds:g,canvasSize:v,offset:f,size:d})}}class fN{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const o=this.container;switch(e.outType){case"normal":case"outside":if(t_(e.position,o.canvas.size,Zt.origin,e.getRadius(),t))return;break;case"inside":{const{dx:u,dy:h}=Cn(e.position,e.moveCenter),{x:f,y:d}=e.velocity;if(f<0&&u>e.moveCenter.radius||d<0&&h>e.moveCenter.radius||f>=0&&u<-e.moveCenter.radius||d>=0&&h<-e.moveCenter.radius)return;break}}o.particles.remove(e,void 0,!0)}}class dN{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(t==="left"||t==="right")||e.options.move.distance.vertical&&(t==="top"||t==="bottom"))return;const o=e.options.move.gravity,u=this.container,h=u.canvas.size,f=e.getRadius();if(o.enable){const d=e.position;(!o.inverse&&d.y>h.height+f&&t==="bottom"||o.inverse&&d.y<-f&&t==="top")&&u.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=h.height+f||e.velocity.y<0&&e.position.y>=-f||e.velocity.x>0&&e.position.x<=h.width+f||e.velocity.x<0&&e.position.x>=-f)return;t_(e.position,u.canvas.size,Zt.origin,f,t)||u.particles.remove(e)}}}class mN{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const o=this.container;switch(e.outType){case"inside":{const{x:u,y:h}=e.velocity,f=Zt.origin;f.length=e.moveCenter.radius,f.angle=e.velocity.angle+Math.PI,f.addTo(Zt.create(e.moveCenter));const{dx:d,dy:g}=Cn(e.position,f);if(u<=0&&d>=0||h<=0&&g>=0||u>=0&&d<=0||h>=0&&g<=0)return;e.position.x=Math.floor(Nn({min:0,max:o.canvas.size.width})),e.position.y=Math.floor(Nn({min:0,max:o.canvas.size.height}));const{dx:v,dy:b}=Cn(e.position,e.moveCenter);e.direction=Math.atan2(-b,-v),e.velocity.angle=e.direction;break}default:{if(t_(e.position,o.canvas.size,Zt.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Nn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Nn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:u,dy:h}=Cn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(h,u),e.velocity.angle=e.direction);break}case"normal":{const u=e.options.move.warp,h=o.canvas.size,f={bottom:h.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:h.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},d=e.getRadius(),g=lh(e.position,d);t==="right"&&g.left>h.width+e.offset.x?(e.position.x=f.left,e.initialPosition.x=e.position.x,u||(e.position.y=lt()*h.height,e.initialPosition.y=e.position.y)):t==="left"&&g.right<-e.offset.x&&(e.position.x=f.right,e.initialPosition.x=e.position.x,u||(e.position.y=lt()*h.height,e.initialPosition.y=e.position.y)),t==="bottom"&&g.top>h.height+e.offset.y?(u||(e.position.x=lt()*h.width,e.initialPosition.x=e.position.x),e.position.y=f.top,e.initialPosition.y=e.position.y):t==="top"&&g.bottom<-e.offset.y&&(u||(e.position.x=lt()*h.width,e.initialPosition.x=e.position.x),e.position.y=f.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class pN{constructor(e){this.container=e,this._updateOutMode=(t,i,r,o)=>{for(const u of this.updaters)u.update(t,o,i,r)},this.updaters=[new hN(e),new fN(e),new mN(e),new dN(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,"bottom"),this._updateOutMode(e,t,i.left??i.default,"left"),this._updateOutMode(e,t,i.right??i.default,"right"),this._updateOutMode(e,t,i.top??i.default,"top")}}async function gN(n,e=!0){await n.addParticleUpdater("outModes",t=>new pN(t),e)}function yN(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy();break}}function vN(n,e){const t=n.size;if(n.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*e.factor,r=t.min,o=t.max,u=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=e.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case"increasing":t.value>=o?(t.status="decreasing",t.loops||(t.loops=0),t.loops++):t.value+=i;break;case"decreasing":t.value<=r?(t.status="increasing",t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&u!==1&&(t.velocity*=u),yN(n,t.value,r,o),n.destroyed||(t.value=ki(t.value,r,o))}}class _N{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/100*t.retina.reduceFactor,r.sync||(e.size.velocity*=lt()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&vN(e,t)}}async function bN(n,e=!0){await n.addParticleUpdater("size",()=>new _N,e)}async function wN(n,e=!0){await JO(n,!1),await tN(n,!1),await sN(n,!1),await lN(n,!1),await gN(n,!1),await bN(n,!1),await n.refresh(e)}async function TN(){Yg("ease-in-quad",n=>n**2),Yg("ease-out-quad",n=>1-(1-n)**2),Yg("ease-in-out-quad",n=>n<.5?2*n**2:1-(-2*n+2)**2/2)}class EN{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let xN=class extends ds{constructor(e,t){super(t),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const o=i.interactivity.mouse.clickPosition,u=i.retina.attractModeDistance;if(!u||u<0||!o)return;this._processAttract(o,u,new bn(o.x,o.y,u))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,o=i.retina.attractModeDistance;!o||o<0||!r||this._processAttract(r,o,new bn(r.x,r.y,o))},this._processAttract=(i,r,o)=>{const u=this.container,h=u.actualOptions.interactivity.modes.attract;if(!h)return;const f=u.particles.quadTree.query(o,d=>this.isEnabled(d));for(const d of f){const{dx:g,dy:v,distance:b}=Cn(d.position,i),E=h.speed*h.factor,C=ki(HA(h.easing)(1-b/r)*E,0,h.maxSpeed),k=Zt.create(b===0?E:g/b*C,b===0?E:v/b*C);d.position.subFrom(k)}},this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,o=r.interactivity.modes.attract;if(!(!o||i!=="attract")){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const u of t.attract.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},o.duration*1e3)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===no,r=t.interactivity.events,o=r.onHover.enable,u=r.onHover.mode,h=r.onClick.enable,f=r.onClick.mode;i&&o&&It("attract",u)?this._hoverAttract():h&&It("attract",f)&&this._clickAttract()}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,o=(e?.interactivity??i.interactivity).events;if((!r.position||!o.onHover.enable)&&(!r.clickPosition||!o.onClick.enable))return!1;const u=o.onHover.mode,h=o.onClick.mode;return It("attract",u)||It("attract",h)}loadModeOptions(e,...t){e.attract||(e.attract=new EN);for(const i of t)e.attract.load(i?.attract)}reset(){}};async function SN(n,e=!0){await n.addInteractor("externalAttract",t=>new xN(n,t),e)}class AN{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class RN extends ds{constructor(e){super(e),this._processBounce=(t,i,r)=>{const o=this.container.particles.quadTree.query(r,u=>this.isEnabled(u));for(const u of o)r instanceof bn?YA(Ky(u),{position:t,mass:i**2*Math.PI/2,velocity:Zt.origin,factor:Zt.origin}):r instanceof Pi&&EM(u,lh(t,i))},this._processMouseBounce=()=>{const t=this.container,i=t.retina.pixelRatio,r=10*i,o=t.interactivity.mouse.position,u=t.retina.bounceModeDistance;!u||u<0||!o||this._processBounce(o,u,new bn(o.x,o.y,u+r))},this._singleSelectorBounce=(t,i)=>{const r=this.container,o=document.querySelectorAll(t);o.length&&o.forEach(u=>{const h=u,f=r.retina.pixelRatio,d={x:(h.offsetLeft+h.offsetWidth/2)*f,y:(h.offsetTop+h.offsetHeight/2)*f},g=h.offsetWidth/2*f,v=10*f,b=i.type==="circle"?new bn(d.x,d.y,g+v):new Pi(h.offsetLeft*f-v,h.offsetTop*f-v,h.offsetWidth*f+v*2,h.offsetHeight*f+v*2);this._processBounce(d,g,b)})}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===no,o=i.onHover.enable,u=i.onHover.mode,h=i.onDiv;r&&o&&It("bounce",u)?this._processMouseBounce():i_("bounce",h,(f,d)=>this._singleSelectorBounce(f,d))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,u=o.onDiv;return r.position&&o.onHover.enable&&It("bounce",o.onHover.mode)||n_("bounce",u)}loadModeOptions(e,...t){e.bounce||(e.bounce=new AN);for(const i of t)e.bounce.load(i?.bounce)}reset(){}}async function CN(n,e=!0){await n.addInteractor("externalBounce",t=>new RN(t),e)}class m1{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=Qn(this.color)?void 0:this.color;this.color=Jt(e.color,i=>cn.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class IN extends m1{constructor(){super(),this.selectors=[]}get ids(){return Jt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Jt(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class DN extends m1{load(e){super.load(e),e&&(this.divs=Jt(e.divs,t=>{const i=new IN;return i.load(t),i}))}}function wE(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return ki(r,n,e)}else if(e<t){const r=n-(t-e)*i;return ki(r,e,n)}}class kN extends ds{constructor(e){super(e),this._clickBubble=()=>{const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.clickPosition,o=i.interactivity.modes.bubble;if(!o||!r)return;t.bubble||(t.bubble={});const u=t.retina.bubbleModeDistance;if(!u||u<0)return;const h=t.particles.quadTree.queryCircle(r,u,d=>this.isEnabled(d)),{bubble:f}=t;for(const d of h){if(!f.clicking)continue;d.bubble.inRange=!f.durationEnd;const g=d.getPosition(),v=Wn(g,r),b=(new Date().getTime()-(t.interactivity.mouse.clickTime||0))/1e3;b>o.duration&&(f.durationEnd=!0),b>o.duration*2&&(f.clicking=!1,f.durationEnd=!1);const E={bubbleObj:{optValue:t.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Ur(d.options.size.value)*t.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,v,b,E);const C={bubbleObj:{optValue:o.opacity,value:d.bubble.opacity},particlesObj:{optValue:Ur(d.options.opacity.value),value:d.opacity?.value??1},type:"opacity"};this._process(d,v,b,C),!f.durationEnd&&v<=u?this._hoverBubbleColor(d,v):delete d.bubble.color}},this._hoverBubble=()=>{const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const o=t.particles.quadTree.queryCircle(i,r,u=>this.isEnabled(u));for(const u of o){u.bubble.inRange=!0;const h=u.getPosition(),f=Wn(h,i),d=1-f/r;f<=r?d>=0&&t.interactivity.status===no&&(this._hoverBubbleSize(u,d),this._hoverBubbleOpacity(u,d),this._hoverBubbleColor(u,d)):this.reset(u),t.interactivity.status===Gy&&this.reset(u)}},this._hoverBubbleColor=(t,i,r)=>{const o=this.container.actualOptions,u=r??o.interactivity.modes.bubble;if(u){if(!t.bubble.finalColor){const h=u.color;if(!h)return;const f=Gs(h);t.bubble.finalColor=jc(f)}if(t.bubble.finalColor)if(u.mix){t.bubble.color=void 0;const h=t.getFillColor();t.bubble.color=h?e1(s_(h,t.bubble.finalColor,1-i,i)):t.bubble.finalColor}else t.bubble.color=t.bubble.finalColor}},this._hoverBubbleOpacity=(t,i,r)=>{const o=this.container,u=o.actualOptions,h=r?.opacity??u.interactivity.modes.bubble?.opacity;if(!h)return;const f=t.options.opacity.value,d=t.opacity?.value??1,g=wE(d,h,Ur(f),i);g!==void 0&&(t.bubble.opacity=g)},this._hoverBubbleSize=(t,i,r)=>{const o=this.container,u=r?.size?r.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(u===void 0)return;const h=Ur(t.options.size.value)*o.retina.pixelRatio,f=t.size.value,d=wE(f,u,h,i);d!==void 0&&(t.bubble.radius=d)},this._process=(t,i,r,o)=>{const u=this.container,h=o.bubbleObj.optValue,f=u.actualOptions,d=f.interactivity.modes.bubble;if(!d||h===void 0)return;const g=d.duration,v=u.retina.bubbleModeDistance,b=o.particlesObj.optValue,E=o.bubbleObj.value,C=o.particlesObj.value||0,k=o.type;if(!(!v||v<0||h===b))if(u.bubble||(u.bubble={}),u.bubble.durationEnd)E&&(k==="size"&&delete t.bubble.radius,k==="opacity"&&delete t.bubble.opacity);else if(i<=v){if((E??C)!==h){const P=C-r*(C-h)/g;k==="size"&&(t.bubble.radius=P),k==="opacity"&&(t.bubble.opacity=P)}}else k==="size"&&delete t.bubble.radius,k==="opacity"&&delete t.bubble.opacity},this._singleSelectorHover=(t,i,r)=>{const o=this.container,u=document.querySelectorAll(i),h=o.actualOptions.interactivity.modes.bubble;!h||!u.length||u.forEach(f=>{const d=f,g=o.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth/2)*g,y:(d.offsetTop+d.offsetHeight/2)*g},b=d.offsetWidth/2*g,E=r.type==="circle"?new bn(v.x,v.y,b):new Pi(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),C=o.particles.quadTree.query(E,k=>this.isEnabled(k));for(const k of C){if(!E.contains(k.getPosition()))continue;k.bubble.inRange=!0;const D=h.divs,P=KA(D,d);(!k.bubble.div||k.bubble.div!==d)&&(this.clear(k,t,!0),k.bubble.div=d),this._hoverBubbleSize(k,1,P),this._hoverBubbleOpacity(k,1,P),this._hoverBubbleColor(k,1,P)}})},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}async interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,o=i.onClick,u=r.enable,h=r.mode,f=o.enable,d=o.mode,g=i.onDiv;u&&It("bubble",h)?this._hoverBubble():f&&It("bubble",d)?this._clickBubble():i_("bubble",g,(v,b)=>this._singleSelectorHover(e,v,b))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,{onClick:u,onDiv:h,onHover:f}=o,d=n_("bubble",h);return d||f.enable&&r.position||u.enable&&r.clickPosition?It("bubble",f.mode)||It("bubble",u.mode)||d:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new DN);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function PN(n,e=!0){await n.addInteractor("externalBubble",t=>new kN(t),e)}class MN{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class ON{constructor(){this.distance=80,this.links=new MN,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function NN(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),o=e.getFillColor(),u=t.getFillColor();if(!o||!u)return;const h=e.getPosition(),f=t.getPosition(),d=s_(o,u,e.getRadius(),t.getRadius()),g=n.createLinearGradient(h.x,h.y,f.x,f.y);return g.addColorStop(0,zc(o,i)),g.addColorStop(r>1?1:r,$s(d,i)),g.addColorStop(1,zc(u,i)),g}function VN(n,e,t,i,r){Sc(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function LN(n,e,t,i){const r=n.actualOptions,o=r.interactivity.modes.connect;if(o)return NN(e,t,i,o.links.opacity)}function UN(n,e,t){n.canvas.draw(i=>{const r=LN(n,i,e,t);if(!r)return;const o=e.getPosition(),u=t.getPosition();VN(i,e.retina.linksWidth??0,r,o,u)})}class jN extends ds{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),o=e.particles.quadTree.queryCircle(i,r,h=>this.isEnabled(h));let u=0;for(const h of o){const f=h.getPosition();for(const d of o.slice(u+1)){const g=d.getPosition(),v=Math.abs(e.retina.connectModeDistance),b=Math.abs(f.x-g.x),E=Math.abs(f.y-g.y);b<v&&E<v&&UN(e,h,d)}++u}}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?It("connect",r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new ON);for(const i of t)e.connect.load(i?.connect)}reset(){}}async function zN(n,e=!0){await n.addInteractor("externalConnect",t=>new jN(t),e)}class BN{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=cn.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class FN{constructor(){this.distance=100,this.links=new BN}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function qN(n,e,t,i,r,o){Sc(n,t,i),n.strokeStyle=$s(r,o),n.lineWidth=e,n.stroke()}function HN(n,e,t,i,r){n.canvas.draw(o=>{const u=e.getPosition();qN(o,e.retina.linksWidth??0,u,r,t,i)})}class GN extends ds{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==no)return;const r=e.interactivity.mouse.position;if(!r)return;const o=e.retina.grabModeDistance;if(!o||o<0)return;const u=e.particles.quadTree.queryCircle(r,o,h=>this.isEnabled(h));for(const h of u){const f=h.getPosition(),d=Wn(f,r);if(d>o)continue;const g=i.modes.grab.links,v=g.opacity,b=v-d*v/o;if(b<=0)continue;const E=g.color??h.options.links?.color;if(!e.particles.grabLineColor&&E){const k=i.modes.grab.links;e.particles.grabLineColor=n1(E,k.blink,k.consent)}const C=Yy(h,void 0,e.particles.grabLineColor);C&&HN(e,h,C,b,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&It("grab",r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new FN);for(const i of t)e.grab.load(i?.grab)}reset(){}}async function $N(n,e=!0){await n.addInteractor("externalGrab",t=>new GN(t),e)}class KN extends ds{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function YN(n,e=!0){await n.addInteractor("externalPause",t=>new KN(t),e)}class XN{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Pe(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Pe(t))}}class WN extends ds{constructor(e){super(e),this.handleClickMode=t=>{if(t!=="push")return;const i=this.container,r=i.actualOptions,o=r.interactivity.modes.push;if(!o)return;const u=be(o.quantity);if(u<=0)return;const h=am([void 0,...o.groups]),f=h!==void 0?i.actualOptions.particles.groups[h]:void 0;i.particles.push(u,i.interactivity.mouse,f,h)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new XN);for(const i of t)e.push.load(i?.push)}reset(){}}async function QN(n,e=!0){await n.addInteractor("externalPush",t=>new WN(t),e)}class ZN{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=Pe(e)}load(e){if(!e)return;const t=e.quantity??e.particles_nb;t!==void 0&&(this.quantity=Pe(t))}}class JN extends ds{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!=="remove")return;const o=be(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(o)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new ZN);for(const i of t)e.remove.load(i?.remove)}reset(){}}async function eV(n,e=!0){await n.addInteractor("externalRemove",t=>new JN(t),e)}class p1{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class tV extends p1{constructor(){super(),this.selectors=[]}get ids(){return Jt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Jt(e,t=>`#${t}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class nV extends p1{load(e){super.load(e),e&&(this.divs=Jt(e.divs,t=>{const i=new tV;return i.load(t),i}))}}class iV extends ds{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const o=i.repulse||{particles:[]};if(o.finish||(o.count||(o.count=0),o.count++,o.count===i.particles.count&&(o.finish=!0)),o.clicking){const u=i.retina.repulseModeDistance;if(!u||u<0)return;const h=Math.pow(u/6,3),f=i.interactivity.mouse.clickPosition;if(f===void 0)return;const d=new bn(f.x,f.y,h),g=i.particles.quadTree.query(d,v=>this.isEnabled(v));for(const v of g){const{dx:b,dy:E,distance:C}=Cn(f,v.position),k=C**2,D=r.speed,P=-h*D/k;if(k<=h){o.particles.push(v);const F=Zt.create(b,E);F.length=P,v.velocity.setTo(F)}}}else if(o.clicking===!1){for(const u of o.particles)u.velocity.setTo(u.initialVelocity);o.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,o=i.retina.repulseModeDistance;!o||o<0||!r||this._processRepulse(r,o,new bn(r.x,r.y,o))},this._processRepulse=(i,r,o,u)=>{const h=this.container,f=h.particles.quadTree.query(o,g=>this.isEnabled(g)),d=h.actualOptions.interactivity.modes.repulse;if(d)for(const g of f){const{dx:v,dy:b,distance:E}=Cn(g.position,i),C=(u?.speed??d.speed)*d.factor,k=ki(HA(d.easing)(1-E/r)*C,0,d.maxSpeed),D=Zt.create(E===0?C:v/E*k,E===0?C:b/E*k);g.position.addTo(D)}},this._singleSelectorRepulse=(i,r)=>{const o=this.container,u=o.actualOptions.interactivity.modes.repulse;if(!u)return;const h=document.querySelectorAll(i);h.length&&h.forEach(f=>{const d=f,g=o.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth/2)*g,y:(d.offsetTop+d.offsetHeight/2)*g},b=d.offsetWidth/2*g,E=r.type==="circle"?new bn(v.x,v.y,b):new Pi(d.offsetLeft*g,d.offsetTop*g,d.offsetWidth*g,d.offsetHeight*g),C=u.divs,k=KA(C,d);this._processRepulse(v,b,E,k)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,o=r.interactivity.modes.repulse;if(!o||i!=="repulse")return;t.repulse||(t.repulse={particles:[]});const u=t.repulse;u.clicking=!0,u.count=0;for(const h of t.repulse.particles)this.isEnabled(h)&&h.velocity.setTo(h.initialVelocity);u.particles=[],u.finish=!1,setTimeout(()=>{t.destroyed||(u.clicking=!1)},o.duration*1e3)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}async interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===no,r=t.interactivity.events,o=r.onHover,u=o.enable,h=o.mode,f=r.onClick,d=f.enable,g=f.mode,v=r.onDiv;i&&u&&It("repulse",h)?this._hoverRepulse():d&&It("repulse",g)?this._clickRepulse():i_("repulse",v,(b,E)=>this._singleSelectorRepulse(b,E))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,u=o.onDiv,h=o.onHover,f=o.onClick,d=n_("repulse",u);if(!(d||h.enable&&r.position||f.enable&&r.clickPosition))return!1;const g=h.mode,v=f.mode;return It("repulse",g)||It("repulse",v)||d}loadModeOptions(e,...t){e.repulse||(e.repulse=new nV);for(const i of t)e.repulse.load(i?.repulse)}reset(){}}async function sV(n,e=!0){await n.addInteractor("externalRepulse",t=>new iV(n,t),e)}class rV{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class aV extends ds{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&It("slow",r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new rV);for(const i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,o=t.retina.slowModeRadius,u=i.interactivity.modes.slow;if(!u||!o||o<0||!r)return;const h=e.getPosition(),f=Wn(r,h),d=f/o,g=u.factor,{slow:v}=e;f>o||(v.inRange=!0,v.factor=d/g)}}async function oV(n,e=!0){await n.addInteractor("externalSlow",t=>new aV(t),e)}const ly=[0,4,2,1],TE=[8,8,4,2];class lV{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let i=t;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==0);return e}readSubBlocksBin(){let e=0,t=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)t+=e;const i=new Uint8Array(t);for(let r=0;(e=this.data[this.pos++])!==0;)for(let o=e;--o>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function g1(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}async function uV(n,e,t,i){switch(n.nextByte()){case 249:{const r=e.frames[t(!1)];n.pos++;const o=n.nextByte();r.GCreserved=(o&224)>>>5,r.disposalMethod=(o&28)>>>2,r.userInputDelayFlag=(o&2)===2;const u=(o&1)===1;r.delayTime=n.nextTwoBytes()*10;const h=n.nextByte();u&&i(h),n.pos++;break}case 255:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([t(!1),n.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function cV(n,e,t,i,r,o){const u=e.frames[i(!0)];u.left=n.nextTwoBytes(),u.top=n.nextTwoBytes(),u.width=n.nextTwoBytes(),u.height=n.nextTwoBytes();const h=n.nextByte(),f=(h&128)===128,d=(h&64)===64;u.sortFlag=(h&32)===32,u.reserved=(h&24)>>>3;const g=1<<(h&7)+1;f&&(u.localColorTable=g1(n,g));const v=P=>{const{r:F,g:B,b:q}=(f?u.localColorTable:e.globalColorTable)[P];return{r:F,g:B,b:q,a:P===r(null)?t?~~((F+B+q)/3):0:255}},b=(()=>{try{return new ImageData(u.width,u.height,{colorSpace:"srgb"})}catch(P){if(P instanceof DOMException&&P.name==="IndexSizeError")return null;throw P}})();if(b==null)throw new EvalError("GIF frame size is to large");const E=n.nextByte(),C=n.readSubBlocksBin(),k=1<<E,D=(P,F)=>{const B=P>>>3,q=P&7;return(C[B]+(C[B+1]<<8)+(C[B+2]<<16)&(1<<F)-1<<q)>>>q};if(d){for(let P=0,F=E+1,B=0,q=[[0]],Z=0;Z<4;Z++)if(ly[Z]<u.height)for(let oe=0,O=0;;){const R=P;if(P=D(B,F),B+=F+1,P===k){F=E+1,q.length=k+2;for(let M=0;M<q.length;M++)q[M]=M<k?[M]:[]}else{P>=q.length?q.push(q[R].concat(q[R][0])):R!==k&&q.push(q[R].concat(q[P][0]));for(let M=0;M<q[P].length;M++){const{r:U,g:z,b:H,a:I}=v(q[P][M]);b.data.set([U,z,H,I],ly[Z]*u.width+TE[Z]*O+oe%(u.width*4)),oe+=4}q.length===1<<F&&F<12&&F++}if(oe===u.width*4*(O+1)&&(O++,ly[Z]+TE[Z]*O>=u.height))break}u.image=b,u.bitmap=await createImageBitmap(b)}else{for(let P=0,F=E+1,B=0,q=[[0]],Z=-4;;){const oe=P;if(P=D(B,F),B+=F,P===k){F=E+1,q.length=k+2;for(let O=0;O<q.length;O++)q[O]=O<k?[O]:[]}else{if(P===k+1)break;P>=q.length?q.push(q[oe].concat(q[oe][0])):oe!==k&&q.push(q[oe].concat(q[P][0]));for(let O=0;O<q[P].length;O++){const{r:R,g:M,b:U,a:z}=v(q[P][O]);b.data.set([R,M,U,z],Z+=4)}q.length>=1<<F&&F<12&&F++}}u.image=b,u.bitmap=await createImageBitmap(b)}}async function hV(n,e,t,i,r,o){switch(n.nextByte()){case 59:return!0;case 44:await cV(n,e,t,i,r);break;case 33:await uV(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function fV(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function dV(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),o={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},u=new lV(new Uint8ClampedArray(r));if(u.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");o.width=u.nextTwoBytes(),o.height=u.nextTwoBytes();const h=u.nextByte(),f=(h&128)===128;o.colorRes=(h&112)>>>4,o.sortFlag=(h&8)===8;const d=1<<(h&7)+1,g=u.nextByte();o.pixelAspectRatio=u.nextByte(),o.pixelAspectRatio!==0&&(o.pixelAspectRatio=(o.pixelAspectRatio+15)/64),f&&(o.globalColorTable=g1(u,d));const v=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(q){if(q instanceof DOMException&&q.name==="IndexSizeError")return null;throw q}})();if(v==null)throw new Error("GIF frame size is to large");const{r:b,g:E,b:C}=o.globalColorTable[g];v.data.set(f?[b,E,C,255]:[0,0,0,0]);for(let q=4;q<v.data.length;q*=2)v.data.copyWithin(q,0,q);o.backgroundImage=v;let k=-1,D=!0,P=-1;const F=q=>(q&&(D=!0),k),B=q=>(q!=null&&(P=q),P);try{do D&&(o.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),k++,P=-1,D=!1);while(!await hV(u,o,t,F,B,e));o.frames.length--;for(const q of o.frames){if(q.userInputDelayFlag&&q.delayTime===0){o.totalTime=1/0;break}o.totalTime+=q.delayTime}return o}catch(q){throw q instanceof EvalError?new Error(`error while parsing frame ${k} "${q.message}"`):q}}const mV=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function pV(n,e,t){const{svgData:i}=n;if(!i)return"";const r=zc(e,t);if(i.includes("fill"))return i.replace(mV,()=>r);const o=i.indexOf(">");return`${i.substring(0,o)} fill="${r}"${i.substring(o)}`}async function lm(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,so().error(`${_i} loading image: ${n.source}`),e()}),t.src=n.source})}async function gV(n){if(n.type!=="gif"){await lm(n);return}n.loading=!0;try{n.gifData=await dV(n.source),n.gifLoopCount=fV(n.gifData)??0,n.gifLoopCount===0&&(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}async function yV(n){if(n.type!=="svg"){await lm(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(so().error(`${_i} Image not found`),n.error=!0),n.loading=!1}function vV(n,e,t,i){const r=pV(n,t,i.opacity?.value??1),o={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(u=>{const h=new Blob([r],{type:"image/svg+xml"}),f=URL||window.URL||window.webkitURL||window,d=f.createObjectURL(h),g=new Image;g.addEventListener("load",()=>{o.loaded=!0,o.element=g,u(o),f.revokeObjectURL(d)}),g.addEventListener("error",async()=>{f.revokeObjectURL(d);const v={...n,error:!1,loading:!0};await lm(v),o.loaded=!0,o.element=v.element,u(o)}),g.src=d})}class _V{constructor(e){this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${_i} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??t.replace_color??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,t,i,r,o){const u=t.image,h=u?.element;if(u){if(e.globalAlpha=r,u.gif&&u.gifData){const f=new OffscreenCanvas(u.gifData.width,u.gifData.height),d=f.getContext("2d");if(!d)throw new Error("could not create offscreen canvas context");d.imageSmoothingQuality="low",d.imageSmoothingEnabled=!1,d.clearRect(0,0,f.width,f.height),t.gifLoopCount===void 0&&(t.gifLoopCount=u.gifLoopCount??0);let g=t.gifFrame??0;const v={x:-u.gifData.width*.5,y:-u.gifData.height*.5},b=u.gifData.frames[g];if(t.gifTime===void 0&&(t.gifTime=0),!b.bitmap)return;switch(e.scale(i/u.gifData.width,i/u.gifData.height),b.disposalMethod){case 4:case 5:case 6:case 7:case 0:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height);break;case 1:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y);break;case 2:d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height),u.gifData.globalColorTable.length===0?d.putImageData(u.gifData.frames[0].image,v.x+b.left,v.y+b.top):d.putImageData(u.gifData.backgroundImage,v.x,v.y);break;case 3:{const E=d.getImageData(0,0,f.width,f.height);d.drawImage(b.bitmap,b.left,b.top),e.drawImage(f,v.x,v.y),d.clearRect(0,0,f.width,f.height),d.putImageData(E,0,0)}break}if(t.gifTime+=o.value,t.gifTime>b.delayTime){if(t.gifTime-=b.delayTime,++g>=u.gifData.frames.length){if(--t.gifLoopCount<=0)return;g=0,d.clearRect(0,0,f.width,f.height)}t.gifFrame=g}e.scale(u.gifData.width/i,u.gifData.height/i)}else if(h){const f=u.ratio,d={x:-i,y:-i};e.drawImage(h,d.x,d.y,i*2,i*2/f)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData,o=t.getFillColor(),u=i.find(f=>f.name===r.name||f.source===r.src);if(!u)return;const h=r.replaceColor??r.replace_color??u.replaceColor;if(u.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let f;u.svgData&&o?f=await vV(u,r,o,t):f={color:o,data:u,element:u.element,gif:u.gif,gifData:u.gifData,gifLoopCount:u.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:u.ratio??1,replaceColor:h,source:r.src},f.ratio||(f.ratio=1);const d=r.fill??t.fill,g=r.close??t.close,v={image:f,fill:d,close:g};t.image=v.image,t.fill=v.fill,t.close=v.close})()}}class bV{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class wV{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,t){if(!t||!t.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const o=i.find(u=>u.name===r.name||u.src===r.src);if(o)o.load(r);else{const u=new bV;u.load(r),i.push(u)}}}needsPlugin(){return!0}}function TV(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${_i} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t),await(e.gif?gV:e.replaceColor?yV:lm)(t)}catch{throw new Error(`${_i} ${e.name??e.src} not found`)}})}async function EV(n,e=!0){TV(n);const t=new wV(n);await n.addPlugin(t,e),await n.addShape(["image","images"],new _V(n),e)}class xV extends ta{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class SV extends ta{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class AV{constructor(){this.count=0,this.delay=new xV,this.duration=new SV}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class RV{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?be(r.delay.value)*(r.delay.sync?1:lt())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?be(r.duration.value)*(r.duration.sync?1:lt())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new AV);for(const i of t)e.life.load(i?.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=t.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const o=this.container.canvas.size,u=Pe(0,o.width),h=Pe(0,o.width);e.position.x=Nn(u),e.position.y=Nn(h),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const f=e.options.life;f&&(i.delay=be(f.delay.value)*1e3,i.duration=be(f.duration.value)*1e3)}}async function CV(n,e=!0){await n.addParticleUpdater("life",t=>new RV(t),e)}class IV{draw(e,t,i){const r=t.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=r?.cap??"butt"}getSidesCount(){return 1}}async function DV(n,e=!0){await n.addShape("line",new IV,e)}class kV{init(){}isEnabled(e){return!Ml()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(Ml()||!r.enable)return;const o=r.force,u=t.interactivity.mouse.position;if(!u)return;const h=t.canvas.size,f={x:h.width/2,y:h.height/2},d=r.smooth,g=e.getRadius()/o,v={x:(u.x-f.x)*g,y:(u.y-f.y)*g},{offset:b}=e;b.x+=(v.x-b.x)/d,b.y+=(v.y-b.y)/d}}async function PV(n,e=!0){await n.addMover("parallax",()=>new kV,e)}class MV extends r_{constructor(e){super(e)}clear(){}init(){}async interact(e){const t=this.container,i=e.retina.attractDistance??t.retina.attractDistance,r=e.getPosition(),o=t.particles.quadTree.queryCircle(r,i);for(const u of o){if(e===u||!u.options.move.attract.enable||u.destroyed||u.spawning)continue;const h=u.getPosition(),{dx:f,dy:d}=Cn(r,h),g=e.options.move.attract.rotate,v=f/(g.x*1e3),b=d/(g.y*1e3),E=u.size.value/e.size.value,C=1/E;e.velocity.x-=v*E,e.velocity.y-=b*E,u.velocity.x+=v*C,u.velocity.y+=b*C}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function OV(n,e=!0){await n.addInteractor("particlesAttract",t=>new MV(t),e)}function EE(n,e,t,i,r,o){const u=ki(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=u/2,t.size.value-=u,i<=o&&(t.size.value=0,t.destroy())}function NV(n,e,t,i){const r=n.getRadius(),o=e.getRadius();r===void 0&&o!==void 0?n.destroy():r!==void 0&&o===void 0?e.destroy():r!==void 0&&o!==void 0&&(r>=o?EE(n,r,e,o,t,i):EE(e,o,n,r,t,i))}const xE=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=be(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function y1(n,e){YA(Ky(n),Ky(e)),xE(n),xE(e)}function VV(n,e){!n.unbreakable&&!e.unbreakable&&y1(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function LV(n,e,t,i){switch(n.options.collisions.mode){case"absorb":{NV(n,e,t,i);break}case"bounce":{y1(n,e);break}case"destroy":{VV(n,e);break}}}class UV extends r_{constructor(e){super(e)}clear(){}init(){}async interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),o=e.getRadius(),u=i.particles.quadTree.queryCircle(r,o*2);for(const h of u){if(e===h||!h.options.collisions.enable||e.options.collisions.mode!==h.options.collisions.mode||h.destroyed||h.spawning)continue;const f=h.getPosition(),d=h.getRadius();if(Math.abs(Math.round(r.z)-Math.round(f.z))>o+d)continue;const g=Wn(r,f),v=o+d;g>v||LV(e,h,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function jV(n,e=!0){await n.addInteractor("particlesCollisions",t=>new UV(t),e)}class zV extends bn{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:o}=e;return super.contains(e)||super.contains({x:r-t,y:o})||super.contains({x:r-t,y:o-i})||super.contains({x:r,y:o-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const o=new bn(r.x,r.y,i.radius*2);return super.intersects(o)}else if(t.size!==void 0){const o=new Pi(r.x,r.y,t.size.width*2,t.size.height*2);return super.intersects(o)}return!1}}class BV{constructor(){this.blur=5,this.color=new cn,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=cn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class FV{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=cn.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class qV{constructor(){this.blink=!1,this.color=new cn,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new BV,this.triangles=new FV,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=cn.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function HV(n,e,t,i,r){const{dx:o,dy:u,distance:h}=Cn(n,e);if(!r||h<=t)return h;const f={x:Math.abs(o),y:Math.abs(u)},d={x:Math.min(f.x,i.width-f.x),y:Math.min(f.y,i.height-f.y)};return Math.sqrt(d.x**2+d.y**2)}class GV extends r_{constructor(e){super(e),this._setColor=t=>{if(!t.options.links)return;const i=this.linkContainer,r=t.options.links;let o=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(o)return;const u=r.color;o=n1(u,r.blink,r.consent),r.id===void 0?i.particles.linksColor=o:i.particles.linksColors.set(r.id,o)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<0||t.y<0||t.x>r.width||t.y>r.height)return;const o=e.options.links,u=o.opacity,h=e.retina.linksDistance??0,f=o.warp,d=f?new zV(t.x,t.y,h,r):new bn(t.x,t.y,h),g=i.particles.quadTree.query(d);for(const v of g){const b=v.options.links;if(e===v||!b?.enable||o.id!==b.id||v.spawning||v.destroyed||!v.links||e.links.some(D=>D.destination===v)||v.links.some(D=>D.destination===e))continue;const E=v.getPosition();if(E.x<0||E.y<0||E.x>r.width||E.y>r.height)continue;const C=HV(t,E,h,r,f&&b.warp);if(C>h)continue;const k=(1-C/h)*u;this._setColor(e),e.links.push({destination:v,opacity:k})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new qV);for(const i of t)e.links.load(i?.links??i?.lineLinked??i?.line_linked)}reset(){}}async function $V(n,e=!0){await n.addInteractor("particlesLinks",t=>new GV(t),e)}function KV(n){let e=!1;const{begin:t,end:i,maxDistance:r,context:o,canvasSize:u,width:h,backgroundMask:f,colorLine:d,opacity:g,links:v}=n;if(Wn(t,i)<=r)Sc(o,t,i),e=!0;else if(v.warp){let E,C;const k={x:i.x-u.width,y:i.y},D=Cn(t,k);if(D.distance<=r){const P=t.y-D.dy/D.dx*t.x;E={x:0,y:P},C={x:u.width,y:P}}else{const P={x:i.x,y:i.y-u.height},F=Cn(t,P);if(F.distance<=r){const q=-(t.y-F.dy/F.dx*t.x)/(F.dy/F.dx);E={x:q,y:0},C={x:q,y:u.height}}else{const B={x:i.x-u.width,y:i.y-u.height},q=Cn(t,B);if(q.distance<=r){const Z=t.y-q.dy/q.dx*t.x;E={x:-Z/(q.dy/q.dx),y:Z},C={x:E.x+u.width,y:E.y+u.height}}}}E&&C&&(Sc(o,t,E),Sc(o,i,C),e=!0)}if(!e)return;o.lineWidth=h,f.enable&&(o.globalCompositeOperation=f.composite),o.strokeStyle=$s(d,g);const{shadow:b}=v;if(b.enable){const E=Di(b.color);E&&(o.shadowBlur=b.blur,o.shadowColor=$s(E))}o.stroke()}function YV(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:o,colorTriangle:u,opacityTriangle:h}=n;CM(e,t,i,r),o.enable&&(e.globalCompositeOperation=o.composite),e.fillStyle=$s(u,h),e.fill()}function XV(n){return n.sort((e,t)=>e-t),n.join("_")}function SE(n,e){const t=XV(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=lt(),e.set(t,i)),i}class WV{constructor(e){this.container=e,this._drawLinkLine=(t,i)=>{const r=t.options.links;if(!r?.enable)return;const o=this.container,u=o.actualOptions,h=i.destination,f=t.getPosition(),d=h.getPosition();let g=i.opacity;o.canvas.draw(v=>{let b;const E=t.options.twinkle?.lines;if(E?.enable){const P=E.frequency,F=Di(E.color);lt()<P&&F&&(b=F,g=be(E.opacity))}if(!b){const P=r.id!==void 0?o.particles.linksColors.get(r.id):o.particles.linksColor;b=Yy(t,h,P)}if(!b)return;const C=t.retina.linksWidth??0,k=t.retina.linksDistance??0,{backgroundMask:D}=u;KV({context:v,width:C,begin:f,end:d,maxDistance:k,canvasSize:o.canvas.size,links:r,backgroundMask:D,colorLine:b,opacity:g})})},this._drawLinkTriangle=(t,i,r)=>{const o=t.options.links;if(!o?.enable)return;const u=o.triangles;if(!u.enable)return;const h=this.container,f=h.actualOptions,d=i.destination,g=r.destination,v=u.opacity??(i.opacity+r.opacity)/2;v<=0||h.canvas.draw(b=>{const E=t.getPosition(),C=d.getPosition(),k=g.getPosition(),D=t.retina.linksDistance??0;if(Wn(E,C)>D||Wn(k,C)>D||Wn(k,E)>D)return;let P=Di(u.color);if(!P){const F=o.id!==void 0?h.particles.linksColors.get(o.id):h.particles.linksColor;P=Yy(t,d,F)}P&&YV({context:b,pos1:E,pos2:C,pos3:k,backgroundMask:f.backgroundMask,colorTriangle:P,opacityTriangle:v})})},this._drawTriangles=(t,i,r,o)=>{const u=r.destination;if(!(t.links?.triangles.enable&&u.options.links?.triangles.enable))return;const h=u.links?.filter(f=>{const d=this._getLinkFrequency(u,f.destination);return u.options.links&&d<=u.options.links.frequency&&o.findIndex(g=>g.destination===f.destination)>=0});if(h?.length)for(const f of h){const d=f.destination;this._getTriangleFrequency(i,u,d)>t.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(t,i)=>SE([t,i],this._freqs.links),this._getTriangleFrequency=(t,i,r)=>SE([t,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i||i.length<=0)return;const o=i.filter(u=>r.links&&this._getLinkFrequency(t,u.destination)<=r.links.frequency);for(const u of o)this._drawTriangles(r,t,u,o),u.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,u)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:o}=e.options.links;i.linksDistance=r*t,i.linksWidth=o*t}particleDestroyed(e){e.links=[]}}class QV{constructor(){this.id="links"}getPlugin(e){return new WV(e)}loadOptions(){}needsPlugin(){return!0}}async function ZV(n,e=!0){const t=new QV;await n.addPlugin(t,e)}async function JV(n,e=!0){await $V(n,e),await ZV(n,e)}class v1{draw(e,t,i){const r=this.getCenter(t,i),o=this.getSidesData(t,i),u=o.count.numerator*o.count.denominator,h=o.count.numerator/o.count.denominator,f=180*(h-2)/h,d=Math.PI-Math.PI*f/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let g=0;g<u;g++)e.lineTo(o.length,0),e.translate(o.length,0),e.rotate(d)}}getSidesCount(e){const t=e.shapeData;return Math.round(be(t?.sides??t?.nb_sides??5))}}class eL extends v1{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/(2.66/3.5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*2.66/(i/3)}}}class tL extends v1{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:t*2}}}async function nL(n,e=!0){await n.addShape("polygon",new eL,e)}async function iL(n,e=!0){await n.addShape("triangle",new tL,e)}async function sL(n,e=!0){await nL(n,e),await iL(n,e)}class rL{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Pe(e.speed)),e.decay!==void 0&&(this.decay=Pe(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class aL extends ta{constructor(){super(),this.animation=new rL,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function oL(n,e){const t=n.rotate,i=n.options.rotate;if(!t||!i)return;const r=i.animation,o=(t.velocity??0)*e.factor,u=2*Math.PI,h=t.decay??1;if(r.enable){switch(t.status){case"increasing":t.value+=o,t.value>u&&(t.value-=u);break;case"decreasing":default:t.value-=o,t.value<0&&(t.value+=u);break}t.velocity&&h!==1&&(t.velocity*=h)}}class lL{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:be(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch(i==="random"&&(i=Math.floor(lt()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=t.animation;r.enable&&(e.rotate.decay=1-be(r.decay),e.rotate.velocity=be(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=lt())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path:!1}loadOptions(e,...t){e.rotate||(e.rotate=new aL);for(const i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(oL(e,t),e.rotation=e.rotate?.value??0)}}async function uL(n,e=!0){await n.addParticleUpdater("rotate",t=>new lL(t),e)}const cL=Math.sqrt(2);class hL{draw(e,t,i){const r=i/cL,o=r*2;e.rect(-r,-r,o,o)}getSidesCount(){return 4}}async function fL(n,e=!0){await n.addShape(["edge","square"],new hL,e)}class dL{draw(e,t,i){const r=t.sides,o=t.starInset??2;e.moveTo(0,0-i);for(let u=0;u<r;u++)e.rotate(Math.PI/r),e.lineTo(0,0-i*o),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const t=e.shapeData;return Math.round(be(t?.sides??t?.nb_sides??5))}particleInit(e,t){const i=t.shapeData,r=be(i?.inset??2);t.starInset=r}}async function mL(n,e=!0){await n.addShape("star",new dL,e)}function uy(n,e,t,i,r){if(!e||!t.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=n.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const o=Nn(t.offset),u=(e.velocity??0)*n.factor+o*3.6,h=e.decay??1;!r||e.status==="increasing"?(e.value+=u,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=u,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&h!==1&&(e.velocity*=h),e.value>i&&(e.value%=i)}function pL(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const{h:t,s:i,l:r}=n.strokeColor,{h:o,s:u,l:h}=n.strokeAnimation;t&&uy(e,t,o,360,!1),i&&uy(e,i,u,100,!0),r&&uy(e,r,h,100,!0)}class gL{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=Gs(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=be(r.width)*t.retina.pixelRatio,e.strokeOpacity=be(r.opacity??1),e.strokeAnimation=r.color?.animation;const o=jc(r.color)??e.getFillColor();o&&(e.strokeColor=i1(o,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&pL(e,t)}}async function yL(n,e=!0){await n.addParticleUpdater("strokeColor",t=>new gL(t),e)}const dd=["text","character","char"];class vL{draw(e,t,i,r){const o=t.shapeData;if(o===void 0)return;const u=o.value;if(u===void 0)return;t.text===void 0&&(t.text=Gs(u,t.randomIndexData));const h=t.text,f=o.style??"",d=o.weight??"400",g=Math.round(i)*2,v=o.font??"Verdana",b=t.fill,E=h.length*i/2;e.font=`${f} ${d} ${g}px "${v}"`;const C={x:-E,y:i/2};e.globalAlpha=r,b?e.fillText(h,C.x,C.y):e.strokeText(h,C.x,C.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(dd.find(i=>It(i,t.particles.shape.type))){const i=dd.map(o=>t.particles.shape.options[o]).find(o=>!!o),r=[];Jt(i,o=>{r.push(_M(o.font,o.weight))}),await Promise.all(r)}}particleInit(e,t){if(!t.shape||!dd.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(t.text=Gs(r,t.randomIndexData))}}async function _L(n,e=!0){await n.addShape(dd,new vL,e)}async function bL(n,e=!0){GO(n),await PV(n,!1),await SN(n,!1),await CN(n,!1),await PN(n,!1),await zN(n,!1),await $N(n,!1),await YN(n,!1),await QN(n,!1),await eV(n,!1),await sV(n,!1),await oV(n,!1),await OV(n,!1),await jV(n,!1),await JV(n,!1),await TN(),await EV(n,!1),await DV(n,!1),await sL(n,!1),await fL(n,!1),await mL(n,!1),await _L(n,!1),await CV(n,!1),await uL(n,!1),await yL(n,!1),await wN(n,e)}function _1({className:n=""}){const e=V.useCallback(async t=>{await bL(t)},[]);return x.jsx(f1,{id:"tsparticles",init:e,className:n,style:{position:"absolute",inset:0},options:{fpsLimit:60,detectRetina:!0,background:{color:"transparent"},fullScreen:{enable:!1},pauseOnBlur:!0,smooth:!0,reduceDuplicates:!0,particles:{number:{value:60,density:{enable:!0,area:900}},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5},size:{value:{min:1,max:3}},links:{enable:!0,distance:130,color:"#ffffff",opacity:.2,width:1},move:{enable:!0,speed:.6,direction:"none",outModes:{default:"out"},random:!1,straight:!1}},interactivity:{detectsOn:"window",events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!1,mode:"push"},resize:!0},modes:{repulse:{distance:80,duration:.3},push:{quantity:2}}}}})}function wL(){const{pathname:n}=In(),[e,t]=V.useState(!1),i="/likwitdevs/images/computerbg.jpg";return V.useEffect(()=>{const r=requestAnimationFrame(()=>t(!0));return()=>cancelAnimationFrame(r)},[]),x.jsxs(x.Fragment,{children:[x.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-30 pointer-events-none select-none",children:x.jsx("img",{src:i,alt:"",className:"absolute inset-0 w-full object-cover [transform:translateZ(0)] will-change-transform",draggable:!1})}),x.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-20 bg-black/30 pointer-events-none h-svh md:h-dvh",style:{transform:"translateZ(0)",willChange:"opacity"}}),e&&x.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-10 pointer-events-none h-svh md:h-dvh",style:{transform:"translateZ(0)"},children:x.jsx(_1,{},n)})]})}const TL=()=>{};var AE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},EL=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],u=n[t++],h=n[t++],f=((r&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|u&63)}}return e.join("")},w1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],u=r+1<n.length,h=u?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,g=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|d>>6,E=d&63;f||(E=64,u||(b=64)),i.push(t[g],t[v],t[b],t[E])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(b1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||h==null||d==null||v==null)throw new xL;const b=o<<2|h>>4;if(i.push(b),d!==64){const E=h<<4&240|d>>2;if(i.push(E),v!==64){const C=d<<6&192|v;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SL=function(n){const e=b1(n);return w1.encodeByteArray(e,!0)},Nd=function(n){return SL(n).replace(/\./g,"")},T1=function(n){try{return w1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=()=>AL().__FIREBASE_DEFAULTS__,CL=()=>{if(typeof process>"u"||typeof AE>"u")return;const n=AE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&T1(n[1]);return e&&JSON.parse(e)},um=()=>{try{return TL()||RL()||CL()||IL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},E1=n=>um()?.emulatorHosts?.[n],x1=n=>{const e=E1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},S1=()=>um()?.config,A1=n=>um()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Nd(JSON.stringify(t)),Nd(JSON.stringify(u)),""].join(".")}const Ac={};function kL(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ac))Ac[e]?n.emulator.push(e):n.prod.push(e);return n}function PL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let RE=!1;function o_(n,e){if(typeof window>"u"||typeof document>"u"||!na(window.location.host)||Ac[n]===e||Ac[n]||RE)return;Ac[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=kL().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{RE=!0,u()},b}function g(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=PL(i),E=t("text"),C=document.getElementById(E)||document.createElement("span"),k=t("learnmore"),D=document.getElementById(k)||document.createElement("a"),P=t("preprendIcon"),F=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const B=b.element;h(B),g(D,k);const q=d();f(F,P),B.append(F,C,D,q),document.body.appendChild(B)}o?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ML(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function OL(){const n=um()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VL(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UL(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jL(){return!OL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zL(){try{return typeof indexedDB=="object"}catch{return!1}}function BL(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="FirebaseError";class ms extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=FL,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uh.prototype.create)}}class uh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],u=o?qL(o,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new ms(r,h,i)}}function qL(n,e){return n.replace(HL,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const HL=/\{\$([^}]+)}/g;function GL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ro(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],u=e[r];if(CE(o)&&CE(u)){if(!ro(o,u))return!1}else if(o!==u)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function CE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function yc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function $L(n,e){const t=new KL(n,e);return t.subscribe.bind(t)}class KL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");YL(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=cy),r.error===void 0&&(r.error=cy),r.complete===void 0&&(r.complete=cy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n){return n&&n._delegate?n._delegate:n}class $r{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new DL;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QL(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:WL(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WL(n){return n===$a?void 0:n}function QL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const JL={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},e4=Ue.INFO,t4={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},n4=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=t4[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l_{constructor(e){this.name=e,this._logLevel=e4,this._logHandler=n4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const i4=(n,e)=>e.some(t=>n instanceof t);let IE,DE;function s4(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r4(){return DE||(DE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C1=new WeakMap,Xy=new WeakMap,I1=new WeakMap,hy=new WeakMap,u_=new WeakMap;function a4(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Br(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&C1.set(t,n)}).catch(()=>{}),u_.set(e,n),e}function o4(n){if(Xy.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Xy.set(n,e)}let Wy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||I1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Br(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function l4(n){Wy=n(Wy)}function u4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(fy(this),e,...t);return I1.set(i,e.sort?e.sort():[e]),Br(i)}:r4().includes(n)?function(...e){return n.apply(fy(this),e),Br(C1.get(this))}:function(...e){return Br(n.apply(fy(this),e))}}function c4(n){return typeof n=="function"?u4(n):(n instanceof IDBTransaction&&o4(n),i4(n,s4())?new Proxy(n,Wy):n)}function Br(n){if(n instanceof IDBRequest)return a4(n);if(hy.has(n))return hy.get(n);const e=c4(n);return e!==n&&(hy.set(n,e),u_.set(e,n)),e}const fy=n=>u_.get(n);function h4(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const u=indexedDB.open(n,e),h=Br(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Br(u.result),f.oldVersion,f.newVersion,Br(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const f4=["get","getKey","getAll","getAllKeys","count"],d4=["put","add","delete","clear"],dy=new Map;function kE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=d4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||f4.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),r&&f.done]))[0]};return dy.set(e,o),o}l4(n=>({...n,get:(e,t,i)=>kE(e,t)||n.get(e,t,i),has:(e,t)=>!!kE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(p4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function p4(n){return n.getComponent()?.type==="VERSION"}const Qy="@firebase/app",PE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new l_("@firebase/app"),g4="@firebase/app-compat",y4="@firebase/analytics-compat",v4="@firebase/analytics",_4="@firebase/app-check-compat",b4="@firebase/app-check",w4="@firebase/auth",T4="@firebase/auth-compat",E4="@firebase/database",x4="@firebase/data-connect",S4="@firebase/database-compat",A4="@firebase/functions",R4="@firebase/functions-compat",C4="@firebase/installations",I4="@firebase/installations-compat",D4="@firebase/messaging",k4="@firebase/messaging-compat",P4="@firebase/performance",M4="@firebase/performance-compat",O4="@firebase/remote-config",N4="@firebase/remote-config-compat",V4="@firebase/storage",L4="@firebase/storage-compat",U4="@firebase/firestore",j4="@firebase/ai",z4="@firebase/firestore-compat",B4="firebase",F4="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="[DEFAULT]",q4={[Qy]:"fire-core",[g4]:"fire-core-compat",[v4]:"fire-analytics",[y4]:"fire-analytics-compat",[b4]:"fire-app-check",[_4]:"fire-app-check-compat",[w4]:"fire-auth",[T4]:"fire-auth-compat",[E4]:"fire-rtdb",[x4]:"fire-data-connect",[S4]:"fire-rtdb-compat",[A4]:"fire-fn",[R4]:"fire-fn-compat",[C4]:"fire-iid",[I4]:"fire-iid-compat",[D4]:"fire-fcm",[k4]:"fire-fcm-compat",[P4]:"fire-perf",[M4]:"fire-perf-compat",[O4]:"fire-rc",[N4]:"fire-rc-compat",[V4]:"fire-gcs",[L4]:"fire-gcs-compat",[U4]:"fire-fst",[z4]:"fire-fst-compat",[j4]:"fire-vertex","fire-js":"fire-js",[B4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map,H4=new Map,Jy=new Map;function ME(n,e){try{n.container.addComponent(e)}catch(t){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ao(n){const e=n.name;if(Jy.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;Jy.set(e,n);for(const t of Vd.values())ME(t,n);for(const t of H4.values())ME(t,n);return!0}function cm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new uh("app","Firebase",G4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=F4;function D1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Zy,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Fr.create("bad-app-name",{appName:String(r)});if(t||(t=S1()),!t)throw Fr.create("no-options");const o=Vd.get(r);if(o){if(ro(t,o.options)&&ro(i,o.config))return o;throw Fr.create("duplicate-app",{appName:r})}const u=new ZL(r);for(const f of Jy.values())u.addComponent(f);const h=new $4(t,i,u);return Vd.set(r,h),h}function c_(n=Zy){const e=Vd.get(n);if(!e&&n===Zy&&S1())return D1();if(!e)throw Fr.create("no-app",{appName:n});return e}function ns(n,e,t){let i=q4[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const u=[`Unable to register library "${i}" with version "${e}":`];r&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(u.join(" "));return}ao(new $r(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="firebase-heartbeat-database",Y4=1,Fc="firebase-heartbeat-store";let my=null;function k1(){return my||(my=h4(K4,Y4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fr.create("idb-open",{originalErrorMessage:n.message})})),my}async function X4(n){try{const t=(await k1()).transaction(Fc),i=await t.objectStore(Fc).get(P1(n));return await t.done,i}catch(e){if(e instanceof ms)Xs.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e?.message});Xs.warn(t.message)}}}async function OE(n,e){try{const i=(await k1()).transaction(Fc,"readwrite");await i.objectStore(Fc).put(e,P1(n)),await i.done}catch(t){if(t instanceof ms)Xs.warn(t.message);else{const i=Fr.create("idb-set",{originalErrorMessage:t?.message});Xs.warn(i.message)}}}function P1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=1024,Q4=30;class Z4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eU(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=NE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>Q4){const r=tU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=NE(),{heartbeatsToSend:t,unsentEntries:i}=J4(this._heartbeatsCache.heartbeats),r=Nd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Xs.warn(e),""}}}function NE(){return new Date().toISOString().substring(0,10)}function J4(n,e=W4){const t=[];let i=n.slice();for(const r of n){const o=t.find(u=>u.agent===r.agent);if(o){if(o.dates.push(r.date),VE(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),VE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class eU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zL()?BL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await X4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function VE(n){return Nd(JSON.stringify({version:2,heartbeats:n})).length}function tU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(n){ao(new $r("platform-logger",e=>new m4(e),"PRIVATE")),ao(new $r("heartbeat",e=>new Z4(e),"PRIVATE")),ns(Qy,PE,n),ns(Qy,PE,"esm2020"),ns("fire-js","")}nU("");function M1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iU=M1,O1=new uh("auth","Firebase",M1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new l_("@firebase/auth");function sU(n,...e){Ld.logLevel<=Ue.WARN&&Ld.warn(`Auth (${po}): ${n}`,...e)}function md(n,...e){Ld.logLevel<=Ue.ERROR&&Ld.error(`Auth (${po}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,...e){throw h_(n,...e)}function is(n,...e){return h_(n,...e)}function N1(n,e,t){const i={...iU(),[e]:t};return new uh("auth","Firebase",i).create(e,{appName:n.name})}function qr(n){return N1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return O1.create(n,...e)}function Te(n,e,...t){if(!n)throw h_(e,...t)}function Fs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw md(e),new Error(e)}function Ws(n,e){n||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(){return typeof self<"u"&&self.location?.href||""}function rU(){return LE()==="http:"||LE()==="https:"}function LE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rU()||VL()||"connection"in navigator)?navigator.onLine:!0}function oU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ws(t>e,"Short delay should be less than long delay!"),this.isMobile=ML()||LL()}get(){return aU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n,e){Ws(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cU=new hh(3e4,6e4);function go(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ia(n,e,t,i,r={}){return L1(n,r,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=ch({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return NL()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&na(n.emulatorConfig.host)&&(d.credentials="include"),V1.fetch()(await U1(n,n.config.apiHost,t,h),d)})}async function L1(n,e,t){n._canInitEmulator=!1;const i={...lU,...e};try{const r=new fU(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Zf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Zf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Zf(n,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw N1(n,g,d);Mi(n,g)}}catch(r){if(r instanceof ms)throw r;Mi(n,"network-request-failed",{message:String(r)})}}async function hm(n,e,t,i,r={}){const o=await ia(n,e,t,i,r);return"mfaPendingCredential"in o&&Mi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function U1(n,e,t,i){const r=`${e}${t}?${i}`,o=n,u=o.config.emulator?f_(n.config,r):`${n.config.apiScheme}://${r}`;return uU.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function hU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(is(this.auth,"network-request-failed")),cU.get())})}}function Zf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=is(n,e,i);return r.customData._tokenResponse=t,r}function UE(n){return n!==void 0&&n.enterprise!==void 0}class dU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mU(n,e){return ia(n,"GET","/v2/recaptchaConfig",go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(n,e){return ia(n,"POST","/v1/accounts:delete",e)}async function Ud(n,e){return ia(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gU(n,e=!1){const t=at(n),i=await t.getIdToken(e),r=d_(i);Te(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,u=o?.sign_in_provider;return{claims:r,token:i,authTime:Rc(py(r.auth_time)),issuedAtTime:Rc(py(r.iat)),expirationTime:Rc(py(r.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function py(n){return Number(n)*1e3}function d_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const r=T1(t);return r?JSON.parse(r):(md("Failed to decode base64 JWT payload"),null)}catch(r){return md("Caught error parsing JWT payload as JSON",r?.toString()),null}}function jE(n){const e=d_(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ms&&yU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function yU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(n){const e=n.auth,t=await n.getIdToken(),i=await qc(n,Ud(e,{idToken:t}));Te(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?j1(r.providerUserInfo):[],u=bU(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!u?.length,d=h?f:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:u,metadata:new tv(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function _U(n){const e=at(n);await jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bU(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function j1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(n,e){const t=await L1(n,{},async()=>{const i=ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,u=await U1(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&na(n.emulatorConfig.host)&&(f.credentials="include"),V1.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function TU(n,e){return ia(n,"POST","/v2/accounts:revokeToken",go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=jE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await wU(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,u=new Al;return i&&(Te(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),r&&(Te(typeof r=="string","internal-error",{appName:e}),u.accessToken=r),o&&(Te(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ri{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new vU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new tv(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await qc(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gU(this,e)}reload(){return _U(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await jd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await qc(this,pU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:E,providerData:C,stsTokenManager:k}=t;Te(v&&k,e,"internal-error");const D=Al.fromJSON(this.name,k);Te(typeof v=="string",e,"internal-error"),kr(i,e.name),kr(r,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof E=="boolean",e,"internal-error"),kr(o,e.name),kr(u,e.name),kr(h,e.name),kr(f,e.name),kr(d,e.name),kr(g,e.name);const P=new Ri({uid:v,auth:e,email:r,emailVerified:b,displayName:i,isAnonymous:E,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:D,createdAt:d,lastLoginAt:g});return C&&Array.isArray(C)&&(P.providerData=C.map(F=>({...F}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,t,i=!1){const r=new Al;r.updateFromServerResponse(t);const o=new Ri({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await jd(o),o}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Te(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?j1(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!o?.length,h=new Al;h.updateFromIdToken(i);const f=new Ri({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new tv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;function qs(n){Ws(n instanceof Function,"Expected a class definition");let e=zE.get(n);return e?(Ws(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}z1.type="NONE";const BE=z1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n,e,t){return`firebase:${n}:${e}:${t}`}class Rl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=pd(this.userKey,r.apiKey,o),this.fullPersistenceKey=pd("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ud(this.auth,{idToken:e}).catch(()=>{});return t?Ri._fromGetAccountInfoResponse(this.auth,t,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Rl(qs(BE),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||qs(BE);const u=pd(i,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let v;if(typeof g=="string"){const b=await Ud(e,{idToken:g}).catch(()=>{});if(!b)break;v=await Ri._fromGetAccountInfoResponse(e,b,g)}else v=Ri._fromJSON(e,g);d!==o&&(h=v),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Rl(o,e,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Rl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($1(e))return"Blackberry";if(K1(e))return"Webos";if(F1(e))return"Safari";if((e.includes("chrome/")||q1(e))&&!e.includes("edge/"))return"Chrome";if(G1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function B1(n=wn()){return/firefox\//i.test(n)}function F1(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q1(n=wn()){return/crios\//i.test(n)}function H1(n=wn()){return/iemobile/i.test(n)}function G1(n=wn()){return/android/i.test(n)}function $1(n=wn()){return/blackberry/i.test(n)}function K1(n=wn()){return/webos/i.test(n)}function m_(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function EU(n=wn()){return m_(n)&&!!window.navigator?.standalone}function xU(){return UL()&&document.documentMode===10}function Y1(n=wn()){return m_(n)||G1(n)||K1(n)||$1(n)||/windows phone/i.test(n)||H1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(n,e=[]){let t;switch(n){case"Browser":t=FE(wn());break;case"Worker":t=`${FE(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${po}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(n,e={}){return ia(n,"GET","/v2/passwordPolicy",go(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=6;class CU{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??RU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new SU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ud(this,{idToken:e}),i=await Ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(qr(this));const t=e?at(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AU(this),t=new CU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await TU(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qs(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[qs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,r);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $l(n){return at(n)}class qE{constructor(e){this.auth=e,this.observer=null,this.addObserver=$L(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DU(n){fm=n}function W1(n){return fm.loadJS(n)}function kU(){return fm.recaptchaEnterpriseScript}function PU(){return fm.gapiScript}function MU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class OU{constructor(){this.enterprise=new NU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const VU="recaptcha-enterprise",Q1="NO_RECAPTCHA";class LU{constructor(e){this.type=VU,this.auth=$l(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{mU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new dU(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function r(o,u,h){const f=window.grecaptcha;UE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(Q1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OU().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!t&&UE(window.grecaptcha))r(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=kU();f.length!==0&&(f+=h),W1(f).then(()=>{r(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function HE(n,e,t,i=!1,r=!1){const o=new LU(n);let u;if(r)u=Q1;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function GE(n,e,t,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await HE(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await HE(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(n,e){const t=cm(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(ro(o,e??{}))return r;Mi(r,"already-initialized")}return t.initialize({options:e})}function jU(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(qs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function zU(n,e,t){const i=$l(n);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=Z1(e),{host:u,port:h}=BU(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(ro(d,i.config.emulator)&&ro(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,na(u)?(a_(`${o}//${u}${f}`),o_("Auth",!0)):FU()}function Z1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function BU(n){const e=Z1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:$E(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:$E(u)}}}function $E(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function FU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,t){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function qU(n,e){return ia(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(n,e){return hm(n,"POST","/v1/accounts:signInWithPassword",go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(n,e){return hm(n,"POST","/v1/accounts:signInWithEmailLink",go(n,e))}async function $U(n,e){return hm(n,"POST","/v1/accounts:signInWithEmailLink",go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends p_{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Hc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Hc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GE(e,t,"signInWithPassword",HU);case"emailLink":return GU(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GE(e,i,"signUpPassword",qU);case"emailLink":return $U(e,{idToken:t,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(n,e){return hm(n,"POST","/v1/accounts:signInWithIdp",go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="http://localhost";class oo extends p_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...o}=t;if(!i||!r)return null;const u=new oo(i,r);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Cl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Cl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cl(e,t)}buildRequest(){const e={requestUri:KU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ch(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XU(n){const e=gc(yc(n)).link,t=e?gc(yc(e)).deep_link_id:null,i=gc(yc(n)).deep_link_id;return(i?gc(yc(i)).link:null)||i||t||e||n}class g_{constructor(e){const t=gc(yc(e)),i=t.apiKey??null,r=t.oobCode??null,o=YU(t.mode??null);Te(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=XU(e);try{return new g_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,t){return Hc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=g_.parseLink(t);return Te(i,"argument-error"),Hc._fromEmailAndCode(e,i.code,i.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends J1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends fh{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oo._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Or.credential(t,i)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends fh{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends fh{constructor(){super("twitter.com")}static credential(e,t){return oo._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Vr.credential(t,i)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await Ri._fromIdTokenResponse(e,i,r),u=KE(i);return new Nl({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=KE(i);return new Nl({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function KE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends ms{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new zd(e,t,i,r)}}function eR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zd._fromErrorAndOperation(n,o,e,i):o})}async function WU(n,e,t=!1){const i=await qc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Nl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(n,e,t=!1){const{auth:i}=n;if(pi(i.app))return Promise.reject(qr(i));const r="reauthenticate";try{const o=await qc(n,eR(i,r,e,n),t);Te(o.idToken,i,"internal-error");const u=d_(o.idToken);Te(u,i,"internal-error");const{sub:h}=u;return Te(n.uid===h,i,"user-mismatch"),Nl._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Mi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(n,e,t=!1){if(pi(n.app))return Promise.reject(qr(n));const i="signIn",r=await eR(n,i,e),o=await Nl._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}async function ZU(n,e){return tR($l(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(n){const e=$l(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function e3(n,e,t){return pi(n.app)?Promise.reject(qr(n)):ZU(at(n),Kl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&JU(n),i})}function t3(n,e,t,i){return at(n).onIdTokenChanged(e,t,i)}function n3(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function dm(n,e,t,i){return at(n).onAuthStateChanged(e,t,i)}function nR(n){return at(n).signOut()}const Bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=1e3,s3=10;class sR extends iR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);xU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,s3):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},i3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sR.type="LOCAL";const r3=sR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR extends iR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rR.type="SESSION";const aR=rR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new mm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,u=this.handlersMap[r];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async d=>d(t.origin,o)),f=await a3(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=y_("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function l3(n){ss().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function u3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function c3(){return navigator?.serviceWorker?.controller||null}function h3(){return oR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="firebaseLocalStorageDb",f3=1,Fd="firebaseLocalStorage",uR="fbase_key";class dh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pm(n,e){return n.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function d3(){const n=indexedDB.deleteDatabase(lR);return new dh(n).toPromise()}function nv(){const n=indexedDB.open(lR,f3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Fd,{keyPath:uR})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Fd)?e(i):(i.close(),await d3(),e(await nv()))})})}async function YE(n,e,t){const i=pm(n,!0).put({[uR]:e,value:t});return new dh(i).toPromise()}async function m3(n,e){const t=pm(n,!1).get(e),i=await new dh(t).toPromise();return i===void 0?null:i.value}function XE(n,e){const t=pm(n,!0).delete(e);return new dh(t).toPromise()}const p3=800,g3=3;class cR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>g3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mm._getInstance(h3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await u3(),!this.activeServiceWorker)return;this.sender=new o3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||c3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nv();return await YE(e,Bd,"1"),await XE(e,Bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>YE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>m3(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=pm(r,!1).getAll();return new dh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cR.type="LOCAL";const y3=cR;new hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(n,e){return e?qs(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends p_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _3(n){return tR(n.auth,new v_(n),n.bypassAuthState)}function b3(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),QU(t,new v_(n),n.bypassAuthState)}async function w3(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),WU(t,new v_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _3;case"linkViaPopup":case"linkViaRedirect":return w3;case"reauthViaPopup":case"reauthViaRedirect":return b3;default:Mi(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new hh(2e3,1e4);class bl extends hR{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=y_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T3.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="pendingRedirect",gd=new Map;class x3 extends hR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const i=await S3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S3(n,e){const t=C3(e),i=R3(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function A3(n,e){gd.set(n._key(),e)}function R3(n){return qs(n._redirectPersistence)}function C3(n){return pd(E3,n.config.apiKey,n.name)}async function I3(n,e,t=!1){if(pi(n.app))return Promise.reject(qr(n));const i=$l(n),r=v3(i,e),u=await new x3(i,r,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=600*1e3;class k3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!fR(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(is(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D3&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function P3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(n,e={}){return ia(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N3=/^https?/;async function V3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await M3(n);for(const t of e)try{if(L3(t))return}catch{}Mi(n,"unauthorized-domain")}function L3(n){const e=ev(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!N3.test(t))return!1;if(O3.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new hh(3e4,6e4);function QE(){const n=ss().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function j3(n){return new Promise((e,t)=>{function i(){QE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QE(),t(is(n,"network-request-failed"))},timeout:U3.get()})}if(ss().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ss().gapi?.load)i();else{const r=MU("iframefcb");return ss()[r]=()=>{gapi.load?i():t(is(n,"network-request-failed"))},W1(`${PU()}?onload=${r}`).catch(o=>t(o))}}).catch(e=>{throw yd=null,e})}let yd=null;function z3(n){return yd=yd||j3(n),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new hh(5e3,15e3),F3="__/auth/iframe",q3="emulator/auth/iframe",H3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $3(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?f_(e,q3):`https://${n.config.authDomain}/${F3}`,i={apiKey:e.apiKey,appName:n.name,v:po},r=G3.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${ch(i).slice(1)}`}async function K3(n){const e=await z3(n),t=ss().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:$3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H3,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const u=is(n,"network-request-failed"),h=ss().setTimeout(()=>{o(u)},B3.get());function f(){ss().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X3=500,W3=600,Q3="_blank",Z3="http://localhost";class ZE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J3(n,e,t,i=X3,r=W3){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...Y3,width:i.toString(),height:r.toString(),top:o,left:u},d=wn().toLowerCase();t&&(h=q1(d)?Q3:t),B1(d)&&(e=e||Z3,f.scrollbars="yes");const g=Object.entries(f).reduce((b,[E,C])=>`${b}${E}=${C},`,"");if(EU(d)&&h!=="_self")return e6(e||"",h),new ZE(null);const v=window.open(e||"",h,g);Te(v,n,"popup-blocked");try{v.focus()}catch{}return new ZE(v)}function e6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="__/auth/handler",n6="emulator/auth/handler",i6=encodeURIComponent("fac");async function JE(n,e,t,i,r,o){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:po,eventId:r};if(e instanceof J1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",GL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof fh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${i6}=${encodeURIComponent(f)}`:"";return`${s6(n)}?${ch(h).slice(1)}${d}`}function s6({config:n}){return n.emulator?f_(n,n6):`https://${n.authDomain}/${t6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="webStorageSupport";class r6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aR,this._completeRedirectFn=I3,this._overrideRedirectResult=A3}async _openPopup(e,t,i,r){Ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await JE(e,t,i,ev(),r);return J3(e,o,y_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const o=await JE(e,t,i,ev(),r);return l3(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Ws(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await K3(e),i=new k3(e);return t.register("authEvent",r=>(Te(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gy,{type:gy},r=>{const o=r?.[0]?.[gy];o!==void 0&&t(!!o),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=V3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Y1()||F1()||m_()}}const a6=r6;var ex="@firebase/auth",tx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u6(n){ao(new $r("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X1(n)},d=new IU(i,r,o,f);return jU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ao(new $r("auth-internal",e=>{const t=$l(e.getProvider("auth").getImmediate());return(i=>new o6(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(ex,tx,l6(n)),ns(ex,tx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=300,h6=A1("authIdTokenMaxAge")||c6;let nx=null;const f6=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>h6)return;const r=t?.token;nx!==r&&(nx=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function d6(n=c_()){const e=cm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=UU(n,{popupRedirectResolver:a6,persistence:[y3,r3,aR]}),i=A1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=f6(o.toString());n3(t,u,()=>u(t.currentUser)),t3(t,h=>u(h))}}const r=E1("auth");return r&&zU(t,`http://${r}`),t}function m6(){return document.getElementsByTagName("head")?.[0]??document}DU({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=is("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",m6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u6("Browser");const p6="/likwitdevs/assets/likwitdevs-logo-white-long-DsfK3FTO.png";var g6="firebase",y6="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(g6,y6,"app");var ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,dR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function M(){}M.prototype=R.prototype,O.D=R.prototype,O.prototype=new M,O.prototype.constructor=O,O.C=function(U,z,H){for(var I=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)I[pe-2]=arguments[pe];return R.prototype[z].apply(U,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,R,M){M||(M=0);var U=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)U[z]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(z=0;16>z;++z)U[z]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=O.g[0],M=O.g[1],z=O.g[2];var H=O.g[3],I=R+(H^M&(z^H))+U[0]+3614090360&4294967295;R=M+(I<<7&4294967295|I>>>25),I=H+(z^R&(M^z))+U[1]+3905402710&4294967295,H=R+(I<<12&4294967295|I>>>20),I=z+(M^H&(R^M))+U[2]+606105819&4294967295,z=H+(I<<17&4294967295|I>>>15),I=M+(R^z&(H^R))+U[3]+3250441966&4294967295,M=z+(I<<22&4294967295|I>>>10),I=R+(H^M&(z^H))+U[4]+4118548399&4294967295,R=M+(I<<7&4294967295|I>>>25),I=H+(z^R&(M^z))+U[5]+1200080426&4294967295,H=R+(I<<12&4294967295|I>>>20),I=z+(M^H&(R^M))+U[6]+2821735955&4294967295,z=H+(I<<17&4294967295|I>>>15),I=M+(R^z&(H^R))+U[7]+4249261313&4294967295,M=z+(I<<22&4294967295|I>>>10),I=R+(H^M&(z^H))+U[8]+1770035416&4294967295,R=M+(I<<7&4294967295|I>>>25),I=H+(z^R&(M^z))+U[9]+2336552879&4294967295,H=R+(I<<12&4294967295|I>>>20),I=z+(M^H&(R^M))+U[10]+4294925233&4294967295,z=H+(I<<17&4294967295|I>>>15),I=M+(R^z&(H^R))+U[11]+2304563134&4294967295,M=z+(I<<22&4294967295|I>>>10),I=R+(H^M&(z^H))+U[12]+1804603682&4294967295,R=M+(I<<7&4294967295|I>>>25),I=H+(z^R&(M^z))+U[13]+4254626195&4294967295,H=R+(I<<12&4294967295|I>>>20),I=z+(M^H&(R^M))+U[14]+2792965006&4294967295,z=H+(I<<17&4294967295|I>>>15),I=M+(R^z&(H^R))+U[15]+1236535329&4294967295,M=z+(I<<22&4294967295|I>>>10),I=R+(z^H&(M^z))+U[1]+4129170786&4294967295,R=M+(I<<5&4294967295|I>>>27),I=H+(M^z&(R^M))+U[6]+3225465664&4294967295,H=R+(I<<9&4294967295|I>>>23),I=z+(R^M&(H^R))+U[11]+643717713&4294967295,z=H+(I<<14&4294967295|I>>>18),I=M+(H^R&(z^H))+U[0]+3921069994&4294967295,M=z+(I<<20&4294967295|I>>>12),I=R+(z^H&(M^z))+U[5]+3593408605&4294967295,R=M+(I<<5&4294967295|I>>>27),I=H+(M^z&(R^M))+U[10]+38016083&4294967295,H=R+(I<<9&4294967295|I>>>23),I=z+(R^M&(H^R))+U[15]+3634488961&4294967295,z=H+(I<<14&4294967295|I>>>18),I=M+(H^R&(z^H))+U[4]+3889429448&4294967295,M=z+(I<<20&4294967295|I>>>12),I=R+(z^H&(M^z))+U[9]+568446438&4294967295,R=M+(I<<5&4294967295|I>>>27),I=H+(M^z&(R^M))+U[14]+3275163606&4294967295,H=R+(I<<9&4294967295|I>>>23),I=z+(R^M&(H^R))+U[3]+4107603335&4294967295,z=H+(I<<14&4294967295|I>>>18),I=M+(H^R&(z^H))+U[8]+1163531501&4294967295,M=z+(I<<20&4294967295|I>>>12),I=R+(z^H&(M^z))+U[13]+2850285829&4294967295,R=M+(I<<5&4294967295|I>>>27),I=H+(M^z&(R^M))+U[2]+4243563512&4294967295,H=R+(I<<9&4294967295|I>>>23),I=z+(R^M&(H^R))+U[7]+1735328473&4294967295,z=H+(I<<14&4294967295|I>>>18),I=M+(H^R&(z^H))+U[12]+2368359562&4294967295,M=z+(I<<20&4294967295|I>>>12),I=R+(M^z^H)+U[5]+4294588738&4294967295,R=M+(I<<4&4294967295|I>>>28),I=H+(R^M^z)+U[8]+2272392833&4294967295,H=R+(I<<11&4294967295|I>>>21),I=z+(H^R^M)+U[11]+1839030562&4294967295,z=H+(I<<16&4294967295|I>>>16),I=M+(z^H^R)+U[14]+4259657740&4294967295,M=z+(I<<23&4294967295|I>>>9),I=R+(M^z^H)+U[1]+2763975236&4294967295,R=M+(I<<4&4294967295|I>>>28),I=H+(R^M^z)+U[4]+1272893353&4294967295,H=R+(I<<11&4294967295|I>>>21),I=z+(H^R^M)+U[7]+4139469664&4294967295,z=H+(I<<16&4294967295|I>>>16),I=M+(z^H^R)+U[10]+3200236656&4294967295,M=z+(I<<23&4294967295|I>>>9),I=R+(M^z^H)+U[13]+681279174&4294967295,R=M+(I<<4&4294967295|I>>>28),I=H+(R^M^z)+U[0]+3936430074&4294967295,H=R+(I<<11&4294967295|I>>>21),I=z+(H^R^M)+U[3]+3572445317&4294967295,z=H+(I<<16&4294967295|I>>>16),I=M+(z^H^R)+U[6]+76029189&4294967295,M=z+(I<<23&4294967295|I>>>9),I=R+(M^z^H)+U[9]+3654602809&4294967295,R=M+(I<<4&4294967295|I>>>28),I=H+(R^M^z)+U[12]+3873151461&4294967295,H=R+(I<<11&4294967295|I>>>21),I=z+(H^R^M)+U[15]+530742520&4294967295,z=H+(I<<16&4294967295|I>>>16),I=M+(z^H^R)+U[2]+3299628645&4294967295,M=z+(I<<23&4294967295|I>>>9),I=R+(z^(M|~H))+U[0]+4096336452&4294967295,R=M+(I<<6&4294967295|I>>>26),I=H+(M^(R|~z))+U[7]+1126891415&4294967295,H=R+(I<<10&4294967295|I>>>22),I=z+(R^(H|~M))+U[14]+2878612391&4294967295,z=H+(I<<15&4294967295|I>>>17),I=M+(H^(z|~R))+U[5]+4237533241&4294967295,M=z+(I<<21&4294967295|I>>>11),I=R+(z^(M|~H))+U[12]+1700485571&4294967295,R=M+(I<<6&4294967295|I>>>26),I=H+(M^(R|~z))+U[3]+2399980690&4294967295,H=R+(I<<10&4294967295|I>>>22),I=z+(R^(H|~M))+U[10]+4293915773&4294967295,z=H+(I<<15&4294967295|I>>>17),I=M+(H^(z|~R))+U[1]+2240044497&4294967295,M=z+(I<<21&4294967295|I>>>11),I=R+(z^(M|~H))+U[8]+1873313359&4294967295,R=M+(I<<6&4294967295|I>>>26),I=H+(M^(R|~z))+U[15]+4264355552&4294967295,H=R+(I<<10&4294967295|I>>>22),I=z+(R^(H|~M))+U[6]+2734768916&4294967295,z=H+(I<<15&4294967295|I>>>17),I=M+(H^(z|~R))+U[13]+1309151649&4294967295,M=z+(I<<21&4294967295|I>>>11),I=R+(z^(M|~H))+U[4]+4149444226&4294967295,R=M+(I<<6&4294967295|I>>>26),I=H+(M^(R|~z))+U[11]+3174756917&4294967295,H=R+(I<<10&4294967295|I>>>22),I=z+(R^(H|~M))+U[2]+718787259&4294967295,z=H+(I<<15&4294967295|I>>>17),I=M+(H^(z|~R))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(z+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+z&4294967295,O.g[3]=O.g[3]+H&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var M=R-this.blockSize,U=this.B,z=this.h,H=0;H<R;){if(z==0)for(;H<=M;)r(this,O,H),H+=this.blockSize;if(typeof O=="string"){for(;H<R;)if(U[z++]=O.charCodeAt(H++),z==this.blockSize){r(this,U),z=0;break}}else for(;H<R;)if(U[z++]=O[H++],z==this.blockSize){r(this,U),z=0;break}}this.h=z,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var M=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=M&255,M/=256;for(this.u(O),O=Array(16),R=M=0;4>R;++R)for(var U=0;32>U;U+=8)O[M++]=this.g[R]>>>U&255;return O};function o(O,R){var M=h;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=R(O)}function u(O,R){this.h=R;for(var M=[],U=!0,z=O.length-1;0<=z;z--){var H=O[z]|0;U&&H==R||(M[z]=H,U=!1)}this.g=M}var h={};function f(O){return-128<=O&&128>O?o(O,function(R){return new u([R|0],0>R?-1:0)}):new u([O|0],0>O?-1:0)}function d(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return D(d(-O));for(var R=[],M=1,U=0;O>=M;U++)R[U]=O/M|0,M*=4294967296;return new u(R,0)}function g(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return D(g(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(R,8)),U=v,z=0;z<O.length;z+=8){var H=Math.min(8,O.length-z),I=parseInt(O.substring(z,z+H),R);8>H?(H=d(Math.pow(R,H)),U=U.j(H).add(d(I))):(U=U.j(M),U=U.add(d(I)))}return U}var v=f(0),b=f(1),E=f(16777216);n=u.prototype,n.m=function(){if(k(this))return-D(this).m();for(var O=0,R=1,M=0;M<this.g.length;M++){var U=this.i(M);O+=(0<=U?U:4294967296+U)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(k(this))return"-"+D(this).toString(O);for(var R=d(Math.pow(O,6)),M=this,U="";;){var z=q(M,R).g;M=P(M,z.j(R));var H=((0<M.g.length?M.g[0]:M.h)>>>0).toString(O);if(M=z,C(M))return H+U;for(;6>H.length;)H="0"+H;U=H+U}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function k(O){return O.h==-1}n.l=function(O){return O=P(this,O),k(O)?-1:C(O)?0:1};function D(O){for(var R=O.g.length,M=[],U=0;U<R;U++)M[U]=~O.g[U];return new u(M,~O.h).add(b)}n.abs=function(){return k(this)?D(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),M=[],U=0,z=0;z<=R;z++){var H=U+(this.i(z)&65535)+(O.i(z)&65535),I=(H>>>16)+(this.i(z)>>>16)+(O.i(z)>>>16);U=I>>>16,H&=65535,I&=65535,M[z]=I<<16|H}return new u(M,M[M.length-1]&-2147483648?-1:0)};function P(O,R){return O.add(D(R))}n.j=function(O){if(C(this)||C(O))return v;if(k(this))return k(O)?D(this).j(D(O)):D(D(this).j(O));if(k(O))return D(this.j(D(O)));if(0>this.l(E)&&0>O.l(E))return d(this.m()*O.m());for(var R=this.g.length+O.g.length,M=[],U=0;U<2*R;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var z=0;z<O.g.length;z++){var H=this.i(U)>>>16,I=this.i(U)&65535,pe=O.i(z)>>>16,Ae=O.i(z)&65535;M[2*U+2*z]+=I*Ae,F(M,2*U+2*z),M[2*U+2*z+1]+=H*Ae,F(M,2*U+2*z+1),M[2*U+2*z+1]+=I*pe,F(M,2*U+2*z+1),M[2*U+2*z+2]+=H*pe,F(M,2*U+2*z+2)}for(U=0;U<R;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=R;U<2*R;U++)M[U]=0;return new u(M,0)};function F(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function B(O,R){this.g=O,this.h=R}function q(O,R){if(C(R))throw Error("division by zero");if(C(O))return new B(v,v);if(k(O))return R=q(D(O),R),new B(D(R.g),D(R.h));if(k(R))return R=q(O,D(R)),new B(D(R.g),R.h);if(30<O.g.length){if(k(O)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var M=b,U=R;0>=U.l(O);)M=Z(M),U=Z(U);var z=oe(M,1),H=oe(U,1);for(U=oe(U,2),M=oe(M,2);!C(U);){var I=H.add(U);0>=I.l(O)&&(z=z.add(M),H=I),U=oe(U,1),M=oe(M,1)}return R=P(O,z.j(R)),new B(z,R)}for(z=v;0<=O.l(R);){for(M=Math.max(1,Math.floor(O.m()/R.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),H=d(M),I=H.j(R);k(I)||0<I.l(O);)M-=U,H=d(M),I=H.j(R);C(H)&&(H=b),z=z.add(H),O=P(O,I)}return new B(z,O)}n.A=function(O){return q(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),M=[],U=0;U<R;U++)M[U]=this.i(U)&O.i(U);return new u(M,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),M=[],U=0;U<R;U++)M[U]=this.i(U)|O.i(U);return new u(M,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),M=[],U=0;U<R;U++)M[U]=this.i(U)^O.i(U);return new u(M,this.h^O.h)};function Z(O){for(var R=O.g.length+1,M=[],U=0;U<R;U++)M[U]=O.i(U)<<1|O.i(U-1)>>>31;return new u(M,O.h)}function oe(O,R){var M=R>>5;R%=32;for(var U=O.g.length-M,z=[],H=0;H<U;H++)z[H]=0<R?O.i(H+M)>>>R|O.i(H+M+1)<<32-R:O.i(H+M);return new u(z,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,dR=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Hr=u}).apply(typeof ix<"u"?ix:typeof self<"u"?self:typeof window<"u"?window:{});var Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mR,vc,pR,vd,iv,gR,yR,vR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,w){return m==Array.prototype||m==Object.prototype||(m[_]=w.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jf=="object"&&Jf];for(var _=0;_<m.length;++_){var w=m[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(m,_){if(_)e:{var w=i;m=m.split(".");for(var A=0;A<m.length-1;A++){var $=m[A];if(!($ in w))break e;w=w[$]}m=m[m.length-1],A=w[m],_=_(A),_!=A&&_!=null&&e(w,m,{configurable:!0,writable:!0,value:_})}}function o(m,_){m instanceof String&&(m+="");var w=0,A=!1,$={next:function(){if(!A&&w<m.length){var J=w++;return{value:_(J,m[J]),done:!1}}return A=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}r("Array.prototype.values",function(m){return m||function(){return o(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function d(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function g(m,_,w){return m.call.apply(m.bind,arguments)}function v(m,_,w){if(!m)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,A),m.apply(_,$)}}return function(){return m.apply(_,arguments)}}function b(m,_,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function E(m,_){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),m.apply(this,A)}}function C(m,_){function w(){}w.prototype=_.prototype,m.aa=_.prototype,m.prototype=new w,m.prototype.constructor=m,m.Qb=function(A,$,J){for(var ue=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ue[Be-2]=arguments[Be];return _.prototype[$].apply(A,ue)}}function k(m){const _=m.length;if(0<_){const w=Array(_);for(let A=0;A<_;A++)w[A]=m[A];return w}return[]}function D(m,_){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(f(A)){const $=m.length||0,J=A.length||0;m.length=$+J;for(let ue=0;ue<J;ue++)m[$+ue]=A[ue]}else m.push(A)}}class P{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function F(m){return/^[\s\xa0]*$/.test(m)}function B(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function q(m){return q[" "](m),m}q[" "]=function(){};var Z=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function oe(m,_,w){for(const A in m)_.call(w,m[A],A,m)}function O(m,_){for(const w in m)_.call(void 0,m[w],w,m)}function R(m){const _={};for(const w in m)_[w]=m[w];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(m,_){let w,A;for(let $=1;$<arguments.length;$++){A=arguments[$];for(w in A)m[w]=A[w];for(let J=0;J<M.length;J++)w=M[J],Object.prototype.hasOwnProperty.call(A,w)&&(m[w]=A[w])}}function z(m){var _=1;m=m.split(":");const w=[];for(;0<_&&m.length;)w.push(m.shift()),_--;return m.length&&w.push(m.join(":")),w}function H(m){h.setTimeout(()=>{throw m},0)}function I(){var m=Ce;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class pe{constructor(){this.h=this.g=null}add(_,w){const A=Ae.get();A.set(_,w),this.h?this.h.next=A:this.g=A,this.h=A}}var Ae=new P(()=>new X,m=>m.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,he=!1,Ce=new pe,L=()=>{const m=h.Promise.resolve(void 0);ee=()=>{m.then(se)}};var se=()=>{for(var m;m=I();){try{m.h.call(m.g)}catch(w){H(w)}var _=Ae;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}he=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const w=()=>{};h.addEventListener("test",w,_),h.removeEventListener("test",w,_)}catch{}return m})();function Oe(m,_){if(le.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var w=this.type=m.type,A=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(Z){e:{try{q(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else w=="mouseover"?_=m.fromElement:w=="mouseout"&&(_=m.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Re[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Oe.aa.h.call(this)}}C(Oe,le);var Re={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),it=0;function Li(m,_,w,A,$){this.listener=m,this.proxy=null,this.src=_,this.type=w,this.capture=!!A,this.ha=$,this.key=++it,this.da=this.fa=!1}function nr(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ps(m){this.src=m,this.g={},this.h=0}ps.prototype.add=function(m,_,w,A,$){var J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);var ue=la(m,_,A,$);return-1<ue?(_=m[ue],w||(_.fa=!1)):(_=new Li(_,this.src,J,!!A,$),_.fa=w,m.push(_)),_};function oa(m,_){var w=_.type;if(w in m.g){var A=m.g[w],$=Array.prototype.indexOf.call(A,_,void 0),J;(J=0<=$)&&Array.prototype.splice.call(A,$,1),J&&(nr(_),m.g[w].length==0&&(delete m.g[w],m.h--))}}function la(m,_,w,A){for(var $=0;$<m.length;++$){var J=m[$];if(!J.da&&J.listener==_&&J.capture==!!w&&J.ha==A)return $}return-1}var ua="closure_lm_"+(1e6*Math.random()|0),nu={};function Ah(m,_,w,A,$){if(Array.isArray(_)){for(var J=0;J<_.length;J++)Ah(m,_[J],w,A,$);return null}return w=Rh(w),m&&m[Gt]?m.K(_,w,d(A)?!!A.capture:!1,$):Jn(m,_,w,!1,A,$)}function Jn(m,_,w,A,$,J){if(!_)throw Error("Invalid event type");var ue=d($)?!!$.capture:!!$,Be=wo(m);if(Be||(m[ua]=Be=new ps(m)),w=Be.add(_,w,A,ue,J),w.proxy)return w;if(A=zm(),w.proxy=A,A.src=m,A.listener=w,m.addEventListener)ve||($=ue),$===void 0&&($=!1),m.addEventListener(_.toString(),A,$);else if(m.attachEvent)m.attachEvent(ca(_.toString()),A);else if(m.addListener&&m.removeListener)m.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function zm(){function m(w){return _.call(m.src,m.listener,w)}const _=Bm;return m}function iu(m,_,w,A,$){if(Array.isArray(_))for(var J=0;J<_.length;J++)iu(m,_[J],w,A,$);else A=d(A)?!!A.capture:!!A,w=Rh(w),m&&m[Gt]?(m=m.i,_=String(_).toString(),_ in m.g&&(J=m.g[_],w=la(J,w,A,$),-1<w&&(nr(J[w]),Array.prototype.splice.call(J,w,1),J.length==0&&(delete m.g[_],m.h--)))):m&&(m=wo(m))&&(_=m.g[_.toString()],m=-1,_&&(m=la(_,w,A,$)),(w=-1<m?_[m]:null)&&bo(w))}function bo(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Gt])oa(_.i,m);else{var w=m.type,A=m.proxy;_.removeEventListener?_.removeEventListener(w,A,m.capture):_.detachEvent?_.detachEvent(ca(w),A):_.addListener&&_.removeListener&&_.removeListener(A),(w=wo(_))?(oa(w,m),w.h==0&&(w.src=null,_[ua]=null)):nr(m)}}}function ca(m){return m in nu?nu[m]:nu[m]="on"+m}function Bm(m,_){if(m.da)m=!0;else{_=new Oe(_,this);var w=m.listener,A=m.ha||m.src;m.fa&&bo(m),m=w.call(A,_)}return m}function wo(m){return m=m[ua],m instanceof ps?m:null}var su="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rh(m){return typeof m=="function"?m:(m[su]||(m[su]=function(_){return m.handleEvent(_)}),m[su])}function vt(){ce.call(this),this.i=new ps(this),this.M=this,this.F=null}C(vt,ce),vt.prototype[Gt]=!0,vt.prototype.removeEventListener=function(m,_,w,A){iu(this,m,_,w,A)};function Xe(m,_){var w,A=m.F;if(A)for(w=[];A;A=A.F)w.push(A);if(m=m.M,A=_.type||_,typeof _=="string")_=new le(_,m);else if(_ instanceof le)_.target=_.target||m;else{var $=_;_=new le(A,m),U(_,$)}if($=!0,w)for(var J=w.length-1;0<=J;J--){var ue=_.g=w[J];$=Un(ue,A,!0,_)&&$}if(ue=_.g=m,$=Un(ue,A,!0,_)&&$,$=Un(ue,A,!1,_)&&$,w)for(J=0;J<w.length;J++)ue=_.g=w[J],$=Un(ue,A,!1,_)&&$}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var w=m.g[_],A=0;A<w.length;A++)nr(w[A]);delete m.g[_],m.h--}}this.F=null},vt.prototype.K=function(m,_,w,A){return this.i.add(String(m),_,!1,w,A)},vt.prototype.L=function(m,_,w,A){return this.i.add(String(m),_,!0,w,A)};function Un(m,_,w,A){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,J=0;J<_.length;++J){var ue=_[J];if(ue&&!ue.da&&ue.capture==w){var Be=ue.listener,zt=ue.ha||ue.src;ue.fa&&oa(m.i,ue),$=Be.call(zt,A)!==!1&&$}}return $&&!A.defaultPrevented}function fn(m,_,w){if(typeof m=="function")w&&(m=b(m,w));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(m,_||0)}function Ch(m){m.g=fn(()=>{m.g=null,m.i&&(m.i=!1,Ch(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class Fm extends ce{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ch(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(m){ce.call(this),this.h=m,this.g={}}C(ha,ce);var fa=[];function da(m){oe(m.g,function(_,w){this.g.hasOwnProperty(w)&&bo(_)},m),m.g={}}ha.prototype.N=function(){ha.aa.N.call(this),da(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=h.JSON.stringify,To=h.JSON.parse,ma=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function ru(){}ru.prototype.h=null;function au(m){return m.h||(m.h=m.i())}function ou(){}var gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ys(){le.call(this,"d")}C(ys,le);function lu(){le.call(this,"c")}C(lu,le);var Ui={},uu=null;function ir(){return uu=uu||new vt}Ui.La="serverreachability";function Eo(m){le.call(this,Ui.La,m)}C(Eo,le);function sr(m){const _=ir();Xe(_,new Eo(_))}Ui.STAT_EVENT="statevent";function Ih(m,_){le.call(this,Ui.STAT_EVENT,m),this.stat=_}C(Ih,le);function ut(m){const _=ir();Xe(_,new Ih(_,m))}Ui.Ma="timingevent";function jt(m,_){le.call(this,Ui.Ma,m),this.size=_}C(jt,le);function Dt(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},_)}function ei(){this.g=!0}ei.prototype.xa=function(){this.g=!1};function cu(m,_,w,A,$,J){m.info(function(){if(m.g)if(J)for(var ue="",Be=J.split("&"),zt=0;zt<Be.length;zt++){var Fe=Be[zt].split("=");if(1<Fe.length){var Kt=Fe[0];Fe=Fe[1];var Bt=Kt.split("_");ue=2<=Bt.length&&Bt[1]=="type"?ue+(Kt+"="+Fe+"&"):ue+(Kt+"=redacted&")}}else ue=null;else ue=J;return"XMLHTTP REQ ("+A+") [attempt "+$+"]: "+_+`
`+w+`
`+ue})}function qm(m,_,w,A,$,J,ue){m.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+$+"]: "+_+`
`+w+`
`+J+" "+ue})}function rr(m,_,w,A){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+pa(m,w)+(A?" "+A:"")})}function Dh(m,_){m.info(function(){return"TIMEOUT: "+_})}ei.prototype.info=function(){};function pa(m,_){if(!m.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(m=0;m<w.length;m++)if(Array.isArray(w[m])){var A=w[m];if(!(2>A.length)){var $=A[1];if(Array.isArray($)&&!(1>$.length)){var J=$[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ue=1;ue<$.length;ue++)$[ue]=""}}}}return bi(w)}catch{return _}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ji;function zi(){}C(zi,ru),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},ji=new zi;function Tn(m,_,w,A){this.j=m,this.i=_,this.l=w,this.R=A||1,this.U=new ha(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var hu={},xo={};function wi(m,_,w){m.L=1,m.v=ba(jn(_)),m.m=w,m.P=!0,_s(m,null)}function _s(m,_){m.F=Date.now(),ga(m),m.A=jn(m.v);var w=m.A,A=m.R;Array.isArray(A)||(A=[String(A)]),yu(w.i,"t",A),m.C=0,w=m.j.J,m.h=new xt,m.g=$h(m.j,w?_:null,!m.m),0<m.O&&(m.M=new Fm(b(m.Y,m,m.g),m.O)),_=m.U,w=m.g,A=m.ca;var $="readystatechange";Array.isArray($)||($&&(fa[0]=$.toString()),$=fa);for(var J=0;J<$.length;J++){var ue=Ah(w,$[J],A||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),sr(),cu(m.i,m.u,m.A,m.l,m.R,m.m)}Tn.prototype.ca=function(m){m=m.target;const _=this.M;_&&si(m)==3?_.j():this.Y(m)},Tn.prototype.Y=function(m){try{if(m==this.g)e:{const Bt=si(this.g);var _=this.g.Ba();const Rs=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Uh(this.g)))){this.J||Bt!=4||_==7||(_==8||0>=Rs?sr(3):sr(2)),or(this);var w=this.g.Z();this.X=w;t:if(kh(this)){var A=Uh(this.g);m="";var $=A.length,J=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Bi(this);var ue="";break t}this.h.i=new h.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,m+=this.h.i.decode(A[_],{stream:!(J&&_==$-1)});A.length=0,this.h.g+=m,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=w==200,qm(this.i,this.u,this.A,this.l,this.R,Bt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,zt=this.g;if((Be=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Be)){var Fe=Be;break t}}Fe=null}if(w=Fe)rr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,w);else{this.o=!1,this.s=3,ut(12),en(this),Bi(this);break e}}if(this.P){w=!0;let tn;for(;!this.J&&this.C<ue.length;)if(tn=Ph(this,ue),tn==xo){Bt==4&&(this.s=4,ut(14),w=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==hu){this.s=4,ut(15),rr(this.i,this.l,ue,"[Invalid Chunk]"),w=!1;break}else rr(this.i,this.l,tn,null),ya(this,tn);if(kh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ue.length!=0||this.h.h||(this.s=1,ut(16),w=!1),this.o=this.o&&w,!w)rr(this.i,this.l,ue,"[Invalid Chunked Response]"),en(this),Bi(this);else if(0<ue.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ca(Kt),Kt.M=!0,ut(11))}}else rr(this.i,this.l,ue,null),ya(this,ue);Bt==4&&en(this),this.o&&!this.J&&(Bt==4?qh(this.j,this):(this.o=!1,ga(this)))}else Ym(this.g),w==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),en(this),Bi(this)}}}catch{}finally{}};function kh(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ph(m,_){var w=m.C,A=_.indexOf(`
`,w);return A==-1?xo:(w=Number(_.substring(w,A)),isNaN(w)?hu:(A+=1,A+w>_.length?xo:(_=_.slice(A,A+w),m.C=A+w,_)))}Tn.prototype.cancel=function(){this.J=!0,en(this)};function ga(m){m.S=Date.now()+m.I,Mh(m,m.I)}function Mh(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Dt(b(m.ba,m),_)}function or(m){m.B&&(h.clearTimeout(m.B),m.B=null)}Tn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Dh(this.i,this.A),this.L!=2&&(sr(),ut(17)),en(this),this.s=2,Bi(this)):Mh(this,this.S-m)};function Bi(m){m.j.G==0||m.J||qh(m.j,m)}function en(m){or(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,da(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function ya(m,_){try{var w=m.j;if(w.G!=0&&(w.g==m||fu(w.h,m))){if(!m.K&&fu(w.h,m)&&w.G==3){try{var A=w.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var $=A;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<m.F)Vo(w),Oo(w);else break e;Tu(w),ut(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=Dt(b(w.Za,w),6e3));if(1>=Ao(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else As(w,11)}else if((m.K||w.g==m)&&Vo(w),!F(_))for($=w.Da.g.parse(_),_=0;_<$.length;_++){let Fe=$[_];if(w.T=Fe[0],Fe=Fe[1],w.G==2)if(Fe[0]=="c"){w.K=Fe[1],w.ia=Fe[2];const Kt=Fe[3];Kt!=null&&(w.la=Kt,w.j.info("VER="+w.la));const Bt=Fe[4];Bt!=null&&(w.Aa=Bt,w.j.info("SVER="+w.Aa));const Rs=Fe[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(A=1.5*Rs,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const tn=m.g;if(tn){const Yi=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var J=A.h;J.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ro(J,J.h),J.h=null))}if(A.D){const xu=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;xu&&(A.ya=xu,Ze(A.I,A.D,xu))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-m.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var ue=m;if(A.qa=Gh(A,A.J?A.ia:null,A.W),ue.K){En(A.h,ue);var Be=ue,zt=A.L;zt&&(Be.I=zt),Be.B&&(or(Be),ga(Be)),A.g=ue}else Bh(A);0<w.i.length&&No(w)}else Fe[0]!="stop"&&Fe[0]!="close"||As(w,7);else w.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?As(w,7):bu(w):Fe[0]!="noop"&&w.l&&w.l.ta(Fe),w.v=0)}}sr(4)}catch{}}var Oh=class{constructor(m,_){this.g=m,this.map=_}};function bs(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function So(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ao(m){return m.h?1:m.g?m.g.size:0}function fu(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Ro(m,_){m.g?m.g.add(_):m.h=_}function En(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}bs.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function du(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const w of m.g.values())_=_.concat(w.D);return _}return k(m.i)}function Hm(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var _=[],w=m.length,A=0;A<w;A++)_.push(m[A]);return _}_=[],w=0;for(A in m)_[w++]=m[A];return _}function Co(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var _=[];m=m.length;for(var w=0;w<m;w++)_.push(w);return _}_=[],w=0;for(const A in m)_[w++]=A;return _}}}function mu(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var w=Co(m),A=Hm(m),$=A.length,J=0;J<$;J++)_.call(void 0,A[J],w&&w[J],m)}var va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gm(m,_){if(m){m=m.split("&");for(var w=0;w<m.length;w++){var A=m[w].indexOf("="),$=null;if(0<=A){var J=m[w].substring(0,A);$=m[w].substring(A+1)}else J=m[w];_(J,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function kt(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof kt){this.h=m.h,_a(this,m.j),this.o=m.o,this.g=m.g,lr(this,m.s),this.l=m.l;var _=m.i,w=new Ts;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),ws(this,w),this.m=m.m}else m&&(_=String(m).match(va))?(this.h=!1,_a(this,_[1]||"",!0),this.o=ti(_[2]||""),this.g=ti(_[3]||"",!0),lr(this,_[4]),this.l=ti(_[5]||"",!0),ws(this,_[6]||"",!0),this.m=ti(_[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}kt.prototype.toString=function(){var m=[],_=this.j;_&&m.push(wa(_,pu,!0),":");var w=this.g;return(w||_=="file")&&(m.push("//"),(_=this.o)&&m.push(wa(_,pu,!0),"@"),m.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&m.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&m.push("/"),m.push(wa(w,w.charAt(0)=="/"?$m:gu,!0))),(w=this.i.toString())&&m.push("?",w),(w=this.m)&&m.push("#",wa(w,Io)),m.join("")};function jn(m){return new kt(m)}function _a(m,_,w){m.j=w?ti(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function lr(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function ws(m,_,w){_ instanceof Ts?(m.i=_,Vh(m.i,m.h)):(w||(_=wa(_,Km)),m.i=new Ts(_,m.h))}function Ze(m,_,w){m.i.set(_,w)}function ba(m){return Ze(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ti(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function wa(m,_,w){return typeof m=="string"?(m=encodeURI(m).replace(_,Nh),w&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Nh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var pu=/[#\/\?@]/g,gu=/[#\?:]/g,$m=/[#\?]/g,Km=/[#\?@]/g,Io=/#/g;function Ts(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function ni(m){m.g||(m.g=new Map,m.h=0,m.i&&Gm(m.i,function(_,w){m.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=Ts.prototype,n.add=function(m,_){ni(this),this.i=null,m=Fi(this,m);var w=this.g.get(m);return w||this.g.set(m,w=[]),w.push(_),this.h+=1,this};function Es(m,_){ni(m),_=Fi(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function xs(m,_){return ni(m),_=Fi(m,_),m.g.has(_)}n.forEach=function(m,_){ni(this),this.g.forEach(function(w,A){w.forEach(function($){m.call(_,$,A,this)},this)},this)},n.na=function(){ni(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let A=0;A<_.length;A++){const $=m[A];for(let J=0;J<$.length;J++)w.push(_[A])}return w},n.V=function(m){ni(this);let _=[];if(typeof m=="string")xs(this,m)&&(_=_.concat(this.g.get(Fi(this,m))));else{m=Array.from(this.g.values());for(let w=0;w<m.length;w++)_=_.concat(m[w])}return _},n.set=function(m,_){return ni(this),this.i=null,m=Fi(this,m),xs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function yu(m,_,w){Es(m,_),0<w.length&&(m.i=null,m.g.set(Fi(m,_),k(w)),m.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var A=_[w];const J=encodeURIComponent(String(A)),ue=this.V(A);for(A=0;A<ue.length;A++){var $=J;ue[A]!==""&&($+="="+encodeURIComponent(String(ue[A]))),m.push($)}}return this.i=m.join("&")};function Fi(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Vh(m,_){_&&!m.j&&(ni(m),m.i=null,m.g.forEach(function(w,A){var $=A.toLowerCase();A!=$&&(Es(this,A),yu(this,$,w))},m)),m.j=_}function Ta(m,_){const w=new ei;if(h.Image){const A=new Image;A.onload=E(ii,w,"TestLoadImage: loaded",!0,_,A),A.onerror=E(ii,w,"TestLoadImage: error",!1,_,A),A.onabort=E(ii,w,"TestLoadImage: abort",!1,_,A),A.ontimeout=E(ii,w,"TestLoadImage: timeout",!1,_,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=m}else _(!1)}function Ti(m,_){const w=new ei,A=new AbortController,$=setTimeout(()=>{A.abort(),ii(w,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:A.signal}).then(J=>{clearTimeout($),J.ok?ii(w,"TestPingServer: ok",!0,_):ii(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),ii(w,"TestPingServer: error",!1,_)})}function ii(m,_,w,A,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),A(w)}catch{}}function Ea(){this.g=new ma}function qi(m,_,w){const A=w||"";try{mu(m,function($,J){let ue=$;d($)&&(ue=bi($)),_.push(A+J+"="+encodeURIComponent(ue))})}catch($){throw _.push(A+"type="+encodeURIComponent("_badmap")),$}}function ur(m){this.l=m.Ub||null,this.j=m.eb||!1}C(ur,ru),ur.prototype.g=function(){return new Ss(this.l,this.j)},ur.prototype.i=(function(m){return function(){return m}})({});function Ss(m,_){vt.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ss,vt),n=Ss.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Gi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Hi(this):Gi(this),this.readyState==3&&vu(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Hi(this))},n.Qa=function(m){this.g&&(this.response=m,Hi(this))},n.ga=function(){this.g&&Hi(this)};function Hi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Gi(m)}n.setRequestHeader=function(m,_){this.u.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,m.push(w[0]+": "+w[1]),w=_.next();return m.join(`\r
`)};function Gi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function _u(m){let _="";return oe(m,function(w,A){_+=A,_+=":",_+=w,_+=`\r
`}),_}function $t(m,_,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=_u(w),typeof m=="string"?w!=null&&encodeURIComponent(String(w)):Ze(m,_,w))}function Ke(m){vt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ke,vt);var Do=/^https?$/i,xa=["POST","PUT"];n=Ke.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,_,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ji.g(),this.v=this.o?au(this.o):au(ji),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(J){Lh(this,J);return}if(m=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var $ in A)w.set($,A[$]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())w.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),$=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(xa,_,void 0))||A||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ue]of w)this.g.setRequestHeader(J,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(m),this.u=!1}catch(J){Lh(this,J)}};function Lh(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,ko(m),$i(m)}function ko(m){m.A||(m.A=!0,Xe(m,"complete"),Xe(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Xe(this,"complete"),Xe(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Po(this):this.bb())},n.bb=function(){Po(this)};function Po(m){if(m.h&&typeof u<"u"&&(!m.v[1]||si(m)!=4||m.Z()!=2)){if(m.u&&si(m)==4)fn(m.Ea,0,m);else if(Xe(m,"readystatechange"),si(m)==4){m.h=!1;try{const ue=m.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var A;if(A=ue===0){var $=String(m.D).match(va)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),A=!Do.test($?$.toLowerCase():"")}w=A}if(w)Xe(m,"complete"),Xe(m,"success");else{m.m=6;try{var J=2<si(m)?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.Z()+"]",ko(m)}}finally{$i(m)}}}}function $i(m,_){if(m.g){Sa(m);const w=m.g,A=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||Xe(m,"ready");try{w.onreadystatechange=A}catch{}}}function Sa(m){m.I&&(h.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function si(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),To(_)}};function Uh(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ym(m){const _={};m=(m.g&&2<=si(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<m.length;A++){if(F(m[A]))continue;var w=z(m[A]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=_[$]||[];_[$]=J,J.push(w)}O(_,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(m,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[m]||_}function Mo(m){this.Aa=0,this.i=[],this.j=new ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,m),this.cb=Aa("retryDelaySeedMs",1e4,m),this.Wa=Aa("forwardChannelMaxRetries",2,m),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(m&&m.concurrentRequestLimit),this.Da=new Ea,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Mo.prototype,n.la=8,n.G=1,n.connect=function(m,_,w,A){ut(0),this.W=m,this.H=_||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=Gh(this,null,this.W),No(this)};function bu(m){if(jh(m),m.G==3){var _=m.U++,w=jn(m.I);if(Ze(w,"SID",m.K),Ze(w,"RID",_),Ze(w,"TYPE","terminate"),Ra(m,w),_=new Tn(m,m.j,_),_.L=2,_.v=ba(jn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=_.v,w=!0),w||(_.g=$h(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ga(_)}Hh(m)}function Oo(m){m.g&&(Ca(m),m.g.cancel(),m.g=null)}function jh(m){Oo(m),m.u&&(h.clearTimeout(m.u),m.u=null),Vo(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function No(m){if(!So(m.h)&&!m.s){m.s=!0;var _=m.Ga;ee||L(),he||(ee(),he=!0),Ce.add(_,m),m.B=0}}function Xm(m,_){return Ao(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Dt(b(m.Ga,m,_),Eu(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const $=new Tn(this,this.j,m);let J=this.o;if(this.S&&(J?(J=R(J),U(J,this.S)):J=this.S),this.m!==null||this.O||($.H=J,J=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=zh(this,$,_),w=jn(this.I),Ze(w,"RID",m),Ze(w,"CVER",22),this.D&&Ze(w,"X-HTTP-Session-Id",this.D),Ra(this,w),J&&(this.O?_="headers="+encodeURIComponent(String(_u(J)))+"&"+_:this.m&&$t(w,this.m,J)),Ro(this.h,$),this.Ua&&Ze(w,"TYPE","init"),this.P?(Ze(w,"$req",_),Ze(w,"SID","null"),$.T=!0,wi($,w,null)):wi($,w,_),this.G=2}}else this.G==3&&(m?wu(this,m):this.i.length==0||So(this.h)||wu(this))};function wu(m,_){var w;_?w=_.l:w=m.U++;const A=jn(m.I);Ze(A,"SID",m.K),Ze(A,"RID",w),Ze(A,"AID",m.T),Ra(m,A),m.m&&m.o&&$t(A,m.m,m.o),w=new Tn(m,m.j,w,m.B+1),m.m===null&&(w.H=m.o),_&&(m.i=_.D.concat(m.i)),_=zh(m,w,1e3),w.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ro(m.h,w),wi(w,A,_)}function Ra(m,_){m.H&&oe(m.H,function(w,A){Ze(_,A,w)}),m.l&&mu({},function(w,A){Ze(_,A,w)})}function zh(m,_,w){w=Math.min(m.i.length,w);var A=m.l?b(m.l.Na,m.l,m):null;e:{var $=m.i;let J=-1;for(;;){const ue=["count="+w];J==-1?0<w?(J=$[0].g,ue.push("ofs="+J)):J=0:ue.push("ofs="+J);let Be=!0;for(let zt=0;zt<w;zt++){let Fe=$[zt].g;const Kt=$[zt].map;if(Fe-=J,0>Fe)J=Math.max(0,$[zt].g-100),Be=!1;else try{qi(Kt,ue,"req"+Fe+"_")}catch{A&&A(Kt)}}if(Be){A=ue.join("&");break e}}}return m=m.i.splice(0,w),_.D=m,A}function Bh(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;ee||L(),he||(ee(),he=!0),Ce.add(_,m),m.v=0}}function Tu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Dt(b(m.Fa,m),Eu(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Fh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Dt(b(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Oo(this),Fh(this))};function Ca(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Fh(m){m.g=new Tn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=jn(m.qa);Ze(_,"RID","rpc"),Ze(_,"SID",m.K),Ze(_,"AID",m.T),Ze(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ze(_,"TO",m.ja),Ze(_,"TYPE","xmlhttp"),Ra(m,_),m.m&&m.o&&$t(_,m.m,m.o),m.L&&(m.g.I=m.L);var w=m.g;m=m.ia,w.L=1,w.v=ba(jn(_)),w.m=null,w.P=!0,_s(w,m)}n.Za=function(){this.C!=null&&(this.C=null,Oo(this),Tu(this),ut(19))};function Vo(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function qh(m,_){var w=null;if(m.g==_){Vo(m),Ca(m),m.g=null;var A=2}else if(fu(m.h,_))w=_.D,En(m.h,_),A=1;else return;if(m.G!=0){if(_.o)if(A==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var $=m.B;A=ir(),Xe(A,new jt(A,w)),No(m)}else Bh(m);else if($=_.s,$==3||$==0&&0<_.X||!(A==1&&Xm(m,_)||A==2&&Tu(m)))switch(w&&0<w.length&&(_=m.h,_.i=_.i.concat(w)),$){case 1:As(m,5);break;case 4:As(m,10);break;case 3:As(m,6);break;default:As(m,2)}}}function Eu(m,_){let w=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(w*=2),w*_}function As(m,_){if(m.j.info("Error code "+_),_==2){var w=b(m.fb,m),A=m.Xa;const $=!A;A=new kt(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||_a(A,"https"),ba(A),$?Ta(A.toString(),w):Ti(A.toString(),w)}else ut(2);m.G=0,m.l&&m.l.sa(_),Hh(m),jh(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Hh(m){if(m.G=0,m.ka=[],m.l){const _=du(m.h);(_.length!=0||m.i.length!=0)&&(D(m.ka,_),D(m.ka,m.i),m.h.i.length=0,k(m.i),m.i.length=0),m.l.ra()}}function Gh(m,_,w){var A=w instanceof kt?jn(w):new kt(w);if(A.g!="")_&&(A.g=_+"."+A.g),lr(A,A.s);else{var $=h.location;A=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var J=new kt(null);A&&_a(J,A),_&&(J.g=_),$&&lr(J,$),w&&(J.l=w),A=J}return w=m.D,_=m.ya,w&&_&&Ze(A,w,_),Ze(A,"VER",m.la),Ra(m,A),A}function $h(m,_,w){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new Ke(new ur({eb:w})):new Ke(m.pa),_.Ha(m.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kh(){}n=Kh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Lo(){}Lo.prototype.g=function(m,_){return new xn(m,_)};function xn(m,_){vt.call(this),this.g=new Mo(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!F(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!F(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Ki(this)}C(xn,vt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){bu(this.g)},xn.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var w={};w.__data__=m,m=w}else this.u&&(w={},w.__data__=bi(m),m=w);_.i.push(new Oh(_.Ya++,m)),_.G==3&&No(_)},xn.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,xn.aa.N.call(this)};function Yh(m){ys.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const w in _){m=w;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}C(Yh,ys);function Xh(){lu.call(this),this.status=1}C(Xh,lu);function Ki(m){this.g=m}C(Ki,Kh),Ki.prototype.ua=function(){Xe(this.g,"a")},Ki.prototype.ta=function(m){Xe(this.g,new Yh(m))},Ki.prototype.sa=function(m){Xe(this.g,new Xh)},Ki.prototype.ra=function(){Xe(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,vR=function(){return new Lo},yR=function(){return ir()},gR=Ui,iv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,vd=ar,vs.COMPLETE="complete",pR=vs,ou.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",vt.prototype.listen=vt.prototype.K,vc=ou,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,mR=Ke}).apply(typeof Jf<"u"?Jf:typeof self<"u"?self:typeof window<"u"?window:{});const sx="@firebase/firestore",rx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new l_("@firebase/firestore");function ml(){return lo.logLevel}function de(n,...e){if(lo.logLevel<=Ue.DEBUG){const t=e.map(__);lo.debug(`Firestore (${Yl}): ${n}`,...t)}}function Qs(n,...e){if(lo.logLevel<=Ue.ERROR){const t=e.map(__);lo.error(`Firestore (${Yl}): ${n}`,...t)}}function Vl(n,...e){if(lo.logLevel<=Ue.WARN){const t=e.map(__);lo.warn(`Firestore (${Yl}): ${n}`,...t)}}function __(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,_R(n,i,t)}function _R(n,e,t){let i=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Qs(i),new Error(i)}function Ye(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||_R(e,r,i)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ms{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gn.UNAUTHENTICATED)))}shutdown(){}}class _6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class b6{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let o=new Qa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qa,e.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qa)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string",31837,{l:i}),new bR(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class w6{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T6{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new w6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ax{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const i=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const r=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ax(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ax(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=x6(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%62))}return i}}function je(n,e){return n<e?-1:n>e?1:0}function sv(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),o=e.charAt(i);if(r!==o)return yy(r)===yy(o)?je(r,o):yy(r)?1:-1}return je(n.length,e.length)}const S6=55296,A6=57343;function yy(n){const e=n.charCodeAt(0);return e>=S6&&e<=A6}function Ll(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="__name__";class es{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ee(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=es.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return je(e.length,t.length)}static compareSegments(e,t){const i=es.isNumericId(e),r=es.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?es.extractNumericId(e).compare(es.extractNumericId(t)):sv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}}class rt extends es{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const R6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends es{construct(e,t,i){return new un(e,t,i)}static isValidIdentifier(e){return R6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ox}static keyField(){return new un([ox])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(i.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n,e,t){if(!t)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C6(n,e,t,i){if(e===!0&&i===!0)throw new fe(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lx(n){if(!ye.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ux(n){if(ye.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function TR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function gm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Ks(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gm(n);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n,e){const t={typeString:n};return e&&(t.value=e),t}function mh(n,e){if(!TR(n))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(r&&typeof u!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new fe(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=-62135596800,hx=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*hx);return new ot(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cx)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hx}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mh(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Lt("string",ot._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ot(0,0))}static max(){return new Ie(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=-1;function I6(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ie.fromTimestamp(i===1e9?new ot(t+1,0):new ot(t,i));return new Kr(r,ye.empty(),e)}function D6(n){return new Kr(n.readTime,n.key,Gc)}class Kr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Kr(Ie.min(),ye.empty(),Gc)}static max(){return new Kr(Ie.max(),ye.empty(),Gc)}}function k6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==P6)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.reject(t)}static resolve(e){return new ae(((t,i)=>{t(e)}))}static reject(e){return new ae(((t,i)=>{i(e)}))}static waitFor(e){return new ae(((t,i)=>{let r=0,o=0,u=!1;e.forEach((h=>{++r,h.next((()=>{++o,u&&o===r&&t()}),(f=>i(f)))})),u=!0,o===r&&t()}))}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next((r=>r?ae.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,o)=>{i.push(t.call(this,r,o))})),this.waitFor(i)}static mapArray(e,t){return new ae(((i,r)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++h,h===o&&i(u)}),(g=>r(g)))}}))}static doWhile(e,t){return new ae(((i,r)=>{const o=()=>{e()===!0?t().next((()=>{o()}),r):i()};o()}))}}function O6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ym.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-1;function vm(n){return n==null}function qd(n){return n===0&&1/n==-1/0}function N6(n){return typeof n=="number"&&Number.isInteger(n)&&!qd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="";function V6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fx(e)),e=L6(n.get(t),e);return fx(e)}function L6(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="";break;case ER:t+="";break;default:t+=o}}return t}function fx(n){return n+ER+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ed(this.root,e,this.comparator,!0)}}class ed{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??on.RED,this.left=r??on.EMPTY,this.right=o??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new on(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return on.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,i,r,o){return this}insert(e,t,i){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mx(this.data.getIterator())}getIteratorFrom(e){return new mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Ht(un.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new SR("Invalid base64 string: "+o):o}})(e);return new hn(t)}static fromUint8Array(e){const t=(function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o})(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const U6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(n){if(Ye(!!n,39018),typeof n=="string"){let e=0;const t=U6.exec(n);if(Ye(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xr(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="server_timestamp",RR="__type__",CR="__previous_value__",IR="__local_write_time__";function T_(n){return(n?.mapValue?.fields||{})[RR]?.stringValue===AR}function _m(n){const e=n.mapValue.fields[CR];return T_(e)?_m(e):e}function $c(n){const e=Yr(n.mapValue.fields[IR].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,t,i,r,o,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const Hd="(default)";class Kc{constructor(e,t){this.projectId=e,this.database=t||Hd}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="__type__",z6="__max__",td={mapValue:{}},kR="__vector__",Gd="value";function Wr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?T_(n)?4:F6(n)?9007199254740991:B6(n)?10:11:Ee(28295,{value:n})}function fs(n,e){if(n===e)return!0;const t=Wr(n);if(t!==Wr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $c(n).isEqual($c(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Yr(r.timestampValue),h=Yr(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,o){return Xr(r.bytesValue).isEqual(Xr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,o){return Ct(r.geoPointValue.latitude)===Ct(o.geoPointValue.latitude)&&Ct(r.geoPointValue.longitude)===Ct(o.geoPointValue.longitude)})(n,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Ct(r.integerValue)===Ct(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Ct(r.doubleValue),h=Ct(o.doubleValue);return u===h?qd(u)===qd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Ll(n.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return(function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(dx(u)!==dx(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!fs(u[f],h[f])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function Yc(n,e){return(n.values||[]).find((t=>fs(t,e)))!==void 0}function Ul(n,e){if(n===e)return 0;const t=Wr(n),i=Wr(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Ct(o.integerValue||o.doubleValue),f=Ct(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return px(n.timestampValue,e.timestampValue);case 4:return px($c(n),$c(e));case 5:return sv(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Xr(o),f=Xr(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=je(h[d],f[d]);if(g!==0)return g}return je(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=je(Ct(o.latitude),Ct(u.latitude));return h!==0?h:je(Ct(o.longitude),Ct(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return gx(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},f=u.fields||{},d=h[Gd]?.arrayValue,g=f[Gd]?.arrayValue,v=je(d?.values?.length||0,g?.values?.length||0);return v!==0?v:gx(d,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===td.mapValue&&u===td.mapValue)return 0;if(o===td.mapValue)return 1;if(u===td.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const b=sv(f[v],g[v]);if(b!==0)return b;const E=Ul(h[f[v]],d[g[v]]);if(E!==0)return E}return je(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function px(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=Yr(n),i=Yr(e),r=je(t.seconds,i.seconds);return r!==0?r:je(t.nanos,i.nanos)}function gx(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const o=Ul(t[r],i[r]);if(o)return o}return je(t.length,i.length)}function jl(n){return rv(n)}function rv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Yr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Xr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=rv(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const u of i)o?o=!1:r+=",",r+=`${u}:${rv(t.fields[u])}`;return r+"}"})(n.mapValue):Ee(61005,{value:n})}function _d(n){switch(Wr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_m(n);return e?16+_d(e):16;case 5:return 2*n.stringValue.length;case 6:return Xr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+_d(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return sa(i.fields,((o,u)=>{r+=o.length+_d(u)})),r})(n.mapValue);default:throw Ee(13486,{value:n})}}function yx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function av(n){return!!n&&"integerValue"in n}function E_(n){return!!n&&"arrayValue"in n}function vx(n){return!!n&&"nullValue"in n}function _x(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bd(n){return!!n&&"mapValue"in n}function B6(n){return(n?.mapValue?.fields||{})[DR]?.stringValue===kR}function Cc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return sa(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Cc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cc(n.arrayValue.values[t]);return e}return{...n}}function F6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===z6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!bd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(t)}setAll(e){let t=un.emptyPath(),i={},r=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=Cc(u):r.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());bd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];bd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){sa(t,((r,o)=>e[r]=o));for(const r of i)delete e[r]}clone(){return new On(Cc(this.value))}}function PR(n){const e=[];return sa(n.fields,((t,i)=>{const r=new un([t]);if(bd(i)){const o=PR(i.mapValue).fields;if(o.length===0)e.push(r);else for(const u of o)e.push(r.child(u))}else e.push(r)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,i,r,o,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new yn(e,0,Ie.min(),Ie.min(),Ie.min(),On.empty(),0)}static newFoundDocument(e,t,i,r){return new yn(e,1,t,Ie.min(),i,r,0)}static newNoDocument(e,t){return new yn(e,2,t,Ie.min(),Ie.min(),On.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Ie.min(),Ie.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t){this.position=e,this.inclusive=t}}function bx(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],u=n.position[r];if(o.field.isKeyField()?i=ye.comparator(ye.fromName(u.referenceValue),t.key):i=Ul(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function wx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function q6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{}class Vt extends MR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new G6(e,t,i):t==="array-contains"?new Y6(e,i):t==="in"?new X6(e,i):t==="not-in"?new W6(e,i):t==="array-contains-any"?new Q6(e,i):new Vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new $6(e,i):new K6(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ul(t,this.value)):t!==null&&Wr(this.value)===Wr(t)&&this.matchesComparison(Ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends MR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Oi(e,t)}matches(e){return OR(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OR(n){return n.op==="and"}function NR(n){return H6(n)&&OR(n)}function H6(n){for(const e of n.filters)if(e instanceof Oi)return!1;return!0}function ov(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+jl(n.value);if(NR(n))return n.filters.map((e=>ov(e))).join(",");{const e=n.filters.map((t=>ov(t))).join(",");return`${n.op}(${e})`}}function VR(n,e){return n instanceof Vt?(function(i,r){return r instanceof Vt&&i.op===r.op&&i.field.isEqual(r.field)&&fs(i.value,r.value)})(n,e):n instanceof Oi?(function(i,r){return r instanceof Oi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,u,h)=>o&&VR(u,r.filters[h])),!0):!1})(n,e):void Ee(19439)}function LR(n){return n instanceof Vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${jl(t.value)}`})(n):n instanceof Oi?(function(t){return t.op.toString()+" {"+t.getFilters().map(LR).join(" ,")+"}"})(n):"Filter"}class G6 extends Vt{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class $6 extends Vt{constructor(e,t){super(e,"in",t),this.keys=UR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class K6 extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=UR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function UR(n,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class Y6 extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return E_(t)&&Yc(t.arrayValue,this.value)}}class X6 extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yc(this.value.arrayValue,t)}}class W6 extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yc(this.value.arrayValue,t)}}class Q6 extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!E_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Yc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,t=null,i=[],r=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Tx(n,e=null,t=[],i=[],r=null,o=null,u=null){return new Z6(n,e,t,i,r,o,u)}function x_(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>ov(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),vm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>jl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>jl(i))).join(",")),e.Te=t}return e.Te}function S_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!q6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!VR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wx(n.startAt,e.startAt)&&wx(n.endAt,e.endAt)}function lv(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t=null,i=[],r=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J6(n,e,t,i,r,o,u,h){return new Ql(n,e,t,i,r,o,u,h)}function A_(n){return new Ql(n)}function Ex(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jR(n){return n.collectionGroup!==null}function Ic(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ht(un.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Xc(o,i))})),t.has(un.keyField().canonicalString())||e.Ie.push(new Xc(un.keyField(),i))}return e.Ie}function rs(n){const e=De(n);return e.Ee||(e.Ee=ej(e,Ic(n))),e.Ee}function ej(n,e){if(n.limitType==="F")return Tx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Xc(r.field,o)}));const t=n.endAt?new $d(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new $d(n.startAt.position,n.startAt.inclusive):null;return Tx(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function uv(n,e){const t=n.filters.concat([e]);return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function cv(n,e,t){return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bm(n,e){return S_(rs(n),rs(e))&&n.limitType===e.limitType}function zR(n){return`${x_(rs(n))}|lt:${n.limitType}`}function pl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>LR(r))).join(", ")}]`),vm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>jl(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>jl(r))).join(",")),`Target(${i})`})(rs(n))}; limitType=${n.limitType})`}function wm(n,e){return e.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ye.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,r){for(const o of Ic(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(u,h,f){const d=bx(u,h,f);return u.inclusive?d<=0:d<0})(i.startAt,Ic(i),r)||i.endAt&&!(function(u,h,f){const d=bx(u,h,f);return u.inclusive?d>=0:d>0})(i.endAt,Ic(i),r))})(n,e)}function tj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BR(n){return(e,t)=>{let i=!1;for(const r of Ic(n)){const o=nj(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function nj(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Ul(f,d):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((t,i)=>{for(const[r,o]of i)e(r,o)}))}isEmpty(){return xR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new yt(ye.comparator);function Zs(){return ij}const FR=new yt(ye.comparator);function _c(...n){let e=FR;for(const t of n)e=e.insert(t.key,t);return e}function qR(n){let e=FR;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ya(){return Dc()}function HR(){return Dc()}function Dc(){return new yo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const sj=new yt(ye.comparator),rj=new Ht(ye.comparator);function ze(...n){let e=rj;for(const t of n)e=e.add(t);return e}const aj=new Ht(je);function oj(){return aj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function GR(n){return{integerValue:""+n}}function lj(n,e){return N6(e)?GR(e):R_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this._=void 0}}function uj(n,e,t){return n instanceof Wc?(function(r,o){const u={fields:{[RR]:{stringValue:AR},[IR]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&T_(o)&&(o=_m(o)),o&&(u.fields[CR]=o),{mapValue:u}})(t,e):n instanceof Qc?KR(n,e):n instanceof Zc?YR(n,e):(function(r,o){const u=$R(r,o),h=xx(u)+xx(r.Ae);return av(u)&&av(r.Ae)?GR(h):R_(r.serializer,h)})(n,e)}function cj(n,e,t){return n instanceof Qc?KR(n,e):n instanceof Zc?YR(n,e):t}function $R(n,e){return n instanceof Kd?(function(i){return av(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Wc extends Tm{}class Qc extends Tm{constructor(e){super(),this.elements=e}}function KR(n,e){const t=XR(e);for(const i of n.elements)t.some((r=>fs(r,i)))||t.push(i);return{arrayValue:{values:t}}}class Zc extends Tm{constructor(e){super(),this.elements=e}}function YR(n,e){let t=XR(e);for(const i of n.elements)t=t.filter((r=>!fs(r,i)));return{arrayValue:{values:t}}}class Kd extends Tm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function xx(n){return Ct(n.integerValue||n.doubleValue)}function XR(n){return E_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,t){this.field=e,this.transform=t}}function fj(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof Qc&&r instanceof Qc||i instanceof Zc&&r instanceof Zc?Ll(i.elements,r.elements,fs):i instanceof Kd&&r instanceof Kd?fs(i.Ae,r.Ae):i instanceof Wc&&r instanceof Wc})(n.transform,e.transform)}class dj{constructor(e,t){this.version=e,this.transformResults=t}}class Ln{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Em{}function WR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xm(n.key,Ln.none()):new ph(n.key,n.data,Ln.none());{const t=n.data,i=On.empty();let r=new Ht(un.comparator);for(let o of e.fields)if(!r.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),r=r.add(o)}return new ra(n.key,i,new Yn(r.toArray()),Ln.none())}}function mj(n,e,t){n instanceof ph?(function(r,o,u){const h=r.value.clone(),f=Ax(r.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ra?(function(r,o,u){if(!wd(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Ax(r.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(QR(r)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(r,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function kc(n,e,t,i){return n instanceof ph?(function(o,u,h,f){if(!wd(o.precondition,u))return h;const d=o.value.clone(),g=Rx(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof ra?(function(o,u,h,f){if(!wd(o.precondition,u))return h;const d=Rx(o.fieldTransforms,f,u),g=u.data;return g.setAll(QR(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(o,u,h){return wd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function pj(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=$R(i.transform,r||null);o!=null&&(t===null&&(t=On.empty()),t.set(i.field,o))}return t||null}function Sx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ll(i,r,((o,u)=>fj(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ph extends Em{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ra extends Em{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Ax(n,e,t){const i=new Map;Ye(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const o=n[r],u=o.transform,h=e.data.field(o.field);i.set(o.field,cj(u,h,t[r]))}return i}function Rx(n,e,t){const i=new Map;for(const r of n){const o=r.transform,u=t.data.field(r.field);i.set(r.field,uj(o,u,e))}return i}class xm extends Em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gj extends Em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&mj(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=kc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=kc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=HR();return this.mutations.forEach((r=>{const o=e.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(r.key)?null:h;const f=WR(u,h);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,((t,i)=>Sx(t,i)))&&Ll(this.baseMutations,e.baseMutations,((t,i)=>Sx(t,i)))}}class C_{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ye(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return sj})();const o=e.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new C_(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,He;function bj(n){switch(n){case ie.OK:return Ee(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function ZR(n){if(n===void 0)return Qs("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Ot.OK:return ie.OK;case Ot.CANCELLED:return ie.CANCELLED;case Ot.UNKNOWN:return ie.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ie.INTERNAL;case Ot.UNAVAILABLE:return ie.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ie.NOT_FOUND;case Ot.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ot.ABORTED:return ie.ABORTED;case Ot.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ot.DATA_LOSS:return ie.DATA_LOSS;default:return Ee(39323,{code:n})}}(He=Ot||(Ot={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Hr([4294967295,4294967295],0);function Cx(n){const e=wj().encode(n),t=new dR;return t.update(e),new Uint8Array(t.digest())}function Ix(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hr([t,i],0),new Hr([r,o],0)]}class I_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new bc(`Invalid padding: ${t}`);if(i<0)throw new bc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new bc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Hr.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(Hr.fromNumber(i)));return r.compare(Tj)===1&&(r=new Hr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Cx(e),[i,r]=Ix(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,r,o);if(!this.we(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new I_(o,r,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=Cx(e),[i,r]=Ix(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,r,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Sm(Ie.min(),r,new yt(je),Zs(),ze())}}class gh{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new gh(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t,i,r){this.be=e,this.removedTargetIds=t,this.key=i,this.De=r}}class JR{constructor(e,t){this.targetId=e,this.Ce=t}}class eC{constructor(e,t,i=hn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Dx{constructor(){this.ve=0,this.Fe=kx(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),i=ze();return this.Fe.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ee(38017,{changeType:o})}})),new gh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=kx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ej{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zs(),this.Je=nd(),this.He=nd(),this.Ye=new yt(je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(lv(o))if(i===0){const u=new ye(o.path);this.et(t,u,yn.newNoDocument(u,Ie.min()))}else Ye(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let u,h;try{u=Xr(i).toUint8Array()}catch(f){if(f instanceof SR)return Vl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new I_(u,r,o)}catch(f){return Vl(f instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&lv(h.target)){const f=new ye(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,yn.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let i=ze();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const r=new Sm(e,t,this.Ye,this.je,i);return this.je=Zs(),this.Je=nd(),this.He=nd(),this.Ye=new yt(je),r}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Dx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ht(je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ht(je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Dx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nd(){return new yt(ye.comparator)}function kx(){return new yt(ye.comparator)}const xj={asc:"ASCENDING",desc:"DESCENDING"},Sj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aj={and:"AND",or:"OR"};class Rj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hv(n,e){return n.useProto3Json||vm(e)?e:{value:e}}function Yd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Cj(n,e){return Yd(n,e.toTimestamp())}function as(n){return Ye(!!n,49232),Ie.fromTimestamp((function(t){const i=Yr(t);return new ot(i.seconds,i.nanos)})(n))}function D_(n,e){return fv(n,e).canonicalString()}function fv(n,e){const t=(function(r){return new rt(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function nC(n){const e=rt.fromString(n);return Ye(oC(e),10190,{key:e.toString()}),e}function dv(n,e){return D_(n.databaseId,e.path)}function vy(n,e){const t=nC(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(sC(t))}function iC(n,e){return D_(n.databaseId,e)}function Ij(n){const e=nC(n);return e.length===4?rt.emptyPath():sC(e)}function mv(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sC(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Px(n,e,t){return{name:dv(n,e),fields:t.value.mapValue.fields}}function Dj(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ee(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(Ye(g===void 0||typeof g=="string",58123),hn.fromBase64String(g||"")):(Ye(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),hn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(d){const g=d.code===void 0?ie.UNKNOWN:ZR(d.code);return new fe(g,d.message||"")})(u);t=new eC(i,r,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=vy(n,i.document.name),o=as(i.document.updateTime),u=i.document.createTime?as(i.document.createTime):Ie.min(),h=new On({mapValue:{fields:i.document.fields}}),f=yn.newFoundDocument(r,o,u,h),d=i.targetIds||[],g=i.removedTargetIds||[];t=new Td(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=vy(n,i.document),o=i.readTime?as(i.readTime):Ie.min(),u=yn.newNoDocument(r,o),h=i.removedTargetIds||[];t=new Td([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=vy(n,i.document),o=i.removedTargetIds||[];t=new Td([],o,r,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,u=new _j(r,o),h=i.targetId;t=new JR(h,u)}}return t}function kj(n,e){let t;if(e instanceof ph)t={update:Px(n,e.key,e.value)};else if(e instanceof xm)t={delete:dv(n,e.key)};else if(e instanceof ra)t={update:Px(n,e.key,e.data),updateMask:zj(e.fieldMask)};else{if(!(e instanceof gj))return Ee(16599,{Vt:e.type});t={verify:dv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof Wc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Qc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Zc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Kd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ee(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:Cj(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee(27497)})(n,e.precondition)),t}function Pj(n,e){return n&&n.length>0?(Ye(e!==void 0,14353),n.map((t=>(function(r,o){let u=r.updateTime?as(r.updateTime):as(o);return u.isEqual(Ie.min())&&(u=as(o)),new dj(u,r.transformResults||[])})(t,e)))):[]}function Mj(n,e){return{documents:[iC(n,e.path)]}}function Oj(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=iC(n,r);const o=(function(d){if(d.length!==0)return aC(Oi.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(b){return{field:gl(b.field),direction:Lj(b.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=hv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:r}}function Nj(n){let e=Ij(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ye(i===1,65062);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(v){const b=rC(v);return b instanceof Oi&&NR(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((b=>(function(C){return new Xc(yl(C.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let b;return b=typeof v=="object"?v.value:v,vm(b)?null:b})(t.limit));let f=null;t.startAt&&(f=(function(v){const b=!!v.before,E=v.values||[];return new $d(E,b)})(t.startAt));let d=null;return t.endAt&&(d=(function(v){const b=!v.before,E=v.values||[];return new $d(E,b)})(t.endAt)),J6(e,r,u,o,h,"F",f,d)}function Vj(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rC(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=yl(t.unaryFilter.field);return Vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=yl(t.unaryFilter.field);return Vt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yl(t.unaryFilter.field);return Vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=yl(t.unaryFilter.field);return Vt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Vt.create(yl(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Oi.create(t.compositeFilter.filters.map((i=>rC(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(n):Ee(30097,{filter:n})}function Lj(n){return xj[n]}function Uj(n){return Sj[n]}function jj(n){return Aj[n]}function gl(n){return{fieldPath:n.canonicalString()}}function yl(n){return un.fromServerFormat(n.fieldPath)}function aC(n){return n instanceof Vt?(function(t){if(t.op==="=="){if(_x(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NAN"}};if(vx(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_x(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NOT_NAN"}};if(vx(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(t.field),op:Uj(t.op),value:t.value}}})(n):n instanceof Oi?(function(t){const i=t.getFilters().map((r=>aC(r)));return i.length===1?i[0]:{compositeFilter:{op:jj(t.op),filters:i}}})(n):Ee(54877,{filter:n})}function zj(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function oC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t,i,r,o=Ie.min(),u=Ie.min(),h=hn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.yt=e}}function Fj(n){const e=Nj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.Cn=new Hj}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Kr.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class Hj{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ht(rt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ht(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lC=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(lC,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zl(0)}static cr(){return new zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="LruGarbageCollector",Gj=1048576;function Nx([n,e],[t,i]){const r=je(n,t);return r===0?je(e,i):r}class $j{constructor(e){this.Ir=e,this.buffer=new Ht(Nx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Nx(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Ox,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wl(t)?de(Ox,"Ignoring IndexedDB error during garbage collection: ",t):await Xl(t)}await this.Vr(3e5)}))}}class Yj{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(ym.ce);const i=new $j(t);return this.mr.forEachTarget(e,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Mx)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mx):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,r,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(e,r)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,t)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(d=Date.now(),ml()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v}))))}}function Xj(n,e){return new Yj(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(){this.changes=new yo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&kc(i.mutation,r,Yn.empty(),ot.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,ze()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=ze()){const r=Ya();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((o=>{let u=_c();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=Ya();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,ze())))}populateOverlays(e,t,i){const r=[];return i.forEach((o=>{t.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(e,r).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,r){let o=Zs();const u=Dc(),h=(function(){return Dc()})();return t.forEach(((f,d)=>{const g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof ra)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),kc(g.mutation,d,g.mutation.getFieldMask(),ot.now())):u.set(d.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>h.set(d,new Qj(g,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Dc();let r=new yt(((u,h)=>u-h)),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=i.get(f)||Yn.empty();g=h.applyToLocalView(d,g),i.set(f,g);const v=(r.get(h.batchId)||ze()).add(f);r=r.insert(h.batchId,v)}))})).next((()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,v=HR();g.forEach((b=>{if(!o.has(b)){const E=WR(t.get(b),i.get(b));E!==null&&v.set(b,E),o=o.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return ae.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):ae.resolve(Ya());let h=Gc,f=o;return u.next((d=>ae.forEach(d,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(g)?ae.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{f=f.insert(g,b)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,ze()))).next((g=>({batchId:h,changes:qR(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((i=>{let r=_c();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let u=_c();return this.indexManager.getCollectionParents(e,o).next((h=>ae.forEach(h,(f=>{const d=(function(v,b){return new Ql(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next((g=>{g.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r)))).next((u=>{o.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,yn.newInvalidDocument(g)))}));let h=_c();return u.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&kc(g.mutation,d,Yn.empty(),ot.now()),wm(t,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:as(r.createTime)}})(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:Fj(r.bundledQuery),readTime:as(r.readTime)}})(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(){this.overlays=new yt(ye.comparator),this.qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ya();return ae.forEach(t,(r=>this.getOverlay(e,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,o)=>{this.St(e,t,o)})),ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const r=Ya(),o=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new yt(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=Ya(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=Ya(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>h.set(d,g))),!(h.size()>=r)););return ae.resolve(h)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new vj(t,i));let o=this.qr.get(t);o===void 0&&(o=ze(),this.qr.set(t,o)),this.qr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.Qr=new Ht(Qt.$r),this.Ur=new Ht(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Qt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ye(new rt([])),i=new Qt(t,e),r=new Qt(t,e+1),o=[];return this.Ur.forEachInRange([i,r],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new rt([])),i=new Qt(t,e),r=new Qt(t,e+1);let o=ze();return this.Ur.forEachInRange([i,r],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Qt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||je(e.Yr,t.Yr)}static Kr(e,t){return je(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Qt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new yj(o,t,i,r);this.mutationQueue.push(u);for(const h of r)this.Zr=this.Zr.add(new Qt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ei(i),o=r<0?0:r;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?w_:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qt(t,0),r=new Qt(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(u=>{const h=this.Xr(u.Yr);o.push(h)})),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ht(je);return t.forEach((r=>{const o=new Qt(r,0),u=new Qt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{i=i.add(h.Yr)}))})),ae.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ye.isDocumentKey(o)||(o=o.child(""));const u=new Qt(new ye(o),0);let h=new Ht(je);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(h=h.add(f.Yr)),!0)}),u),ae.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const r=this.Xr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){Ye(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ae.forEach(t.mutations,(r=>{const o=new Qt(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Qt(t,0),r=this.Zr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.ri=e,this.docs=(function(){return new yt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=Zs();return t.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():yn.newInvalidDocument(r))})),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Zs();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||k6(D6(g),i)<=0||(r.has(g.key)||wm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Ee(9500)}ii(e,t){return ae.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new sz(this)}getSize(e){return ae.resolve(this.size)}}class sz extends Wj{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)})),ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.persistence=e,this.si=new yo((t=>x_(t)),S_),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new k_,this.targetCount=0,this.ai=zl.ur()}forEachTarget(e,t){return this.si.forEach(((i,r)=>t(r))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new zl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Pr(t),ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),ae.waitFor(o).next((()=>r))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((u=>{o.push(r.markPotentiallyOrphaned(e,u))})),ae.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this.ui={},this.overlays={},this.ci=new ym(0),this.li=!1,this.li=!0,this.hi=new tz,this.referenceDelegate=e(this),this.Pi=new rz(this),this.indexManager=new qj,this.remoteDocumentCache=(function(r){return new iz(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Bj(t),this.Ii=new Jj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ez,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new nz(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const r=new az(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(e,t){return ae.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class az extends M6{constructor(e){super(),this.currentSequenceNumber=e}}class P_{constructor(e){this.persistence=e,this.Ri=new k_,this.Vi=null}static mi(e){return new P_(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(i=>{const r=ye.fromPath(i);return this.gi(e,r).next((o=>{o||t.removeEntry(r,Ie.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Xd{constructor(e,t){this.persistence=e,this.pi=new yo((i=>V6(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=Xj(this,t)}static mi(e,t){return new Xd(e,t)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return ae.forEach(this.pi,((i,r)=>this.br(e,i,r).next((o=>o?ae.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,o.removeEntry(u,Ie.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_d(e.data.value)),t}br(e,t,i){return ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return ae.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=r}static As(e,t){let i=ze(),r=ze();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new M_(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jL()?8:O6(wn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,r,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new oz;return this.Ss(e,t,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>o.result))}bs(e,t,i,r){return i.documentReadCount<this.fs?(ml()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",pl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(ml()<=Ue.DEBUG&&de("QueryEngine","Query:",pl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(ml()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",pl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(t))):ae.resolve())}ys(e,t){if(Ex(t))return ae.resolve(null);let i=rs(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=cv(t,null,"F"),i=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=ze(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const d=this.Ds(t,h);return this.Cs(t,d,u,f.readTime)?this.ys(e,cv(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,i,r){return Ex(t)||r.isEqual(Ie.min())?ae.resolve(null):this.ps.getDocuments(e,i).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,i,r)?ae.resolve(null):(ml()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pl(t)),this.vs(e,u,t,I6(r,Gc)).next((h=>h)))}))}Ds(e,t){let i=new Ht(BR(e));return t.forEach(((r,o)=>{wm(e,o)&&(i=i.add(o))})),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,i){return ml()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",pl(t)),this.ps.getDocumentsMatchingQuery(e,t,Kr.min(),i)}vs(e,t,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LocalStore",uz=3e8;class cz{constructor(e,t,i,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new yt(je),this.xs=new yo((o=>x_(o)),S_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function hz(n,e,t,i){return new cz(n,e,t,i)}async function cC(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let f=ze();for(const d of r){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function fz(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,g){const v=d.batch,b=v.keys();let E=ae.resolve();return b.forEach((C=>{E=E.next((()=>g.getEntry(f,C))).next((k=>{const D=d.docVersions.get(C);Ye(D!==null,48541),k.version.compareTo(D)<0&&(v.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),g.addEntry(k)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=ze();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function hC(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function dz(n,e){const t=De(n),i=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const h=[];e.targetChanges.forEach(((g,v)=>{const b=r.get(v);if(!b)return;h.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,v))));let E=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(hn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,i)),r=r.insert(v,E),(function(k,D,P){return k.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=uz?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(b,E,g)&&h.push(t.Pi.updateTargetData(o,E))}));let f=Zs(),d=ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(mz(o,u,e.documentUpdates).next((g=>{f=g.ks,d=g.qs}))),!i.isEqual(Ie.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((v=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(g)}return ae.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.Ms=r,o)))}function mz(n,e,t){let i=ze(),r=ze();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let u=Zs();return t.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):de(O_,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:r}}))}function pz(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=w_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function gz(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.Pi.getTargetData(i,e).next((o=>o?(r=o,ae.resolve(r)):t.Pi.allocateTargetId(i).next((u=>(r=new jr(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function pv(n,e,t){const i=De(n),r=i.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Wl(u))throw u;de(O_,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function Vx(n,e,t){const i=De(n);let r=Ie.min(),o=ze();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const v=De(f),b=v.xs.get(g);return b!==void 0?ae.resolve(v.Ms.get(b)):v.Pi.getTargetData(d,g)})(i,u,rs(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?r:Ie.min(),t?o:ze()))).next((h=>(yz(i,tj(e),h),{documents:h,Qs:o})))))}function yz(n,e,t){let i=n.Os.get(e)||Ie.min();t.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(e,i)}class Lx{constructor(){this.activeTargetIds=oj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vz{constructor(){this.Mo=new Lx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="ConnectivityMonitor";class jx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Ux,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Ux,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id=null;function gv(){return id===null?id=(function(){return 268435456+Math.round(2147483648*Math.random())})():id++,"0x"+id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="RestConnection",bz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Hd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,t,i,r,o){const u=gv(),h=this.zo(e,t.toUriEncodedString());de(_y,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:d}=new URL(h),g=na(d);return this.Jo(e,h,f,i,g).then((v=>(de(_y,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Vl(_y,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,t,i,r,o,u){return this.Go(e,t,i,r,o)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,o)=>e[o]=r)),i&&i.headers.forEach(((r,o)=>e[o]=r))}zo(e,t){const i=bz[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class Ez extends wz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,o){const u=gv();return new Promise(((h,f)=>{const d=new mR;d.setWithCredentials(!0),d.listenOnce(pR.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case vd.NO_ERROR:const v=d.getResponseJson();de(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case vd.TIMEOUT:de(pn,`RPC '${e}' ${u} timed out`),f(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:const b=d.getStatus();if(de(pn,`RPC '${e}' ${u} failed with status:`,b,"response text:",d.getResponseText()),b>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E?.error;if(C&&C.status&&C.message){const k=(function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(F)>=0?F:ie.UNKNOWN})(C.status);f(new fe(k,C.message))}else f(new fe(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{de(pn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(r);de(pn,`RPC '${e}' ${u} sending request:`,r),d.send(t,"POST",g,i,15)}))}T_(e,t,i){const r=gv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=vR(),h=yR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=o.join("");de(pn,`Creating RPC '${e}' stream ${r}: ${g}`,f);const v=u.createWebChannel(g,f);this.I_(v);let b=!1,E=!1;const C=new Tz({Yo:D=>{E?de(pn,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(b||(de(pn,`Opening RPC '${e}' stream ${r} transport.`),v.open(),b=!0),de(pn,`RPC '${e}' stream ${r} sending:`,D),v.send(D))},Zo:()=>v.close()}),k=(D,P,F)=>{D.listen(P,(B=>{try{F(B)}catch(q){setTimeout((()=>{throw q}),0)}}))};return k(v,vc.EventType.OPEN,(()=>{E||(de(pn,`RPC '${e}' stream ${r} transport opened.`),C.o_())})),k(v,vc.EventType.CLOSE,(()=>{E||(E=!0,de(pn,`RPC '${e}' stream ${r} transport closed`),C.a_(),this.E_(v))})),k(v,vc.EventType.ERROR,(D=>{E||(E=!0,Vl(pn,`RPC '${e}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),C.a_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),k(v,vc.EventType.MESSAGE,(D=>{if(!E){const P=D.data[0];Ye(!!P,16349);const F=P,B=F?.error||F[0]?.error;if(B){de(pn,`RPC '${e}' stream ${r} received error:`,B);const q=B.status;let Z=(function(R){const M=Ot[R];if(M!==void 0)return ZR(M)})(q),oe=B.message;Z===void 0&&(Z=ie.INTERNAL,oe="Unknown error status: "+q+" with message "+B.message),E=!0,C.a_(new fe(Z,oe)),v.close()}else de(pn,`RPC '${e}' stream ${r} received:`,P),C.u_(P)}})),k(h,gR.STAT_EVENT,(D=>{D.stat===iv.PROXY?de(pn,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===iv.NOPROXY&&de(pn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function by(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n){return new Rj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&de("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="PersistentStream";class dC{constructor(e,t,i,r,o,u,h,f){this.Mi=e,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Qs(t.toString()),Qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new fe(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(zx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(zx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xz extends dC{constructor(e,t,i,r,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Dj(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?as(u.readTime):Ie.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=mv(this.serializer),t.addTarget=(function(o,u){let h;const f=u.target;if(h=lv(f)?{documents:Mj(o,f)}:{query:Oj(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=tC(o,u.resumeToken);const d=hv(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=Yd(o,u.snapshotVersion.toTimestamp());const d=hv(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const i=Vj(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=mv(this.serializer),t.removeTarget=e,this.q_(t)}}class Sz extends dC{constructor(e,t,i,r,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Pj(e.writeResults,e.commitTime),i=as(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=mv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>kj(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{}class Rz extends Az{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,fv(t,i),r,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())}))}Ho(e,t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,fv(t,i),r,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Cz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qs(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class Iz{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{vo(this)&&(de(uo,"Restarting streams for network reachability change."),await(async function(f){const d=De(f);d.Ea.add(4),await yh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Rm(d)})(this))}))})),this.Ra=new Cz(i,r)}}async function Rm(n){if(vo(n))for(const e of n.da)await e(!0)}async function yh(n){for(const e of n.da)await e(!1)}function mC(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),U_(t)?L_(t):Zl(t).O_()&&V_(t,e))}function N_(n,e){const t=De(n),i=Zl(t);t.Ia.delete(e),i.O_()&&pC(t,e),t.Ia.size===0&&(i.O_()?i.L_():vo(t)&&t.Ra.set("Unknown"))}function V_(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zl(n).Y_(e)}function pC(n,e){n.Va.Ue(e),Zl(n).Z_(e)}function L_(n){n.Va=new Ej({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Zl(n).start(),n.Ra.ua()}function U_(n){return vo(n)&&!Zl(n).x_()&&n.Ia.size>0}function vo(n){return De(n).Ea.size===0}function gC(n){n.Va=void 0}async function Dz(n){n.Ra.set("Online")}async function kz(n){n.Ia.forEach(((e,t)=>{V_(n,e)}))}async function Pz(n,e){gC(n),U_(n)?(n.Ra.ha(e),L_(n)):n.Ra.set("Unknown")}async function Mz(n,e,t){if(n.Ra.set("Online"),e instanceof eC&&e.state===2&&e.cause)try{await(async function(r,o){const u=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.Ia.delete(h),r.Va.removeTarget(h))})(n,e)}catch(i){de(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Wd(n,i)}else if(e instanceof Td?n.Va.Ze(e):e instanceof JR?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const i=await hC(n.localStore);t.compareTo(i)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(hn.EMPTY_BYTE_STRING,g.snapshotVersion)),pC(o,f);const v=new jr(g.target,f,d,g.sequenceNumber);V_(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){de(uo,"Failed to raise snapshot:",i),await Wd(n,i)}}async function Wd(n,e,t){if(!Wl(e))throw e;n.Ea.add(1),await yh(n),n.Ra.set("Offline"),t||(t=()=>hC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(uo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Rm(n)}))}function yC(n,e){return e().catch((t=>Wd(n,t,e)))}async function Cm(n){const e=De(n),t=Qr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:w_;for(;Oz(e);)try{const r=await pz(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,Nz(e,r)}catch(r){await Wd(e,r)}vC(e)&&_C(e)}function Oz(n){return vo(n)&&n.Ta.length<10}function Nz(n,e){n.Ta.push(e);const t=Qr(n);t.O_()&&t.X_&&t.ea(e.mutations)}function vC(n){return vo(n)&&!Qr(n).x_()&&n.Ta.length>0}function _C(n){Qr(n).start()}async function Vz(n){Qr(n).ra()}async function Lz(n){const e=Qr(n);for(const t of n.Ta)e.ea(t.mutations)}async function Uz(n,e,t){const i=n.Ta.shift(),r=C_.from(i,e,t);await yC(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Cm(n)}async function jz(n,e){e&&Qr(n).X_&&await(async function(i,r){if((function(u){return bj(u)&&u!==ie.ABORTED})(r.code)){const o=i.Ta.shift();Qr(i).B_(),await yC(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Cm(i)}})(n,e),vC(n)&&_C(n)}async function Bx(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),de(uo,"RemoteStore received new credentials");const i=vo(t);t.Ea.add(3),await yh(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Rm(t)}async function zz(n,e){const t=De(n);e?(t.Ea.delete(2),await Rm(t)):e||(t.Ea.add(2),await yh(t),t.Ra.set("Unknown"))}function Zl(n){return n.ma||(n.ma=(function(t,i,r){const o=De(t);return o.sa(),new xz(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:Dz.bind(null,n),t_:kz.bind(null,n),r_:Pz.bind(null,n),H_:Mz.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),U_(n)?L_(n):n.Ra.set("Unknown")):(await n.ma.stop(),gC(n))}))),n.ma}function Qr(n){return n.fa||(n.fa=(function(t,i,r){const o=De(t);return o.sa(),new Sz(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Vz.bind(null,n),r_:jz.bind(null,n),ta:Lz.bind(null,n),na:Uz.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Cm(n)):(await n.fa.stop(),n.Ta.length>0&&(de(uo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const u=Date.now()+i,h=new j_(e,t,u,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z_(n,e){if(Qs("AsyncQueue",`${e}: ${n}`),Wl(n))return new fe(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{static emptySet(e){return new Il(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=_c(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Il;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.ga=new yt(ye.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Bl{constructor(e,t,i,r,o,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Bl(e,t,Il.emptySet(t),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Fz{constructor(){this.queries=qx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=De(t),o=r.queries;r.queries=qx(),o.forEach(((u,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function qx(){return new yo((n=>zR(n)),bm)}async function qz(n,e){const t=De(n);let i=3;const r=e.query;let o=t.queries.get(r);o?!o.ba()&&e.Da()&&(i=2):(o=new Bz,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(r,!0);break;case 1:o.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(u){const h=z_(u,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&B_(t)}async function Hz(n,e){const t=De(n),i=e.query;let r=3;const o=t.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?r=e.Da()?0:1:!o.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Gz(n,e){const t=De(n);let i=!1;for(const r of e){const o=r.query,u=t.queries.get(o);if(u){for(const h of u.Sa)h.Fa(r)&&(i=!0);u.wa=r}}i&&B_(t)}function $z(n,e,t){const i=De(n),r=i.queries.get(e);if(r)for(const o of r.Sa)o.onError(t);i.queries.delete(e)}function B_(n){n.Ca.forEach((e=>{e.next()}))}var yv,Hx;(Hx=yv||(yv={})).Ma="default",Hx.Cache="cache";class Kz{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.key=e}}class wC{constructor(e){this.key=e}}class Yz{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=BR(e),this.tu=new Il(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Fx,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((g,v)=>{const b=r.get(g),E=wm(this.query,v)?v:null,C=!!b&&this.mutatedKeys.has(b.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;b&&E?b.data.isEqual(E.data)?C!==k&&(i.track({type:3,doc:E}),D=!0):this.su(b,E)||(i.track({type:2,doc:E}),D=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(h=!0)):!b&&E?(i.track({type:0,doc:E}),D=!0):b&&!E&&(i.track({type:1,doc:b}),D=!0,(f||d)&&(h=!0)),D&&(E?(u=u.add(E),o=k?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,v)=>(function(E,C){const k=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:D})}};return k(E)-k(C)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),r=r??!1;const h=t&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new Bl(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new wC(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new bC(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const F_="SyncEngine";class Xz{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Wz{constructor(e){this.key=e,this.hu=!1}}class Qz{constructor(e,t,i,r,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new yo((h=>zR(h)),bm),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ye.comparator),this.Au=new Map,this.Ru=new k_,this.Vu={},this.mu=new Map,this.fu=zl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Zz(n,e,t=!0){const i=RC(n);let r;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await TC(i,e,t,!0),r}async function Jz(n,e){const t=RC(n);await TC(t,e,!0,!1)}async function TC(n,e,t,i){const r=await gz(n.localStore,rs(e)),o=r.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await eB(n,e,o,u==="current",r.resumeToken)),n.isPrimaryClient&&t&&mC(n.remoteStore,r),h}async function eB(n,e,t,i,r){n.pu=(v,b,E)=>(async function(k,D,P,F){let B=D.view.ru(P);B.Cs&&(B=await Vx(k.localStore,D.query,!1).then((({documents:O})=>D.view.ru(O,B))));const q=F&&F.targetChanges.get(D.targetId),Z=F&&F.targetMismatches.get(D.targetId)!=null,oe=D.view.applyChanges(B,k.isPrimaryClient,q,Z);return $x(k,D.targetId,oe.au),oe.snapshot})(n,v,b,E);const o=await Vx(n.localStore,e,!0),u=new Yz(e,o.Qs),h=u.ru(o.documents),f=gh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=u.applyChanges(h,n.isPrimaryClient,f);$x(n,t,d.au);const g=new Xz(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function tB(n,e,t){const i=De(n),r=i.Tu.get(e),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((u=>!bm(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await pv(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&N_(i.remoteStore,r.targetId),vv(i,r.targetId)})).catch(Xl)):(vv(i,r.targetId),await pv(i.localStore,r.targetId,!0))}async function nB(n,e){const t=De(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),N_(t.remoteStore,i.targetId))}async function iB(n,e,t){const i=cB(n);try{const r=await(function(u,h){const f=De(u),d=ot.now(),g=h.reduce(((E,C)=>E.add(C.key)),ze());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let C=Zs(),k=ze();return f.Ns.getEntries(E,g).next((D=>{C=D,C.forEach(((P,F)=>{F.isValidDocument()||(k=k.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,C))).next((D=>{v=D;const P=[];for(const F of h){const B=pj(F,v.get(F.key).overlayedDocument);B!=null&&P.push(new ra(F.key,B,PR(B.value.mapValue),Ln.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,P,h)})).next((D=>{b=D;const P=D.applyToLocalDocumentSet(v,k);return f.documentOverlayCache.saveOverlays(E,D.batchId,P)}))})).then((()=>({batchId:b.batchId,changes:qR(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new yt(je)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(i,r.batchId,t),await vh(i,r.changes),await Cm(i.remoteStore)}catch(r){const o=z_(r,"Failed to persist write");t.reject(o)}}async function EC(n,e){const t=De(n);try{const i=await dz(t.localStore,e);e.targetChanges.forEach(((r,o)=>{const u=t.Au.get(o);u&&(Ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.hu=!0:r.modifiedDocuments.size>0?Ye(u.hu,14607):r.removedDocuments.size>0&&(Ye(u.hu,42227),u.hu=!1))})),await vh(t,i,e)}catch(i){await Xl(i)}}function Gx(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(u,h){const f=De(u);f.onlineState=h;let d=!1;f.queries.forEach(((g,v)=>{for(const b of v.Sa)b.va(h)&&(d=!0)})),d&&B_(f)})(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function sB(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),o=r&&r.key;if(o){let u=new yt(ye.comparator);u=u.insert(o,yn.newNoDocument(o,Ie.min()));const h=ze().add(o),f=new Sm(Ie.min(),new Map,new yt(je),u,h);await EC(i,f),i.du=i.du.remove(o),i.Au.delete(e),q_(i)}else await pv(i.localStore,e,!1).then((()=>vv(i,e,t))).catch(Xl)}async function rB(n,e){const t=De(n),i=e.batch.batchId;try{const r=await fz(t.localStore,e);SC(t,i,null),xC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await vh(t,r)}catch(r){await Xl(r)}}async function aB(n,e,t){const i=De(n);try{const r=await(function(u,h){const f=De(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next((v=>(Ye(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,e);SC(i,e,t),xC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await vh(i,r)}catch(r){await Xl(r)}}function xC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function SC(n,e,t){const i=De(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function vv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||AC(n,i)}))}function AC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(N_(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),q_(n))}function $x(n,e,t){for(const i of t)i instanceof bC?(n.Ru.addReference(i.key,e),oB(n,i)):i instanceof wC?(de(F_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||AC(n,i.key)):Ee(19791,{wu:i})}function oB(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(de(F_,"New document in limbo: "+t),n.Eu.add(i),q_(n))}function q_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(rt.fromString(e)),i=n.fu.next();n.Au.set(i,new Wz(t)),n.du=n.du.insert(t,i),mC(n.remoteStore,new jr(rs(A_(t.path)),i,"TargetPurposeLimboResolution",ym.ce))}}async function vh(n,e,t){const i=De(n),r=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{u.push(i.pu(f,e,t).then((d=>{if((d||t)&&i.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){r.push(d);const g=M_.As(f.targetId,d);o.push(g)}})))})),await Promise.all(u),i.Pu.H_(r),await(async function(f,d){const g=De(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ae.forEach(d,(b=>ae.forEach(b.Es,(E=>g.persistence.referenceDelegate.addReference(v,b.targetId,E))).next((()=>ae.forEach(b.ds,(E=>g.persistence.referenceDelegate.removeReference(v,b.targetId,E)))))))))}catch(v){if(!Wl(v))throw v;de(O_,"Failed to update sequence numbers: "+v)}for(const v of d){const b=v.targetId;if(!v.fromCache){const E=g.Ms.get(b),C=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(b,k)}}})(i.localStore,o))}async function lB(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){de(F_,"User change. New user:",e.toKey());const i=await cC(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new fe(ie.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await vh(t,i.Ls)}}function uB(n,e){const t=De(n),i=t.Au.get(e);if(i&&i.hu)return ze().add(i.key);{let r=ze();const o=t.Iu.get(e);if(!o)return r;for(const u of o){const h=t.Tu.get(u);r=r.unionWith(h.view.nu)}return r}}function RC(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sB.bind(null,e),e.Pu.H_=Gz.bind(null,e.eventManager),e.Pu.yu=$z.bind(null,e.eventManager),e}function cB(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aB.bind(null,e),e}class Qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Am(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return hz(this.persistence,new lz,e.initialUser,this.serializer)}Cu(e){return new uC(P_.mi,this.serializer)}Du(e){return new vz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qd.provider={build:()=>new Qd};class hB extends Qd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ye(this.persistence.referenceDelegate instanceof Xd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Kj(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new uC((i=>Xd.mi(i,t)),this.serializer)}}class _v{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Gx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lB.bind(null,this.syncEngine),await zz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Fz})()}createDatastore(e){const t=Am(e.databaseInfo.databaseId),i=(function(o){return new Ez(o)})(e.databaseInfo);return(function(o,u,h,f){return new Rz(o,u,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,o,u,h){return new Iz(i,r,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Gx(this.syncEngine,t,0)),(function(){return jx.v()?new jx:new _z})())}createSyncEngine(e,t){return(function(r,o,u,h,f,d,g){const v=new Qz(r,o,u,h,f,d);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=De(t);de(uo,"RemoteStore shutting down."),i.Ea.add(5),await yh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_v.provider={build:()=>new _v};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class dB{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=gn.UNAUTHENTICATED,this.clientId=b_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{de(Zr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(de(Zr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=z_(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function wy(n,e){n.asyncQueue.verifyOperationInProgress(),de(Zr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await cC(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Kx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await mB(n);de(Zr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>Bx(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>Bx(e.remoteStore,r))),n._onlineComponents=e}async function mB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Zr,"Using user provided OfflineComponentProvider");try{await wy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===ie.FAILED_PRECONDITION||r.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Vl("Error using user provided cache. Falling back to memory cache: "+t),await wy(n,new Qd)}}else de(Zr,"Using default OfflineComponentProvider"),await wy(n,new hB(void 0));return n._offlineComponents}async function CC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Zr,"Using user provided OnlineComponentProvider"),await Kx(n,n._uninitializedComponentsProvider._online)):(de(Zr,"Using default OnlineComponentProvider"),await Kx(n,new _v))),n._onlineComponents}function pB(n){return CC(n).then((e=>e.syncEngine))}async function Yx(n){const e=await CC(n),t=e.eventManager;return t.onListen=Zz.bind(null,e.syncEngine),t.onUnlisten=tB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Jz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nB.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firestore.googleapis.com",Wx=!0;class Qx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DC,this.ssl=Wx}else this.host=e.host,this.ssl=e.ssl??Wx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gj)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new v6;switch(i.type){case"firstParty":return new T6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Xx.get(t);i&&(de("ComponentProvider","Removing Datastore"),Xx.delete(t),i.terminate())})(this),Promise.resolve()}}function gB(n,e,t,i={}){n=Ks(n,Im);const r=na(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;r&&(a_(`https://${h}`),o_("Firestore",!0)),o.host!==DC&&o.host!==h&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!ro(f,u)&&(n._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=gn.MOCK_USER;else{d=R1(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new gn(v)}n._authCredentials=new _6(new bR(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class Ut{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(mh(t,Ut._jsonSchema))return new Ut(e,i||null,new ye(rt.fromString(t.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Lt("string",Ut._jsonSchemaVersion),referencePath:Lt("string")};class Gr extends _o{constructor(e,t,i){super(e,t,A_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ye(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function Jc(n,e,...t){if(n=at(n),wR("collection","path",e),n instanceof Im){const i=rt.fromString(e,...t);return ux(i),new Gr(n,null,i)}{if(!(n instanceof Ut||n instanceof Gr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return ux(i),new Gr(n.firestore,null,i)}}function Pc(n,e,...t){if(n=at(n),arguments.length===1&&(e=b_.newId()),wR("doc","path",e),n instanceof Im){const i=rt.fromString(e,...t);return lx(i),new Ut(n,null,new ye(i))}{if(!(n instanceof Ut||n instanceof Gr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return lx(i),new Ut(n.firestore,n instanceof Gr?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="AsyncQueue";class Jx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fC(this,"async_queue_retry"),this._c=()=>{const i=by();i&&de(Zx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=by();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=by();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wl(e))throw e;de(Zx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Qs("INTERNAL UNHANDLED ERROR: ",eS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=j_.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Ee(47125,{Pc:eS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function eS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class co extends Im{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Jx,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jx(e),this._firestoreClient=void 0,await e}}}function yB(n,e){const t=typeof n=="object"?n:c_(),i=typeof n=="string"?n:Hd,r=cm(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=x1("firestore");o&&gB(r,...o)}return r}function H_(n){if(n._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vB(n),n._firestoreClient}function vB(n){const e=n._freezeSettings(),t=(function(r,o,u,h){return new j6(r,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,IC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new dB(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(hn.fromBase64String(e))}catch(t){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gi(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mh(e,gi._jsonSchema))return gi.fromBase64String(e.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Lt("string",gi._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:os._jsonSchemaVersion}}static fromJSON(e){if(mh(e,os._jsonSchema))return new os(e.latitude,e.longitude)}}os._jsonSchemaVersion="firestore/geoPoint/1.0",os._jsonSchema={type:Lt("string",os._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mh(e,ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ls(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:Lt("string",ls._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=/^__.*__$/;class bB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,t,this.fieldTransforms):new ph(e,this.data,t,this.fieldTransforms)}}class kC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ra(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class G_{constructor(e,t,i,r,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new G_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PC(this.Ac)&&_B.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wB{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Am(e)}Cc(e,t,i,r=!1){return new G_({Ac:e,methodName:t,Dc:i,path:un.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function km(n){const e=n._freezeSettings(),t=Am(n._databaseId);return new wB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MC(n,e,t,i,r,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,r);K_("Data must be an object, but it was:",u,i);const h=VC(i,u);let f,d;if(o.merge)f=new Yn(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const b=bv(e,v,t);if(!u.contains(b))throw new fe(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);UC(g,b)||g.push(b)}f=new Yn(g),d=u.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,d=u.fieldTransforms;return new bB(new On(h),f,d)}class Pm extends Dm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pm}}class $_ extends Dm{_toFieldTransform(e){return new hj(e.path,new Wc)}isEqual(e){return e instanceof $_}}function OC(n,e,t,i){const r=n.Cc(1,e,t);K_("Data must be an object, but it was:",r,i);const o=[],u=On.empty();sa(i,((f,d)=>{const g=Y_(e,f,t);d=at(d);const v=r.yc(g);if(d instanceof Pm)o.push(g);else{const b=bh(d,v);b!=null&&(o.push(g),u.set(g,b))}}));const h=new Yn(o);return new kC(u,h,r.fieldTransforms)}function NC(n,e,t,i,r,o){const u=n.Cc(1,e,t),h=[bv(e,i,t)],f=[r];if(o.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)h.push(bv(e,o[b])),f.push(o[b+1]);const d=[],g=On.empty();for(let b=h.length-1;b>=0;--b)if(!UC(d,h[b])){const E=h[b];let C=f[b];C=at(C);const k=u.yc(E);if(C instanceof Pm)d.push(E);else{const D=bh(C,k);D!=null&&(d.push(E),g.set(E,D))}}const v=new Yn(d);return new kC(g,v,u.fieldTransforms)}function TB(n,e,t,i=!1){return bh(t,n.Cc(i?4:3,e))}function bh(n,e){if(LC(n=at(n)))return K_("Unsupported field value:",e,n),VC(n,e);if(n instanceof Dm)return(function(i,r){if(!PC(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let u=0;for(const h of i){let f=bh(h,r.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(i,r){if((i=at(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return lj(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ot.fromDate(i);return{timestampValue:Yd(r.serializer,o)}}if(i instanceof ot){const o=new ot(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yd(r.serializer,o)}}if(i instanceof os)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gi)return{bytesValue:tC(r.serializer,i._byteString)};if(i instanceof Ut){const o=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw r.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:D_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ls)return(function(u,h){return{mapValue:{fields:{[DR]:{stringValue:kR},[Gd]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return R_(h.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${gm(i)}`)})(n,e)}function VC(n,e){const t={};return xR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(n,((i,r)=>{const o=bh(r,e.mc(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function LC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ot||n instanceof os||n instanceof gi||n instanceof Ut||n instanceof Dm||n instanceof ls)}function K_(n,e,t){if(!LC(t)||!TR(t)){const i=gm(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function bv(n,e,t){if((e=at(e))instanceof _h)return e._internalPath;if(typeof e=="string")return Y_(n,e);throw Zd("Field path arguments must be of type string or ",n,!1,void 0,t)}const EB=new RegExp("[~\\*/\\[\\]]");function Y_(n,e,t){if(e.search(EB)>=0)throw Zd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _h(...e.split("."))._internalPath}catch{throw Zd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zd(n,e,t,i,r){const o=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new fe(ie.INVALID_ARGUMENT,h+n+f)}function UC(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xB extends jC{data(){return super.data()}}function Mm(n,e){return typeof e=="string"?Y_(n,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X_{}class zC extends X_{}function wv(n,e,...t){let i=[];e instanceof X_&&i.push(e),i=i.concat(t),(function(o){const u=o.filter((f=>f instanceof W_)).length,h=o.filter((f=>f instanceof Om)).length;if(u>1||u>0&&h>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class Om extends zC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Om(e,t,i)}_apply(e){const t=this._parse(e);return BC(e._query,t),new _o(e.firestore,e.converter,uv(e._query,t))}_parse(e){const t=km(e.firestore);return(function(o,u,h,f,d,g,v){let b;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){iS(v,g);const C=[];for(const k of v)C.push(nS(f,o,k));b={arrayValue:{values:C}}}else b=nS(f,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||iS(v,g),b=TB(h,u,v,g==="in"||g==="not-in");return Vt.create(d,g,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function AB(n,e,t){const i=e,r=Mm("where",n);return Om._create(r,i,t)}class W_ extends X_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new W_(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Oi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,o){let u=r;const h=o.getFlattenedFilters();for(const f of h)BC(u,f),u=uv(u,f)})(e._query,t),new _o(e.firestore,e.converter,uv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Q_ extends zC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Q_(e,t)}_apply(e){const t=(function(r,o,u){if(r.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(o,u)})(e._query,this._field,this._direction);return new _o(e.firestore,e.converter,(function(r,o){const u=r.explicitOrderBy.concat([o]);return new Ql(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function Tv(n,e="asc"){const t=e,i=Mm("orderBy",n);return Q_._create(i,t)}function nS(n,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jR(e)&&t.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(rt.fromString(t));if(!ye.isDocumentKey(i))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yx(n,new ye(i))}if(t instanceof Ut)return yx(n,t._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gm(t)}.`)}function iS(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BC(n,e){const t=(function(r,o){for(const u of r)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class RB{convertValue(e,t="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return sa(e,((r,o)=>{i[r]=this.convertValue(o,t)})),i}convertVectorValue(e){const t=e.fields?.[Gd].arrayValue?.values?.map((i=>Ct(i.doubleValue)));return new ls(t)}convertGeoPoint(e){return new os(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=_m(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const t=Yr(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);Ye(oC(i),9688,{name:e});const r=new Kc(i.get(1),i.get(3)),o=new ye(i.popFirst(5));return r.isEqual(t)||Qs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Za extends jC{constructor(e,t,i,r,o,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Mm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Za._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:Lt("string",Za._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Ed extends Za{data(e={}){return super.data(e)}}class Dl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new wc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Ed(this._firestore,this._userDataWriter,i.key,i,new wc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((h=>{const f=new Ed(r._firestore,r._userDataWriter,h.doc.key,h.doc,new wc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Ed(r._firestore,r._userDataWriter,h.doc.key,h.doc,new wc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:CB(h.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=b_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}Dl._jsonSchemaVersion="firestore/querySnapshot/1.0",Dl._jsonSchema={type:Lt("string",Dl._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class qC extends RB{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}function sS(n,e,t,...i){n=Ks(n,Ut);const r=Ks(n.firestore,co),o=km(r);let u;return u=typeof(e=at(e))=="string"||e instanceof _h?NC(o,"updateDoc",n._key,e,t,i):OC(o,"updateDoc",n._key,e),Nm(r,[u.toMutation(n._key,Ln.exists(!0))])}function IB(n){return Nm(Ks(n.firestore,co),[new xm(n._key,Ln.none())])}function DB(n,e){const t=Ks(n.firestore,co),i=Pc(n),r=FC(n.converter,e);return Nm(t,[MC(km(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ln.exists(!1))]).then((()=>i))}function Ev(n,...e){n=at(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||tS(e[i])||(t=e[i++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(tS(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let o,u,h;if(n instanceof Ut)u=Ks(n.firestore,co),h=A_(n._key.path),o={next:f=>{e[i]&&e[i](kB(u,n,f))},error:e[i+1],complete:e[i+2]};else{const f=Ks(n,_o);u=Ks(f.firestore,co),h=f._query;const d=new qC(u);o={next:g=>{e[i]&&e[i](new Dl(u,d,f,g))},error:e[i+1],complete:e[i+2]},SB(n._query)}return(function(d,g,v,b){const E=new fB(b),C=new Kz(g,E,v);return d.asyncQueue.enqueueAndForget((async()=>qz(await Yx(d),C))),()=>{E.Nu(),d.asyncQueue.enqueueAndForget((async()=>Hz(await Yx(d),C)))}})(H_(u),h,r,o)}function Nm(n,e){return(function(i,r){const o=new Qa;return i.asyncQueue.enqueueAndForget((async()=>iB(await pB(i),r,o))),o.promise})(H_(n),e)}function kB(n,e,t){const i=t.docs.get(e._key),r=new qC(n);return new Za(n,r,e._key,i,new wc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=km(e)}set(e,t,i){this._verifyNotCommitted();const r=Ty(e,this._firestore),o=FC(r.converter,t,i),u=MC(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(u.toMutation(r._key,Ln.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Ty(e,this._firestore);let u;return u=typeof(t=at(t))=="string"||t instanceof _h?NC(this._dataReader,"WriteBatch.update",o._key,t,i,r):OC(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Ln.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ty(e,this._firestore);return this._mutations=this._mutations.concat(new xm(t._key,Ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ty(n,e){if((n=at(n)).firestore!==e)throw new fe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Tc(){return new $_("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(n){return H_(n=Ks(n,co)),new PB(n,(e=>Nm(n,e)))}(function(e,t=!0){(function(r){Yl=r})(po),ao(new $r("firestore",((i,{instanceIdentifier:r,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new co(new b6(i.getProvider("auth-internal")),new E6(u,i.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(d.options.projectId,g)})(u,r),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),ns(sx,rx,e),ns(sx,rx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firebasestorage.googleapis.com",GC="storageBucket",OB=120*1e3,NB=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends ms{constructor(e,t,i=0){super(Ey(e),`Firebase Storage: ${t} (${Ey(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ey(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function Ey(n){return"storage/"+n}function Z_(){const n="An unknown error occurred, please check the error payload for server response.";return new Et(Tt.UNKNOWN,n)}function VB(n){return new Et(Tt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function LB(n){return new Et(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UB(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(Tt.UNAUTHENTICATED,n)}function jB(){return new Et(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zB(n){return new Et(Tt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function BB(){return new Et(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FB(){return new Et(Tt.CANCELED,"User canceled the upload/download.")}function qB(n){return new Et(Tt.INVALID_URL,"Invalid URL '"+n+"'.")}function HB(n){return new Et(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function GB(){return new Et(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GC+"' property when initializing the app?")}function $B(){return new Et(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KB(){return new Et(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YB(n){return new Et(Tt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xv(n){return new Et(Tt.INVALID_ARGUMENT,n)}function $C(){return new Et(Tt.APP_DELETED,"The Firebase app was deleted.")}function XB(n){return new Et(Tt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mc(n,e){return new Et(Tt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function dc(n){throw new Et(Tt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Xn.makeFromUrl(e,t)}catch{return new Xn(e,"")}if(i.path==="")return i;throw HB(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+r+u,"i"),f={bucket:1,path:3};function d(q){q.path_=decodeURIComponent(q.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${g}/b/${r}/o${b}`,"i"),C={bucket:1,path:3},k=t===HC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",P=new RegExp(`^https?://${k}/${r}/${D}`,"i"),B=[{regex:h,indices:f,postModify:o},{regex:E,indices:C,postModify:d},{regex:P,indices:{bucket:1,path:2},postModify:d}];for(let q=0;q<B.length;q++){const Z=B[q],oe=Z.regex.exec(e);if(oe){const O=oe[Z.indices.bucket];let R=oe[Z.indices.path];R||(R=""),i=new Xn(O,R),Z.postModify(i);break}}if(i==null)throw qB(e);return i}}class WB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(n,e,t){let i=1,r=null,o=null,u=!1,h=0;function f(){return h===2}let d=!1;function g(...D){d||(d=!0,e.apply(null,D))}function v(D){r=setTimeout(()=>{r=null,n(E,f())},D)}function b(){o&&clearTimeout(o)}function E(D,...P){if(d){b();return}if(D){b(),g.call(null,D,...P);return}if(f()||u){b(),g.call(null,D,...P);return}i<64&&(i*=2);let B;h===1?(h=2,B=0):B=(i+Math.random())*1e3,v(B)}let C=!1;function k(D){C||(C=!0,b(),!d&&(r!==null?(D||(h=2),clearTimeout(r),v(0)):D||(h=1)))}return v(0),o=setTimeout(()=>{u=!0,k(!0)},t),k}function ZB(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(n){return n!==void 0}function e9(n){return typeof n=="object"&&!Array.isArray(n)}function J_(n){return typeof n=="string"||n instanceof String}function rS(n){return eb()&&n instanceof Blob}function eb(){return typeof Blob<"u"}function aS(n,e,t,i){if(i<e)throw xv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw xv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function KC(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var Ja;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ja||(Ja={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,t,i,r,o,u,h,f,d,g,v,b=!0,E=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,k)=>{this.resolve_=C,this.reject_=k,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new sd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Ja.NO_ERROR,f=o.getStatus();if(!h||t9(f,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Ja.ABORT;i(!1,new sd(!1,null,g));return}const d=this.successCodes_.indexOf(f)!==-1;i(!0,new sd(d,o))})},t=(i,r)=>{const o=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());JB(f)?o(f):o()}catch(f){u(f)}else if(h!==null){const f=Z_();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(r.canceled){const f=this.appDelete_?$C():FB();u(f)}else{const f=BB();u(f)}};this.canceled_?t(!1,new sd(!1,null,!0)):this.backoffId_=QB(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function i9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function s9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function a9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function o9(n,e,t,i,r,o,u=!0,h=!1){const f=KC(n.urlParams),d=n.url+f,g=Object.assign({},n.headers);return r9(g,e),i9(g,t),s9(g,o),a9(g,i),new n9(d,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function u9(...n){const e=l9();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(eb())return new Blob(n);throw new Et(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function c9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(n){if(typeof atob>"u")throw YB("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xy{constructor(e,t){this.data=e,this.contentType=t||null}}function f9(n,e){switch(n){case ts.RAW:return new xy(YC(e));case ts.BASE64:case ts.BASE64URL:return new xy(XC(n,e));case ts.DATA_URL:return new xy(m9(e),p9(e))}throw Z_()}function YC(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=i,u=n.charCodeAt(++t);i=65536|(o&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function d9(n){let e;try{e=decodeURIComponent(n)}catch{throw Mc(ts.DATA_URL,"Malformed data URL.")}return YC(e)}function XC(n,e){switch(n){case ts.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw Mc(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ts.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw Mc(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=h9(e)}catch(r){throw r.message.includes("polyfill")?r:Mc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class WC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Mc(ts.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=g9(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function m9(n){const e=new WC(n);return e.base64?XC(ts.BASE64,e.rest):d9(e.rest)}function p9(n){return new WC(n).contentType}function g9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,t){let i=0,r="";rS(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(rS(this.data_)){const i=this.data_,r=c9(i,e,t);return r===null?null:new Lr(r)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Lr(i,!0)}}static getBlob(...e){if(eb()){const t=e.map(i=>i instanceof Lr?i.data_:i);return new Lr(u9.apply(null,t))}else{const t=e.map(u=>J_(u)?f9(ts.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)r[o++]=u[h]}),new Lr(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(n){let e;try{e=JSON.parse(n)}catch{return null}return e9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function v9(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function ZC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(n,e){return e}class An{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||_9}}let rd=null;function b9(n){return!J_(n)||n.length<2?n:ZC(n)}function JC(){if(rd)return rd;const n=[];n.push(new An("bucket")),n.push(new An("generation")),n.push(new An("metageneration")),n.push(new An("name","fullPath",!0));function e(o,u){return b9(u)}const t=new An("name");t.xform=e,n.push(t);function i(o,u){return u!==void 0?Number(u):u}const r=new An("size");return r.xform=i,n.push(r),n.push(new An("timeCreated")),n.push(new An("updated")),n.push(new An("md5Hash",null,!0)),n.push(new An("cacheControl",null,!0)),n.push(new An("contentDisposition",null,!0)),n.push(new An("contentEncoding",null,!0)),n.push(new An("contentLanguage",null,!0)),n.push(new An("contentType",null,!0)),n.push(new An("metadata","customMetadata",!0)),rd=n,rd}function w9(n,e){function t(){const i=n.bucket,r=n.fullPath,o=new Xn(i,r);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function T9(n,e,t){const i={};i.type="file";const r=t.length;for(let o=0;o<r;o++){const u=t[o];i[u.local]=u.xform(i,e[u.server])}return w9(i,n),i}function eI(n,e,t){const i=QC(e);return i===null?null:T9(n,i,t)}function E9(n,e,t,i){const r=QC(e);if(r===null||!J_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(d=>{const g=n.bucket,v=n.fullPath,b="/b/"+u(g)+"/o/"+u(v),E=Vm(b,t,i),C=KC({alt:"media",token:d});return E+C})[0]}function x9(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class tb{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n){if(!n)throw Z_()}function S9(n,e){function t(i,r){const o=eI(n,r,e);return tI(o!==null),o}return t}function A9(n,e){function t(i,r){const o=eI(n,r,e);return tI(o!==null),E9(o,r,n.host,n._protocol)}return t}function nI(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=jB():r=UB():t.getStatus()===402?r=LB(n.bucket):t.getStatus()===403?r=zB(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function iI(n){const e=nI(n);function t(i,r){let o=e(i,r);return i.getStatus()===404&&(o=VB(n.path)),o.serverResponse=r.serverResponse,o}return t}function R9(n,e,t){const i=e.fullServerUrl(),r=Vm(i,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new tb(r,o,A9(n,t),u);return h.errorHandler=iI(e),h}function C9(n,e){const t=e.fullServerUrl(),i=Vm(t,n.host,n._protocol),r="DELETE",o=n.maxOperationRetryTime;function u(f,d){}const h=new tb(i,r,u,o);return h.successCodes=[200,204],h.errorHandler=iI(e),h}function I9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function D9(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=I9(null,e)),i}function k9(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let B="";for(let q=0;q<2;q++)B=B+Math.random().toString().slice(2);return B}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const d=D9(e,i,r),g=x9(d,t),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,b=`\r
--`+f+"--",E=Lr.getBlob(v,i,b);if(E===null)throw $B();const C={name:d.fullPath},k=Vm(o,n.host,n._protocol),D="POST",P=n.maxUploadRetryTime,F=new tb(k,D,S9(n,t),P);return F.urlParams=C,F.headers=u,F.body=E.uploadData(),F.errorHandler=nI(e),F}class P9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r,o){if(this.sent_)throw dc("cannot .send() more than once");if(na(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class M9 extends P9{initXhr(){this.xhr_.responseType="text"}}function nb(){return new M9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t){this._service=e,t instanceof Xn?this._location=t:this._location=Xn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ho(e,t)}get root(){const e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZC(this._location.path)}get storage(){return this._service}get parent(){const e=y9(this._location.path);if(e===null)return null;const t=new Xn(this._location.bucket,e);return new ho(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw XB(e)}}function O9(n,e,t){n._throwIfRoot("uploadBytes");const i=k9(n.storage,n._location,JC(),new Lr(e,!0),t);return n.storage.makeRequestWithTokens(i,nb).then(r=>({metadata:r,ref:n}))}function N9(n){n._throwIfRoot("getDownloadURL");const e=R9(n.storage,n._location,JC());return n.storage.makeRequestWithTokens(e,nb).then(t=>{if(t===null)throw KB();return t})}function V9(n){n._throwIfRoot("deleteObject");const e=C9(n.storage,n._location);return n.storage.makeRequestWithTokens(e,nb)}function L9(n,e){const t=v9(n._location.path,e),i=new Xn(n._location.bucket,t);return new ho(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(n){return/^[A-Za-z]+:\/\//.test(n)}function j9(n,e){return new ho(n,e)}function sI(n,e){if(n instanceof ib){const t=n;if(t._bucket==null)throw GB();const i=new ho(t,t._bucket);return e!=null?sI(i,e):i}else return e!==void 0?L9(n,e):n}function z9(n,e){if(e&&U9(e)){if(n instanceof ib)return j9(n,e);throw xv("To use ref(service, url), the first argument must be a Storage instance.")}else return sI(n,e)}function oS(n,e){const t=e?.[GC];return t==null?null:Xn.makeFromBucketSpec(t,n)}function B9(n,e,t,i={}){n.host=`${e}:${t}`;const r=na(e);r&&(a_(`https://${n.host}/b`),o_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:R1(o,n.app.options.projectId))}class ib{constructor(e,t,i,r,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=HC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OB,this._maxUploadRetryTime=NB,this._requests=new Set,r!=null?this._bucket=Xn.makeFromBucketSpec(r,this._host):this._bucket=oS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=oS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ho(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new WB($C());{const u=o9(e,this._appId,i,r,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const lS="@firebase/storage",uS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="storage";function cS(n,e,t){return n=at(n),O9(n,e,t)}function hS(n){return n=at(n),N9(n)}function F9(n){return n=at(n),V9(n)}function Sy(n,e){return n=at(n),z9(n,e)}function q9(n=c_(),e){n=at(n);const i=cm(n,rI).getImmediate({identifier:e}),r=x1("storage");return r&&H9(i,...r),i}function H9(n,e,t,i={}){B9(n,e,t,i)}function G9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new ib(t,i,r,e,po)}function $9(){ao(new $r(rI,G9,"PUBLIC").setMultipleInstances(!0)),ns(lS,uS,""),ns(lS,uS,"esm2020")}$9();const K9={apiKey:"AIzaSyAM24lLkve3X0yaBhlHgfNx7LZ7UttRXFw",authDomain:"likwitdevs-417ee.firebaseapp.com",projectId:"likwitdevs-417ee",storageBucket:"likwitdevs-417ee.firebasestorage.app",messagingSenderId:"669619326357",appId:"1:669619326357:web:356366d029b91cb570fa9c"},sb=D1(K9),fo=d6(sb),Bs=yB(sb),Ay=q9(sb);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X9=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),fS=n=>{const e=X9(n);return e.charAt(0).toUpperCase()+e.slice(1)},aI=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),W9=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:u,...h},f)=>V.createElement("svg",{ref:f,...Q9,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:aI("lucide",r),...!o&&!W9(h)&&{"aria-hidden":"true"},...h},[...u.map(([d,g])=>V.createElement(d,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=(n,e)=>{const t=V.forwardRef(({className:i,...r},o)=>V.createElement(Z9,{ref:o,iconNode:e,className:aI(`lucide-${Y9(fS(n))}`,`lucide-${n}`,i),...r}));return t.displayName=fS(n),t};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],lI=oI("github",J9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],uI=oI("mail",e5),ad=({isActive:n})=>`px-3 py-2 rounded-lg text-sm transition ${n?"bg-white/20 text-white":"text-white/80 hover:text-white hover:bg-white/10"}`;function t5(){const[n,e]=V.useState(!1),[t,i]=V.useState(!1),r=tr(),o=In();V.useEffect(()=>{const f=dm(fo,d=>e(!!d));return()=>f()},[]);async function u(){try{await nR(fo),r("/"),i(!1)}catch(f){console.error("Sign out failed:",f)}}const h=f=>{const d=()=>document.getElementById(f)?.scrollIntoView({behavior:"smooth",block:"start"});i(!1),o.pathname!=="/"?(r("/"),setTimeout(d,120)):d()};return x.jsx("header",{className:"sticky top-0 left-0 right-0 z-50 pt-4",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-4",children:[x.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-black/20 backdrop-blur-md px-4 py-3",children:[x.jsxs(dl,{to:"/",className:"flex items-center gap-3",onClick:()=>i(!1),"aria-label":"Likwit Devs home",children:[x.jsx("img",{src:p6,alt:"Likwit Devs",className:"h-11 w-auto select-none",draggable:"false"}),x.jsx("span",{className:"sr-only",children:"Likwit Devs"})]}),x.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[x.jsx("button",{onClick:()=>h("projects"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition",children:"Work"}),x.jsx("button",{onClick:()=>h("pricing"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition",children:"Pricing"}),x.jsx(dl,{to:"/contact",className:ad,children:"Contact"}),x.jsx("button",{onClick:()=>h("audit"),className:"ml-2 px-4 py-2 rounded-xl text-sm text-white bg-white/20 hover:bg-white/30 transition",children:"Free Audit"}),n&&x.jsxs(x.Fragment,{children:[x.jsx(dl,{to:"/admin",className:ad,children:"Admin"}),x.jsx("button",{onClick:u,className:"ml-2 px-3 py-1.5 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition",children:"Sign out"})]})]}),x.jsx("button",{className:"md:hidden inline-flex items-center justify-center rounded-lg border border-white/20 px-3 py-2 text-white/90",onClick:()=>i(f=>!f),"aria-expanded":t,"aria-controls":"mobile-nav",children:"Menu"})]}),x.jsx("div",{id:"mobile-nav",className:`md:hidden transition-[max-height] duration-300 overflow-hidden border-x border-b border-white/10 rounded-b-2xl ${t?"max-h-96":"max-h-0"}`,children:x.jsxs("div",{className:"px-4 py-3 bg-black/20 backdrop-blur-md",children:[x.jsxs("ul",{className:"space-y-2",children:[x.jsx("li",{children:x.jsx("button",{onClick:()=>h("audit"),className:"w-full text-left px-3 py-2 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition",children:"Free Audit"})}),x.jsx("li",{children:x.jsx("button",{onClick:()=>h("projects"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition w-full text-left",children:"Work"})}),x.jsx("li",{children:x.jsx("button",{onClick:()=>h("pricing"),className:"px-3 py-2 rounded-lg text-sm text-white/80 hover:text-white hover:bg-white/10 transition w-full text-left",children:"Pricing"})}),x.jsx("li",{children:x.jsx(dl,{to:"/contact",className:ad,onClick:()=>i(!1),children:"Contact"})}),n&&x.jsxs(x.Fragment,{children:[x.jsx("li",{children:x.jsx(dl,{to:"/admin",className:ad,onClick:()=>i(!1),children:"Admin"})}),x.jsx("li",{children:x.jsx("button",{onClick:u,className:"px-3 py-2 rounded-lg text-sm text-white bg-white/20 hover:bg-white/30 transition w-full text-left",children:"Sign out"})})]})]}),x.jsx("div",{className:"my-3 h-px bg-white/10"}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(yi,{to:"/contact","aria-label":"Contact",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:x.jsx(uI,{size:18})}),x.jsx("a",{href:"https://github.com/michaelm602",target:"_blank",rel:"noreferrer","aria-label":"GitHub",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition text-white",onClick:()=>i(!1),children:x.jsx(lI,{size:18})})]})]})})]})})}function pt({as:n="div",className:e="",children:t,y:i=24,duration:r=550,delay:o=0,ease:u="cubic-bezier(0.22,1,0.36,1)",enter:h=.25,exit:f=.12,rootMargin:d="-12% 0px -12% 0px",once:g=!1,startVisible:v=!0,...b}){const E=V.useRef(null),[C,k]=V.useState(v),D=V.useRef(C);V.useEffect(()=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){k(!0),D.current=!0;return}const Z=E.current;if(!Z)return;if(v){const R=Z.getBoundingClientRect();R.top<window.innerHeight&&R.bottom>0&&(k(!0),D.current=!0)}const oe=Array.from({length:21},(R,M)=>M/20),O=new IntersectionObserver(([R])=>{const M=R.intersectionRatio??0;!D.current&&M>=h?(D.current=!0,k(!0),g&&O.disconnect()):!g&&D.current&&M<=f&&(D.current=!1,k(!1))},{threshold:oe,rootMargin:d});return O.observe(Z),()=>O.disconnect()},[h,f,d,g,v]);const P={transition:`transform ${r}ms ${u} ${o}ms, opacity ${r}ms ${u} ${o}ms`,willChange:"transform, opacity",backfaceVisibility:"hidden",transform:"translateZ(0)"},F={transform:`translateY(${i}px)`,opacity:0},B={transform:"translateY(0px)",opacity:1};return x.jsx(n,{ref:E,className:e,style:{...P,...C?B:F},...b,children:t})}const n5="/likwitdevs/assets/likwitdevs-logo-white-CA68HVEw.png";function i5(){const n=new Date().getFullYear(),e=tr(),t=In(),i=r=>{const o=()=>document.getElementById(r)?.scrollIntoView({behavior:"smooth",block:"start"});t.pathname!=="/"?(e("/"),setTimeout(o,80)):o()};return x.jsxs("footer",{className:"mt-10 border-t border-white/10 bg-white/5 backdrop-blur-md",children:[x.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-10 grid gap-8 md:gap-8 md:grid-cols-3 items-start text-white/90",children:[x.jsx(pt,{children:x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("img",{src:n5,alt:"Likwit Devs",className:"h-14 w-auto object-contain opacity-95",draggable:"false"}),x.jsx("div",{className:"leading-tight",children:x.jsx("p",{className:"text-[11px] tracking-[0.2em] text-white/50 uppercase",children:"Websites  UI  SEO"})})]}),x.jsx("p",{className:"mt-3 text-sm text-white/70 max-w-[280px]",children:"Modern, responsive websites with clean UX and custom visuals."})]})}),x.jsxs("nav",{className:"grid grid-cols-2 gap-2 text-sm",children:[x.jsx(pt,{children:x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-white/60 font-medium",children:"Pages"}),x.jsx(yi,{className:"block hover:text-white",to:"/",children:"Home"}),x.jsx("button",{onClick:()=>i("about"),className:"block text-left w-full hover:text-white",children:"About"}),x.jsx("button",{onClick:()=>i("pricing"),className:"block text-left w-full hover:text-white",children:"Pricing"}),x.jsx(yi,{className:"block hover:text-white",to:"/contact",children:"Contact"})]})}),x.jsx(pt,{children:x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-white/60 font-medium",children:"Services"}),x.jsx("span",{className:"block text-white/70",children:"Portfolio Sites"}),x.jsx("span",{className:"block text-white/70",children:"E-commerce"}),x.jsx("span",{className:"block text-white/70",children:"Brand Visuals"})]})})]}),x.jsx("div",{className:"space-y-3",children:x.jsxs(pt,{children:[x.jsx("h4",{className:"font-semibold text-white mb-2",children:"Get in touch"}),x.jsxs("li",{className:"flex items-center gap-2",children:[x.jsx(uI,{className:"w-5 h-5 opacity-80"}),x.jsx(yi,{to:"/contact",className:"hover:underline hover:text-white",children:"likwitdevs@gmail.com"})]}),x.jsx("div",{className:"mt-2 flex items-center gap-3",children:x.jsx("a",{href:"https://github.com/michaelm602",target:"_blank",rel:"noreferrer",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition",children:x.jsx(lI,{size:18})})})]})})]}),x.jsxs("div",{className:"border-t border-white/10 text-center text-xs text-white/60 py-4",children:[" ",n," Likwit Devs. All rights reserved."]})]})}function s5({offset:n=0}){const e=In();return V.useEffect(()=>{if(!e.hash)return;const t=e.hash.slice(1),i=document.getElementById(t);i&&requestAnimationFrame(()=>{const r=i.getBoundingClientRect().top+window.scrollY-n;window.scrollTo({top:r,behavior:"smooth"})})},[e.pathname,e.hash,n]),null}function r5(){const n=In();return V.useEffect(()=>{n.hash||window.scrollTo({top:0,behavior:"auto"})},[n.pathname,n.hash]),x.jsxs(x.Fragment,{children:[x.jsx(wL,{}),x.jsx(t5,{}),x.jsx(s5,{offset:96}),x.jsx("main",{className:"min-h-screen pb-safe",children:x.jsx(w2,{})}),x.jsx(i5,{})]})}function a5({texts:n=[],speed:e=50,pause:t=1500,className:i=""}){const[r,o]=V.useState(""),[u,h]=V.useState(0),[f,d]=V.useState(0),[g,v]=V.useState(!0);return V.useEffect(()=>{let b;return g?f<n[u].length?b=setTimeout(()=>d(f+1),e):b=setTimeout(()=>v(!1),t):f>0?b=setTimeout(()=>d(f-1),e/2):(v(!0),h((u+1)%n.length)),o(n[u].slice(0,f)),()=>clearTimeout(b)},[f,g,u,n,e,t]),x.jsxs("span",{className:i,children:[r,x.jsx("span",{className:"cursor",children:"|"})]})}function o5(){const[n,e]=V.useState([]),[t,i]=V.useState(!0),[r,o]=V.useState(null);return V.useEffect(()=>{const u=wv(Jc(Bs,"projects"),AB("published","==",!0),Tv("order","asc"));let h=Ev(u,f=>{e(f.docs.map(d=>({id:d.id,...d.data()}))),i(!1)},f=>{if(!(f.code==="failed-precondition"||/index/i.test(f.message||""))){o(f),i(!1);return}const g=wv(Jc(Bs,"projects"),Tv("order","asc"));h=Ev(g,v=>{const b=v.docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.published===!0);e(b),i(!1)},v=>{o(v),i(!1)})});return()=>h&&h()},[]),{projects:n,loading:t,error:r}}function l5({project:n}){const{title:e,summary:t,description:i,href:r,imageUrl:o,tags:u=[],imageFocus:h}=n,f=/^https?:\/\//i.test(r||"")?r:`https://${r||""}`,d=h||"50% 25%";return x.jsxs("article",{className:`\r
    group\r
    rounded-2xl\r
    border border-white/15\r
    bg-black/60\r
    backdrop-blur-md\r
    shadow-[0_12px_40px_rgba(0,0,0,0.6)]\r
    transition-transform duration-200\r
    hover:-translate-y-1\r
  `,children:[x.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"block rounded-t-2xl overflow-hidden","aria-label":`Open ${e} in a new tab`,children:x.jsx(pt,{children:x.jsx("div",{className:"relative aspect-[16/9] bg-no-repeat bg-contain",style:{backgroundImage:`url('${o||""}')`,backgroundPosition:d},children:x.jsx("div",{className:"absolute inset-0"})})})}),x.jsx(pt,{children:x.jsxs("div",{className:"rounded-b-2xl p-5 pb-6 text-white",children:[x.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&x.jsx("p",{className:"mt-2 text-white/90",children:t}),i&&x.jsx("p",{className:"mt-2 text-white/80 leading-relaxed break-words",children:i}),x.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[u.length>0&&x.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(g=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10 text-white/85",children:g},g))}),x.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"btn whitespace-nowrap",children:"Live site "})]})]})})]})}function u5(){const{projects:n,loading:e,error:t}=o5();return x.jsx("section",{id:"projects",className:"relative z-10 px-4 pt-12 pb-28 md:pt-16 md:pb-32 scroll-mt-32",children:x.jsxs("div",{className:"mx-auto max-w-6xl",children:[x.jsxs(pt,{children:[x.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Recent Work"}),x.jsx("p",{className:"text-white/75 mb-6 max-w-3xl",children:"Real builds with speed, mobile-first UI, and clean conversion flow. Want something like this? Hit the audit button and Ill tell you what your current site is doing wrong."})]}),e&&x.jsx("p",{className:"text-white/70",children:"Loading projects"}),t&&x.jsx("p",{className:"text-red-300",children:"Couldn't load projects."}),!e&&!t&&n.length===0&&x.jsx("p",{className:"text-white/70",children:"No projects yet."}),!e&&!t&&n.length>0&&x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((i,r)=>x.jsx(pt,{y:10,delay:r*70,children:x.jsx(l5,{project:i})},i.id))}),x.jsxs("div",{className:"mt-10 rounded-3xl border border-white/10 bg-white/5 backdrop-blur p-6 md:p-8",children:[x.jsx(pt,{y:10,children:x.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:"Want a site that actually brings customers?"})}),x.jsx(pt,{y:10,delay:60,children:x.jsx("p",{className:"mt-2 text-white/80 max-w-2xl",children:"Ill review your current site and send back a quick list of fixes: speed, mobile, SEO structure, and call-to-action flow."})}),x.jsx(pt,{y:10,delay:120,children:x.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[x.jsx("a",{href:"#audit",className:"btn-subtle text-white bg-white/15 hover:bg-white/20 backdrop-blur-md",children:"Get a Free Website Audit"}),x.jsx("a",{href:"#pricing",className:"btn-subtle text-white bg-black/10 hover:bg-black/20 backdrop-blur-md",children:"View Packages"})]})})]})]})})}function c5(){return x.jsx("section",{id:"about",className:"scroll-mt-24 px-4 py-12 md:py-20",children:x.jsx("div",{className:"mx-auto max-w-6xl rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md p-6 md:p-10",children:x.jsxs(pt,{children:[x.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"About"}),x.jsxs("p",{className:"text-white/90 max-w-3xl",children:["Im Michael  the builder behind"," ",x.jsx("span",{className:"font-semibold",children:"Likwit Devs"}),". I design and ship"," ",x.jsx("span",{className:"font-semibold",children:"fast, mobile-first websites"})," ","that look clean and make it easy for customers to call, book, or buy. My focus is performance (Core Web Vitals), simple content editing, and custom visuals so your brand actually stands out."]}),x.jsx("p",{className:"text-white/80 max-w-3xl mt-3",children:"Real talk: most small business websites fail because theyre slow, confusing, or dont tell people what to do next. I build with a conversion-first mindset  and I dont ship messy, fragile nonsense."}),x.jsxs("ul",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 text-white/80",children:[x.jsx("li",{children:" Landing pages and small business sites"}),x.jsx("li",{children:" Content editing (so you can update your own stuff)"}),x.jsx("li",{children:" Speed + SEO best practices"}),x.jsx("li",{children:" Integrations: email, forms, booking, payments"})]}),x.jsxs("div",{className:"mt-6 flex flex-wrap gap-2 text-sm text-white/80",children:[x.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"React"}),x.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Tailwind"}),x.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Firebase"}),x.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Stripe"}),x.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"EmailJS"})]}),x.jsxs("div",{className:"mt-8 grid gap-3 sm:grid-cols-3 text-white/80",children:[x.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[x.jsx("span",{className:"text-white font-semibold",children:"1."})," Brief & scope",x.jsx("div",{className:"text-white/70 text-sm mt-1",children:"You tell me the goal. I translate it into a plan."})]}),x.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[x.jsx("span",{className:"text-white font-semibold",children:"2."})," Design  build",x.jsx("div",{className:"text-white/70 text-sm mt-1",children:"Clean UI, fast performance, conversion layout."})]}),x.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[x.jsx("span",{className:"text-white font-semibold",children:"3."})," Launch & handoff",x.jsx("div",{className:"text-white/70 text-sm mt-1",children:"Go live, walkthrough, and optional maintenance plan."})]})]}),x.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[x.jsx("a",{href:"#audit",className:"btn-subtle text-white bg-white/15 hover:bg-white/20 backdrop-blur-md",children:"Get a Free Website Audit"}),x.jsx("a",{href:"#pricing",className:"btn-subtle text-white bg-black/10 hover:bg-black/20 backdrop-blur-md",children:"View Packages"})]}),x.jsx("p",{className:"mt-6 text-xs text-white/60",children:"Built with a systems mindset: performance, reliability, and clean handoff."})]})})})}function h5(){const n=[{name:"Starter Site",price:"$300",blurb:"Single-page landing built to convert on mobile.",features:["Hero + Services + Gallery + Contact","Mobile-first responsive layout","Fast load times","Basic on-page SEO (titles/meta/headings)","12 week turnaround","2 revision rounds"],cta:"Get Starter"},{name:"Business Site",price:"$600",blurb:"Multi-page site with clean navigation + SEO foundation.",features:["Home, About, Services, Gallery, Contact","Mobile-first responsive design","On-page SEO setup + sitemap/robots","Analytics installed","23 week turnaround","2 revision rounds"],cta:"Start Business Site",highlight:!0,badge:"Most Popular"},{name:"E-commerce / Booking",price:"$1,000+",blurb:"Sell products or take appointments with secure setup.",features:["Stripe/PayPal checkout OR booking calendar","Product/service management","Email notifications","On-page SEO","35 week timeline","Admin walkthrough"],cta:"Discuss Your Store"}],e=[{name:"Care Plan",price:"$49/mo",items:["Hosting + uptime monitoring","Small content edits","Basic security updates"]},{name:"Growth Plan",price:"$99/mo",items:["Everything in Care","Monthly performance/SEO tune-up","Priority support"],highlight:!0},{name:"Scale Plan",price:"$149/mo",items:["Everything in Growth","Monthly landing page/test","Analytics summary report"]}];return x.jsx("section",{id:"pricing",className:"relative z-10 px-4 pt-12 pb-16 md:pt-16 md:pb-20 pb-safe scroll-mt-32 md:scroll-mt-40",children:x.jsxs("div",{className:"mx-auto max-w-6xl",children:[x.jsxs(pt,{once:!0,enter:.1,exit:0,rootMargin:"-8% 0px -80% 0px",children:[x.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Packages & Pricing"}),x.jsx("p",{className:"text-white/80 mb-6",children:"Transparent from pricing. Exact quotes depend on scope and timeline."})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map((t,i)=>{const r=i*90;return x.jsxs("div",{className:["rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md","shadow-[0_8px_30px_rgba(0,0,0,0.3)] overflow-hidden p-6 text-white",t.highlight?"ring-1 ring-white/20":""].join(" "),children:[t.badge&&x.jsx("div",{className:"mb-3 inline-flex items-center rounded-full bg-white/10 border border-white/10 px-3 py-1 text-xs text-white/90",children:t.badge}),x.jsx(pt,{y:8,delay:r,children:x.jsx("div",{className:"text-sm uppercase tracking-wide text-white/70",children:t.name})}),x.jsx(pt,{y:8,delay:r+80,children:x.jsx("div",{className:"mt-2 text-3xl font-bold",children:t.price})}),x.jsx(pt,{y:8,delay:r+120,children:x.jsx("p",{className:"mt-2 text-white/80",children:t.blurb})}),x.jsx("ul",{className:"mt-4 space-y-2 text-white/80",children:t.features.map((o,u)=>x.jsx(pt,{y:8,delay:r+160+u*40,children:x.jsxs("li",{className:"flex gap-2",children:[x.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-white/60"}),x.jsx("span",{children:o})]})},o))}),x.jsx(pt,{y:8,delay:r+160+t.features.length*40+80,children:x.jsx(yi,{to:`/contact?plan=${encodeURIComponent(t.name)}`,className:"btn mt-6 w-full",children:t.cta})}),x.jsx(pt,{y:8,delay:r+160+t.features.length*40+140,children:x.jsx("p",{className:"mt-3 text-xs text-white/60",children:"*Pricing is from and may vary with scope. 50% deposit to start."})})]},t.name)})}),x.jsxs("div",{className:"mt-10",children:[x.jsx(pt,{y:8,children:x.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"Optional Maintenance Plans (monthly)"})}),x.jsx(pt,{y:8,delay:60,children:x.jsx("p",{className:"text-white/75 mb-6",children:"For businesses that want updates handled without chasing a developer."})}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((t,i)=>x.jsxs("div",{className:["rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md p-6 text-white",t.highlight?"ring-1 ring-white/20":""].join(" "),children:[x.jsx("div",{className:"text-sm uppercase tracking-wide text-white/70",children:t.name}),x.jsx("div",{className:"mt-2 text-3xl font-bold",children:t.price}),x.jsx("ul",{className:"mt-4 space-y-2 text-white/80",children:t.items.map(r=>x.jsxs("li",{className:"flex gap-2",children:[x.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-white/60"}),x.jsx("span",{children:r})]},r))}),x.jsxs(yi,{to:`/contact?plan=${encodeURIComponent(t.name)}`,className:"btn mt-6 w-full",children:["Choose ",t.name]})]},t.name))})]}),x.jsxs("div",{className:"mt-10 rounded-2xl border border-white/10 bg-black/10 backdrop-blur-md p-6 text-white/80",children:[x.jsx(pt,{y:8,children:x.jsx("h3",{className:"font-semibold text-white mb-2",children:"Popular add-ons"})}),x.jsx("div",{className:"flex flex-wrap gap-2",children:["Logo refresh","Copywriting","Speed/SEO tune-up","Maintenance plan"].map((t,i)=>x.jsx(pt,{y:8,delay:i*60,children:x.jsx("span",{className:"px-3 py-1 rounded-full bg-white/10 border border-white/10 text-sm",children:t})},t))})]})]})})}function f5(){const n=tr(),[e,t]=V.useState(""),[i,r]=V.useState("");return x.jsxs(x.Fragment,{children:[x.jsxs("section",{className:"relative overflow-hidden hero-stable",children:[x.jsx(_1,{className:"pointer-events-none absolute inset-0"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/25 to-transparent"}),x.jsx("div",{className:"mx-auto max-w-6xl px-4",children:x.jsxs("div",{className:"relative py-14 md:py-24",children:[x.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight text-white",children:"Websites that turn visitors into paying clients."}),x.jsx("p",{className:"mt-3 text-base sm:text-lg md:text-xl leading-relaxed text-white/90 max-w-2xl",children:x.jsx(a5,{texts:["Fast load times that keep customers from bouncing.","Mobile-first design that looks legit on every phone.","SEO-ready structure so Google can actually find you.","Clear calls-to-action that drive calls, bookings, and leads."],speed:70,pause:1600})}),x.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[x.jsx("a",{href:"#audit",className:"btn-subtle text-white bg-white/15 hover:bg-white/20 backdrop-blur-md",children:"Get a Free Website Audit"}),x.jsx("a",{href:"#projects",className:"btn-subtle text-white bg-black/10 hover:bg-black/20 backdrop-blur-md",children:"View Work"}),x.jsx(yi,{to:"/contact",className:"btn-subtle text-white/90 bg-black/10 hover:bg-black/20 backdrop-blur-md",children:"Contact"})]}),x.jsxs("div",{className:"mt-5 flex flex-wrap gap-2 text-sm text-white/80",children:[x.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Nationwide / Remote"}),x.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Fast Loads"}),x.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"SEO Structure"}),x.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Mobile-First"}),x.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10",children:"Conversion Focused"})]}),x.jsxs("div",{className:"mt-8 grid gap-3 md:grid-cols-3",children:[x.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-4 backdrop-blur",children:[x.jsx("div",{className:"text-white font-semibold",children:"Speed + Trust"}),x.jsx("p",{className:"text-white/75 text-sm mt-1",children:"Your site loads fast, looks clean, and doesnt feel sketchy. Customers stay."})]}),x.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-4 backdrop-blur",children:[x.jsx("div",{className:"text-white font-semibold",children:"SEO Foundation"}),x.jsx("p",{className:"text-white/75 text-sm mt-1",children:"Proper structure + metadata so you can rank without praying to the Google gods."})]}),x.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-4 backdrop-blur",children:[x.jsx("div",{className:"text-white font-semibold",children:"Leads Built-In"}),x.jsx("p",{className:"text-white/75 text-sm mt-1",children:"CTAs, contact flow, and layout designed to push visitors into action."})]})]})]})})]}),x.jsx("section",{id:"audit",className:"mx-auto max-w-6xl px-4 py-12 md:py-16",children:x.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 backdrop-blur p-6 md:p-10",children:x.jsxs("div",{className:"md:flex md:items-start md:justify-between gap-8",children:[x.jsxs("div",{className:"max-w-2xl",children:[x.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:"Free Website Audit (No fluff, just fixes)"}),x.jsx("p",{className:"mt-2 text-white/80",children:"Send your website link and Ill reply with a quick breakdown of whats hurting your conversions: speed, mobile layout, SEO basics, and your call-to-action flow."}),x.jsxs("ul",{className:"mt-4 space-y-2 text-white/75 text-sm",children:[x.jsx("li",{children:" Speed + mobile issues (bounce-rate killers)"}),x.jsx("li",{children:" SEO structure check (titles, descriptions, indexing basics)"}),x.jsx("li",{children:" Conversion fixes (CTA placement, layout, trust signals)"}),x.jsx("li",{children:" Clear next steps + rough estimate to fix it"})]})]}),x.jsx("div",{className:"mt-6 md:mt-0 w-full md:max-w-sm",children:x.jsxs("div",{className:"rounded-2xl bg-black/20 border border-white/10 p-4",children:[x.jsx("label",{className:"block text-sm text-white/80",children:"Website URL"}),x.jsx("input",{type:"url",value:e,onChange:o=>t(o.target.value),placeholder:"https://yourbusiness.com",className:"mt-2 w-full rounded-xl bg-black/30 border border-white/10 px-3 py-2 text-white placeholder:text-white/40 outline-none focus:border-white/30"}),x.jsx("label",{className:"block text-sm text-white/80 mt-4",children:"Business type"}),x.jsx("input",{type:"text",value:i,onChange:o=>r(o.target.value),placeholder:"Contractor, barber, cleaning, etc.",className:"mt-2 w-full rounded-xl bg-black/30 border border-white/10 px-3 py-2 text-white placeholder:text-white/40 outline-none focus:border-white/30"}),x.jsxs("div",{className:"mt-4 flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>{const o=new URLSearchParams;o.set("intent","audit"),e.trim()&&o.set("website",e.trim()),i.trim()&&o.set("business",i.trim()),n(`/contact?${o.toString()}`)},className:"w-full text-center rounded-xl px-4 py-2 bg-white/15 hover:bg-white/20 text-white",children:"Submit via Contact"}),x.jsx("a",{href:"#projects",className:"w-full text-center rounded-xl px-4 py-2 bg-black/20 hover:bg-black/30 text-white/90",children:"See Work"})]}),x.jsx("p",{className:"mt-3 text-xs text-white/50",children:"No spam. No pressure. Just a real audit."})]})})]})})}),x.jsx("div",{id:"projects",children:x.jsx(u5,{})}),x.jsx(c5,{}),x.jsx(h5,{})]})}class wh{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const d5=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},ln={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:d5()},rb=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},m5=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=rb(n);ln.publicKey=t.publicKey,ln.blockHeadless=t.blockHeadless,ln.storageProvider=t.storageProvider,ln.blockList=t.blockList,ln.limitRate=t.limitRate,ln.origin=t.origin||e},cI=async(n,e,t={})=>{const i=await fetch(ln.origin+n,{method:"POST",headers:t,body:e}),r=await i.text(),o=new wh(i.status,r);if(i.ok)return o;throw o},hI=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},p5=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},fI=n=>n.webdriver||!n.languages||n.languages.length===0,dI=()=>new wh(451,"Unavailable For Headless Browser"),g5=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},y5=n=>!n.list?.length||!n.watchVariable,v5=(n,e)=>n instanceof FormData?n.get(e):n[e],mI=(n,e)=>{if(y5(n))return!1;g5(n.list,n.watchVariable);const t=v5(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},pI=()=>new wh(403,"Forbidden"),_5=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},b5=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},gI=async(n,e,t)=>{if(!e.throttle||!t)return!1;_5(e.throttle,e.id);const i=e.id||n;return await b5(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},yI=()=>new wh(429,"Too Many Requests"),w5=async(n,e,t,i)=>{const r=rb(i),o=r.publicKey||ln.publicKey,u=r.blockHeadless||ln.blockHeadless,h=r.storageProvider||ln.storageProvider,f={...ln.blockList,...r.blockList},d={...ln.limitRate,...r.limitRate};return u&&fI(navigator)?Promise.reject(dI()):(hI(o,n,e),p5(t),t&&mI(f,t)?Promise.reject(pI()):await gI(location.pathname,d,h)?Promise.reject(yI()):cI("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},T5=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},E5=n=>typeof n=="string"?document.querySelector(n):n,x5=async(n,e,t,i)=>{const r=rb(i),o=r.publicKey||ln.publicKey,u=r.blockHeadless||ln.blockHeadless,h=ln.storageProvider||r.storageProvider,f={...ln.blockList,...r.blockList},d={...ln.limitRate,...r.limitRate};if(u&&fI(navigator))return Promise.reject(dI());const g=E5(t);hI(o,n,e),T5(g);const v=new FormData(g);return mI(f,v)?Promise.reject(pI()):await gI(location.pathname,d,h)?Promise.reject(yI()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",e),v.append("user_id",o),cI("/api/v1.0/email/send-form",v))},S5={init:m5,send:w5,sendForm:x5,EmailJSResponseStatus:wh},vI=V.createContext({});function A5(n){const e=V.useRef(null);return e.current===null&&(e.current=n()),e.current}const ab=typeof window<"u",R5=ab?V.useLayoutEffect:V.useEffect,ob=V.createContext(null);function lb(n,e){n.indexOf(e)===-1&&n.push(e)}function ub(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Js=(n,e,t)=>t>e?e:t<n?n:t;let cb=()=>{};const er={},_I=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function bI(n){return typeof n=="object"&&n!==null}const wI=n=>/^0[^.\s]+$/u.test(n);function hb(n){let e;return()=>(e===void 0&&(e=n()),e)}const vi=n=>n,C5=(n,e)=>t=>e(n(t)),Th=(...n)=>n.reduce(C5),eh=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class fb{constructor(){this.subscriptions=[]}add(e){return lb(this.subscriptions,e),()=>ub(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let o=0;o<r;o++){const u=this.subscriptions[o];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const us=n=>n*1e3,cs=n=>n/1e3;function TI(n,e){return e?n*(1e3/e):0}const EI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,I5=1e-7,D5=12;function k5(n,e,t,i,r){let o,u,h=0;do u=e+(t-e)/2,o=EI(u,i,r)-n,o>0?t=u:e=u;while(Math.abs(o)>I5&&++h<D5);return u}function Eh(n,e,t,i){if(n===e&&t===i)return vi;const r=o=>k5(o,0,1,n,t);return o=>o===0||o===1?o:EI(r(o),e,i)}const xI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,SI=n=>e=>1-n(1-e),AI=Eh(.33,1.53,.69,.99),db=SI(AI),RI=xI(db),CI=n=>(n*=2)<1?.5*db(n):.5*(2-Math.pow(2,-10*(n-1))),mb=n=>1-Math.sin(Math.acos(n)),II=SI(mb),DI=xI(mb),P5=Eh(.42,0,1,1),M5=Eh(0,0,.58,1),kI=Eh(.42,0,.58,1),O5=n=>Array.isArray(n)&&typeof n[0]!="number",PI=n=>Array.isArray(n)&&typeof n[0]=="number",N5={linear:vi,easeIn:P5,easeInOut:kI,easeOut:M5,circIn:mb,circInOut:DI,circOut:II,backIn:db,backInOut:RI,backOut:AI,anticipate:CI},V5=n=>typeof n=="string",dS=n=>{if(PI(n)){cb(n.length===4);const[e,t,i,r]=n;return Eh(e,t,i,r)}else if(V5(n))return N5[n];return n},od=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function L5(n,e){let t=new Set,i=new Set,r=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(d.schedule(g),n()),g(h)}const d={schedule:(g,v=!1,b=!1)=>{const C=b&&r?t:i;return v&&u.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,r){o=!0;return}r=!0,[t,i]=[i,t],t.forEach(f),t.clear(),r=!1,o&&(o=!1,d.process(g))}};return d}const U5=40;function MI(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,u=od.reduce((B,q)=>(B[q]=L5(o),B),{}),{setup:h,read:f,resolveKeyframes:d,preUpdate:g,update:v,preRender:b,render:E,postRender:C}=u,k=()=>{const B=er.useManualTiming?r.timestamp:performance.now();t=!1,er.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(B-r.timestamp,U5),1)),r.timestamp=B,r.isProcessing=!0,h.process(r),f.process(r),d.process(r),g.process(r),v.process(r),b.process(r),E.process(r),C.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(k))},D=()=>{t=!0,i=!0,r.isProcessing||n(k)};return{schedule:od.reduce((B,q)=>{const Z=u[q];return B[q]=(oe,O=!1,R=!1)=>(t||D(),Z.schedule(oe,O,R)),B},{}),cancel:B=>{for(let q=0;q<od.length;q++)u[od[q]].cancel(B)},state:r,steps:u}}const{schedule:ht,cancel:Jr,state:an,steps:Ry}=MI(typeof requestAnimationFrame<"u"?requestAnimationFrame:vi,!0);let xd;function j5(){xd=void 0}const Vn={now:()=>(xd===void 0&&Vn.set(an.isProcessing||er.useManualTiming?an.timestamp:performance.now()),xd),set:n=>{xd=n,queueMicrotask(j5)}},OI=n=>e=>typeof e=="string"&&e.startsWith(n),pb=OI("--"),z5=OI("var(--"),gb=n=>z5(n)?B5.test(n.split("/*")[0].trim()):!1,B5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},th={...Jl,transform:n=>Js(0,1,n)},ld={...Jl,default:1},Oc=n=>Math.round(n*1e5)/1e5,yb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F5(n){return n==null}const q5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vb=(n,e)=>t=>!!(typeof t=="string"&&q5.test(t)&&t.startsWith(n)||e&&!F5(t)&&Object.prototype.hasOwnProperty.call(t,e)),NI=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,o,u,h]=i.match(yb);return{[n]:parseFloat(r),[e]:parseFloat(o),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},H5=n=>Js(0,255,n),Cy={...Jl,transform:n=>Math.round(H5(n))},Xa={test:vb("rgb","red"),parse:NI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Cy.transform(n)+", "+Cy.transform(e)+", "+Cy.transform(t)+", "+Oc(th.transform(i))+")"};function G5(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Sv={test:vb("#"),parse:G5,transform:Xa.transform},xh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Pr=xh("deg"),hs=xh("%"),Se=xh("px"),$5=xh("vh"),K5=xh("vw"),mS={...hs,parse:n=>hs.parse(n)/100,transform:n=>hs.transform(n*100)},wl={test:vb("hsl","hue"),parse:NI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+hs.transform(Oc(e))+", "+hs.transform(Oc(t))+", "+Oc(th.transform(i))+")"},Nt={test:n=>Xa.test(n)||Sv.test(n)||wl.test(n),parse:n=>Xa.test(n)?Xa.parse(n):wl.test(n)?wl.parse(n):Sv.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Xa.transform(n):wl.transform(n),getAnimatableNone:n=>{const e=Nt.parse(n);return e.alpha=0,Nt.transform(e)}},Y5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X5(n){return isNaN(n)&&typeof n=="string"&&(n.match(yb)?.length||0)+(n.match(Y5)?.length||0)>0}const VI="number",LI="color",W5="var",Q5="var(",pS="${}",Z5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nh(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let o=0;const h=e.replace(Z5,f=>(Nt.test(f)?(i.color.push(o),r.push(LI),t.push(Nt.parse(f))):f.startsWith(Q5)?(i.var.push(o),r.push(W5),t.push(f)):(i.number.push(o),r.push(VI),t.push(parseFloat(f))),++o,pS)).split(pS);return{values:t,split:h,indexes:i,types:r}}function UI(n){return nh(n).values}function jI(n){const{split:e,types:t}=nh(n),i=e.length;return r=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],r[u]!==void 0){const h=t[u];h===VI?o+=Oc(r[u]):h===LI?o+=Nt.transform(r[u]):o+=r[u]}return o}}const J5=n=>typeof n=="number"?0:Nt.test(n)?Nt.getAnimatableNone(n):n;function eF(n){const e=UI(n);return jI(n)(e.map(J5))}const ea={test:X5,parse:UI,createTransformer:jI,getAnimatableNone:eF};function Iy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function tF({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,o=0,u=0;if(!e)r=o=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;r=Iy(f,h,n+1/3),o=Iy(f,h,n),u=Iy(f,h,n-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function Jd(n,e){return t=>t>0?e:n}const gt=(n,e,t)=>n+(e-n)*t,Dy=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},nF=[Sv,Xa,wl],iF=n=>nF.find(e=>e.test(n));function gS(n){const e=iF(n);if(!e)return!1;let t=e.parse(n);return e===wl&&(t=tF(t)),t}const yS=(n,e)=>{const t=gS(n),i=gS(e);if(!t||!i)return Jd(n,e);const r={...t};return o=>(r.red=Dy(t.red,i.red,o),r.green=Dy(t.green,i.green,o),r.blue=Dy(t.blue,i.blue,o),r.alpha=gt(t.alpha,i.alpha,o),Xa.transform(r))},Av=new Set(["none","hidden"]);function sF(n,e){return Av.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function rF(n,e){return t=>gt(n,e,t)}function _b(n){return typeof n=="number"?rF:typeof n=="string"?gb(n)?Jd:Nt.test(n)?yS:lF:Array.isArray(n)?zI:typeof n=="object"?Nt.test(n)?yS:aF:Jd}function zI(n,e){const t=[...n],i=t.length,r=n.map((o,u)=>_b(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)t[u]=r[u](o);return t}}function aF(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=_b(n[r])(n[r],e[r]));return r=>{for(const o in i)t[o]=i[o](r);return t}}function oF(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],u=n.indexes[o][i[o]],h=n.values[u]??0;t[r]=h,i[o]++}return t}const lF=(n,e)=>{const t=ea.createTransformer(e),i=nh(n),r=nh(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Av.has(n)&&!r.values.length||Av.has(e)&&!i.values.length?sF(n,e):Th(zI(oF(i,r),r.values),t):Jd(n,e)};function BI(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?gt(n,e,t):_b(n)(n,e)}const uF=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ht.update(e,t),stop:()=>Jr(e),now:()=>an.isProcessing?an.timestamp:Vn.now()}},FI=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let o=0;o<r;o++)i+=Math.round(n(o/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},em=2e4;function bb(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<em;)e+=t,i=n.next(e);return e>=em?1/0:e}function cF(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(bb(i),em);return{type:"keyframes",ease:o=>i.next(r*o).value/e,duration:cs(r)}}const hF=5;function qI(n,e,t){const i=Math.max(e-hF,0);return TI(t-n(i),e-i)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ky=.001;function fF({duration:n=wt.duration,bounce:e=wt.bounce,velocity:t=wt.velocity,mass:i=wt.mass}){let r,o,u=1-e;u=Js(wt.minDamping,wt.maxDamping,u),n=Js(wt.minDuration,wt.maxDuration,cs(n)),u<1?(r=d=>{const g=d*u,v=g*n,b=g-t,E=Rv(d,u),C=Math.exp(-v);return ky-b/E*C},o=d=>{const v=d*u*n,b=v*t+t,E=Math.pow(u,2)*Math.pow(d,2)*n,C=Math.exp(-v),k=Rv(Math.pow(d,2),u);return(-r(d)+ky>0?-1:1)*((b-E)*C)/k}):(r=d=>{const g=Math.exp(-d*n),v=(d-t)*n+1;return-ky+g*v},o=d=>{const g=Math.exp(-d*n),v=(t-d)*(n*n);return g*v});const h=5/n,f=mF(r,o,h);if(n=us(n),isNaN(f))return{stiffness:wt.stiffness,damping:wt.damping,duration:n};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:u*2*Math.sqrt(i*d),duration:n}}}const dF=12;function mF(n,e,t){let i=t;for(let r=1;r<dF;r++)i=i-n(i)/e(i);return i}function Rv(n,e){return n*Math.sqrt(1-e*e)}const pF=["duration","bounce"],gF=["stiffness","damping","mass"];function vS(n,e){return e.some(t=>n[t]!==void 0)}function yF(n){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...n};if(!vS(n,gF)&&vS(n,pF))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,o=2*Js(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:wt.mass,stiffness:r,damping:o}}else{const t=fF(n);e={...e,...t,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function tm(n=wt.visualDuration,e=wt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const o=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:d,mass:g,duration:v,velocity:b,isResolvedFromDuration:E}=yF({...t,velocity:-cs(t.velocity||0)}),C=b||0,k=d/(2*Math.sqrt(f*g)),D=u-o,P=cs(Math.sqrt(f/g)),F=Math.abs(D)<5;i||(i=F?wt.restSpeed.granular:wt.restSpeed.default),r||(r=F?wt.restDelta.granular:wt.restDelta.default);let B;if(k<1){const Z=Rv(P,k);B=oe=>{const O=Math.exp(-k*P*oe);return u-O*((C+k*P*D)/Z*Math.sin(Z*oe)+D*Math.cos(Z*oe))}}else if(k===1)B=Z=>u-Math.exp(-P*Z)*(D+(C+P*D)*Z);else{const Z=P*Math.sqrt(k*k-1);B=oe=>{const O=Math.exp(-k*P*oe),R=Math.min(Z*oe,300);return u-O*((C+k*P*D)*Math.sinh(R)+Z*D*Math.cosh(R))/Z}}const q={calculatedDuration:E&&v||null,next:Z=>{const oe=B(Z);if(E)h.done=Z>=v;else{let O=Z===0?C:0;k<1&&(O=Z===0?us(C):qI(B,Z,oe));const R=Math.abs(O)<=i,M=Math.abs(u-oe)<=r;h.done=R&&M}return h.value=h.done?u:oe,h},toString:()=>{const Z=Math.min(bb(q),em),oe=FI(O=>q.next(Z*O).value,Z,30);return Z+"ms "+oe},toTransition:()=>{}};return q}tm.applyToOptions=n=>{const e=cF(n,100,tm);return n.ease=e.ease,n.duration=us(e.duration),n.type="keyframes",n};function Cv({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const v=n[0],b={done:!1,value:v},E=R=>h!==void 0&&R<h||f!==void 0&&R>f,C=R=>h===void 0?f:f===void 0||Math.abs(h-R)<Math.abs(f-R)?h:f;let k=t*e;const D=v+k,P=u===void 0?D:u(D);P!==D&&(k=P-v);const F=R=>-k*Math.exp(-R/i),B=R=>P+F(R),q=R=>{const M=F(R),U=B(R);b.done=Math.abs(M)<=d,b.value=b.done?P:U};let Z,oe;const O=R=>{E(b.value)&&(Z=R,oe=tm({keyframes:[b.value,C(b.value)],velocity:qI(B,R,b.value),damping:r,stiffness:o,restDelta:d,restSpeed:g}))};return O(0),{calculatedDuration:null,next:R=>{let M=!1;return!oe&&Z===void 0&&(M=!0,q(R),O(R)),Z!==void 0&&R>=Z?oe.next(R-Z):(!M&&q(R),b)}}}function vF(n,e,t){const i=[],r=t||er.mix||BI,o=n.length-1;for(let u=0;u<o;u++){let h=r(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||vi:e;h=Th(f,h)}i.push(h)}return i}function _F(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const o=n.length;if(cb(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=vF(e,i,r),f=h.length,d=g=>{if(u&&g<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const b=eh(n[v],n[v+1],g);return h[v](b)};return t?g=>d(Js(n[0],n[o-1],g)):d}function bF(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=eh(0,e,i);n.push(gt(t,1,r))}}function wF(n){const e=[0];return bF(e,n.length-1),e}function TF(n,e){return n.map(t=>t*e)}function EF(n,e){return n.map(()=>e||kI).splice(0,n.length-1)}function Nc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=O5(i)?i.map(dS):dS(i),o={done:!1,value:e[0]},u=TF(t&&t.length===e.length?t:wF(e),n),h=_F(u,e,{ease:Array.isArray(r)?r:EF(e,r)});return{calculatedDuration:n,next:f=>(o.value=h(f),o.done=f>=n,o)}}const xF=n=>n!==null;function wb(n,{repeat:e,repeatType:t="loop"},i,r=1){const o=n.filter(xF),h=r<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const SF={decay:Cv,inertia:Cv,tween:Nc,keyframes:Nc,spring:tm};function HI(n){typeof n.type=="string"&&(n.type=SF[n.type])}class Tb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const AF=n=>n/100;class Eb extends Tb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;HI(e);const{type:t=Nc,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:u=0}=e;let{keyframes:h}=e;const f=t||Nc;f!==Nc&&typeof h[0]!="number"&&(this.mixKeyframes=Th(AF,BI(h[0],h[1])),h=[0,100]);const d=f({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=bb(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:E,type:C,onUpdate:k,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const P=this.currentTime-d*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?P<0:P>r;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let B=this.currentTime,q=i;if(v){const R=Math.min(this.currentTime,r)/h;let M=Math.floor(R),U=R%1;!U&&R>=1&&(U=1),U===1&&M--,M=Math.min(M,v+1),!!(M%2)&&(b==="reverse"?(U=1-U,E&&(U-=E/h)):b==="mirror"&&(q=u)),B=Js(0,1,U)*h}const Z=F?{done:!1,value:g[0]}:q.next(B);o&&(Z.value=o(Z.value));let{done:oe}=Z;!F&&f!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return O&&C!==Cv&&(Z.value=wb(g,this.options,D,this.speed)),k&&k(Z.value),O&&this.finish(),Z}then(e,t){return this.finished.then(e,t)}get duration(){return cs(this.calculatedDuration)}get time(){return cs(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=uF,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function RF(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Wa=n=>n*180/Math.PI,Iv=n=>{const e=Wa(Math.atan2(n[1],n[0]));return Dv(e)},CF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Iv,rotateZ:Iv,skewX:n=>Wa(Math.atan(n[1])),skewY:n=>Wa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Dv=n=>(n=n%360,n<0&&(n+=360),n),_S=Iv,bS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),wS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),IF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bS,scaleY:wS,scale:n=>(bS(n)+wS(n))/2,rotateX:n=>Dv(Wa(Math.atan2(n[6],n[5]))),rotateY:n=>Dv(Wa(Math.atan2(-n[2],n[0]))),rotateZ:_S,rotate:_S,skewX:n=>Wa(Math.atan(n[4])),skewY:n=>Wa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function kv(n){return n.includes("scale")?1:0}function Pv(n,e){if(!n||n==="none")return kv(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=IF,r=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=CF,r=h}if(!r)return kv(e);const o=i[e],u=r[1].split(",").map(kF);return typeof o=="function"?o(u):u[o]}const DF=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Pv(t,e)};function kF(n){return parseFloat(n.trim())}const eu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tu=new Set(eu),TS=n=>n===Jl||n===Se,PF=new Set(["x","y","z"]),MF=eu.filter(n=>!PF.has(n));function OF(n){const e=[];return MF.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const eo={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Pv(e,"x"),y:(n,{transform:e})=>Pv(e,"y")};eo.translateX=eo.x;eo.translateY=eo.y;const to=new Set;let Mv=!1,Ov=!1,Nv=!1;function GI(){if(Ov){const n=Array.from(to).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=OF(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ov=!1,Mv=!1,to.forEach(n=>n.complete(Nv)),to.clear()}function $I(){to.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ov=!0)})}function NF(){Nv=!0,$I(),GI(),Nv=!1}class xb{constructor(e,t,i,r,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(to.add(this),Mv||(Mv=!0,ht.read($I),ht.resolveKeyframes(GI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const o=r?.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),r&&o===void 0&&r.set(e[0])}RF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),to.delete(this)}cancel(){this.state==="scheduled"&&(to.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VF=n=>n.startsWith("--");function LF(n,e,t){VF(e)?n.style.setProperty(e,t):n.style[e]=t}const UF=hb(()=>window.ScrollTimeline!==void 0),jF={};function zF(n,e){const t=hb(n);return()=>jF[e]??t()}const KI=zF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ec=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,ES={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ec([0,.65,.55,1]),circOut:Ec([.55,0,1,.45]),backIn:Ec([.31,.01,.66,-.59]),backOut:Ec([.33,1.53,.69,.99])};function YI(n,e){if(n)return typeof n=="function"?KI()?FI(n,e):"ease-out":PI(n)?Ec(n):Array.isArray(n)?n.map(t=>YI(t,e)||ES.easeOut):ES[n]}function BF(n,e,t,{delay:i=0,duration:r=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:f}={},d=void 0){const g={[e]:t};f&&(g.offset=f);const v=YI(h,r);Array.isArray(v)&&(g.easing=v);const b={delay:i,duration:r,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return d&&(b.pseudoElement=d),n.animate(g,b)}function XI(n){return typeof n=="function"&&"applyToOptions"in n}function FF({type:n,...e}){return XI(n)&&KI()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class qF extends Tb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,cb(typeof e.type!="string");const d=FF(e);this.animation=BF(t,i,r,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=wb(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):LF(t,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return cs(Number(e))}get time(){return cs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=us(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&UF()?(this.animation.timeline=e,vi):t(this)}}const WI={anticipate:CI,backInOut:RI,circInOut:DI};function HF(n){return n in WI}function GF(n){typeof n.ease=="string"&&HF(n.ease)&&(n.ease=WI[n.ease])}const xS=10;class $F extends qF{constructor(e){GF(e),HI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:o,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new Eb({...u,autoplay:!1}),f=us(this.finishedTime??this.time);t.setWithVelocity(h.sample(f-xS).value,h.sample(f).value,xS),h.stop()}}const SS=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ea.test(n)||n==="0")&&!n.startsWith("url("));function KF(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function YF(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],u=SS(r,e),h=SS(o,e);return!u||!h?!1:KF(n)||(t==="spring"||XI(t))&&i}function Vv(n){n.duration=0,n.type}const XF=new Set(["opacity","clipPath","filter","transform"]),WF=hb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QF(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:o,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return WF()&&t&&XF.has(t)&&(t!=="transform"||!d)&&!f&&!i&&r!=="mirror"&&o!==0&&u!=="inertia"}const ZF=40;class JF extends Tb{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:f,motionValue:d,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vn.now();const b={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:o,repeatType:u,name:f,motionValue:d,element:g,...v},E=g?.KeyframeResolver||xb;this.keyframeResolver=new E(h,(C,k,D)=>this.onKeyframesResolved(C,k,b,!D),f,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:f,isHandoff:d,onUpdate:g}=i;this.resolvedAt=Vn.now(),YF(e,o,u,h)||((er.instantAnimations||!f)&&g?.(wb(e,i,t)),e[0]=e[e.length-1],Vv(i),i.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>ZF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},E=!d&&QF(b)?new $F({...b,element:b.motionValue.owner.current}):new Eb(b);E.finished.then(()=>this.notifyFinished()).catch(vi),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),NF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const e8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t8(n){const e=e8.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function QI(n,e,t=1){const[i,r]=t8(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return _I(u)?parseFloat(u):u}return gb(r)?QI(r,e,t+1):r}function Sb(n,e){return n?.[e]??n?.default??n}const ZI=new Set(["width","height","top","left","right","bottom",...eu]),n8={test:n=>n==="auto",parse:n=>n},JI=n=>e=>e.test(n),eD=[Jl,Se,hs,Pr,K5,$5,n8],AS=n=>eD.find(JI(n));function i8(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||wI(n):!0}const s8=new Set(["brightness","contrast","saturate","opacity"]);function r8(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(yb)||[];if(!i)return n;const r=t.replace(i,"");let o=s8.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+r+")"}const a8=/\b([a-z-]*)\(.*?\)/gu,Lv={...ea,getAnimatableNone:n=>{const e=n.match(a8);return e?e.map(r8).join(" "):n}},RS={...Jl,transform:Math.round},o8={rotate:Pr,rotateX:Pr,rotateY:Pr,rotateZ:Pr,scale:ld,scaleX:ld,scaleY:ld,scaleZ:ld,skew:Pr,skewX:Pr,skewY:Pr,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:th,originX:mS,originY:mS,originZ:Se},Ab={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...o8,zIndex:RS,fillOpacity:th,strokeOpacity:th,numOctaves:RS},l8={...Ab,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Lv,WebkitFilter:Lv},tD=n=>l8[n];function nD(n,e){let t=tD(n);return t!==Lv&&(t=ea),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const u8=new Set(["auto","none","0"]);function c8(n,e,t){let i=0,r;for(;i<n.length&&!r;){const o=n[i];typeof o=="string"&&!u8.has(o)&&nh(o).values.length&&(r=n[i]),i++}if(r&&t)for(const o of e)n[o]=nD(t,r)}class h8 extends xb{constructor(e,t,i,r,o){super(e,t,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),gb(d))){const g=QI(d,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ZI.has(i)||e.length!==2)return;const[r,o]=e,u=AS(r),h=AS(o);if(u!==h)if(TS(u)&&TS(h))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else eo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||i8(e[r]))&&i.push(r);i.length&&c8(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=eo[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function f8(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=t?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const iD=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function d8(n){return bI(n)&&"offsetHeight"in n}const CS=30,m8=n=>!isNaN(parseFloat(n));class p8{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=Vn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=m8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new fb);const i=this.events[e].add(t);return e==="change"?()=>{i(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>CS)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,CS);return TI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fl(n,e){return new p8(n,e)}const{schedule:Rb}=MI(queueMicrotask,!1),Ai={x:!1,y:!1};function sD(){return Ai.x||Ai.y}function g8(n){return n==="x"||n==="y"?Ai[n]?null:(Ai[n]=!0,()=>{Ai[n]=!1}):Ai.x||Ai.y?null:(Ai.x=Ai.y=!0,()=>{Ai.x=Ai.y=!1})}function rD(n,e){const t=f8(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function IS(n){return!(n.pointerType==="touch"||sD())}function y8(n,e,t={}){const[i,r,o]=rD(n,t),u=h=>{if(!IS(h))return;const{target:f}=h,d=e(f,h);if(typeof d!="function"||!f)return;const g=v=>{IS(v)&&(d(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,r)};return i.forEach(h=>{h.addEventListener("pointerenter",u,r)}),o}const aD=(n,e)=>e?n===e?!0:aD(n,e.parentElement):!1,Cb=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,v8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _8(n){return v8.has(n.tagName)||n.tabIndex!==-1}const Sd=new WeakSet;function DS(n){return e=>{e.key==="Enter"&&n(e)}}function Py(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const b8=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=DS(()=>{if(Sd.has(t))return;Py(t,"down");const r=DS(()=>{Py(t,"up")}),o=()=>Py(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function kS(n){return Cb(n)&&!sD()}function w8(n,e,t={}){const[i,r,o]=rD(n,t),u=h=>{const f=h.currentTarget;if(!kS(h))return;Sd.add(f);const d=e(f,h),g=(E,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Sd.has(f)&&Sd.delete(f),kS(E)&&typeof d=="function"&&d(E,{success:C})},v=E=>{g(E,f===window||f===document||t.useGlobalTarget||aD(f,E.target))},b=E=>{g(E,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",b,r)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,r),d8(h)&&(h.addEventListener("focus",d=>b8(d,r)),!_8(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function oD(n){return bI(n)&&"ownerSVGElement"in n}function T8(n){return oD(n)&&n.tagName==="svg"}const vn=n=>!!(n&&n.getVelocity),E8=[...eD,Nt,ea],x8=n=>E8.find(JI(n)),lD=V.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function S8(n=!0){const e=V.useContext(ob);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,o=V.useId();V.useEffect(()=>{if(n)return r(o)},[n]);const u=V.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,u]:[!0]}const uD=V.createContext({strict:!1}),PS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ql={};for(const n in PS)ql[n]={isEnabled:e=>PS[n].some(t=>!!e[t])};function A8(n){for(const e in n)ql[e]={...ql[e],...n[e]}}const R8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||R8.has(n)}let cD=n=>!nm(n);function C8(n){typeof n=="function"&&(cD=e=>e.startsWith("on")?!nm(e):n(e))}try{C8(require("@emotion/is-prop-valid").default)}catch{}function I8(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(cD(r)||t===!0&&nm(r)||!e&&!nm(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const Lm=V.createContext({});function Um(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ih(n){return typeof n=="string"||Array.isArray(n)}const Ib=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Db=["initial",...Ib];function jm(n){return Um(n.animate)||Db.some(e=>ih(n[e]))}function hD(n){return!!(jm(n)||n.variants)}function D8(n,e){if(jm(n)){const{initial:t,animate:i}=n;return{initial:t===!1||ih(t)?t:void 0,animate:ih(i)?i:void 0}}return n.inherit!==!1?e:{}}function k8(n){const{initial:e,animate:t}=D8(n,V.useContext(Lm));return V.useMemo(()=>({initial:e,animate:t}),[MS(e),MS(t)])}function MS(n){return Array.isArray(n)?n.join(" "):n}const sh={};function P8(n){for(const e in n)sh[e]=n[e],pb(e)&&(sh[e].isCSSVariable=!0)}function fD(n,{layout:e,layoutId:t}){return tu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!sh[n]||n==="opacity")}const M8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O8=eu.length;function N8(n,e,t){let i="",r=!0;for(let o=0;o<O8;o++){const u=eu[o],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const d=iD(h,Ab[u]);if(!f){r=!1;const g=M8[u]||u;i+=`${g}(${d}) `}t&&(e[u]=d)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function kb(n,e,t){const{style:i,vars:r,transformOrigin:o}=n;let u=!1,h=!1;for(const f in e){const d=e[f];if(tu.has(f)){u=!0;continue}else if(pb(f)){r[f]=d;continue}else{const g=iD(d,Ab[f]);f.startsWith("origin")?(h=!0,o[f]=g):i[f]=g}}if(e.transform||(u||t?i.transform=N8(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=o;i.transformOrigin=`${f} ${d} ${g}`}}const Pb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dD(n,e,t){for(const i in e)!vn(e[i])&&!fD(i,t)&&(n[i]=e[i])}function V8({transformTemplate:n},e){return V.useMemo(()=>{const t=Pb();return kb(t,e,n),Object.assign({},t.vars,t.style)},[e])}function L8(n,e){const t=n.style||{},i={};return dD(i,t,n),Object.assign(i,V8(n,e)),i}function U8(n,e){const t={},i=L8(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const j8={offset:"stroke-dashoffset",array:"stroke-dasharray"},z8={offset:"strokeDashoffset",array:"strokeDasharray"};function B8(n,e,t=1,i=0,r=!0){n.pathLength=1;const o=r?j8:z8;n[o.offset]=Se.transform(-i);const u=Se.transform(e),h=Se.transform(t);n[o.array]=`${u} ${h}`}function mD(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:u=0,...h},f,d,g){if(kb(n,h,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),r!==void 0&&B8(v,r,o,u,!1)}const pD=()=>({...Pb(),attrs:{}}),gD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function F8(n,e,t,i){const r=V.useMemo(()=>{const o=pD();return mD(o,e,gD(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};dD(o,n.style,n),r.style={...o,...r.style}}return r}const q8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mb(n){return typeof n!="string"||n.includes("-")?!1:!!(q8.indexOf(n)>-1||/[A-Z]/u.test(n))}function H8(n,e,t,{latestValues:i},r,o=!1){const h=(Mb(n)?F8:U8)(e,i,r,n),f=I8(e,typeof n=="string",o),d=n!==V.Fragment?{...f,...h,ref:t}:{},{children:g}=e,v=V.useMemo(()=>vn(g)?g.get():g,[g]);return V.createElement(n,{...d,children:v})}function OS(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Ob(n,e,t,i){if(typeof e=="function"){const[r,o]=OS(i);e=e(t!==void 0?t:n.custom,r,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,o]=OS(i);e=e(t!==void 0?t:n.custom,r,o)}return e}function Ad(n){return vn(n)?n.get():n}function G8({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:$8(t,i,r,n),renderState:e()}}function $8(n,e,t,i){const r={},o=i(n,{});for(const b in o)r[b]=Ad(o[b]);let{initial:u,animate:h}=n;const f=jm(n),d=hD(n);e&&d&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!Um(v)){const b=Array.isArray(v)?v:[v];for(let E=0;E<b.length;E++){const C=Ob(n,b[E]);if(C){const{transitionEnd:k,transition:D,...P}=C;for(const F in P){let B=P[F];if(Array.isArray(B)){const q=g?B.length-1:0;B=B[q]}B!==null&&(r[F]=B)}for(const F in k)r[F]=k[F]}}}return r}const yD=n=>(e,t)=>{const i=V.useContext(Lm),r=V.useContext(ob),o=()=>G8(n,e,i,r);return t?o():A5(o)};function Nb(n,e,t){const{style:i}=n,r={};for(const o in i)(vn(i[o])||e.style&&vn(e.style[o])||fD(o,n)||t?.getValue(o)?.liveStyle!==void 0)&&(r[o]=i[o]);return r}const K8=yD({scrapeMotionValuesFromProps:Nb,createRenderState:Pb});function vD(n,e,t){const i=Nb(n,e,t);for(const r in n)if(vn(n[r])||vn(e[r])){const o=eu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=n[r]}return i}const Y8=yD({scrapeMotionValuesFromProps:vD,createRenderState:pD}),X8=Symbol.for("motionComponentSymbol");function Tl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function W8(n,e,t){return V.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Tl(t)&&(t.current=i))},[e])}const Vb=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Q8="framerAppearId",_D="data-"+Vb(Q8),bD=V.createContext({});function Z8(n,e,t,i,r){const{visualElement:o}=V.useContext(Lm),u=V.useContext(uD),h=V.useContext(ob),f=V.useContext(lD).reducedMotion,d=V.useRef(null);i=i||u.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:o,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=d.current,v=V.useContext(bD);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&J8(d.current,t,r,v);const b=V.useRef(!1);V.useInsertionEffect(()=>{g&&b.current&&g.update(t,h)});const E=t[_D],C=V.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return R5(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),V.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),C.current=!1),g.enteringChildren=void 0)}),g}function J8(n,e,t,i){const{layoutId:r,layout:o,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:wD(n.parent)),n.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!u||h&&Tl(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:d})}function wD(n){if(n)return n.options.allowProjection!==!1?n.projection:wD(n.parent)}function My(n,{forwardMotionProps:e=!1}={},t,i){t&&A8(t);const r=Mb(n)?Y8:K8;function o(h,f){let d;const g={...V.useContext(lD),...h,layoutId:eq(h)},{isStatic:v}=g,b=k8(h),E=r(h,v);if(!v&&ab){tq();const C=nq(g);d=C.MeasureLayout,b.visualElement=Z8(n,E,g,i,C.ProjectionNode)}return x.jsxs(Lm.Provider,{value:b,children:[d&&b.visualElement?x.jsx(d,{visualElement:b.visualElement,...g}):null,H8(n,h,W8(E,b.visualElement,f),E,v,e)]})}o.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=V.forwardRef(o);return u[X8]=n,u}function eq({layoutId:n}){const e=V.useContext(vI).id;return e&&n!==void 0?e+"-"+n:n}function tq(n,e){V.useContext(uD).strict}function nq(n){const{drag:e,layout:t}=ql;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function iq(n,e){if(typeof Proxy>"u")return My;const t=new Map,i=(o,u)=>My(o,u,n,e),r=(o,u)=>i(o,u);return new Proxy(r,{get:(o,u)=>u==="create"?i:(t.has(u)||t.set(u,My(u,void 0,n,e)),t.get(u))})}function TD({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function sq({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function rq(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Oy(n){return n===void 0||n===1}function Uv({scale:n,scaleX:e,scaleY:t}){return!Oy(n)||!Oy(e)||!Oy(t)}function Ka(n){return Uv(n)||ED(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function ED(n){return NS(n.x)||NS(n.y)}function NS(n){return n&&n!=="0%"}function im(n,e,t){const i=n-t,r=e*i;return t+r}function VS(n,e,t,i,r){return r!==void 0&&(n=im(n,r,i)),im(n,t,i)+e}function jv(n,e=0,t=1,i,r){n.min=VS(n.min,e,t,i,r),n.max=VS(n.max,e,t,i,r)}function xD(n,{x:e,y:t}){jv(n.x,e.translate,e.scale,e.originPoint),jv(n.y,t.translate,t.scale,t.originPoint)}const LS=.999999999999,US=1.0000000000001;function aq(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let o,u;for(let h=0;h<r;h++){o=t[h],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&xl(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,xD(n,u)),i&&Ka(o.latestValues)&&xl(n,o.latestValues))}e.x<US&&e.x>LS&&(e.x=1),e.y<US&&e.y>LS&&(e.y=1)}function El(n,e){n.min=n.min+e,n.max=n.max+e}function jS(n,e,t,i,r=.5){const o=gt(n.min,n.max,r);jv(n,e,t,o,i)}function xl(n,e){jS(n.x,e.x,e.scaleX,e.scale,e.originX),jS(n.y,e.y,e.scaleY,e.scale,e.originY)}function SD(n,e){return TD(rq(n.getBoundingClientRect(),e))}function oq(n,e,t){const i=SD(n,t),{scroll:r}=e;return r&&(El(i.x,r.offset.x),El(i.y,r.offset.y)),i}const zS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sl=()=>({x:zS(),y:zS()}),BS=()=>({min:0,max:0}),Rt=()=>({x:BS(),y:BS()}),zv={current:null},AD={current:!1};function lq(){if(AD.current=!0,!!ab)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>zv.current=n.matches;n.addEventListener("change",e),e()}else zv.current=!1}const uq=new WeakMap;function cq(n,e,t){for(const i in e){const r=e[i],o=t[i];if(vn(r))n.addValue(i,r);else if(vn(o))n.addValue(i,Fl(r,{owner:n}));else if(o!==r)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(r):u.hasAnimated||u.set(r)}else{const u=n.getStaticValue(i);n.addValue(i,Fl(u!==void 0?u:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const FS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hq{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Vn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ht.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=jm(t),this.isVariantNode=hD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in v){const E=v[b];f[b]!==void 0&&vn(E)&&E.set(f[b])}}mount(e){this.current=e,uq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),AD.current||lq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jr(this.notifyUpdate),Jr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=tu.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ql){const t=ql[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<FS.length;i++){const r=FS[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,u=e[o];u&&(this.propEventSubscriptions[r]=this.on(r,u))}this.prevMotionValues=cq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Fl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(_I(i)||wI(i))?i=parseFloat(i):!x8(i)&&ea.test(t)&&(i=nD(e,t)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=Ob(this.props,t,this.presenceContext?.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!vn(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new fb),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Rb.render(this.render)}}class RD extends hq{constructor(){super(...arguments),this.KeyframeResolver=h8}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function CD(n,{style:e,vars:t},i,r){const o=n.style;let u;for(u in e)o[u]=e[u];r?.applyProjectionStyles(o,i);for(u in t)o.setProperty(u,t[u])}function fq(n){return window.getComputedStyle(n)}class dq extends RD{constructor(){super(...arguments),this.type="html",this.renderInstance=CD}readValueFromInstance(e,t){if(tu.has(t))return this.projection?.isProjecting?kv(t):DF(e,t);{const i=fq(e),r=(pb(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return SD(e,t)}build(e,t,i){kb(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Nb(e,t,i)}}const ID=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mq(n,e,t,i){CD(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(ID.has(r)?r:Vb(r),e.attrs[r])}class pq extends RD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(tu.has(t)){const i=tD(t);return i&&i.default||0}return t=ID.has(t)?t:Vb(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return vD(e,t,i)}build(e,t,i){mD(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){mq(e,t,i,r)}mount(e){this.isSVGTag=gD(e.tagName),super.mount(e)}}const gq=(n,e)=>Mb(n)?new pq(e):new dq(e,{allowProjection:n!==V.Fragment});function kl(n,e,t){const i=n.getProps();return Ob(i,e,t!==void 0?t:i.custom,n)}const Bv=n=>Array.isArray(n);function yq(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Fl(t))}function vq(n){return Bv(n)?n[n.length-1]||0:n}function _q(n,e){const t=kl(n,e);let{transitionEnd:i={},transition:r={},...o}=t||{};o={...o,...i};for(const u in o){const h=vq(o[u]);yq(n,u,h)}}function bq(n){return!!(vn(n)&&n.add)}function Fv(n,e){const t=n.getValue("willChange");if(bq(t))return t.add(e);if(!t&&er.WillChange){const i=new er.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function DD(n){return n.props[_D]}const wq=n=>n!==null;function Tq(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(wq),o=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[o]}const Eq={type:"spring",stiffness:500,damping:25,restSpeed:10},xq=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Sq={type:"keyframes",duration:.8},Aq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rq=(n,{keyframes:e})=>e.length>2?Sq:tu.has(n)?n.startsWith("scale")?xq(e[1]):Eq:Aq;function Cq({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const Lb=(n,e,t,i={},r,o)=>u=>{const h=Sb(i,n)||{},f=h.delay||i.delay||0;let{elapsed:d=0}=i;d=d-us(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:r};Cq(h)||Object.assign(g,Rq(n,g)),g.duration&&(g.duration=us(g.duration)),g.repeatDelay&&(g.repeatDelay=us(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Vv(g),g.delay===0&&(v=!0)),(er.instantAnimations||er.skipAnimations)&&(v=!0,Vv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const b=Tq(g.keyframes,h);if(b!==void 0){ht.update(()=>{g.onUpdate(b),g.onComplete()});return}}return h.isSync?new Eb(g):new JF(g)};function Iq({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function kD(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(o=i);const f=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const g in h){const v=n.getValue(g,n.latestValues[g]??null),b=h[g];if(b===void 0||d&&Iq(d,g))continue;const E={delay:t,...Sb(o||{},g)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===C&&!E.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const P=DD(n);if(P){const F=window.MotionHandoffAnimation(P,g,ht);F!==null&&(E.startTime=F,k=!0)}}Fv(n,g),v.start(Lb(g,v,b,n.shouldReduceMotion&&ZI.has(g)?{type:!1}:E,n,k));const D=v.animation;D&&f.push(D)}return u&&Promise.all(f).then(()=>{ht.update(()=>{u&&_q(n,u)})}),f}function PD(n,e,t,i=0,r=1){const o=Array.from(n).sort((d,g)=>d.sortNodePosition(g)).indexOf(e),u=n.size,h=(u-1)*i;return typeof t=="function"?t(o,u):r===1?o*i:h-o*i}function qv(n,e,t={}){const i=kl(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const o=i?()=>Promise.all(kD(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:v}=r;return Dq(n,e,f,d,g,v,t)}:()=>Promise.resolve(),{when:h}=r;if(h){const[f,d]=h==="beforeChildren"?[o,u]:[u,o];return f().then(()=>d())}else return Promise.all([o(),u(t.delay)])}function Dq(n,e,t=0,i=0,r=0,o=1,u){const h=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),h.push(qv(f,e,{...u,delay:t+(typeof i=="function"?0:i)+PD(n.variantChildren,f,i,r,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function kq(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>qv(n,o,t));i=Promise.all(r)}else if(typeof e=="string")i=qv(n,e,t);else{const r=typeof e=="function"?kl(n,e,t.custom):e;i=Promise.all(kD(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function MD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const Pq=Db.length;function OD(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?OD(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Pq;t++){const i=Db[t],r=n.props[i];(ih(r)||r===!1)&&(e[i]=r)}return e}const Mq=[...Ib].reverse(),Oq=Ib.length;function Nq(n){return e=>Promise.all(e.map(({animation:t,options:i})=>kq(n,t,i)))}function Vq(n){let e=Nq(n),t=qS(),i=!0;const r=f=>(d,g)=>{const v=kl(n,g,f==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:E,...C}=v;d={...d,...C,...E}}return d};function o(f){e=f(n)}function u(f){const{props:d}=n,g=OD(n.parent)||{},v=[],b=new Set;let E={},C=1/0;for(let D=0;D<Oq;D++){const P=Mq[D],F=t[P],B=d[P]!==void 0?d[P]:g[P],q=ih(B),Z=P===f?F.isActive:null;Z===!1&&(C=D);let oe=B===g[P]&&B!==d[P]&&q;if(oe&&i&&n.manuallyAnimateOnMount&&(oe=!1),F.protectedKeys={...E},!F.isActive&&Z===null||!B&&!F.prevProp||Um(B)||typeof B=="boolean")continue;const O=Lq(F.prevProp,B);let R=O||P===f&&F.isActive&&!oe&&q||D>C&&q,M=!1;const U=Array.isArray(B)?B:[B];let z=U.reduce(r(P),{});Z===!1&&(z={});const{prevResolvedValues:H={}}=F,I={...H,...z},pe=ee=>{R=!0,b.has(ee)&&(M=!0,b.delete(ee)),F.needsAnimating[ee]=!0;const he=n.getValue(ee);he&&(he.liveStyle=!1)};for(const ee in I){const he=z[ee],Ce=H[ee];if(E.hasOwnProperty(ee))continue;let L=!1;Bv(he)&&Bv(Ce)?L=!MD(he,Ce):L=he!==Ce,L?he!=null?pe(ee):b.add(ee):he!==void 0&&b.has(ee)?pe(ee):F.protectedKeys[ee]=!0}F.prevProp=B,F.prevResolvedValues=z,F.isActive&&(E={...E,...z}),i&&n.blockInitialAnimation&&(R=!1);const Ae=oe&&O;R&&(!Ae||M)&&v.push(...U.map(ee=>{const he={type:P};if(typeof ee=="string"&&i&&!Ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ce}=n,L=kl(Ce,ee);if(Ce.enteringChildren&&L){const{delayChildren:se}=L.transition||{};he.delay=PD(Ce.enteringChildren,n,se)}}return{animation:ee,options:he}}))}if(b.size){const D={};if(typeof d.initial!="boolean"){const P=kl(n,Array.isArray(d.initial)?d.initial[0]:d.initial);P&&P.transition&&(D.transition=P.transition)}b.forEach(P=>{const F=n.getBaseTarget(P),B=n.getValue(P);B&&(B.liveStyle=!0),D[P]=F??null}),v.push({animation:D})}let k=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(k=!1),i=!1,k?e(v):Promise.resolve()}function h(f,d){if(t[f].isActive===d)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(f,d)),t[f].isActive=d;const g=u(f);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=qS(),i=!0}}}function Lq(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!MD(e,n):!1}function Ha(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qS(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Uq extends aa{constructor(e){super(e),e.animationState||(e.animationState=Vq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Um(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let jq=0;class zq extends aa{constructor(){super(...arguments),this.id=jq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Bq={animation:{Feature:Uq},exit:{Feature:zq}};function rh(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Sh(n){return{point:{x:n.pageX,y:n.pageY}}}const Fq=n=>e=>Cb(e)&&n(e,Sh(e));function Vc(n,e,t,i){return rh(n,e,Fq(t),i)}const ND=1e-4,qq=1-ND,Hq=1+ND,VD=.01,Gq=0-VD,$q=0+VD;function Rn(n){return n.max-n.min}function Kq(n,e,t){return Math.abs(n-e)<=t}function HS(n,e,t,i=.5){n.origin=i,n.originPoint=gt(e.min,e.max,n.origin),n.scale=Rn(t)/Rn(e),n.translate=gt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=qq&&n.scale<=Hq||isNaN(n.scale))&&(n.scale=1),(n.translate>=Gq&&n.translate<=$q||isNaN(n.translate))&&(n.translate=0)}function Lc(n,e,t,i){HS(n.x,e.x,t.x,i?i.originX:void 0),HS(n.y,e.y,t.y,i?i.originY:void 0)}function GS(n,e,t){n.min=t.min+e.min,n.max=n.min+Rn(e)}function Yq(n,e,t){GS(n.x,e.x,t.x),GS(n.y,e.y,t.y)}function $S(n,e,t){n.min=e.min-t.min,n.max=n.min+Rn(e)}function Uc(n,e,t){$S(n.x,e.x,t.x),$S(n.y,e.y,t.y)}function mi(n){return[n("x"),n("y")]}const LD=({current:n})=>n?n.ownerDocument.defaultView:null,KS=(n,e)=>Math.abs(n-e);function Xq(n,e){const t=KS(n.x,e.x),i=KS(n.y,e.y);return Math.sqrt(t**2+i**2)}class UD{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Vy(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,C=Xq(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!C)return;const{point:k}=b,{timestamp:D}=an;this.history.push({...k,timestamp:D});const{onStart:P,onMove:F}=this.handlers;E||(P&&P(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,b)},this.handlePointerMove=(b,E)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Ny(E,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(b,E)=>{this.end();const{onEnd:C,onSessionEnd:k,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Vy(b.type==="pointercancel"?this.lastMoveEventInfo:Ny(E,this.transformPagePoint),this.history);this.startEvent&&C&&C(b,P),k&&k(b,P)},!Cb(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=r||window;const h=Sh(e),f=Ny(h,this.transformPagePoint),{point:d}=f,{timestamp:g}=an;this.history=[{...d,timestamp:g}];const{onSessionStart:v}=t;v&&v(e,Vy(f,this.history)),this.removeListeners=Th(Vc(this.contextWindow,"pointermove",this.handlePointerMove),Vc(this.contextWindow,"pointerup",this.handlePointerUp),Vc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jr(this.updatePoint)}}function Ny(n,e){return e?{point:e(n.point)}:n}function YS(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Vy({point:n},e){return{point:n,delta:YS(n,jD(e)),offset:YS(n,Wq(e)),velocity:Qq(e,.1)}}function Wq(n){return n[0]}function jD(n){return n[n.length-1]}function Qq(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=jD(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>us(e)));)t--;if(!i)return{x:0,y:0};const o=cs(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Zq(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?gt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?gt(t,n,i.max):Math.min(n,t)),n}function XS(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Jq(n,{top:e,left:t,bottom:i,right:r}){return{x:XS(n.x,t,r),y:XS(n.y,e,i)}}function WS(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function eH(n,e){return{x:WS(n.x,e.x),y:WS(n.y,e.y)}}function tH(n,e){let t=.5;const i=Rn(n),r=Rn(e);return r>i?t=eh(e.min,e.max-i,n.min):i>r&&(t=eh(n.min,n.max-r,e.min)),Js(0,1,t)}function nH(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Hv=.35;function iH(n=Hv){return n===!1?n=0:n===!0&&(n=Hv),{x:QS(n,"left","right"),y:QS(n,"top","bottom")}}function QS(n,e,t){return{min:ZS(n,e),max:ZS(n,t)}}function ZS(n,e){return typeof n=="number"?n:n[e]||0}const sH=new WeakMap;class rH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Sh(v).point)},u=(v,b)=>{const{drag:E,dragPropagation:C,onDragStart:k}=this.getProps();if(E&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=g8(E),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mi(P=>{let F=this.getAxisMotionValue(P).get()||0;if(hs.test(F)){const{projection:B}=this.visualElement;if(B&&B.layout){const q=B.layout.layoutBox[P];q&&(F=Rn(q)*(parseFloat(F)/100))}}this.originPoint[P]=F}),k&&ht.postRender(()=>k(v,b)),Fv(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:E,dragDirectionLock:C,onDirectionLock:k,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:P}=b;if(C&&this.currentDirection===null){this.currentDirection=aH(P),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",b.point,P),this.updateAxis("y",b.point,P),this.visualElement.render(),D&&D(v,b)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>mi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new UD(e,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:LD(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!i)return;const{velocity:u}=r;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ht.postRender(()=>h(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!ud(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Zq(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Jq(i.layoutBox,e):this.constraints=!1,this.elastic=iH(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&mi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Tl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=oq(i,r.root,this.visualElement.getTransformPagePoint());let u=eH(r.layout.layoutBox,o);if(t){const h=t(sq(u));this.hasMutatedConstraints=!!h,h&&(u=TD(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=mi(g=>{if(!ud(g,t,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const b=r?200:1e6,E=r?40:1e7,C={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(d).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Fv(this.visualElement,e),i.start(Lb(e,i,0,t,this.visualElement,!1))}stopAnimation(){mi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){mi(t=>{const{drag:i}=this.getProps();if(!ud(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:u,max:h}=r.layout.layoutBox[t];o.set(e[t]-gt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Tl(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};mi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();r[u]=tH({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),mi(u=>{if(!ud(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(gt(f,d,r[u]))})}addListeners(){if(!this.visualElement.current)return;sH.set(this.visualElement,this);const e=this.visualElement.current,t=Vc(e,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Tl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ht.read(i);const u=rh(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(mi(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:u=Hv,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function ud(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function aH(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class oH extends aa{constructor(e){super(e),this.removeGroupControls=vi,this.removeListeners=vi,this.controls=new rH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vi}unmount(){this.removeGroupControls(),this.removeListeners()}}const JS=n=>(e,t)=>{n&&ht.postRender(()=>n(e,t))};class lH extends aa{constructor(){super(...arguments),this.removePointerDownListener=vi}onPointerDown(e){this.session=new UD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:JS(e),onStart:JS(t),onMove:i,onEnd:(o,u)=>{delete this.session,r&&ht.postRender(()=>r(o,u))}}}mount(){this.removePointerDownListener=Vc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const mc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Se.test(n))n=parseFloat(n);else return n;const t=eA(n,e.target.x),i=eA(n,e.target.y);return`${t}% ${i}%`}},uH={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=ea.parse(n);if(r.length>5)return i;const o=ea.createTransformer(n),u=typeof r[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;r[0+u]/=h,r[1+u]/=f;const d=gt(h,f,.5);return typeof r[2+u]=="number"&&(r[2+u]/=d),typeof r[3+u]=="number"&&(r[3+u]/=d),o(r)}};let Ly=!1;class cH extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;P8(hH),o&&(t.group&&t.group.add(o),i&&i.register&&r&&i.register(o),Ly&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,Ly=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||ht.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;Ly=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zD(n){const[e,t]=S8(),i=V.useContext(vI);return x.jsx(cH,{...n,layoutGroup:i,switchLayoutGroup:V.useContext(bD),isPresent:e,safeToRemove:t})}const hH={borderRadius:{...mc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mc,borderTopRightRadius:mc,borderBottomLeftRadius:mc,borderBottomRightRadius:mc,boxShadow:uH};function fH(n,e,t){const i=vn(n)?n:Fl(n);return i.start(Lb("",i,e,t)),i.animation}const dH=(n,e)=>n.depth-e.depth;class mH{constructor(){this.children=[],this.isDirty=!1}add(e){lb(this.children,e),this.isDirty=!0}remove(e){ub(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dH),this.isDirty=!1,this.children.forEach(e)}}function pH(n,e){const t=Vn.now(),i=({timestamp:r})=>{const o=r-t;o>=e&&(Jr(i),n(o-e))};return ht.setup(i,!0),()=>Jr(i)}const BD=["TopLeft","TopRight","BottomLeft","BottomRight"],gH=BD.length,tA=n=>typeof n=="string"?parseFloat(n):n,nA=n=>typeof n=="number"||Se.test(n);function yH(n,e,t,i,r,o){r?(n.opacity=gt(0,t.opacity??1,vH(i)),n.opacityExit=gt(e.opacity??1,0,_H(i))):o&&(n.opacity=gt(e.opacity??1,t.opacity??1,i));for(let u=0;u<gH;u++){const h=`border${BD[u]}Radius`;let f=iA(e,h),d=iA(t,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||nA(f)===nA(d)?(n[h]=Math.max(gt(tA(f),tA(d),i),0),(hs.test(d)||hs.test(f))&&(n[h]+="%")):n[h]=d}(e.rotate||t.rotate)&&(n.rotate=gt(e.rotate||0,t.rotate||0,i))}function iA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const vH=FD(0,.5,II),_H=FD(.5,.95,vi);function FD(n,e,t){return i=>i<n?0:i>e?1:t(eh(n,e,i))}function sA(n,e){n.min=e.min,n.max=e.max}function di(n,e){sA(n.x,e.x),sA(n.y,e.y)}function rA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function aA(n,e,t,i,r){return n-=e,n=im(n,1/t,i),r!==void 0&&(n=im(n,1/r,i)),n}function bH(n,e=0,t=1,i=.5,r,o=n,u=n){if(hs.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=gt(o.min,o.max,i);n===o&&(h-=e),n.min=aA(n.min,e,t,h,r),n.max=aA(n.max,e,t,h,r)}function oA(n,e,[t,i,r],o,u){bH(n,e[t],e[i],e[r],e.scale,o,u)}const wH=["x","scaleX","originX"],TH=["y","scaleY","originY"];function lA(n,e,t,i){oA(n.x,e,wH,t?t.x:void 0,i?i.x:void 0),oA(n.y,e,TH,t?t.y:void 0,i?i.y:void 0)}function uA(n){return n.translate===0&&n.scale===1}function qD(n){return uA(n.x)&&uA(n.y)}function cA(n,e){return n.min===e.min&&n.max===e.max}function EH(n,e){return cA(n.x,e.x)&&cA(n.y,e.y)}function hA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function HD(n,e){return hA(n.x,e.x)&&hA(n.y,e.y)}function fA(n){return Rn(n.x)/Rn(n.y)}function dA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class xH{constructor(){this.members=[]}add(e){lb(this.members,e),e.scheduleRender()}remove(e){if(ub(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SH(n,e,t){let i="";const r=n.x.translate/e.x,o=n.y.translate/e.y,u=t?.z||0;if((r||o||u)&&(i=`translate3d(${r}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:g,rotateX:v,rotateY:b,skewX:E,skewY:C}=t;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),E&&(i+=`skewX(${E}deg) `),C&&(i+=`skewY(${C}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Uy=["","X","Y","Z"],AH=1e3;let RH=0;function jy(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function GD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=DD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ht,!(r||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&GD(i)}function $D({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(u={},h=e?.()){this.id=RH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DH),this.nodes.forEach(OH),this.nodes.forEach(NH),this.nodes.forEach(kH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new mH)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new fb),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=oD(u)&&!T8(u),this.instance=u;const{layoutId:h,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{v=window.innerWidth}),n(u,()=>{const E=window.innerWidth;E!==v&&(v=E,this.root.updateBlockedByResize=!0,g&&g(),g=pH(b,250),Rd.hasAnimatedSinceResize&&(Rd.hasAnimatedSinceResize=!1,this.nodes.forEach(gA)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&d&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||d.getDefaultTransition()||zH,{onLayoutAnimationStart:k,onLayoutAnimationComplete:D}=d.getProps(),P=!this.targetLayout||!HD(this.targetLayout,E),F=!v&&b;if(this.options.layoutRoot||this.resumeFrom||F||v&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Sb(C,"layout"),onPlay:k,onComplete:D};(d.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(g,F)}else v||gA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VH),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(MH),this.nodes.forEach(CH),this.nodes.forEach(IH)):this.nodes.forEach(pA),this.clearAllSnapshots();const h=Vn.now();an.delta=Js(0,1e3/60,h-an.timestamp),an.timestamp=h,an.isProcessing=!0,Ry.update.process(an),Ry.preRender.process(an),Ry.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PH),this.sharedNodes.forEach(LH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!qD(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ka(this.latestValues)||g)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),BH(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Rt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(FH))){const{scroll:d}=this.root;d&&(El(h.x,d.offset.x),El(h.y,d.offset.y))}return h}removeElementScroll(u){const h=Rt();if(di(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:g,options:v}=d;d!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&di(h,u),El(h.x,g.offset.x),El(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=Rt();di(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&xl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ka(g.latestValues)&&xl(f,g.latestValues)}return Ka(this.latestValues)&&xl(f,this.latestValues),f}removeTransform(u){const h=Rt();di(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Ka(d.latestValues))continue;Uv(d.latestValues)&&d.updateSnapshot();const g=Rt(),v=d.measurePageBox();di(g,v),lA(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return Ka(this.latestValues)&&lA(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=an.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Uc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):di(this.target,this.layout.layoutBox),xD(this.target,this.targetDelta)):di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Uc(this.relativeTargetOrigin,this.target,b.target),di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uv(this.parent.latestValues)||ED(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===an.timestamp&&(f=!1),f)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;di(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;aq(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Rt());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rA(this.prevProjectionDelta.x,this.projectionDelta.x),rA(this.prevProjectionDelta.y,this.projectionDelta.y)),Lc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!dA(this.projectionDelta.x,this.prevProjectionDelta.x)||!dA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sl(),this.projectionDelta=Sl(),this.projectionDeltaWithTransform=Sl()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},v=Sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=Rt(),E=f?f.source:void 0,C=this.layout?this.layout.source:void 0,k=E!==C,D=this.getStack(),P=!D||D.members.length<=1,F=!!(k&&!P&&this.options.crossfade===!0&&!this.path.some(jH));this.animationProgress=0;let B;this.mixTargetDelta=q=>{const Z=q/1e3;yA(v.x,u.x,Z),yA(v.y,u.y,Z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UH(this.relativeTarget,this.relativeTargetOrigin,b,Z),B&&EH(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Rt()),di(B,this.relativeTarget)),k&&(this.animationValues=g,yH(g,d,this.latestValues,Z,F,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fl(0)),this.currentAnimation=fH(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&KD(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Rt();const v=Rn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const b=Rn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+b}di(h,f),xl(h,g),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new xH),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&jy("z",u,d,this.animationValues);for(let g=0;g<Uy.length;g++)jy(`rotate${Uy[g]}`,u,d,this.animationValues),jy(`skew${Uy[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ad(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ad(h?.pointerEvents)||""),this.hasProjected&&!Ka(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=SH(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:b,y:E}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${E.origin*100}% 0`,d.animationValues?u.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in sh){if(g[C]===void 0)continue;const{correct:k,applyTo:D,isCSSVariable:P}=sh[C],F=v==="none"?g[C]:k(g[C],d);if(D){const B=D.length;for(let q=0;q<B;q++)u[D[q]]=F}else P?this.options.visualElement.renderState.vars[C]=F:u[C]=F}this.options.layoutId&&(u.pointerEvents=d===this?Ad(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(mA),this.root.sharedNodes.clear()}}}function CH(n){n.updateLayout()}function IH(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:r}=n.options,o=e.source!==n.layout.source;r==="size"?mi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],b=Rn(v);v.min=t[g].min,v.max=v.min+b}):KD(r,e.layoutBox,t)&&mi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],b=Rn(t[g]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const u=Sl();Lc(u,t,e.layoutBox);const h=Sl();o?Lc(h,n.applyTransform(i,!0),e.measuredBox):Lc(h,t,e.layoutBox);const f=!qD(u);let d=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const E=Rt();Uc(E,e.layoutBox,v.layoutBox);const C=Rt();Uc(C,t,b.layoutBox),HD(E,C)||(d=!0),g.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function DH(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function kH(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function PH(n){n.clearSnapshot()}function mA(n){n.clearMeasurements()}function pA(n){n.isLayoutDirty=!1}function MH(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function gA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function OH(n){n.resolveTargetDelta()}function NH(n){n.calcProjection()}function VH(n){n.resetSkewAndRotation()}function LH(n){n.removeLeadSnapshot()}function yA(n,e,t){n.translate=gt(e.translate,0,t),n.scale=gt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function vA(n,e,t,i){n.min=gt(e.min,t.min,i),n.max=gt(e.max,t.max,i)}function UH(n,e,t,i){vA(n.x,e.x,t.x,i),vA(n.y,e.y,t.y,i)}function jH(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const zH={duration:.45,ease:[.4,0,.1,1]},_A=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),bA=_A("applewebkit/")&&!_A("chrome/")?Math.round:vi;function wA(n){n.min=bA(n.min),n.max=bA(n.max)}function BH(n){wA(n.x),wA(n.y)}function KD(n,e,t){return n==="position"||n==="preserve-aspect"&&!Kq(fA(e),fA(t),.2)}function FH(n){return n!==n.root&&n.scroll?.wasRoot}const qH=$D({attachResizeListener:(n,e)=>rh(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zy={current:void 0},YD=$D({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!zy.current){const n=new qH({});n.mount(window),n.setOptions({layoutScroll:!0}),zy.current=n}return zy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),HH={pan:{Feature:lH},drag:{Feature:oH,ProjectionNode:YD,MeasureLayout:zD}};function TA(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,o=i[r];o&&ht.postRender(()=>o(e,Sh(e)))}class GH extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=y8(e,(t,i)=>(TA(this.node,i,"Start"),r=>TA(this.node,r,"End"))))}unmount(){}}class $H extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Th(rh(this.node.current,"focus",()=>this.onFocus()),rh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EA(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),o=i[r];o&&ht.postRender(()=>o(e,Sh(e)))}class KH extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=w8(e,(t,i)=>(EA(this.node,i,"Start"),(r,{success:o})=>EA(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gv=new WeakMap,By=new WeakMap,YH=n=>{const e=Gv.get(n.target);e&&e(n)},XH=n=>{n.forEach(YH)};function WH({root:n,...e}){const t=n||document;By.has(t)||By.set(t,{});const i=By.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(XH,{root:n,...e})),i[r]}function QH(n,e,t){const i=WH(e);return Gv.set(n,t),i.observe(n),()=>{Gv.delete(n),i.unobserve(n)}}const ZH={some:0,all:1};class JH extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:o}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:ZH[r]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=d?g:v;b&&b(f)};return QH(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(e7(e,t))&&this.startObserver()}unmount(){}}function e7({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const t7={inView:{Feature:JH},tap:{Feature:KH},focus:{Feature:$H},hover:{Feature:GH}},n7={layout:{ProjectionNode:YD,MeasureLayout:zD}},i7={...Bq,...t7,...HH,...n7},s7=iq(i7,gq);function r7(){const n=V.useRef(null),[e,t]=V.useState({sending:!1,ok:null,msg:""}),[i,r]=Q2(),o=tr(),u=i.get("plan")||"",h=i.get("intent")||"",f=i.get("website")||"",d=i.get("business")||"",g=h==="audit"?"Free Website Audit":u,v=["Starter Site","Business Site","E-commerce / Booking"],[b,E]=V.useState(!1),C=void 0,k=void 0,D=void 0;V.useEffect(()=>{const q=n.current;if(!q)return;const Z=q.message.value.trim();if(h==="audit"&&!Z){q.message.value=`Hi! I'd like a free website audit.

 Website: ${f||"(paste link here)"}
 Business type: ${d||"(type here)"}

What I want help with:
 More leads / calls
 Better mobile experience
 Speed + SEO improvements

Anything else you should know:
`;return}u&&!Z&&(q.message.value=`Hi! I'm interested in the ${u} package. A few details about my project:

 Business / project name:
 Goals for the site:
 Pages / features needed:
 Timeline:
`)},[u,h,f,d]);function P(q){const Z=n.current,oe=new URLSearchParams(i);if(q?oe.set("plan",q):oe.delete("plan"),r(oe,{replace:!0}),E(!1),Z){const O=Z.message.value,R=/^Hi! I'm interested in the (.+) package\./;(!O.trim()||R.test(O))&&(Z.message.value=q?`Hi! I'm interested in the ${q} package. A few details about my project:

 Business / project name:
 Goals for the site:
 Pages / features needed:
 Timeline:
`:"")}}function F(){o("/"),setTimeout(()=>document.getElementById("pricing")?.scrollIntoView({behavior:"smooth",block:"start"}),80)}async function B(q){if(q.preventDefault(),e.sending)return;const Z=n.current,oe=Z.from_name.value.trim(),O=Z.from_email.value.trim(),R=Z.message.value.trim();if(!oe||!O||!R){t({sending:!1,ok:!1,msg:"Please fill out all fields."});return}try{t({sending:!0,ok:null,msg:""}),await S5.send(C,k,{from_name:oe,from_email:O,message:R,plan:u,intent:h,website:f,business:d,reply_to:O},{publicKey:D}),t({sending:!1,ok:!0,msg:"Thanks! Your message was sent."}),Z.reset()}catch{t({sending:!1,ok:!1,msg:"Could not send. Try again later."})}}return x.jsx("section",{className:"min-h-screen grid place-items-center bg-transparent px-4 pt-28",children:x.jsxs(s7.form,{ref:n,onSubmit:B,initial:{y:12},animate:{y:0,transition:{duration:.28,ease:"easeOut"}},className:"w-full max-w-xl card p-6 text-white space-y-5 transform-gpu",children:[x.jsx("h2",{className:"text-2xl font-semibold",children:"Contact"}),x.jsx("div",{className:"h-px bg-white/10"}),x.jsx("input",{type:"text",name:"company",className:"hidden",tabIndex:-1,autoComplete:"off"}),x.jsx("div",{className:"text-sm text-white/90",children:g?x.jsxs(x.Fragment,{children:["Interested in:"," ",x.jsx("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/10",children:g}),h!=="audit"&&x.jsx("button",{type:"button",onClick:()=>E(q=>!q),className:"ml-2 text-white/70 hover:text-white underline",children:"change"}),x.jsx("button",{type:"button",onClick:F,className:"ml-3 text-white/70 hover:text-white underline",children:"view packages"})]}):x.jsxs(x.Fragment,{children:["Not sure yet?"," ",x.jsx("button",{type:"button",onClick:()=>E(q=>!q),className:"text-white/70 hover:text-white underline",children:"choose a package"}),x.jsx("button",{type:"button",onClick:F,className:"ml-3 text-white/70 hover:text-white underline",children:"view packages"})]})}),b&&x.jsx("div",{className:"rounded-xl border border-white/10 bg-black/60 backdrop-blur-md p-2 w-full max-w-xs",children:v.map(q=>x.jsx("button",{type:"button",onClick:()=>P(q),className:"block w-full text-left rounded-md px-3 py-2 hover:bg-white/10",children:q},q))}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm text-white/80",children:"Your name"}),x.jsx("input",{name:"from_name",className:"input mt-1",placeholder:"Jane Doe"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm text-white/80",children:"Email"}),x.jsx("input",{name:"from_email",type:"email",className:"input mt-1",placeholder:"you@email.com"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm text-white/80",children:"Message"}),x.jsx("textarea",{name:"message",rows:"5",className:"input mt-1",placeholder:"How can I help?"})]}),x.jsx("button",{type:"submit",disabled:e.sending,className:"w-full btn disabled:opacity-60",children:e.sending?"Sending...":"Send"}),e.ok===!0&&x.jsx("p",{className:"text-green-300",children:e.msg}),e.ok===!1&&x.jsx("p",{className:"text-red-300",children:e.msg})]})})}function a7(){const[n,e]=V.useState({email:"",pass:""}),[t,i]=V.useState(""),[r,o]=V.useState(!1),u=tr(),h=async f=>{f.preventDefault(),o(!0),i("");try{await e3(fo,n.email,n.pass),u("/admin")}catch(d){console.error(d),i("Invalid credentials")}finally{o(!1)}};return x.jsx("main",{className:"min-h-screen grid place-items-center p-6",children:x.jsxs("form",{onSubmit:h,className:"w-full max-w-sm rounded-2xl border border-white/10 bg-white/5 p-6 space-y-4",children:[x.jsx("h1",{className:"text-xl font-bold text-center",children:"Admin Login"}),t&&x.jsx("div",{className:"text-red-400 text-center",children:t}),x.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 rounded bg-white/10",value:n.email,onChange:f=>e({...n,email:f.target.value})}),x.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-2 rounded bg-white/10",value:n.pass,onChange:f=>e({...n,pass:f.target.value})}),x.jsx("button",{type:"submit",disabled:r,className:"w-full px-4 py-2 rounded-xl bg-white text-black",children:r?"Logging in":"Log In"})]})})}const xA="".split(",").map(n=>n.trim()).filter(Boolean),o7=["7u3Uund1CKRrtf4Pw0ehaLCI7WR2"];function l7(){const n=V.useMemo(()=>xA.length?xA:o7,[]),[e,t]=V.useState({loading:!0,ok:!1,user:null});return V.useEffect(()=>dm(fo,r=>{const o=!!r&&n.includes(r.uid);t({loading:!1,ok:o,user:r||null})}),[n]),e}function u7(n,e,t){const i=n.length;let r=Number(t);Number.isFinite(r)||(r=i),r=Math.max(1,Math.min(i,r));const o=[...n].sort((f,d)=>(f.order??9999)-(d.order??9999)),u=o.find(f=>f.id===e);if(!u)return o.map((f,d)=>({...f,order:d+1}));const h=o.filter(f=>f.id!==e);return h.splice(r-1,0,u),h.map((f,d)=>({...f,order:d+1}))}function SA(n){return n.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function AA(n){return(n||"").split(",").map(e=>e.trim()).filter(Boolean)}function c7(n){return Array.isArray(n)?n.join(", "):""}function pc(n=""){const e=(n||"").trim();return e?/^https?:\/\//i.test(e)?e:`https://${e}`:""}async function h7(n){const e=MB(Bs),t=Jc(Bs,"projects");n.forEach(i=>{e.update(Pc(t,i.id),{order:i.order,updatedAt:Tc()})}),await e.commit()}function f7(){const n=l7(),[e,t]=V.useState(!1),[i,r]=V.useState(!1),[o,u]=V.useState([]),[h,f]=V.useState(null),[d,g]=V.useState(null),[v,b]=V.useState(!1),[E,C]=V.useState(""),k=V.useRef([]),[D,P]=V.useState({title:"",href:"",summary:"",description:"",tags:"",order:1,published:!0,file:null,preview:""}),F=tr();if(V.useEffect(()=>{const I=dm(fo,pe=>t(!!pe));return()=>I()},[]),V.useEffect(()=>{const I=wv(Jc(Bs,"projects"),Tv("order","asc")),pe=Ev(I,Ae=>{const X=Ae.docs.map(ee=>({id:ee.id,...ee.data()}));u(X),k.current=X});return()=>pe()},[]),V.useMemo(()=>!!h,[h]),n===null)return x.jsx("div",{className:"min-h-screen grid place-items-center p-6 text-white",children:"Checking access"});if(n===!1)return x.jsx("main",{className:"min-h-screen grid place-items-center p-6 text-white",children:x.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 text-center space-y-3 text-white",children:[x.jsx("div",{children:"Not authorized"}),x.jsx(yi,{to:"/admin/login",className:"inline-flex px-4 py-2 rounded-xl bg-white text-black",children:"Go to Login"})]})});function B(I){C(""),f(I.id),g({title:I.title??"",href:I.href??"",summary:I.summary??"",description:I.description??"",tags:c7(I.tags),order:I.order??1,published:!!I.published,newFile:null,newPreview:""})}function q(){C(""),f(null),g(null)}function Z(I){u(I)}function oe(){u(k.current)}async function O(I){if(!d)return;b(!0),C("");const pe={title:d.title.trim(),href:pc(d.href),summary:d.summary.trim(),description:d.description.trim(),tags:AA(d.tags),order:Number(d.order)||1,published:!!d.published,updatedAt:Tc()},X=o.map(ee=>ee.id===I.id?{...ee,...pe,href:pe.href}:ee);Z(X);try{if(d.newFile){const ee=d.newFile,he=(ee.name.split(".").pop()||"jpg").toLowerCase(),Ce=I.imagePath||`projects/${SA(d.title||I.title||"project")}-${Date.now()}.${he}`,L=Sy(Ay,Ce);await cS(L,ee);const se=await hS(L);pe.imagePath=Ce,pe.imageUrl=se,Z(X.map(ce=>ce.id===I.id?{...ce,imagePath:Ce,imageUrl:se}:ce))}await sS(Pc(Bs,"projects",I.id),pe),f(null),g(null)}catch(ee){console.error(ee),oe(),C(ee?.message||"Save failed.")}finally{b(!1)}}async function R(I){if(I.preventDefault(),i)return;const{title:pe,href:Ae,file:X}=D,ee=pc(Ae);if(!pe||!ee||!X){alert("Title, Live link, and Image are required.");return}try{r(!0);const he=SA(pe)+"-"+Date.now(),Ce=(X.name.split(".").pop()||"jpg").toLowerCase(),L=`projects/${he}.${Ce}`,se=Sy(Ay,L);await cS(se,X);const ce=await hS(se);await DB(Jc(Bs,"projects"),{title:D.title,href:ee,summary:D.summary,description:D.description,tags:AA(D.tags),order:Number(D.order)||1,published:!!D.published,imagePath:L,imageUrl:ce,createdAt:Tc(),updatedAt:Tc()}),P({title:"",href:"",summary:"",description:"",tags:"",order:1,published:!0,file:null,preview:""}),I.target.reset?.()?.()}catch(he){console.error(he),alert("Could not add project. Check console for details.")}finally{r(!1)}}async function M(I){Z(o.map(Ae=>Ae.id===I.id?{...Ae,published:!Ae.published}:Ae));try{await sS(Pc(Bs,"projects",I.id),{published:!I.published,updatedAt:Tc()})}catch{oe()}}async function U(I,pe){const X=u7(o,I,pe);Z(X);try{await h7(X)}catch(ee){console.error(ee),oe()}}async function z(I){if(!confirm(`Delete "${I.title}"?`))return;Z(o.filter(Ae=>Ae.id!==I.id));try{await IB(Pc(Bs,"projects",I.id)),I.imagePath&&await F9(Sy(Ay,I.imagePath)).catch(()=>{})}catch(Ae){console.error(Ae),oe(),alert("Delete failed.")}}async function H(){await nR(fo),F("/")}return x.jsxs("main",{className:"min-h-screen px-4 pt-28 pb-12 text-white",children:[x.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Admin  Projects"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(yi,{to:"/",className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"View site"}),e&&x.jsxs(x.Fragment,{children:[x.jsx(yi,{to:"/admin",className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"Admin"}),x.jsx("button",{onClick:H,className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20",children:"Sign out"})]})]})]}),x.jsxs("form",{onSubmit:R,className:"max-w-6xl mx-auto mt-6 grid gap-3 md:grid-cols-2 rounded-2xl border border-white/10 bg-white/5 p-6",children:[x.jsx("input",{className:"input md:col-span-1",placeholder:"Title",value:D.title,onChange:I=>P(pe=>({...pe,title:I.target.value}))}),x.jsx("input",{className:"input md:col-span-1",placeholder:"Live site URL (https://)",value:D.href,onChange:I=>P(pe=>({...pe,href:I.target.value})),onBlur:I=>P(pe=>({...pe,href:pc(I.target.value)}))}),x.jsx("input",{className:"input md:col-span-2",placeholder:"What is this? (short summary)",value:D.summary,onChange:I=>P(pe=>({...pe,summary:I.target.value}))}),x.jsx("textarea",{className:"input md:col-span-2",rows:3,placeholder:"What does it do? (features, purpose)",value:D.description,onChange:I=>P(pe=>({...pe,description:I.target.value}))}),x.jsx("input",{className:"input md:col-span-1",placeholder:"tags (comma separated)",value:D.tags,onChange:I=>P(pe=>({...pe,tags:I.target.value}))}),x.jsx("input",{className:"input md:col-span-1",type:"number",min:"1",placeholder:"Order (1 = top)",value:D.order,onChange:I=>P(pe=>({...pe,order:I.target.value}))}),x.jsxs("label",{className:"flex items-center gap-2 md:col-span-1 text-white/90",children:[x.jsx("input",{type:"checkbox",checked:!!D.published,onChange:I=>P(pe=>({...pe,published:I.target.checked}))}),"Published"]}),x.jsxs("div",{className:"md:col-span-1 flex items-center gap-3",children:[x.jsx("input",{className:"input flex-1",type:"file",accept:"image/*",onChange:I=>{const pe=I.target.files?.[0]||null;P(Ae=>({...Ae,file:pe,preview:pe?URL.createObjectURL(pe):""}))}}),D.preview&&x.jsx("div",{className:"w-28 aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${D.preview}')`}})]}),x.jsx("button",{disabled:i,className:"btn md:col-span-2",children:i?"Saving":"Add Project"})]}),x.jsxs("div",{className:"max-w-6xl mx-auto mt-8 space-y-3",children:[o.map(I=>{const pe=pc(I.href),Ae=h===I.id;return x.jsxs("div",{className:"grid md:grid-cols-[180px_1fr_auto] items-start gap-3 p-3 rounded-2xl border border-white/10 bg-white/5",children:[x.jsx("div",{className:"aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${I.imageUrl||""}')`}}),x.jsx("div",{className:"min-w-0",children:Ae?x.jsxs("div",{className:"grid gap-3",children:[x.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[x.jsx("input",{className:"input",placeholder:"Title",value:d?.title||"",onChange:X=>g(ee=>({...ee,title:X.target.value}))}),x.jsx("input",{className:"input",placeholder:"Live URL",value:d?.href||"",onChange:X=>g(ee=>({...ee,href:X.target.value})),onBlur:X=>g(ee=>({...ee,href:pc(X.target.value)}))})]}),x.jsx("input",{className:"input",placeholder:"Summary",value:d?.summary||"",onChange:X=>g(ee=>({...ee,summary:X.target.value}))}),x.jsx("textarea",{className:"input",rows:3,placeholder:"Description",value:d?.description||"",onChange:X=>g(ee=>({...ee,description:X.target.value}))}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[x.jsx("input",{className:"input",placeholder:"tags (comma separated)",value:d?.tags||"",onChange:X=>g(ee=>({...ee,tags:X.target.value}))}),x.jsx("input",{className:"input",type:"number",min:"1",placeholder:"Order",value:d?.order??1,onChange:X=>g(ee=>({...ee,order:X.target.value})),onBlur:()=>U(I.id,d?.order)})]}),x.jsxs("label",{className:"flex items-center gap-2 text-white/90",children:[x.jsx("input",{type:"checkbox",checked:!!d?.published,onChange:X=>g(ee=>({...ee,published:X.target.checked}))}),"Published"]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{className:"input flex-1",type:"file",accept:"image/*",onChange:X=>{const ee=X.target.files?.[0]||null;g(he=>({...he,newFile:ee,newPreview:ee?URL.createObjectURL(ee):""}))}}),d?.newPreview&&x.jsx("div",{className:"w-28 aspect-video bg-center bg-cover rounded-lg border border-white/10",style:{backgroundImage:`url('${d.newPreview}')`}})]}),E?x.jsx("div",{className:"text-sm text-red-300",children:E}):null]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"font-semibold",children:I.title}),I.summary&&x.jsx("div",{className:"text-sm text-white/85",children:I.summary}),I.description&&x.jsx("div",{className:"text-xs text-white/70 mt-1",children:I.description}),x.jsx("a",{href:pe,target:"_blank",rel:"noreferrer",className:"text-white/70 hover:text-white text-sm break-all",children:pe}),x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(I.tags||[]).map(X=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 border border-white/10",children:X},X))})]})}),x.jsx("div",{className:"flex flex-col items-end gap-2",children:Ae?x.jsxs(x.Fragment,{children:[x.jsx("button",{disabled:v,onClick:()=>O(I),className:"btn",children:v?"Saving":"Save"}),x.jsx("button",{disabled:v,onClick:q,className:"btn-subtle",children:"Cancel"})]}):x.jsxs(x.Fragment,{children:[x.jsx("label",{className:"text-xs text-white/70",children:"Order"}),x.jsx("input",{defaultValue:I.order||1,onBlur:X=>U(I.id,X.target.value),className:"w-16 bg-white/10 rounded px-2 py-1 text-sm"}),x.jsx("button",{onClick:()=>M(I),className:"btn-subtle",children:I.published?"Unpublish":"Publish"}),x.jsx("button",{onClick:()=>B(I),className:"btn-subtle",children:"Edit"}),x.jsx("button",{onClick:()=>z(I),className:"btn-subtle",children:"Delete"})]})})]},I.id)}),o.length===0&&x.jsx("div",{className:"text-white/70",children:"No projects yet. Add your first one above."})]})]})}const d7="7u3Uund1CKRrtf4Pw0ehaLCI7WR2";function m7({children:n}){const[e,t]=V.useState(!0),[i,r]=V.useState(!1),o=In();return V.useEffect(()=>dm(fo,h=>{r(!!h&&h.uid===d7),t(!1)}),[]),e?x.jsx("div",{className:"px-4 py-10 text-white/70",children:"Checking access"}):i?n:x.jsx(b2,{to:"/admin/login",replace:!0,state:{from:o}})}function p7(){return x.jsx("div",{style:{padding:24,color:"#fff"},children:"Page not found."})}const g7=window.location.hostname.includes("github.io"),y7=g7?K2:$2;IP.createRoot(document.getElementById("root")).render(x.jsx(Fy.StrictMode,{children:x.jsx(y7,{children:x.jsx(T2,{children:x.jsxs(Ga,{path:"/",element:x.jsx(r5,{}),children:[x.jsx(Ga,{index:!0,element:x.jsx(f5,{})}),x.jsx(Ga,{path:"contact",element:x.jsx(r7,{})}),x.jsx(Ga,{path:"admin/login",element:x.jsx(a7,{})}),x.jsx(Ga,{path:"admin",element:x.jsx(m7,{children:x.jsx(f7,{})})}),x.jsx(Ga,{path:"*",element:x.jsx(p7,{})})]})})})}));
